{"time_since_restore": 57.43768382072449, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 723.6940106454371, "outflow_rate_mean": 612.2425755759194, "cost2_mean": -23.032677230265744, "cost2_max": -14.993123032326087, "cost2_min": -37.492074516708406, "cost1_max": 252.48822281515572, "outflow_rate_min": 571.6569647876136, "cost1_min": 180.62693432052234, "system_level_velocity_max": 9.795714107425129, "system_level_velocity_mean": 7.958515878169247, "cost1_mean": 205.1214668896323, "system_level_velocity_min": 6.90401191855939}, "time_this_iter_s": 57.43768382072449, "num_metric_batches_dropped": 0, "iterations_since_restore": 1, "node_ip": "10.138.0.2", "pid": 39091, "timesteps_total": 120060, "info": {"sample_time_ms": 31121.419, "num_steps_trained": 120060, "load_time_ms": 44.905, "update_time_ms": 1276.092, "grad_time_ms": 24785.202, "num_steps_sampled": 120060, "default": {"entropy": 1.417080044746399, "vf_explained_var": 0.9045639634132385, "kl": 0.0010484900558367372, "policy_loss": -0.00030111934756860137, "cur_lr": 0.0005000000237487257, "vf_loss": 0.9826971888542175, "cur_kl_coeff": 0.20000004768371582, "total_loss": 0.9826058149337769}}, "episode_len_mean": 700.0, "episode_reward_mean": 264.04560338949267, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f2fa908>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f2fa8d0>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f2fa940>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "vf_loss_coeff": 1.0, "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "batch_mode": "truncate_episodes", "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 310.3048006472816, "time_total_s": 57.43768382072449, "policy_reward_mean": {}, "training_iteration": 1, "episodes_total": 20, "timesteps_since_restore": 120060, "timesteps_this_iter": 120060, "episode_reward_min": 203.53925686851136, "experiment_id": "404152d296a747dbad1596107153698c", "timestamp": 1556352022, "episodes_this_iter": 20, "done": false, "date": "2019-04-27_08-00-22"}
{"time_since_restore": 95.0515673160553, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 723.6940106454371, "outflow_rate_mean": 601.5022353366138, "cost2_mean": -26.903973453256746, "cost2_max": -14.993123032326087, "cost2_min": -43.347913724310665, "cost1_max": 252.48822281515572, "outflow_rate_min": 412.4736080606048, "cost1_min": 148.29251072302205, "system_level_velocity_max": 9.795714107425129, "system_level_velocity_mean": 7.646958339758666, "cost1_mean": 197.5062106079416, "system_level_velocity_min": 5.817190096427752}, "time_this_iter_s": 37.61388349533081, "num_metric_batches_dropped": 0, "iterations_since_restore": 2, "node_ip": "10.138.0.2", "pid": 39091, "timesteps_total": 237918, "info": {"sample_time_ms": 23114.997, "num_steps_trained": 237918, "load_time_ms": 26.04, "update_time_ms": 643.031, "grad_time_ms": 23534.428, "num_steps_sampled": 237918, "default": {"entropy": 1.402800440788269, "vf_explained_var": 0.9377873539924622, "kl": 0.010819217190146446, "policy_loss": -0.004248659126460552, "cur_lr": 0.0005000000237487257, "vf_loss": 0.9835468530654907, "cur_kl_coeff": 0.10000001639127731, "total_loss": 0.980380117893219}}, "episode_len_mean": 700.0, "episode_reward_mean": 277.2177178725361, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f315390>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f315358>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f3153c8>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "vf_loss_coeff": 1.0, "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "batch_mode": "truncate_episodes", "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 403.6317929372886, "time_total_s": 95.0515673160553, "policy_reward_mean": {}, "training_iteration": 2, "episodes_total": 82, "timesteps_since_restore": 237918, "timesteps_this_iter": 117858, "episode_reward_min": 179.0634900653756, "experiment_id": "404152d296a747dbad1596107153698c", "timestamp": 1556352060, "episodes_this_iter": 62, "done": false, "date": "2019-04-27_08-01-00"}
{"time_since_restore": 133.18007969856262, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 886.5067056734334, "outflow_rate_mean": 616.1355422173691, "cost2_mean": -28.141817895673288, "cost2_max": -16.981277361423164, "cost2_min": -43.40490704763515, "cost1_max": 295.1247323115375, "outflow_rate_min": 412.4736080606048, "cost1_min": 148.29251072302205, "system_level_velocity_max": 11.242435892656806, "system_level_velocity_mean": 7.78878235134792, "cost1_mean": 201.880328432645, "system_level_velocity_min": 5.817190096427752}, "time_this_iter_s": 38.128512382507324, "num_metric_batches_dropped": 0, "iterations_since_restore": 3, "node_ip": "10.138.0.2", "pid": 39091, "timesteps_total": 356531, "info": {"sample_time_ms": 20333.029, "num_steps_trained": 356531, "load_time_ms": 20.598, "update_time_ms": 432.271, "grad_time_ms": 23397.591, "num_steps_sampled": 356531, "default": {"entropy": 1.3885663747787476, "vf_explained_var": 0.9154810905456543, "kl": 0.009539968334138393, "policy_loss": -0.004791636485606432, "cur_lr": 0.0005000000237487257, "vf_loss": 3.3560855388641357, "cur_kl_coeff": 0.10000002384185791, "total_loss": 3.352247953414917}}, "episode_len_mean": 700.0, "episode_reward_mean": 309.70753210091976, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f315eb8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f315e80>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f315ef0>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "vf_loss_coeff": 1.0, "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "batch_mode": "truncate_episodes", "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 508.6407789838161, "time_total_s": 133.18007969856262, "policy_reward_mean": {}, "training_iteration": 3, "episodes_total": 129, "timesteps_since_restore": 356531, "timesteps_this_iter": 118613, "episode_reward_min": 179.0634900653756, "experiment_id": "404152d296a747dbad1596107153698c", "timestamp": 1556352098, "episodes_this_iter": 47, "done": false, "date": "2019-04-27_08-01-38"}
{"time_since_restore": 170.92600536346436, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 985.7881017671434, "outflow_rate_mean": 763.5945905886989, "cost2_mean": -40.35596248806451, "cost2_max": -19.23650293463548, "cost2_min": -83.95887308785278, "cost1_max": 321.81662738562875, "outflow_rate_min": 474.93554915656557, "cost1_min": 162.53918817171146, "system_level_velocity_max": 12.14243164462438, "system_level_velocity_mean": 9.289455713367754, "cost1_mean": 244.0784114839697, "system_level_velocity_min": 6.307726500769043}, "time_this_iter_s": 37.74592566490173, "num_metric_batches_dropped": 0, "iterations_since_restore": 4, "node_ip": "10.138.0.2", "pid": 39091, "timesteps_total": 475499, "info": {"sample_time_ms": 19048.232, "num_steps_trained": 475499, "load_time_ms": 17.569, "update_time_ms": 326.855, "grad_time_ms": 23131.27, "num_steps_sampled": 475499, "default": {"entropy": 1.3724335432052612, "vf_explained_var": 0.8419948816299438, "kl": 0.006749794352799654, "policy_loss": -0.0033397898077964783, "cur_lr": 0.0005000000237487257, "vf_loss": 7.555781841278076, "cur_kl_coeff": 0.10000001639127731, "total_loss": 7.553116798400879}}, "episode_len_mean": 700.0, "episode_reward_mean": 500.4961997317971, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f2faf98>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f2fac18>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f2faeb8>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "vf_loss_coeff": 1.0, "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "batch_mode": "truncate_episodes", "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 790.3064441518545, "time_total_s": 170.92600536346436, "policy_reward_mean": {}, "training_iteration": 4, "episodes_total": 189, "timesteps_since_restore": 475499, "timesteps_this_iter": 118968, "episode_reward_min": 216.07028932191955, "experiment_id": "404152d296a747dbad1596107153698c", "timestamp": 1556352136, "episodes_this_iter": 60, "done": false, "date": "2019-04-27_08-02-16"}
{"time_since_restore": 210.48490381240845, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1064.8511591166316, "outflow_rate_mean": 901.3772168475141, "cost2_mean": -54.55662842945053, "cost2_max": -10.919699663324373, "cost2_min": -85.03205059318992, "cost1_max": 342.9823125600873, "outflow_rate_min": 496.47873787332355, "cost1_min": 23.689033861683924, "system_level_velocity_max": 18.035011233906395, "system_level_velocity_mean": 10.736161038518707, "cost1_mean": 279.96354191654774, "system_level_velocity_min": 7.953980975159328}, "time_this_iter_s": 39.55889844894409, "num_metric_batches_dropped": 0, "iterations_since_restore": 5, "node_ip": "10.138.0.2", "pid": 39091, "timesteps_total": 600608, "info": {"sample_time_ms": 18323.638, "num_steps_trained": 600608, "load_time_ms": 15.5, "update_time_ms": 263.477, "grad_time_ms": 23289.861, "num_steps_sampled": 600608, "default": {"entropy": 1.3746192455291748, "vf_explained_var": 0.8095560073852539, "kl": 0.004550939425826073, "policy_loss": -0.0011852612951770425, "cur_lr": 0.0005000000237487257, "vf_loss": 9.514286041259766, "cur_kl_coeff": 0.10000000894069672, "total_loss": 9.513555526733398}}, "episode_len_mean": 693.37, "episode_reward_mean": 667.0038522913211, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f315908>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f315898>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f3155c0>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "vf_loss_coeff": 1.0, "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "batch_mode": "truncate_episodes", "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 883.8592696317793, "time_total_s": 210.48490381240845, "policy_reward_mean": {}, "training_iteration": 5, "episodes_total": 243, "timesteps_since_restore": 600608, "timesteps_this_iter": 125109, "episode_reward_min": 53.40225567214602, "experiment_id": "404152d296a747dbad1596107153698c", "timestamp": 1556352175, "episodes_this_iter": 54, "done": false, "date": "2019-04-27_08-02-55"}
{"time_since_restore": 249.96123504638672, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1064.8511591166316, "outflow_rate_mean": 942.3029461858509, "cost2_mean": -61.67095940989645, "cost2_max": -10.919699663324373, "cost2_min": -86.68625110786729, "cost1_max": 342.9823125600873, "outflow_rate_min": 496.47873787332355, "cost1_min": 23.689033861683924, "system_level_velocity_max": 18.035011233906395, "system_level_velocity_mean": 10.966022377433406, "cost1_mean": 287.02553823139783, "system_level_velocity_min": 8.477860400328147}, "time_this_iter_s": 39.47633123397827, "num_metric_batches_dropped": 0, "iterations_since_restore": 6, "node_ip": "10.138.0.2", "pid": 39091, "timesteps_total": 724966, "info": {"sample_time_ms": 17748.961, "num_steps_trained": 724966, "load_time_ms": 15.068, "update_time_ms": 221.867, "grad_time_ms": 23467.321, "num_steps_sampled": 724966, "default": {"entropy": 1.3683078289031982, "vf_explained_var": 0.8361619114875793, "kl": 0.004675870295614004, "policy_loss": -0.0006607553805224597, "cur_lr": 0.0005000000237487257, "vf_loss": 8.402881622314453, "cur_kl_coeff": 0.05000000819563866, "total_loss": 8.40245532989502}}, "episode_len_mean": 693.37, "episode_reward_mean": 712.563784575609, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f315208>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f315278>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f315358>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "vf_loss_coeff": 1.0, "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "batch_mode": "truncate_episodes", "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 883.8592696317793, "time_total_s": 249.96123504638672, "policy_reward_mean": {}, "training_iteration": 6, "episodes_total": 280, "timesteps_since_restore": 724966, "timesteps_this_iter": 124358, "episode_reward_min": 53.40225567214602, "experiment_id": "404152d296a747dbad1596107153698c", "timestamp": 1556352215, "episodes_this_iter": 37, "done": false, "date": "2019-04-27_08-03-35"}
{"time_since_restore": 290.487300157547, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1090.2611535267943, "outflow_rate_mean": 980.8589293995554, "cost2_mean": -69.62590096009382, "cost2_max": -48.597173292438264, "cost2_min": -98.16045783616335, "cost1_max": 352.393580714648, "outflow_rate_min": 782.5432344106713, "cost1_min": 226.56225689895467, "system_level_velocity_max": 13.15678300737023, "system_level_velocity_mean": 11.075459003671806, "cost1_mean": 295.2630582572314, "system_level_velocity_min": 8.606420804786607}, "time_this_iter_s": 40.52606511116028, "num_metric_batches_dropped": 0, "iterations_since_restore": 7, "node_ip": "10.138.0.2", "pid": 39091, "timesteps_total": 851993, "info": {"sample_time_ms": 17358.216, "num_steps_trained": 851993, "load_time_ms": 14.52, "update_time_ms": 192.132, "grad_time_ms": 23723.851, "num_steps_sampled": 851993, "default": {"entropy": 1.3503166437149048, "vf_explained_var": 0.7861304879188538, "kl": 0.0055522918701171875, "policy_loss": -0.0009946062928065658, "cur_lr": 0.0005000000237487257, "vf_loss": 10.8076810836792, "cur_kl_coeff": 0.02500000223517418, "total_loss": 10.806825637817383}}, "episode_len_mean": 700.0, "episode_reward_mean": 752.7619841353572, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f2fad68>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f315a20>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f2faeb8>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "vf_loss_coeff": 1.0, "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "batch_mode": "truncate_episodes", "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 917.1995198189525, "time_total_s": 290.487300157547, "policy_reward_mean": {}, "training_iteration": 7, "episodes_total": 337, "timesteps_since_restore": 851993, "timesteps_this_iter": 127027, "episode_reward_min": 617.1409574857878, "experiment_id": "404152d296a747dbad1596107153698c", "timestamp": 1556352255, "episodes_this_iter": 57, "done": false, "date": "2019-04-27_08-04-15"}
{"time_since_restore": 329.3184163570404, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1090.2611535267943, "outflow_rate_mean": 988.5155928012605, "cost2_mean": -73.48156449047175, "cost2_max": -14.819446742261734, "cost2_min": -101.72877398089892, "cost1_max": 352.393580714648, "outflow_rate_min": 486.1931345914023, "cost1_min": 23.64683158256341, "system_level_velocity_max": 18.022119493357685, "system_level_velocity_mean": 11.261800472977939, "cost1_mean": 295.58304069919103, "system_level_velocity_min": 8.606420804786607}, "time_this_iter_s": 38.83111619949341, "num_metric_batches_dropped": 0, "iterations_since_restore": 8, "node_ip": "10.138.0.2", "pid": 39091, "timesteps_total": 977928, "info": {"sample_time_ms": 16952.793, "num_steps_trained": 977928, "load_time_ms": 13.99, "update_time_ms": 169.523, "grad_time_ms": 23817.382, "num_steps_sampled": 977928, "default": {"entropy": 1.339436650276184, "vf_explained_var": 0.8215333223342896, "kl": 0.006314294412732124, "policy_loss": -0.0013162643881514668, "cur_lr": 0.0005000000237487257, "vf_loss": 9.535780906677246, "cur_kl_coeff": 0.02500000409781933, "total_loss": 9.534622192382812}}, "episode_len_mean": 693.37, "episode_reward_mean": 757.6409914777615, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f315f98>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f3152b0>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f3158d0>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "vf_loss_coeff": 1.0, "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "batch_mode": "truncate_episodes", "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 917.1995198189525, "time_total_s": 329.3184163570404, "policy_reward_mean": {}, "training_iteration": 8, "episodes_total": 371, "timesteps_since_restore": 977928, "timesteps_this_iter": 125935, "episode_reward_min": 51.18541995298506, "experiment_id": "404152d296a747dbad1596107153698c", "timestamp": 1556352294, "episodes_this_iter": 34, "done": false, "date": "2019-04-27_08-04-54"}
{"time_since_restore": 367.29585576057434, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1088.7439494484245, "outflow_rate_mean": 1000.6996814160957, "cost2_mean": -78.06166588201644, "cost2_max": -14.819446742261734, "cost2_min": -102.87367266896655, "cost1_max": 339.95545862113505, "outflow_rate_min": 486.1931345914023, "cost1_min": 23.64683158256341, "system_level_velocity_max": 18.022119493357685, "system_level_velocity_mean": 11.402272561918025, "cost1_mean": 299.0267498781334, "system_level_velocity_min": 8.606420804786607}, "time_this_iter_s": 37.977439403533936, "num_metric_batches_dropped": 0, "iterations_since_restore": 9, "node_ip": "10.138.0.2", "pid": 39091, "timesteps_total": 1102967, "info": {"sample_time_ms": 16692.024, "num_steps_trained": 1102967, "load_time_ms": 13.335, "update_time_ms": 152.029, "grad_time_ms": 23744.703, "num_steps_sampled": 1102967, "default": {"entropy": 1.3223074674606323, "vf_explained_var": 0.7891201376914978, "kl": 0.006090764421969652, "policy_loss": -0.0010011031990870833, "cur_lr": 0.0005000000237487257, "vf_loss": 10.476710319519043, "cur_kl_coeff": 0.02500000409781933, "total_loss": 10.475862503051758}}, "episode_len_mean": 693.37, "episode_reward_mean": 760.7515000272807, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f2fafd0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f2faf60>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9dc88>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "vf_loss_coeff": 1.0, "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "batch_mode": "truncate_episodes", "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 846.13296431285, "time_total_s": 367.29585576057434, "policy_reward_mean": {}, "training_iteration": 9, "episodes_total": 426, "timesteps_since_restore": 1102967, "timesteps_this_iter": 125039, "episode_reward_min": 51.18541995298506, "experiment_id": "404152d296a747dbad1596107153698c", "timestamp": 1556352332, "episodes_this_iter": 55, "done": false, "date": "2019-04-27_08-05-32"}
{"time_since_restore": 406.41377878189087, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1088.7439494484245, "outflow_rate_mean": 1007.3260210413487, "cost2_mean": -78.99999773384476, "cost2_max": -60.59278470911721, "cost2_min": -98.15571021706128, "cost1_max": 346.7073643616783, "outflow_rate_min": 868.0959896814425, "cost1_min": 244.09777267591454, "system_level_velocity_max": 12.865110053287266, "system_level_velocity_mean": 11.332369350680812, "cost1_mean": 302.02466170872026, "system_level_velocity_min": 9.205180486795518}, "time_this_iter_s": 39.11792302131653, "num_metric_batches_dropped": 0, "iterations_since_restore": 10, "node_ip": "10.138.0.2", "pid": 39091, "timesteps_total": 1227480, "info": {"sample_time_ms": 16480.969, "num_steps_trained": 1227480, "load_time_ms": 12.767, "update_time_ms": 137.846, "grad_time_ms": 23801.026, "num_steps_sampled": 1227480, "default": {"entropy": 1.3128505945205688, "vf_explained_var": 0.74880051612854, "kl": 0.006005358416587114, "policy_loss": -0.00051910150796175, "cur_lr": 0.0005000000237487257, "vf_loss": 10.459260940551758, "cur_kl_coeff": 0.02500000223517418, "total_loss": 10.458891868591309}}, "episode_len_mean": 700.0, "episode_reward_mean": 772.5692935000271, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9dcc0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f315da0>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9def0>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "vf_loss_coeff": 1.0, "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "batch_mode": "truncate_episodes", "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 894.9721087665766, "time_total_s": 406.41377878189087, "policy_reward_mean": {}, "training_iteration": 10, "episodes_total": 479, "timesteps_since_restore": 1227480, "timesteps_this_iter": 124513, "episode_reward_min": 683.2780227951041, "experiment_id": "404152d296a747dbad1596107153698c", "timestamp": 1556352371, "episodes_this_iter": 53, "done": false, "date": "2019-04-27_08-06-11"}
{"time_since_restore": 444.2149758338928, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1088.2817399292414, "outflow_rate_mean": 1009.8942025369133, "cost2_mean": -79.28275368703426, "cost2_max": -59.45897865010201, "cost2_min": -107.12373330115199, "cost1_max": 346.7073643616783, "outflow_rate_min": 900.2143536951693, "cost1_min": 254.2323831526673, "system_level_velocity_max": 12.865110053287266, "system_level_velocity_mean": 11.287747725410854, "cost1_mean": 301.6626082312008, "system_level_velocity_min": 9.558428149395036}, "time_this_iter_s": 37.80119705200195, "num_metric_batches_dropped": 0, "iterations_since_restore": 11, "node_ip": "10.138.0.2", "pid": 39091, "timesteps_total": 1350455, "info": {"sample_time_ms": 14810.048, "num_steps_trained": 1350455, "load_time_ms": 8.941, "update_time_ms": 11.194, "grad_time_ms": 23638.156, "num_steps_sampled": 1350455, "default": {"entropy": 1.3007655143737793, "vf_explained_var": 0.8111153841018677, "kl": 0.005794098600745201, "policy_loss": -0.0004411115078255534, "cur_lr": 0.0005000000237487257, "vf_loss": 9.585342407226562, "cur_kl_coeff": 0.02500000409781933, "total_loss": 9.585046768188477}}, "episode_len_mean": 700.0, "episode_reward_mean": 781.732128745093, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9dcf8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9dc88>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9df98>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "vf_loss_coeff": 1.0, "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "batch_mode": "truncate_episodes", "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 898.8037787764634, "time_total_s": 444.2149758338928, "policy_reward_mean": {}, "training_iteration": 11, "episodes_total": 522, "timesteps_since_restore": 1350455, "timesteps_this_iter": 122975, "episode_reward_min": 705.883939815921, "experiment_id": "404152d296a747dbad1596107153698c", "timestamp": 1556352409, "episodes_this_iter": 43, "done": false, "date": "2019-04-27_08-06-49"}
{"time_since_restore": 483.67096519470215, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1090.8316800007092, "outflow_rate_mean": 1014.5609588460952, "cost2_mean": -84.41373643818463, "cost2_max": -59.45897865010201, "cost2_min": -107.12373330115199, "cost1_max": 333.240023030304, "outflow_rate_min": 900.2143536951693, "cost1_min": 256.4165987550589, "system_level_velocity_max": 12.490819797257295, "system_level_velocity_mean": 11.225381344548037, "cost1_mean": 300.49027571984783, "system_level_velocity_min": 9.636373919525328}, "time_this_iter_s": 39.455989360809326, "num_metric_batches_dropped": 0, "iterations_since_restore": 12, "node_ip": "10.138.0.2", "pid": 39091, "timesteps_total": 1476367, "info": {"sample_time_ms": 14816.73, "num_steps_trained": 1476367, "load_time_ms": 9.163, "update_time_ms": 11.351, "grad_time_ms": 23816.737, "num_steps_sampled": 1476367, "default": {"entropy": 1.2984659671783447, "vf_explained_var": 0.7439782619476318, "kl": 0.006577764637768269, "policy_loss": -0.0014808238483965397, "cur_lr": 0.0005000000237487257, "vf_loss": 12.04692268371582, "cur_kl_coeff": 0.02500000409781933, "total_loss": 12.045605659484863}}, "episode_len_mean": 700.0, "episode_reward_mean": 783.0858238701771, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9d048>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9dd68>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9df28>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "vf_loss_coeff": 1.0, "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "batch_mode": "truncate_episodes", "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 898.8037787764634, "time_total_s": 483.67096519470215, "policy_reward_mean": {}, "training_iteration": 12, "episodes_total": 579, "timesteps_since_restore": 1476367, "timesteps_this_iter": 125912, "episode_reward_min": 680.0730121503191, "experiment_id": "404152d296a747dbad1596107153698c", "timestamp": 1556352449, "episodes_this_iter": 57, "done": false, "date": "2019-04-27_08-07-29"}
{"time_since_restore": 520.7223308086395, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1090.8316800007092, "outflow_rate_mean": 1015.0195535786501, "cost2_mean": -87.56192996566033, "cost2_max": -67.2860323134427, "cost2_min": -108.79689350271371, "cost1_max": 331.82665494374874, "outflow_rate_min": 876.1747680614458, "cost1_min": 251.5076517017851, "system_level_velocity_max": 12.341096824909773, "system_level_velocity_mean": 11.192058917904644, "cost1_mean": 299.26626603586976, "system_level_velocity_min": 9.586544695120306}, "time_this_iter_s": 37.05136561393738, "num_metric_batches_dropped": 0, "iterations_since_restore": 13, "node_ip": "10.138.0.2", "pid": 39091, "timesteps_total": 1602038, "info": {"sample_time_ms": 14788.189, "num_steps_trained": 1602038, "load_time_ms": 8.897, "update_time_ms": 11.312, "grad_time_ms": 23737.668, "num_steps_sampled": 1602038, "default": {"entropy": 1.2790460586547852, "vf_explained_var": 0.8018220067024231, "kl": 0.00691584125161171, "policy_loss": -0.0007401702459901571, "cur_lr": 0.0005000000237487257, "vf_loss": 9.59147834777832, "cur_kl_coeff": 0.02500000409781933, "total_loss": 9.590911865234375}}, "episode_len_mean": 700.0, "episode_reward_mean": 778.1465220389617, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f2fac88>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f2fac18>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f2faeb8>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "vf_loss_coeff": 1.0, "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "batch_mode": "truncate_episodes", "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 898.8037787764634, "time_total_s": 520.7223308086395, "policy_reward_mean": {}, "training_iteration": 13, "episodes_total": 615, "timesteps_since_restore": 1602038, "timesteps_this_iter": 125671, "episode_reward_min": 680.0730121503191, "experiment_id": "404152d296a747dbad1596107153698c", "timestamp": 1556352486, "episodes_this_iter": 36, "done": false, "date": "2019-04-27_08-08-06"}
{"time_since_restore": 558.8763439655304, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1089.579250026376, "outflow_rate_mean": 1005.1617168278046, "cost2_mean": -88.65167872655717, "cost2_max": -69.99505278164236, "cost2_min": -111.68393641940162, "cost1_max": 331.82665494374874, "outflow_rate_min": 876.1747680614458, "cost1_min": 245.66371333514383, "system_level_velocity_max": 12.331408064837929, "system_level_velocity_mean": 11.027382058151215, "cost1_mean": 293.88034726512905, "system_level_velocity_min": 9.386085599831507}, "time_this_iter_s": 38.15401315689087, "num_metric_batches_dropped": 0, "iterations_since_restore": 14, "node_ip": "10.138.0.2", "pid": 39091, "timesteps_total": 1727819, "info": {"sample_time_ms": 14780.991, "num_steps_trained": 1727819, "load_time_ms": 8.803, "update_time_ms": 11.42, "grad_time_ms": 23783.734, "num_steps_sampled": 1727819, "default": {"entropy": 1.2671434879302979, "vf_explained_var": 0.7570304870605469, "kl": 0.006141105201095343, "policy_loss": -0.0005291010602377355, "cur_lr": 0.0005000000237487257, "vf_loss": 12.395892143249512, "cur_kl_coeff": 0.02500000223517418, "total_loss": 12.395516395568848}}, "episode_len_mean": 700.0, "episode_reward_mean": 761.9821678844855, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9d4e0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9d278>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9dd68>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "vf_loss_coeff": 1.0, "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "batch_mode": "truncate_episodes", "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 859.7236668074869, "time_total_s": 558.8763439655304, "policy_reward_mean": {}, "training_iteration": 14, "episodes_total": 669, "timesteps_since_restore": 1727819, "timesteps_this_iter": 125781, "episode_reward_min": 672.4017522101929, "experiment_id": "404152d296a747dbad1596107153698c", "timestamp": 1556352524, "episodes_this_iter": 54, "done": false, "date": "2019-04-27_08-08-44"}
{"time_since_restore": 598.1021018028259, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1062.0748137511973, "outflow_rate_mean": 1006.1285263915167, "cost2_mean": -90.58537428496498, "cost2_max": -69.99505278164236, "cost2_min": -111.68393641940162, "cost1_max": 320.0026960698605, "outflow_rate_min": 884.850575340423, "cost1_min": 245.66371333514383, "system_level_velocity_max": 12.029182280444067, "system_level_velocity_mean": 11.030301844120176, "cost1_mean": 293.6918390284802, "system_level_velocity_min": 9.386085599831507}, "time_this_iter_s": 39.22575783729553, "num_metric_batches_dropped": 0, "iterations_since_restore": 15, "node_ip": "10.138.0.2", "pid": 39091, "timesteps_total": 1852524, "info": {"sample_time_ms": 14705.653, "num_steps_trained": 1852524, "load_time_ms": 9.152, "update_time_ms": 11.515, "grad_time_ms": 23821.035, "num_steps_sampled": 1852524, "default": {"entropy": 1.267786979675293, "vf_explained_var": 0.7445959448814392, "kl": 0.006542794872075319, "policy_loss": -0.0008163914899341762, "cur_lr": 0.0005000000237487257, "vf_loss": 12.997770309448242, "cur_kl_coeff": 0.02500000223517418, "total_loss": 12.99711799621582}}, "episode_len_mean": 700.0, "episode_reward_mean": 760.0170983751294, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f315a20>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f315898>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f315be0>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "vf_loss_coeff": 1.0, "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "batch_mode": "truncate_episodes", "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 820.7010327919025, "time_total_s": 598.1021018028259, "policy_reward_mean": {}, "training_iteration": 15, "episodes_total": 719, "timesteps_since_restore": 1852524, "timesteps_this_iter": 124705, "episode_reward_min": 672.4017522101929, "experiment_id": "404152d296a747dbad1596107153698c", "timestamp": 1556352563, "episodes_this_iter": 50, "done": false, "date": "2019-04-27_08-09-23"}
{"time_since_restore": 636.3470547199249, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1080.9381972573592, "outflow_rate_mean": 1012.561129581956, "cost2_mean": -91.93452499645875, "cost2_max": -75.80860597283323, "cost2_min": -122.86274539855751, "cost1_max": 327.94768725174043, "outflow_rate_min": 890.6586456468492, "cost1_min": 248.95891957468243, "system_level_velocity_max": 12.317969209054109, "system_level_velocity_mean": 11.117828195817413, "cost1_mean": 296.3770509399578, "system_level_velocity_min": 9.56804483350884}, "time_this_iter_s": 38.244952917099, "num_metric_batches_dropped": 0, "iterations_since_restore": 16, "node_ip": "10.138.0.2", "pid": 39091, "timesteps_total": 1975924, "info": {"sample_time_ms": 14652.275, "num_steps_trained": 1975924, "load_time_ms": 8.714, "update_time_ms": 11.46, "grad_time_ms": 23751.797, "num_steps_sampled": 1975924, "default": {"entropy": 1.2692151069641113, "vf_explained_var": 0.7823476791381836, "kl": 0.0064475457184016705, "policy_loss": -0.0006335611687973142, "cur_lr": 0.0005000000237487257, "vf_loss": 12.424293518066406, "cur_kl_coeff": 0.02500000409781933, "total_loss": 12.423821449279785}}, "episode_len_mean": 700.0, "episode_reward_mean": 766.8814353422698, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9d240>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9d278>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9d4e0>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "vf_loss_coeff": 1.0, "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "batch_mode": "truncate_episodes", "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 834.9368853605539, "time_total_s": 636.3470547199249, "policy_reward_mean": {}, "training_iteration": 16, "episodes_total": 763, "timesteps_since_restore": 1975924, "timesteps_this_iter": 123400, "episode_reward_min": 666.9168375959913, "experiment_id": "404152d296a747dbad1596107153698c", "timestamp": 1556352602, "episodes_this_iter": 44, "done": false, "date": "2019-04-27_08-10-02"}
{"time_since_restore": 675.3636617660522, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1086.674057315826, "outflow_rate_mean": 1021.45310363612, "cost2_mean": -91.96256243639029, "cost2_max": -75.8349159959015, "cost2_min": -122.86274539855751, "cost1_max": 332.0885532690347, "outflow_rate_min": 883.936088110652, "cost1_min": 247.50248948319052, "system_level_velocity_max": 12.42428245064819, "system_level_velocity_mean": 11.249332989093654, "cost1_mean": 300.1783419561272, "system_level_velocity_min": 9.450355039621963}, "time_this_iter_s": 39.01660704612732, "num_metric_batches_dropped": 0, "iterations_since_restore": 17, "node_ip": "10.138.0.2", "pid": 39091, "timesteps_total": 2101568, "info": {"sample_time_ms": 14666.14, "num_steps_trained": 2101568, "load_time_ms": 8.518, "update_time_ms": 11.495, "grad_time_ms": 23587.279, "num_steps_sampled": 2101568, "default": {"entropy": 1.260465145111084, "vf_explained_var": 0.6974517703056335, "kl": 0.006314833648502827, "policy_loss": -0.00028119952185079455, "cur_lr": 0.0005000000237487257, "vf_loss": 14.230536460876465, "cur_kl_coeff": 0.02500000409781933, "total_loss": 14.230413436889648}}, "episode_len_mean": 700.0, "episode_reward_mean": 772.06786400029, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f315438>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f315c88>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff218b64b70>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "vf_loss_coeff": 1.0, "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "batch_mode": "truncate_episodes", "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 840.8177118603979, "time_total_s": 675.3636617660522, "policy_reward_mean": {}, "training_iteration": 17, "episodes_total": 821, "timesteps_since_restore": 2101568, "timesteps_this_iter": 125644, "episode_reward_min": 666.9168375959913, "experiment_id": "404152d296a747dbad1596107153698c", "timestamp": 1556352641, "episodes_this_iter": 58, "done": false, "date": "2019-04-27_08-10-41"}
{"time_since_restore": 713.6677179336548, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1086.674057315826, "outflow_rate_mean": 1021.3730270774754, "cost2_mean": -92.25640819362006, "cost2_max": -75.8349159959015, "cost2_min": -109.33180159426777, "cost1_max": 332.0885532690347, "outflow_rate_min": 883.936088110652, "cost1_min": 247.50248948319052, "system_level_velocity_max": 12.42428245064819, "system_level_velocity_mean": 11.213384836270587, "cost1_mean": 299.3493961418628, "system_level_velocity_min": 9.292371985307463}, "time_this_iter_s": 38.30405616760254, "num_metric_batches_dropped": 0, "iterations_since_restore": 18, "node_ip": "10.138.0.2", "pid": 39091, "timesteps_total": 2226173, "info": {"sample_time_ms": 14698.059, "num_steps_trained": 2226173, "load_time_ms": 8.286, "update_time_ms": 11.495, "grad_time_ms": 23506.386, "num_steps_sampled": 2226173, "default": {"entropy": 1.2503888607025146, "vf_explained_var": 0.7886621356010437, "kl": 0.006109509151428938, "policy_loss": -0.00011393173917895183, "cur_lr": 0.0005000000237487257, "vf_loss": 11.523197174072266, "cur_kl_coeff": 0.02500000409781933, "total_loss": 11.523237228393555}}, "episode_len_mean": 700.0, "episode_reward_mean": 771.4575450025596, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9d240>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9dcf8>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9d748>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "vf_loss_coeff": 1.0, "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "batch_mode": "truncate_episodes", "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 840.8177118603979, "time_total_s": 713.6677179336548, "policy_reward_mean": {}, "training_iteration": 18, "episodes_total": 856, "timesteps_since_restore": 2226173, "timesteps_this_iter": 124605, "episode_reward_min": 678.3547910317222, "experiment_id": "404152d296a747dbad1596107153698c", "timestamp": 1556352679, "episodes_this_iter": 35, "done": false, "date": "2019-04-27_08-11-19"}
{"time_since_restore": 751.5368087291718, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1142.8132572895229, "outflow_rate_mean": 1025.0275534866635, "cost2_mean": -95.31252267284137, "cost2_max": -77.0853678137203, "cost2_min": -112.57625950933935, "cost1_max": 351.74255797268364, "outflow_rate_min": 883.936088110652, "cost1_min": 247.50248948319052, "system_level_velocity_max": 13.109879667389247, "system_level_velocity_mean": 11.206166437614828, "cost1_mean": 299.37320259586596, "system_level_velocity_min": 9.292371985307463}, "time_this_iter_s": 37.86909079551697, "num_metric_batches_dropped": 0, "iterations_since_restore": 19, "node_ip": "10.138.0.2", "pid": 39091, "timesteps_total": 2351321, "info": {"sample_time_ms": 14700.926, "num_steps_trained": 2351321, "load_time_ms": 8.2, "update_time_ms": 11.466, "grad_time_ms": 23492.776, "num_steps_sampled": 2351321, "default": {"entropy": 1.2392081022262573, "vf_explained_var": 0.7613515257835388, "kl": 0.007234224583953619, "policy_loss": -0.000531592289917171, "cur_lr": 0.0005000000237487257, "vf_loss": 14.408027648925781, "cur_kl_coeff": 0.02500000223517418, "total_loss": 14.407676696777344}}, "episode_len_mean": 700.0, "episode_reward_mean": 773.4310450646188, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9d128>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f315710>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9d4a8>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "vf_loss_coeff": 1.0, "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "batch_mode": "truncate_episodes", "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 876.0692972643981, "time_total_s": 751.5368087291718, "policy_reward_mean": {}, "training_iteration": 19, "episodes_total": 908, "timesteps_since_restore": 2351321, "timesteps_this_iter": 125148, "episode_reward_min": 681.9090183620708, "experiment_id": "404152d296a747dbad1596107153698c", "timestamp": 1556352717, "episodes_this_iter": 52, "done": false, "date": "2019-04-27_08-11-57"}
{"time_since_restore": 792.8340091705322, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1164.8713631027258, "outflow_rate_mean": 1034.0232659552496, "cost2_mean": -97.2531457694678, "cost2_max": -77.0853678137203, "cost2_min": -116.98613024872121, "cost1_max": 359.18121145365257, "outflow_rate_min": 936.6637652243676, "cost1_min": 250.8615552176233, "system_level_velocity_max": 13.298257171488439, "system_level_velocity_mean": 11.318362360291696, "cost1_mean": 302.57319675597614, "system_level_velocity_min": 9.463847427656988}, "time_this_iter_s": 41.297200441360474, "num_metric_batches_dropped": 0, "iterations_since_restore": 20, "node_ip": "10.138.0.2", "pid": 39091, "timesteps_total": 2477494, "info": {"sample_time_ms": 14761.057, "num_steps_trained": 2477494, "load_time_ms": 8.467, "update_time_ms": 11.744, "grad_time_ms": 23648.145, "num_steps_sampled": 2477494, "default": {"entropy": 1.2376395463943481, "vf_explained_var": 0.7397250533103943, "kl": 0.006825447082519531, "policy_loss": -0.0010316567495465279, "cur_lr": 0.0005000000237487257, "vf_loss": 14.243733406066895, "cur_kl_coeff": 0.02500000409781933, "total_loss": 14.242871284484863}}, "episode_len_mean": 700.0, "episode_reward_mean": 779.3906394157451, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9d240>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9df98>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9df60>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "vf_loss_coeff": 1.0, "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "batch_mode": "truncate_episodes", "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 926.3655858256684, "time_total_s": 792.8340091705322, "policy_reward_mean": {}, "training_iteration": 20, "episodes_total": 959, "timesteps_since_restore": 2477494, "timesteps_this_iter": 126173, "episode_reward_min": 680.1122401649347, "experiment_id": "404152d296a747dbad1596107153698c", "timestamp": 1556352758, "episodes_this_iter": 51, "done": false, "date": "2019-04-27_08-12-38"}
{"time_since_restore": 830.9874906539917, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1164.8713631027258, "outflow_rate_mean": 1026.8470453743766, "cost2_mean": -99.13830525971017, "cost2_max": -79.8958448495663, "cost2_min": -116.98613024872121, "cost1_max": 359.18121145365257, "outflow_rate_min": 936.6637652243676, "cost1_min": 250.8615552176233, "system_level_velocity_max": 13.298257171488439, "system_level_velocity_mean": 11.148869193938976, "cost1_mean": 298.1835429343511, "system_level_velocity_min": 9.463847427656988}, "time_this_iter_s": 38.15348148345947, "num_metric_batches_dropped": 0, "iterations_since_restore": 21, "node_ip": "10.138.0.2", "pid": 39091, "timesteps_total": 2601373, "info": {"sample_time_ms": 14750.683, "num_steps_trained": 2601373, "load_time_ms": 8.897, "update_time_ms": 11.919, "grad_time_ms": 23691.529, "num_steps_sampled": 2601373, "default": {"entropy": 1.2322239875793457, "vf_explained_var": 0.7756133079528809, "kl": 0.008888904005289078, "policy_loss": -0.0010214209323748946, "cur_lr": 0.0005000000237487257, "vf_loss": 13.988714218139648, "cur_kl_coeff": 0.025000005960464478, "total_loss": 13.9879150390625}}, "episode_len_mean": 700.0, "episode_reward_mean": 777.4442686260809, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9d208>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9dfd0>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9d080>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "vf_loss_coeff": 1.0, "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "batch_mode": "truncate_episodes", "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 926.3655858256684, "time_total_s": 830.9874906539917, "policy_reward_mean": {}, "training_iteration": 21, "episodes_total": 1005, "timesteps_since_restore": 2601373, "timesteps_this_iter": 123879, "episode_reward_min": 680.1122401649347, "experiment_id": "404152d296a747dbad1596107153698c", "timestamp": 1556352796, "episodes_this_iter": 46, "done": false, "date": "2019-04-27_08-13-16"}
{"time_since_restore": 868.4217989444733, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1100.912639271563, "outflow_rate_mean": 1017.9674074430234, "cost2_mean": -99.77390966407198, "cost2_max": -80.98055572574896, "cost2_min": -115.28272138942324, "cost1_max": 328.6770636684451, "outflow_rate_min": 902.8474508593077, "cost1_min": 250.49095295739446, "system_level_velocity_max": 12.169230451332345, "system_level_velocity_mean": 10.977532466538849, "cost1_mean": 294.04864924674314, "system_level_velocity_min": 9.319193133598539}, "time_this_iter_s": 37.43430829048157, "num_metric_batches_dropped": 0, "iterations_since_restore": 22, "node_ip": "10.138.0.2", "pid": 39091, "timesteps_total": 2726574, "info": {"sample_time_ms": 14723.301, "num_steps_trained": 2726574, "load_time_ms": 9.142, "update_time_ms": 12.249, "grad_time_ms": 23515.063, "num_steps_sampled": 2726574, "default": {"entropy": 1.2259489297866821, "vf_explained_var": 0.7316688299179077, "kl": 0.006932831835001707, "policy_loss": -0.0005904643330723047, "cur_lr": 0.0005000000237487257, "vf_loss": 15.489045143127441, "cur_kl_coeff": 0.02500000409781933, "total_loss": 15.488626480102539}}, "episode_len_mean": 700.0, "episode_reward_mean": 774.5910144362254, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9d550>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9d240>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9d4e0>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "vf_loss_coeff": 1.0, "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "batch_mode": "truncate_episodes", "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 855.1191232642111, "time_total_s": 868.4217989444733, "policy_reward_mean": {}, "training_iteration": 22, "episodes_total": 1062, "timesteps_since_restore": 2726574, "timesteps_this_iter": 125201, "episode_reward_min": 699.649116836761, "experiment_id": "404152d296a747dbad1596107153698c", "timestamp": 1556352834, "episodes_this_iter": 57, "done": false, "date": "2019-04-27_08-13-54"}
{"time_since_restore": 906.166496515274, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1100.912639271563, "outflow_rate_mean": 1019.1422703275034, "cost2_mean": -99.16042048043704, "cost2_max": -80.15863058440415, "cost2_min": -115.28272138942324, "cost1_max": 328.6770636684451, "outflow_rate_min": 902.8474508593077, "cost1_min": 249.75534901370378, "system_level_velocity_max": 12.169230451332345, "system_level_velocity_mean": 10.998305825812436, "cost1_mean": 294.81754970377415, "system_level_velocity_min": 9.319193133598539}, "time_this_iter_s": 37.74469757080078, "num_metric_batches_dropped": 0, "iterations_since_restore": 23, "node_ip": "10.138.0.2", "pid": 39091, "timesteps_total": 2850862, "info": {"sample_time_ms": 14712.854, "num_steps_trained": 2850862, "load_time_ms": 9.181, "update_time_ms": 12.465, "grad_time_ms": 23593.953, "num_steps_sampled": 2850862, "default": {"entropy": 1.2128429412841797, "vf_explained_var": 0.8100795149803162, "kl": 0.00814586691558361, "policy_loss": -0.0006960859755054116, "cur_lr": 0.0005000000237487257, "vf_loss": 12.408121109008789, "cur_kl_coeff": 0.02500000409781933, "total_loss": 12.40762996673584}}, "episode_len_mean": 700.0, "episode_reward_mean": 773.2148450026061, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9d7f0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9dfd0>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9d208>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "vf_loss_coeff": 1.0, "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "batch_mode": "truncate_episodes", "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 855.1191232642111, "time_total_s": 906.166496515274, "policy_reward_mean": {}, "training_iteration": 23, "episodes_total": 1099, "timesteps_since_restore": 2850862, "timesteps_this_iter": 124288, "episode_reward_min": 695.5878454497745, "experiment_id": "404152d296a747dbad1596107153698c", "timestamp": 1556352872, "episodes_this_iter": 37, "done": false, "date": "2019-04-27_08-14-32"}
{"time_since_restore": 945.605696439743, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1150.114855522615, "outflow_rate_mean": 1024.870495997944, "cost2_mean": -97.50739446982793, "cost2_max": -80.15863058440415, "cost2_min": -114.78782244926236, "cost1_max": 353.37360582755025, "outflow_rate_min": 912.3118155252174, "cost1_min": 249.75534901370378, "system_level_velocity_max": 13.162866249297497, "system_level_velocity_mean": 11.12200991119456, "cost1_mean": 297.79237360992846, "system_level_velocity_min": 9.409545180670731}, "time_this_iter_s": 39.439199924468994, "num_metric_batches_dropped": 0, "iterations_since_restore": 24, "node_ip": "10.138.0.2", "pid": 39091, "timesteps_total": 2975392, "info": {"sample_time_ms": 14687.451, "num_steps_trained": 2975392, "load_time_ms": 9.231, "update_time_ms": 12.419, "grad_time_ms": 23749.11, "num_steps_sampled": 2975392, "default": {"entropy": 1.2081292867660522, "vf_explained_var": 0.7681418657302856, "kl": 0.008005908690392971, "policy_loss": -0.0003603156073950231, "cur_lr": 0.0005000000237487257, "vf_loss": 16.324121475219727, "cur_kl_coeff": 0.02500000223517418, "total_loss": 16.32396125793457}}, "episode_len_mean": 700.0, "episode_reward_mean": 779.6447676154705, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9d2b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9dd68>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9d748>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "vf_loss_coeff": 1.0, "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "batch_mode": "truncate_episodes", "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 904.7269915730858, "time_total_s": 945.605696439743, "policy_reward_mean": {}, "training_iteration": 24, "episodes_total": 1152, "timesteps_since_restore": 2975392, "timesteps_this_iter": 124530, "episode_reward_min": 684.0283838460404, "experiment_id": "404152d296a747dbad1596107153698c", "timestamp": 1556352911, "episodes_this_iter": 53, "done": false, "date": "2019-04-27_08-15-11"}
{"time_since_restore": 983.5190105438232, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1150.114855522615, "outflow_rate_mean": 1028.6466132558157, "cost2_mean": -98.40061716573932, "cost2_max": -85.26124189851498, "cost2_min": -115.23465254397348, "cost1_max": 353.37360582755025, "outflow_rate_min": 917.9386164757316, "cost1_min": 248.68628352675736, "system_level_velocity_max": 13.162866249297497, "system_level_velocity_mean": 11.174239172168104, "cost1_mean": 299.19573066731374, "system_level_velocity_min": 9.28969541230445}, "time_this_iter_s": 37.9133141040802, "num_metric_batches_dropped": 0, "iterations_since_restore": 25, "node_ip": "10.138.0.2", "pid": 39091, "timesteps_total": 3100868, "info": {"sample_time_ms": 14726.79, "num_steps_trained": 3100868, "load_time_ms": 9.072, "update_time_ms": 12.756, "grad_time_ms": 23578.042, "num_steps_sampled": 3100868, "default": {"entropy": 1.2091455459594727, "vf_explained_var": 0.7673957943916321, "kl": 0.0075212884694337845, "policy_loss": -0.0006500862073153257, "cur_lr": 0.0005000000237487257, "vf_loss": 16.030658721923828, "cur_kl_coeff": 0.02500000409781933, "total_loss": 16.030195236206055}}, "episode_len_mean": 700.0, "episode_reward_mean": 781.6443976585861, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9d7f0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9da20>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9d588>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "vf_loss_coeff": 1.0, "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "batch_mode": "truncate_episodes", "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 904.7269915730858, "time_total_s": 983.5190105438232, "policy_reward_mean": {}, "training_iteration": 25, "episodes_total": 1201, "timesteps_since_restore": 3100868, "timesteps_this_iter": 125476, "episode_reward_min": 684.0283838460404, "experiment_id": "404152d296a747dbad1596107153698c", "timestamp": 1556352949, "episodes_this_iter": 49, "done": false, "date": "2019-04-27_08-15-49"}
{"time_since_restore": 1019.6845741271973, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1145.859860214944, "outflow_rate_mean": 1029.6051260777072, "cost2_mean": -99.44716682375989, "cost2_max": -83.43861351773239, "cost2_min": -115.23465254397348, "cost1_max": 349.0614989950626, "outflow_rate_min": 920.3558235771612, "cost1_min": 248.68628352675736, "system_level_velocity_max": 12.980780951058602, "system_level_velocity_mean": 11.111198305847484, "cost1_mean": 297.6185337247657, "system_level_velocity_min": 9.28969541230445}, "time_this_iter_s": 36.16556358337402, "num_metric_batches_dropped": 0, "iterations_since_restore": 26, "node_ip": "10.138.0.2", "pid": 39091, "timesteps_total": 3224380, "info": {"sample_time_ms": 14763.579, "num_steps_trained": 3224380, "load_time_ms": 8.982, "update_time_ms": 12.548, "grad_time_ms": 23333.819, "num_steps_sampled": 3224380, "default": {"entropy": 1.2023875713348389, "vf_explained_var": 0.8014962077140808, "kl": 0.007840474136173725, "policy_loss": -0.0004163651610724628, "cur_lr": 0.0005000000237487257, "vf_loss": 15.583428382873535, "cur_kl_coeff": 0.02500000409781933, "total_loss": 15.583208084106445}}, "episode_len_mean": 700.0, "episode_reward_mean": 779.2383491013945, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9df60>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9d9b0>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9de80>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "vf_loss_coeff": 1.0, "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "batch_mode": "truncate_episodes", "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 900.3599050884994, "time_total_s": 1019.6845741271973, "policy_reward_mean": {}, "training_iteration": 26, "episodes_total": 1246, "timesteps_since_restore": 3224380, "timesteps_this_iter": 123512, "episode_reward_min": 684.5737328717595, "experiment_id": "404152d296a747dbad1596107153698c", "timestamp": 1556352985, "episodes_this_iter": 45, "done": false, "date": "2019-04-27_08-16-25"}
{"time_since_restore": 1058.5402607917786, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1161.4979544773312, "outflow_rate_mean": 1033.8117387679072, "cost2_mean": -98.59865254587574, "cost2_max": -82.94198512947389, "cost2_min": -111.19335422155228, "cost1_max": 355.2523422530899, "outflow_rate_min": 920.3558235771612, "cost1_min": 249.66377223182437, "system_level_velocity_max": 13.202251716190123, "system_level_velocity_mean": 11.132520059072785, "cost1_mean": 298.2082532156206, "system_level_velocity_min": 9.354020227750404}, "time_this_iter_s": 38.8556866645813, "num_metric_batches_dropped": 0, "iterations_since_restore": 27, "node_ip": "10.138.0.2", "pid": 39091, "timesteps_total": 3348565, "info": {"sample_time_ms": 14713.961, "num_steps_trained": 3348565, "load_time_ms": 8.808, "update_time_ms": 12.095, "grad_time_ms": 23367.937, "num_steps_sampled": 3348565, "default": {"entropy": 1.1910737752914429, "vf_explained_var": 0.7897126078605652, "kl": 0.008051004260778427, "policy_loss": -0.00054653559345752, "cur_lr": 0.0005000000237487257, "vf_loss": 16.837467193603516, "cur_kl_coeff": 0.02500000409781933, "total_loss": 16.837121963500977}}, "episode_len_mean": 700.0, "episode_reward_mean": 786.0296393742213, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa9710>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa9860>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa9898>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "vf_loss_coeff": 1.0, "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "batch_mode": "truncate_episodes", "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 914.9610566213732, "time_total_s": 1058.5402607917786, "policy_reward_mean": {}, "training_iteration": 27, "episodes_total": 1302, "timesteps_since_restore": 3348565, "timesteps_this_iter": 124185, "episode_reward_min": 705.8093156915288, "experiment_id": "404152d296a747dbad1596107153698c", "timestamp": 1556353024, "episodes_this_iter": 56, "done": false, "date": "2019-04-27_08-17-04"}
{"time_since_restore": 1098.07332777977, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1161.4979544773312, "outflow_rate_mean": 1039.6519566730751, "cost2_mean": -95.37491937976594, "cost2_max": -80.61401548554579, "cost2_min": -107.80767884138592, "cost1_max": 355.2523422530899, "outflow_rate_min": 941.9726439871314, "cost1_min": 259.9044686222543, "system_level_velocity_max": 13.226368748988264, "system_level_velocity_mean": 11.254316827632326, "cost1_mean": 301.15389717564364, "system_level_velocity_min": 9.689997712766482}, "time_this_iter_s": 39.53306698799133, "num_metric_batches_dropped": 0, "iterations_since_restore": 28, "node_ip": "10.138.0.2", "pid": 39091, "timesteps_total": 3470467, "info": {"sample_time_ms": 14684.2, "num_steps_trained": 3470467, "load_time_ms": 8.905, "update_time_ms": 12.166, "grad_time_ms": 23516.917, "num_steps_sampled": 3470467, "default": {"entropy": 1.1810115575790405, "vf_explained_var": 0.8234385848045349, "kl": 0.007786506321281195, "policy_loss": -0.0004984688712283969, "cur_lr": 0.0005000000237487257, "vf_loss": 15.377564430236816, "cur_kl_coeff": 0.02500000409781933, "total_loss": 15.3772611618042}}, "episode_len_mean": 700.0, "episode_reward_mean": 787.3450985672681, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f3152e8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f315c50>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f3159e8>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "vf_loss_coeff": 1.0, "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "batch_mode": "truncate_episodes", "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 914.9610566213732, "time_total_s": 1098.07332777977, "policy_reward_mean": {}, "training_iteration": 28, "episodes_total": 1346, "timesteps_since_restore": 3470467, "timesteps_this_iter": 121902, "episode_reward_min": 705.4122649935889, "experiment_id": "404152d296a747dbad1596107153698c", "timestamp": 1556353064, "episodes_this_iter": 44, "done": false, "date": "2019-04-27_08-17-44"}
{"time_since_restore": 1137.1326761245728, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1158.4628169929003, "outflow_rate_mean": 1045.0987478832028, "cost2_mean": -92.44441663938908, "cost2_max": -79.1696902121711, "cost2_min": -109.6376566972222, "cost1_max": 353.6616665207154, "outflow_rate_min": 941.9726439871314, "cost1_min": 259.9044686222543, "system_level_velocity_max": 13.226368748988264, "system_level_velocity_mean": 11.392315055572228, "cost1_mean": 304.8228016474442, "system_level_velocity_min": 9.689997712766482}, "time_this_iter_s": 39.059348344802856, "num_metric_batches_dropped": 0, "iterations_since_restore": 29, "node_ip": "10.138.0.2", "pid": 39091, "timesteps_total": 3594134, "info": {"sample_time_ms": 14693.822, "num_steps_trained": 3594134, "load_time_ms": 9.13, "update_time_ms": 12.046, "grad_time_ms": 23623.203, "num_steps_sampled": 3594134, "default": {"entropy": 1.1887589693069458, "vf_explained_var": 0.7748377919197083, "kl": 0.00823519378900528, "policy_loss": -0.0009345279540866613, "cur_lr": 0.0005000000237487257, "vf_loss": 18.82329559326172, "cur_kl_coeff": 0.025000005960464478, "total_loss": 18.82256507873535}}, "episode_len_mean": 700.0, "episode_reward_mean": 791.9623549330856, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9d898>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9df28>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9d198>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "vf_loss_coeff": 1.0, "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "batch_mode": "truncate_episodes", "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 911.4250517130461, "time_total_s": 1137.1326761245728, "policy_reward_mean": {}, "training_iteration": 29, "episodes_total": 1401, "timesteps_since_restore": 3594134, "timesteps_this_iter": 123667, "episode_reward_min": 705.4122649935889, "experiment_id": "404152d296a747dbad1596107153698c", "timestamp": 1556353103, "episodes_this_iter": 55, "done": false, "date": "2019-04-27_08-18-23"}
{"time_since_restore": 1176.148941040039, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1155.0734435792385, "outflow_rate_mean": 1047.6802643494818, "cost2_mean": -93.03958146946705, "cost2_max": -79.1696902121711, "cost2_min": -109.6376566972222, "cost1_max": 349.9842600170364, "outflow_rate_min": 907.6986658360802, "cost1_min": 256.82052971008704, "system_level_velocity_max": 13.057819742266672, "system_level_velocity_mean": 11.451287549292763, "cost1_mean": 306.34384552780074, "system_level_velocity_min": 9.705293109039111}, "time_this_iter_s": 39.01626491546631, "num_metric_batches_dropped": 0, "iterations_since_restore": 30, "node_ip": "10.138.0.2", "pid": 39091, "timesteps_total": 3717212, "info": {"sample_time_ms": 14647.725, "num_steps_trained": 3717212, "load_time_ms": 8.971, "update_time_ms": 11.794, "grad_time_ms": 23442.04, "num_steps_sampled": 3717212, "default": {"entropy": 1.1720030307769775, "vf_explained_var": 0.8115078210830688, "kl": 0.007631428074091673, "policy_loss": -0.0010441920021548867, "cur_lr": 0.0005000000237487257, "vf_loss": 16.018535614013672, "cur_kl_coeff": 0.02500000409781933, "total_loss": 16.017683029174805}}, "episode_len_mean": 700.0, "episode_reward_mean": 794.5291510786661, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9d908>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9dcc0>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9dbe0>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "vf_loss_coeff": 1.0, "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "batch_mode": "truncate_episodes", "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 891.8590689755493, "time_total_s": 1176.148941040039, "policy_reward_mean": {}, "training_iteration": 30, "episodes_total": 1444, "timesteps_since_restore": 3717212, "timesteps_this_iter": 123078, "episode_reward_min": 684.3844062044035, "experiment_id": "404152d296a747dbad1596107153698c", "timestamp": 1556353142, "episodes_this_iter": 43, "done": false, "date": "2019-04-27_08-19-02"}
{"time_since_restore": 1214.7283232212067, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1178.1250862892484, "outflow_rate_mean": 1042.2342002623282, "cost2_mean": -93.96262213702134, "cost2_max": -82.3722640779527, "cost2_min": -106.8571301042225, "cost1_max": 365.6898092978929, "outflow_rate_min": 898.3874475098062, "cost1_min": 254.88962307479454, "system_level_velocity_max": 13.717644554153926, "system_level_velocity_mean": 11.386937084051185, "cost1_mean": 304.05117583553766, "system_level_velocity_min": 9.632493714215752}, "time_this_iter_s": 38.5793821811676, "num_metric_batches_dropped": 0, "iterations_since_restore": 31, "node_ip": "10.138.0.2", "pid": 39091, "timesteps_total": 3840014, "info": {"sample_time_ms": 14657.416, "num_steps_trained": 3840014, "load_time_ms": 8.715, "update_time_ms": 12.083, "grad_time_ms": 23478.87, "num_steps_sampled": 3840014, "default": {"entropy": 1.1617748737335205, "vf_explained_var": 0.7972095012664795, "kl": 0.007821188308298588, "policy_loss": -0.0006247449782676995, "cur_lr": 0.0005000000237487257, "vf_loss": 18.910478591918945, "cur_kl_coeff": 0.025000005960464478, "total_loss": 18.910045623779297}}, "episode_len_mean": 700.0, "episode_reward_mean": 789.4038425790941, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9da90>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9deb8>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9d1d0>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "vf_loss_coeff": 1.0, "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "batch_mode": "truncate_episodes", "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 936.3479746238742, "time_total_s": 1214.7283232212067, "policy_reward_mean": {}, "training_iteration": 31, "episodes_total": 1492, "timesteps_since_restore": 3840014, "timesteps_this_iter": 122802, "episode_reward_min": 684.3844062044035, "experiment_id": "404152d296a747dbad1596107153698c", "timestamp": 1556353180, "episodes_this_iter": 48, "done": false, "date": "2019-04-27_08-19-40"}
{"time_since_restore": 1254.2068402767181, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1178.1250862892484, "outflow_rate_mean": 1035.3612814261958, "cost2_mean": -94.08453800902436, "cost2_max": -82.3722640779527, "cost2_min": -109.17541902889973, "cost1_max": 365.6898092978929, "outflow_rate_min": 898.3874475098062, "cost1_min": 236.285773253999, "system_level_velocity_max": 13.717644554153926, "system_level_velocity_mean": 11.299412264390487, "cost1_mean": 301.0373525140386, "system_level_velocity_min": 8.89294324087824}, "time_this_iter_s": 39.478517055511475, "num_metric_batches_dropped": 0, "iterations_since_restore": 32, "node_ip": "10.138.0.2", "pid": 39091, "timesteps_total": 3962934, "info": {"sample_time_ms": 14635.054, "num_steps_trained": 3962934, "load_time_ms": 8.873, "update_time_ms": 11.681, "grad_time_ms": 23704.708, "num_steps_sampled": 3962934, "default": {"entropy": 1.15692138671875, "vf_explained_var": 0.7636401057243347, "kl": 0.007248038426041603, "policy_loss": -0.000714767025783658, "cur_lr": 0.0005000000237487257, "vf_loss": 22.07946014404297, "cur_kl_coeff": 0.02500000409781933, "total_loss": 22.07892608642578}}, "episode_len_mean": 700.0, "episode_reward_mean": 779.6045359138099, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9d2b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9df60>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9d3c8>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "vf_loss_coeff": 1.0, "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "batch_mode": "truncate_episodes", "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 936.3479746238742, "time_total_s": 1254.2068402767181, "policy_reward_mean": {}, "training_iteration": 32, "episodes_total": 1547, "timesteps_since_restore": 3962934, "timesteps_this_iter": 122920, "episode_reward_min": 689.2410949405316, "experiment_id": "404152d296a747dbad1596107153698c", "timestamp": 1556353220, "episodes_this_iter": 55, "done": false, "date": "2019-04-27_08-20-20"}
{"time_since_restore": 1292.4571902751923, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1177.392530141322, "outflow_rate_mean": 1039.5911691759372, "cost2_mean": -93.63975477860707, "cost2_max": -82.39454199673055, "cost2_min": -109.17541902889973, "cost1_max": 368.0849064242533, "outflow_rate_min": 915.8984850600449, "cost1_min": 236.285773253999, "system_level_velocity_max": 13.726114112708217, "system_level_velocity_mean": 11.357679298300486, "cost1_mean": 302.5705382877908, "system_level_velocity_min": 8.89294324087824}, "time_this_iter_s": 38.25034999847412, "num_metric_batches_dropped": 0, "iterations_since_restore": 33, "node_ip": "10.138.0.2", "pid": 39091, "timesteps_total": 4084843, "info": {"sample_time_ms": 14603.395, "num_steps_trained": 4084843, "load_time_ms": 9.046, "update_time_ms": 11.362, "grad_time_ms": 23787.183, "num_steps_sampled": 4084843, "default": {"entropy": 1.1626626253128052, "vf_explained_var": 0.8076806664466858, "kl": 0.008122776634991169, "policy_loss": -0.0008730121189728379, "cur_lr": 0.0005000000237487257, "vf_loss": 18.690263748168945, "cur_kl_coeff": 0.02500000409781933, "total_loss": 18.689592361450195}}, "episode_len_mean": 700.0, "episode_reward_mean": 780.8938708807443, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f315710>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f315320>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f315898>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "vf_loss_coeff": 1.0, "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "batch_mode": "truncate_episodes", "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 983.6658700648408, "time_total_s": 1292.4571902751923, "policy_reward_mean": {}, "training_iteration": 33, "episodes_total": 1590, "timesteps_since_restore": 4084843, "timesteps_this_iter": 121909, "episode_reward_min": 689.2410949405316, "experiment_id": "404152d296a747dbad1596107153698c", "timestamp": 1556353258, "episodes_this_iter": 43, "done": false, "date": "2019-04-27_08-20-58"}
{"time_since_restore": 1331.0416145324707, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1177.392530141322, "outflow_rate_mean": 1044.3116555460729, "cost2_mean": -91.27322854009033, "cost2_max": -78.54447986185059, "cost2_min": -105.51344794278124, "cost1_max": 368.0849064242533, "outflow_rate_min": 909.4024109042801, "cost1_min": 253.5753978988583, "system_level_velocity_max": 13.726114112708217, "system_level_velocity_mean": 11.477140422233704, "cost1_mean": 305.57348699264173, "system_level_velocity_min": 9.45959702878441}, "time_this_iter_s": 38.58442425727844, "num_metric_batches_dropped": 0, "iterations_since_restore": 34, "node_ip": "10.138.0.2", "pid": 39091, "timesteps_total": 4208031, "info": {"sample_time_ms": 14580.35, "num_steps_trained": 4208031, "load_time_ms": 9.73, "update_time_ms": 11.661, "grad_time_ms": 23724.739, "num_steps_sampled": 4208031, "default": {"entropy": 1.1608017683029175, "vf_explained_var": 0.774641752243042, "kl": 0.006500511895865202, "policy_loss": -0.0005621632444672287, "cur_lr": 0.0005000000237487257, "vf_loss": 21.59554100036621, "cur_kl_coeff": 0.02500000409781933, "total_loss": 21.59514045715332}}, "episode_len_mean": 700.0, "episode_reward_mean": 781.4179864603169, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9d6d8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9dd68>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9d940>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "vf_loss_coeff": 1.0, "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "batch_mode": "truncate_episodes", "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 983.6658700648408, "time_total_s": 1331.0416145324707, "policy_reward_mean": {}, "training_iteration": 34, "episodes_total": 1646, "timesteps_since_restore": 4208031, "timesteps_this_iter": 123188, "episode_reward_min": 680.6464159155809, "experiment_id": "404152d296a747dbad1596107153698c", "timestamp": 1556353297, "episodes_this_iter": 56, "done": false, "date": "2019-04-27_08-21-37"}
{"time_since_restore": 1368.7079091072083, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1159.311933096447, "outflow_rate_mean": 1037.5886479991866, "cost2_mean": -90.41570862034004, "cost2_max": -77.7717248412123, "cost2_min": -104.83064440526367, "cost1_max": 353.67564452563886, "outflow_rate_min": 909.040926375421, "cost1_min": 253.4932265245178, "system_level_velocity_max": 13.240550468650893, "system_level_velocity_mean": 11.375265743726198, "cost1_mean": 302.7167399811189, "system_level_velocity_min": 9.551633547315534}, "time_this_iter_s": 37.66629457473755, "num_metric_batches_dropped": 0, "iterations_since_restore": 35, "node_ip": "10.138.0.2", "pid": 39091, "timesteps_total": 4330054, "info": {"sample_time_ms": 14491.738, "num_steps_trained": 4330054, "load_time_ms": 9.539, "update_time_ms": 11.52, "grad_time_ms": 23791.36, "num_steps_sampled": 4330054, "default": {"entropy": 1.146226406097412, "vf_explained_var": 0.8172703981399536, "kl": 0.00830881204456091, "policy_loss": -0.0011026691645383835, "cur_lr": 0.0005000000237487257, "vf_loss": 18.434507369995117, "cur_kl_coeff": 0.02500000409781933, "total_loss": 18.433612823486328}}, "episode_len_mean": 700.0, "episode_reward_mean": 771.2812377151481, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f315cf8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f315b70>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f315dd8>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "vf_loss_coeff": 1.0, "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "batch_mode": "truncate_episodes", "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 906.1329455397239, "time_total_s": 1368.7079091072083, "policy_reward_mean": {}, "training_iteration": 35, "episodes_total": 1690, "timesteps_since_restore": 4330054, "timesteps_this_iter": 122023, "episode_reward_min": 680.6464159155809, "experiment_id": "404152d296a747dbad1596107153698c", "timestamp": 1556353334, "episodes_this_iter": 44, "done": false, "date": "2019-04-27_08-22-14"}
{"time_since_restore": 1406.2502717971802, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1169.1596732624034, "outflow_rate_mean": 1050.7002026986602, "cost2_mean": -90.47339175587875, "cost2_max": -74.01708756347847, "cost2_min": -104.83064440526367, "cost1_max": 362.9000961672823, "outflow_rate_min": 909.040926375421, "cost1_min": 253.4932265245178, "system_level_velocity_max": 13.723167467408041, "system_level_velocity_mean": 11.582146694499798, "cost1_mean": 307.9031379272429, "system_level_velocity_min": 9.551633547315534}, "time_this_iter_s": 37.542362689971924, "num_metric_batches_dropped": 0, "iterations_since_restore": 36, "node_ip": "10.138.0.2", "pid": 39091, "timesteps_total": 4452099, "info": {"sample_time_ms": 14469.192, "num_steps_trained": 4452099, "load_time_ms": 9.594, "update_time_ms": 11.299, "grad_time_ms": 23950.973, "num_steps_sampled": 4452099, "default": {"entropy": 1.1322033405303955, "vf_explained_var": 0.7919178605079651, "kl": 0.009076393209397793, "policy_loss": -0.0010021645575761795, "cur_lr": 0.0005000000237487257, "vf_loss": 21.61054801940918, "cur_kl_coeff": 0.02500000409781933, "total_loss": 21.60976791381836}}, "episode_len_mean": 700.0, "episode_reward_mean": 785.5038264383811, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f2faba8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f3159e8>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f359240>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "vf_loss_coeff": 1.0, "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "batch_mode": "truncate_episodes", "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 965.2802678670984, "time_total_s": 1406.2502717971802, "policy_reward_mean": {}, "training_iteration": 36, "episodes_total": 1743, "timesteps_since_restore": 4452099, "timesteps_this_iter": 122045, "episode_reward_min": 681.5853474094375, "experiment_id": "404152d296a747dbad1596107153698c", "timestamp": 1556353372, "episodes_this_iter": 53, "done": false, "date": "2019-04-27_08-22-52"}
{"time_since_restore": 1444.7107536792755, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1170.6520558548095, "outflow_rate_mean": 1056.477936107944, "cost2_mean": -92.29460303256923, "cost2_max": -74.01708756347847, "cost2_min": -107.0119287914027, "cost1_max": 365.57613378552924, "outflow_rate_min": 915.845276169888, "cost1_min": 246.09839128064746, "system_level_velocity_max": 13.723167467408041, "system_level_velocity_mean": 11.653962722035498, "cost1_mean": 309.6388099003478, "system_level_velocity_min": 9.177723111001303}, "time_this_iter_s": 38.46048188209534, "num_metric_batches_dropped": 0, "iterations_since_restore": 37, "node_ip": "10.138.0.2", "pid": 39091, "timesteps_total": 4573878, "info": {"sample_time_ms": 14496.37, "num_steps_trained": 4573878, "load_time_ms": 9.55, "update_time_ms": 11.594, "grad_time_ms": 23883.971, "num_steps_sampled": 4573878, "default": {"entropy": 1.1344048976898193, "vf_explained_var": 0.7875925302505493, "kl": 0.00875894632190466, "policy_loss": -0.0005220788298174739, "cur_lr": 0.0005000000237487257, "vf_loss": 21.8211669921875, "cur_kl_coeff": 0.025000005960464478, "total_loss": 21.820865631103516}}, "episode_len_mean": 700.0, "episode_reward_mean": 789.8756840145243, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa9630>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9d240>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa9f98>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "vf_loss_coeff": 1.0, "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "batch_mode": "truncate_episodes", "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 979.4365503074368, "time_total_s": 1444.7107536792755, "policy_reward_mean": {}, "training_iteration": 37, "episodes_total": 1794, "timesteps_since_restore": 4573878, "timesteps_this_iter": 121779, "episode_reward_min": 711.8082534978331, "experiment_id": "404152d296a747dbad1596107153698c", "timestamp": 1556353410, "episodes_this_iter": 51, "done": false, "date": "2019-04-27_08-23-30"}
{"time_since_restore": 1482.055626153946, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1189.3205874327891, "outflow_rate_mean": 1052.3485956385944, "cost2_mean": -95.44418039708852, "cost2_max": -74.01708756347847, "cost2_min": -114.30432163077785, "cost1_max": 368.4683311981404, "outflow_rate_min": 915.845276169888, "cost1_min": 246.09839128064746, "system_level_velocity_max": 13.92067268470769, "system_level_velocity_mean": 11.545541541743065, "cost1_mean": 306.82319481638643, "system_level_velocity_min": 9.177723111001303}, "time_this_iter_s": 37.34487247467041, "num_metric_batches_dropped": 0, "iterations_since_restore": 38, "node_ip": "10.138.0.2", "pid": 39091, "timesteps_total": 4696043, "info": {"sample_time_ms": 14525.93, "num_steps_trained": 4696043, "load_time_ms": 9.45, "update_time_ms": 11.483, "grad_time_ms": 23636.549, "num_steps_sampled": 4696043, "default": {"entropy": 1.1293315887451172, "vf_explained_var": 0.7993131279945374, "kl": 0.008359219878911972, "policy_loss": -0.0008988553308881819, "cur_lr": 0.0005000000237487257, "vf_loss": 21.9807186126709, "cur_kl_coeff": 0.02500000409781933, "total_loss": 21.980026245117188}}, "episode_len_mean": 700.0, "episode_reward_mean": 786.0197094769378, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa96d8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f315710>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa9940>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "vf_loss_coeff": 1.0, "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "batch_mode": "truncate_episodes", "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 979.4365503074368, "time_total_s": 1482.055626153946, "policy_reward_mean": {}, "training_iteration": 38, "episodes_total": 1838, "timesteps_since_restore": 4696043, "timesteps_this_iter": 122165, "episode_reward_min": 695.0131359152443, "experiment_id": "404152d296a747dbad1596107153698c", "timestamp": 1556353448, "episodes_this_iter": 44, "done": false, "date": "2019-04-27_08-24-08"}
{"time_since_restore": 1519.5339560508728, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1191.6778769005537, "outflow_rate_mean": 1059.7320711292396, "cost2_mean": -97.46167387693914, "cost2_max": -86.07080878033445, "cost2_min": -114.30432163077785, "cost1_max": 368.4683311981404, "outflow_rate_min": 914.3924129093222, "cost1_min": 256.0717642711843, "system_level_velocity_max": 13.92067268470769, "system_level_velocity_mean": 11.654541307952151, "cost1_mean": 309.33960739122847, "system_level_velocity_min": 9.739910650047568}, "time_this_iter_s": 37.47832989692688, "num_metric_batches_dropped": 0, "iterations_since_restore": 39, "node_ip": "10.138.0.2", "pid": 39091, "timesteps_total": 4818015, "info": {"sample_time_ms": 14525.547, "num_steps_trained": 4818015, "load_time_ms": 9.501, "update_time_ms": 11.422, "grad_time_ms": 23477.951, "num_steps_sampled": 4818015, "default": {"entropy": 1.1259276866912842, "vf_explained_var": 0.7806422114372253, "kl": 0.009003150276839733, "policy_loss": -0.0008905944414436817, "cur_lr": 0.0005000000237487257, "vf_loss": 24.283876419067383, "cur_kl_coeff": 0.02500000409781933, "total_loss": 24.2832088470459}}, "episode_len_mean": 700.0, "episode_reward_mean": 790.6303236411378, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa9710>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa9a58>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa9ac8>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "vf_loss_coeff": 1.0, "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "batch_mode": "truncate_episodes", "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 941.2693048788981, "time_total_s": 1519.5339560508728, "policy_reward_mean": {}, "training_iteration": 39, "episodes_total": 1894, "timesteps_since_restore": 4818015, "timesteps_this_iter": 121972, "episode_reward_min": 682.7061124284437, "experiment_id": "404152d296a747dbad1596107153698c", "timestamp": 1556353485, "episodes_this_iter": 56, "done": false, "date": "2019-04-27_08-24-45"}
{"time_since_restore": 1557.2736959457397, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1191.6778769005537, "outflow_rate_mean": 1064.1836770643754, "cost2_mean": -97.68428884845193, "cost2_max": -86.07080878033445, "cost2_min": -110.69995018015015, "cost1_max": 367.52598340879183, "outflow_rate_min": 894.0083213337108, "cost1_min": 240.24877730500287, "system_level_velocity_max": 13.901118231640584, "system_level_velocity_mean": 11.725200354775298, "cost1_mean": 311.2856126401571, "system_level_velocity_min": 9.057090774558556}, "time_this_iter_s": 37.73973989486694, "num_metric_batches_dropped": 0, "iterations_since_restore": 40, "node_ip": "10.138.0.2", "pid": 39091, "timesteps_total": 4940329, "info": {"sample_time_ms": 14561.719, "num_steps_trained": 4940329, "load_time_ms": 9.615, "update_time_ms": 11.502, "grad_time_ms": 23313.674, "num_steps_sampled": 4940329, "default": {"entropy": 1.1121832132339478, "vf_explained_var": 0.8188951015472412, "kl": 0.00770020205527544, "policy_loss": -0.00019932398572564125, "cur_lr": 0.0005000000237487257, "vf_loss": 20.61263084411621, "cur_kl_coeff": 0.02500000409781933, "total_loss": 20.61262321472168}}, "episode_len_mean": 700.0, "episode_reward_mean": 790.0507142111944, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa9dd8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa9fd0>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa9860>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "vf_loss_coeff": 1.0, "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "batch_mode": "truncate_episodes", "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 930.2610934221198, "time_total_s": 1557.2736959457397, "policy_reward_mean": {}, "training_iteration": 40, "episodes_total": 1938, "timesteps_since_restore": 4940329, "timesteps_this_iter": 122314, "episode_reward_min": 682.7061124284437, "experiment_id": "404152d296a747dbad1596107153698c", "timestamp": 1556353523, "episodes_this_iter": 44, "done": false, "date": "2019-04-27_08-25-23"}
{"time_since_restore": 1594.6916694641113, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1185.0761524878412, "outflow_rate_mean": 1062.5448653918393, "cost2_mean": -97.42854716860595, "cost2_max": -86.18660041624904, "cost2_min": -110.51102154239231, "cost1_max": 364.31197453626294, "outflow_rate_min": 894.0083213337108, "cost1_min": 240.24877730500287, "system_level_velocity_max": 13.73130548449862, "system_level_velocity_mean": 11.69847572194394, "cost1_mean": 310.9254864405878, "system_level_velocity_min": 9.057090774558556}, "time_this_iter_s": 37.41797351837158, "num_metric_batches_dropped": 0, "iterations_since_restore": 41, "node_ip": "10.138.0.2", "pid": 39091, "timesteps_total": 5062560, "info": {"sample_time_ms": 14604.978, "num_steps_trained": 5062560, "load_time_ms": 9.691, "update_time_ms": 11.167, "grad_time_ms": 23151.896, "num_steps_sampled": 5062560, "default": {"entropy": 1.1175451278686523, "vf_explained_var": 0.7881804704666138, "kl": 0.00885725487023592, "policy_loss": -0.0008042480912990868, "cur_lr": 0.0005000000237487257, "vf_loss": 24.802465438842773, "cur_kl_coeff": 0.02500000409781933, "total_loss": 24.8018856048584}}, "episode_len_mean": 700.0, "episode_reward_mean": 792.0868807726993, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa9e10>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa9a58>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa9710>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "vf_loss_coeff": 1.0, "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "batch_mode": "truncate_episodes", "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 926.6040213491877, "time_total_s": 1594.6916694641113, "policy_reward_mean": {}, "training_iteration": 41, "episodes_total": 1992, "timesteps_since_restore": 5062560, "timesteps_this_iter": 122231, "episode_reward_min": 687.0870800311426, "experiment_id": "404152d296a747dbad1596107153698c", "timestamp": 1556353561, "episodes_this_iter": 54, "done": false, "date": "2019-04-27_08-26-01"}
{"time_since_restore": 1630.9586699008942, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1192.578465654168, "outflow_rate_mean": 1045.9396822306744, "cost2_mean": -95.1655161971219, "cost2_max": -11.107151678682365, "cost2_min": -110.69269604836887, "cost1_max": 367.5769928223264, "outflow_rate_min": 478.4708842399062, "cost1_min": 23.264635151642814, "system_level_velocity_max": 17.99338053789942, "system_level_velocity_mean": 11.748950905295098, "cost1_mean": 303.14833537079477, "system_level_velocity_min": 9.367330535486259}, "time_this_iter_s": 36.26700043678284, "num_metric_batches_dropped": 0, "iterations_since_restore": 42, "node_ip": "10.138.0.2", "pid": 39091, "timesteps_total": 5184070, "info": {"sample_time_ms": 14602.55, "num_steps_trained": 5184070, "load_time_ms": 9.345, "update_time_ms": 11.265, "grad_time_ms": 22832.673, "num_steps_sampled": 5184070, "default": {"entropy": 1.119191288948059, "vf_explained_var": 0.7926756143569946, "kl": 0.007915410213172436, "policy_loss": -0.0008078989339992404, "cur_lr": 0.0005000000237487257, "vf_loss": 23.907657623291016, "cur_kl_coeff": 0.025000005960464478, "total_loss": 23.90704917907715}}, "episode_len_mean": 686.74, "episode_reward_mean": 775.3829819643506, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa9ef0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa9fd0>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa9dd8>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "vf_loss_coeff": 1.0, "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "batch_mode": "truncate_episodes", "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 936.3870477075369, "time_total_s": 1630.9586699008942, "policy_reward_mean": {}, "training_iteration": 42, "episodes_total": 2040, "timesteps_since_restore": 5184070, "timesteps_this_iter": 121510, "episode_reward_min": 51.71135111209929, "experiment_id": "404152d296a747dbad1596107153698c", "timestamp": 1556353597, "episodes_this_iter": 48, "done": false, "date": "2019-04-27_08-26-37"}
{"time_since_restore": 1666.4482688903809, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1208.3508335070342, "outflow_rate_mean": 1047.7719114223771, "cost2_mean": -95.8044649447391, "cost2_max": -11.107151678682365, "cost2_min": -110.74071290653413, "cost1_max": 376.1090927197801, "outflow_rate_min": 478.4708842399062, "cost1_min": 23.264635151642814, "system_level_velocity_max": 17.99338053789942, "system_level_velocity_mean": 11.800419279925084, "cost1_mean": 304.4948584059846, "system_level_velocity_min": 9.367330535486259}, "time_this_iter_s": 35.489598989486694, "num_metric_batches_dropped": 0, "iterations_since_restore": 43, "node_ip": "10.138.0.2", "pid": 39091, "timesteps_total": 5304758, "info": {"sample_time_ms": 14626.792, "num_steps_trained": 5304758, "load_time_ms": 9.621, "update_time_ms": 11.575, "grad_time_ms": 22534.9, "num_steps_sampled": 5304758, "default": {"entropy": 1.1169596910476685, "vf_explained_var": 0.8085946440696716, "kl": 0.009229352697730064, "policy_loss": -0.0010517123155295849, "cur_lr": 0.0005000000237487257, "vf_loss": 24.435026168823242, "cur_kl_coeff": 0.025000005960464478, "total_loss": 24.434206008911133}}, "episode_len_mean": 686.74, "episode_reward_mean": 781.2477733259209, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa9e10>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa9b70>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa9ba8>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "vf_loss_coeff": 1.0, "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "batch_mode": "truncate_episodes", "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 936.461065517839, "time_total_s": 1666.4482688903809, "policy_reward_mean": {}, "training_iteration": 43, "episodes_total": 2088, "timesteps_since_restore": 5304758, "timesteps_this_iter": 120688, "episode_reward_min": 51.71135111209929, "experiment_id": "404152d296a747dbad1596107153698c", "timestamp": 1556353632, "episodes_this_iter": 48, "done": false, "date": "2019-04-27_08-27-12"}
{"time_since_restore": 1707.014066696167, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1225.7084416921073, "outflow_rate_mean": 1084.215605918474, "cost2_mean": -97.85529023959407, "cost2_max": -84.01679706198101, "cost2_min": -113.80446473707659, "cost1_max": 387.2164693018995, "outflow_rate_min": 951.2682210151648, "cost1_min": 262.6768061478333, "system_level_velocity_max": 14.720759563264222, "system_level_velocity_mean": 12.106249389103631, "cost1_mean": 321.6256778239764, "system_level_velocity_min": 9.8462511895163}, "time_this_iter_s": 40.56579780578613, "num_metric_batches_dropped": 0, "iterations_since_restore": 44, "node_ip": "10.138.0.2", "pid": 39091, "timesteps_total": 5426653, "info": {"sample_time_ms": 14617.292, "num_steps_trained": 5426653, "load_time_ms": 9.24, "update_time_ms": 11.416, "grad_time_ms": 22739.251, "num_steps_sampled": 5426653, "default": {"entropy": 1.1138180494308472, "vf_explained_var": 0.8134892582893372, "kl": 0.008292400278151035, "policy_loss": -0.0005505832377821207, "cur_lr": 0.0005000000237487257, "vf_loss": 24.905698776245117, "cur_kl_coeff": 0.02500000409781933, "total_loss": 24.90535545349121}}, "episode_len_mean": 700.0, "episode_reward_mean": 815.5632732849394, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa9a20>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa9748>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa9390>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "vf_loss_coeff": 1.0, "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "batch_mode": "truncate_episodes", "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 961.9492455017503, "time_total_s": 1707.014066696167, "policy_reward_mean": {}, "training_iteration": 44, "episodes_total": 2140, "timesteps_since_restore": 5426653, "timesteps_this_iter": 121895, "episode_reward_min": 704.3013073376972, "experiment_id": "404152d296a747dbad1596107153698c", "timestamp": 1556353673, "episodes_this_iter": 52, "done": false, "date": "2019-04-27_08-27-53"}
{"time_since_restore": 1743.6697180271149, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1225.7084416921073, "outflow_rate_mean": 1095.8241554855852, "cost2_mean": -96.39907179429937, "cost2_max": -84.01679706198101, "cost2_min": -113.80446473707659, "cost1_max": 387.2164693018995, "outflow_rate_min": 934.726787919217, "cost1_min": 257.0771568974401, "system_level_velocity_max": 14.720759563264222, "system_level_velocity_mean": 12.301838358820826, "cost1_mean": 326.5747401483935, "system_level_velocity_min": 9.666654928362938}, "time_this_iter_s": 36.655651330947876, "num_metric_batches_dropped": 0, "iterations_since_restore": 45, "node_ip": "10.138.0.2", "pid": 39091, "timesteps_total": 5546953, "info": {"sample_time_ms": 14615.491, "num_steps_trained": 5546953, "load_time_ms": 9.625, "update_time_ms": 11.349, "grad_time_ms": 22639.68, "num_steps_sampled": 5546953, "default": {"entropy": 1.0964539051055908, "vf_explained_var": 0.823415219783783, "kl": 0.009605742059648037, "policy_loss": -0.0010644254507496953, "cur_lr": 0.0005000000237487257, "vf_loss": 23.4984130859375, "cur_kl_coeff": 0.02500000409781933, "total_loss": 23.497589111328125}}, "episode_len_mean": 700.0, "episode_reward_mean": 820.5221377989052, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9d630>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9d940>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9d3c8>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "vf_loss_coeff": 1.0, "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "batch_mode": "truncate_episodes", "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 961.9492455017503, "time_total_s": 1743.6697180271149, "policy_reward_mean": {}, "training_iteration": 45, "episodes_total": 2189, "timesteps_since_restore": 5546953, "timesteps_this_iter": 120300, "episode_reward_min": 688.2522725082364, "experiment_id": "404152d296a747dbad1596107153698c", "timestamp": 1556353710, "episodes_this_iter": 49, "done": false, "date": "2019-04-27_08-28-30"}
{"time_since_restore": 1781.2102584838867, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1206.0149333673382, "outflow_rate_mean": 1080.7021704107588, "cost2_mean": -95.49772864642752, "cost2_max": -83.77283813603181, "cost2_min": -109.50256287483936, "cost1_max": 377.60863222574983, "outflow_rate_min": 934.726787919217, "cost1_min": 257.0771568974401, "system_level_velocity_max": 14.22432093225701, "system_level_velocity_mean": 12.05584015324412, "cost1_mean": 319.9821085364029, "system_level_velocity_min": 9.666654928362938}, "time_this_iter_s": 37.54054045677185, "num_metric_batches_dropped": 0, "iterations_since_restore": 46, "node_ip": "10.138.0.2", "pid": 39091, "timesteps_total": 5667036, "info": {"sample_time_ms": 14662.245, "num_steps_trained": 5667036, "load_time_ms": 9.813, "update_time_ms": 11.705, "grad_time_ms": 22592.426, "num_steps_sampled": 5667036, "default": {"entropy": 1.0950736999511719, "vf_explained_var": 0.7858412861824036, "kl": 0.00821052584797144, "policy_loss": -0.00026048196014016867, "cur_lr": 0.0005000000237487257, "vf_loss": 28.384193420410156, "cur_kl_coeff": 0.02500000409781933, "total_loss": 28.384136199951172}}, "episode_len_mean": 700.0, "episode_reward_mean": 809.3375292572724, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa9a20>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa91d0>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa9f28>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "vf_loss_coeff": 1.0, "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "batch_mode": "truncate_episodes", "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 955.3765130229655, "time_total_s": 1781.2102584838867, "policy_reward_mean": {}, "training_iteration": 46, "episodes_total": 2245, "timesteps_since_restore": 5667036, "timesteps_this_iter": 120083, "episode_reward_min": 688.2522725082364, "experiment_id": "404152d296a747dbad1596107153698c", "timestamp": 1556353747, "episodes_this_iter": 56, "done": false, "date": "2019-04-27_08-29-07"}
{"time_since_restore": 1817.7757935523987, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1232.244960654384, "outflow_rate_mean": 1083.646783685619, "cost2_mean": -95.8835275771262, "cost2_max": -81.1745398199167, "cost2_min": -108.90549838155239, "cost1_max": 389.793321264042, "outflow_rate_min": 931.3971250895476, "cost1_min": 260.65145680143326, "system_level_velocity_max": 14.77391650342671, "system_level_velocity_mean": 12.0931093933286, "cost1_mean": 321.1508027805886, "system_level_velocity_min": 9.789432555472619}, "time_this_iter_s": 36.56553506851196, "num_metric_batches_dropped": 0, "iterations_since_restore": 47, "node_ip": "10.138.0.2", "pid": 39091, "timesteps_total": 5788210, "info": {"sample_time_ms": 14577.223, "num_steps_trained": 5788210, "load_time_ms": 10.158, "update_time_ms": 11.866, "grad_time_ms": 22487.773, "num_steps_sampled": 5788210, "default": {"entropy": 1.0677226781845093, "vf_explained_var": 0.8188289403915405, "kl": 0.008474061265587807, "policy_loss": -0.0006470521329902112, "cur_lr": 0.0005000000237487257, "vf_loss": 22.975496292114258, "cur_kl_coeff": 0.025000005960464478, "total_loss": 22.975061416625977}}, "episode_len_mean": 700.0, "episode_reward_mean": 811.8522305649062, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9dc88>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9d6d8>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9dd68>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "vf_loss_coeff": 1.0, "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "batch_mode": "truncate_episodes", "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 978.1258016178326, "time_total_s": 1817.7757935523987, "policy_reward_mean": {}, "training_iteration": 47, "episodes_total": 2288, "timesteps_since_restore": 5788210, "timesteps_this_iter": 121174, "episode_reward_min": 699.3394127805731, "experiment_id": "404152d296a747dbad1596107153698c", "timestamp": 1556353784, "episodes_this_iter": 43, "done": false, "date": "2019-04-27_08-29-44"}
{"time_since_restore": 1855.1431140899658, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1232.244960654384, "outflow_rate_mean": 1089.3582147803925, "cost2_mean": -95.13312087085414, "cost2_max": -81.1745398199167, "cost2_min": -114.54836216751914, "cost1_max": 389.793321264042, "outflow_rate_min": 931.3971250895476, "cost1_min": 264.60914711244374, "system_level_velocity_max": 14.77391650342671, "system_level_velocity_mean": 12.18914842389074, "cost1_mean": 323.35611611843115, "system_level_velocity_min": 9.80757471406714}, "time_this_iter_s": 37.36732053756714, "num_metric_batches_dropped": 0, "iterations_since_restore": 48, "node_ip": "10.138.0.2", "pid": 39091, "timesteps_total": 5908989, "info": {"sample_time_ms": 14588.354, "num_steps_trained": 5908989, "load_time_ms": 10.605, "update_time_ms": 11.897, "grad_time_ms": 22477.783, "num_steps_sampled": 5908989, "default": {"entropy": 1.062289834022522, "vf_explained_var": 0.8044193983078003, "kl": 0.009166672825813293, "policy_loss": -0.0007151234894990921, "cur_lr": 0.0005000000237487257, "vf_loss": 26.01671600341797, "cur_kl_coeff": 0.02500000409781933, "total_loss": 26.0162296295166}}, "episode_len_mean": 700.0, "episode_reward_mean": 808.8632533612481, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa93c8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa9a20>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa9ef0>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "vf_loss_coeff": 1.0, "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "batch_mode": "truncate_episodes", "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 978.1258016178326, "time_total_s": 1855.1431140899658, "policy_reward_mean": {}, "training_iteration": 48, "episodes_total": 2340, "timesteps_since_restore": 5908989, "timesteps_this_iter": 120779, "episode_reward_min": 712.2972845165289, "experiment_id": "404152d296a747dbad1596107153698c", "timestamp": 1556353821, "episodes_this_iter": 52, "done": false, "date": "2019-04-27_08-30-21"}
{"time_since_restore": 1893.4194009304047, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1235.618161392099, "outflow_rate_mean": 1094.7039308458739, "cost2_mean": -96.85401497964408, "cost2_max": -84.59312977689663, "cost2_min": -114.54836216751914, "cost1_max": 389.4233326448657, "outflow_rate_min": 922.465641285498, "cost1_min": 243.89736209450604, "system_level_velocity_max": 14.70177975329086, "system_level_velocity_mean": 12.265781419887697, "cost1_mean": 325.3758786230854, "system_level_velocity_min": 9.311946805443228}, "time_this_iter_s": 38.27628684043884, "num_metric_batches_dropped": 0, "iterations_since_restore": 49, "node_ip": "10.138.0.2", "pid": 39091, "timesteps_total": 6030561, "info": {"sample_time_ms": 14603.088, "num_steps_trained": 6030561, "load_time_ms": 10.669, "update_time_ms": 11.995, "grad_time_ms": 22545.917, "num_steps_sampled": 6030561, "default": {"entropy": 1.0575507879257202, "vf_explained_var": 0.811740517616272, "kl": 0.008580856956541538, "policy_loss": -0.00026475731283426285, "cur_lr": 0.0005000000237487257, "vf_loss": 25.741376876831055, "cur_kl_coeff": 0.025000005960464478, "total_loss": 25.7413272857666}}, "episode_len_mean": 700.0, "episode_reward_mean": 814.3915896820139, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9d828>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9d8d0>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f3159e8>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "vf_loss_coeff": 1.0, "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "batch_mode": "truncate_episodes", "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 976.8936240565612, "time_total_s": 1893.4194009304047, "policy_reward_mean": {}, "training_iteration": 49, "episodes_total": 2389, "timesteps_since_restore": 6030561, "timesteps_this_iter": 121572, "episode_reward_min": 700.5257222776623, "experiment_id": "404152d296a747dbad1596107153698c", "timestamp": 1556353860, "episodes_this_iter": 49, "done": false, "date": "2019-04-27_08-31-00"}
{"time_since_restore": 1932.3438141345978, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1238.0243621660247, "outflow_rate_mean": 1102.3665674061508, "cost2_mean": -98.86447803524283, "cost2_max": -87.79075453643489, "cost2_min": -113.96940860540914, "cost1_max": 395.01555490568694, "outflow_rate_min": 922.465641285498, "cost1_min": 243.89736209450604, "system_level_velocity_max": 14.985869426320166, "system_level_velocity_mean": 12.378742501158413, "cost1_mean": 328.4393173520888, "system_level_velocity_min": 9.311946805443228}, "time_this_iter_s": 38.924413204193115, "num_metric_batches_dropped": 0, "iterations_since_restore": 50, "node_ip": "10.138.0.2", "pid": 39091, "timesteps_total": 6152025, "info": {"sample_time_ms": 14517.741, "num_steps_trained": 6152025, "load_time_ms": 10.962, "update_time_ms": 11.94, "grad_time_ms": 22750.192, "num_steps_sampled": 6152025, "default": {"entropy": 1.0505291223526, "vf_explained_var": 0.8323959112167358, "kl": 0.008737143129110336, "policy_loss": -0.0003478904254734516, "cur_lr": 0.0005000000237487257, "vf_loss": 22.89761734008789, "cur_kl_coeff": 0.02500000409781933, "total_loss": 22.89748764038086}}, "episode_len_mean": 700.0, "episode_reward_mean": 815.848680644231, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa95c0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa9e80>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa9390>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "vf_loss_coeff": 1.0, "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "batch_mode": "truncate_episodes", "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 969.4582764366196, "time_total_s": 1932.3438141345978, "policy_reward_mean": {}, "training_iteration": 50, "episodes_total": 2439, "timesteps_since_restore": 6152025, "timesteps_this_iter": 121464, "episode_reward_min": 697.6138014234709, "experiment_id": "404152d296a747dbad1596107153698c", "timestamp": 1556353898, "episodes_this_iter": 50, "done": true, "date": "2019-04-27_08-31-38"}
