{"time_since_restore": 39.95728588104248, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 708.7361547079889, "outflow_rate_mean": 613.5695135692199, "cost2_mean": -45.847543147534125, "cost2_min": -57.581425937331296, "cost1_max": 238.15440981901605, "system_level_velocity_max": 9.400157828590288, "outflow_rate_min": 557.2126251322755, "cost1_min": 170.94546247711105, "cost2_max": -33.107626128541234, "system_level_velocity_mean": 8.168600492050164, "cost1_mean": 207.05248307008634, "system_level_velocity_min": 6.65113607341981}, "time_this_iter_s": 39.95728588104248, "num_metric_batches_dropped": 0, "iterations_since_restore": 1, "node_ip": "10.138.0.2", "pid": 50748, "timesteps_total": 121054, "info": {"update_time_ms": 589.995, "sample_time_ms": 13915.592, "num_steps_trained": 121054, "num_steps_sampled": 121054, "load_time_ms": 48.79, "grad_time_ms": 25163.513, "default": {"entropy": 1.4144618511199951, "kl": 0.004225779324769974, "vf_explained_var": 0.7868831157684326, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0026835380122065544, "vf_loss": 1.0289955139160156, "cur_kl_coeff": 0.20000003278255463, "total_loss": 1.0271570682525635}}, "episode_reward_max": 283.0475596123782, "episode_len_mean": 700.0, "episode_reward_mean": 193.01975238803837, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "output": null, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da6bef0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da6bcf8>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da6be10>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "batch_mode": "truncate_episodes", "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "kl_target": 0.01, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "policy_reward_mean": {}, "time_total_s": 39.95728588104248, "training_iteration": 1, "episodes_total": 13, "timesteps_since_restore": 121054, "timesteps_this_iter": 121054, "episode_reward_min": 140.03760883006208, "experiment_id": "c719e39a953041248cf9c0fc9a39d68e", "timestamp": 1556380100, "episodes_this_iter": 13, "done": false, "date": "2019-04-27_15-48-20"}
{"time_since_restore": 75.70422458648682, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 841.5606991545584, "outflow_rate_mean": 616.7837803189727, "cost2_mean": -50.79116916864944, "cost2_min": -82.79703453063132, "cost1_max": 263.53699015217273, "system_level_velocity_max": 9.950635759824653, "outflow_rate_min": 486.7472571105168, "cost1_min": 142.95760440983366, "cost2_max": -25.36793292149625, "system_level_velocity_mean": 7.883603386693026, "cost1_mean": 203.52653627979063, "system_level_velocity_min": 5.372728159326938}, "time_this_iter_s": 35.746938705444336, "num_metric_batches_dropped": 0, "iterations_since_restore": 2, "node_ip": "10.138.0.2", "pid": 50748, "timesteps_total": 233990, "info": {"update_time_ms": 300.494, "sample_time_ms": 14349.797, "num_steps_trained": 233990, "num_steps_sampled": 233990, "load_time_ms": 27.946, "grad_time_ms": 22962.689, "default": {"entropy": 1.4134994745254517, "kl": 0.01290555763989687, "vf_explained_var": 0.848607063293457, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008046774193644524, "vf_loss": 1.419355034828186, "cur_kl_coeff": 0.10000001639127731, "total_loss": 1.412598729133606}}, "episode_reward_max": 304.5701965602899, "episode_len_mean": 700.0, "episode_reward_mean": 230.90593475534664, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "output": null, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21c128>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21c0f0>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21c898>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "batch_mode": "truncate_episodes", "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "kl_target": 0.01, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "policy_reward_mean": {}, "time_total_s": 75.70422458648682, "training_iteration": 2, "episodes_total": 85, "timesteps_since_restore": 233990, "timesteps_this_iter": 112936, "episode_reward_min": 140.03760883006208, "experiment_id": "c719e39a953041248cf9c0fc9a39d68e", "timestamp": 1556380136, "episodes_this_iter": 72, "done": false, "date": "2019-04-27_15-48-56"}
{"time_since_restore": 109.64302206039429, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 841.5606991545584, "outflow_rate_mean": 629.0766159572339, "cost2_mean": -45.678718659639934, "cost2_min": -82.79703453063132, "cost1_max": 304.046860385732, "system_level_velocity_max": 11.698020637187645, "outflow_rate_min": 424.97728742391337, "cost1_min": 142.95760440983366, "cost2_max": -28.247161105036177, "system_level_velocity_mean": 8.303004813901019, "cost1_mean": 214.8614008181476, "system_level_velocity_min": 5.372728159326938}, "time_this_iter_s": 33.93879747390747, "num_metric_batches_dropped": 0, "iterations_since_restore": 3, "node_ip": "10.138.0.2", "pid": 50748, "timesteps_total": 342268, "info": {"update_time_ms": 204.109, "sample_time_ms": 14159.152, "num_steps_trained": 342268, "num_steps_sampled": 342268, "load_time_ms": 21.333, "grad_time_ms": 21956.609, "default": {"entropy": 1.3798030614852905, "kl": 0.013713196851313114, "vf_explained_var": 0.8117174506187439, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007906483486294746, "vf_loss": 4.181712627410889, "cur_kl_coeff": 0.10000001639127731, "total_loss": 4.175177574157715}}, "episode_reward_max": 497.9299669645004, "episode_len_mean": 700.0, "episode_reward_mean": 289.3117243454455, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "output": null, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21cac8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21cf60>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21ca20>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "batch_mode": "truncate_episodes", "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "kl_target": 0.01, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "policy_reward_mean": {}, "time_total_s": 109.64302206039429, "training_iteration": 3, "episodes_total": 144, "timesteps_since_restore": 342268, "timesteps_this_iter": 108278, "episode_reward_min": 153.76252705921672, "experiment_id": "c719e39a953041248cf9c0fc9a39d68e", "timestamp": 1556380170, "episodes_this_iter": 59, "done": false, "date": "2019-04-27_15-49-30"}
{"time_since_restore": 145.31508803367615, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 827.8565025476137, "outflow_rate_mean": 702.8456561901145, "cost2_mean": -41.40055764298454, "cost2_min": -55.98970061962248, "cost1_max": 300.34720000751184, "system_level_velocity_max": 11.455703730097216, "outflow_rate_min": 424.97728742391337, "cost1_min": 173.62686160456053, "cost2_max": -29.2364181899652, "system_level_velocity_mean": 9.575901152714767, "cost1_mean": 249.1768829870086, "system_level_velocity_min": 6.716521324172581}, "time_this_iter_s": 35.67206597328186, "num_metric_batches_dropped": 0, "iterations_since_restore": 4, "node_ip": "10.138.0.2", "pid": 50748, "timesteps_total": 452441, "info": {"update_time_ms": 155.719, "sample_time_ms": 14390.494, "num_steps_trained": 452441, "num_steps_sampled": 452441, "load_time_ms": 18.013, "grad_time_ms": 21559.168, "default": {"entropy": 1.3663818836212158, "kl": 0.008307412266731262, "vf_explained_var": 0.7256959676742554, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0037463812623173, "vf_loss": 7.136668682098389, "cur_kl_coeff": 0.10000001639127731, "total_loss": 7.133752822875977}}, "episode_reward_max": 608.4306730187542, "episode_len_mean": 700.0, "episode_reward_mean": 442.8200543696854, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "output": null, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21c470>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21c128>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21c908>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "batch_mode": "truncate_episodes", "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "kl_target": 0.01, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "policy_reward_mean": {}, "time_total_s": 145.31508803367615, "training_iteration": 4, "episodes_total": 210, "timesteps_since_restore": 452441, "timesteps_this_iter": 110173, "episode_reward_min": 201.512893067787, "experiment_id": "c719e39a953041248cf9c0fc9a39d68e", "timestamp": 1556380205, "episodes_this_iter": 66, "done": false, "date": "2019-04-27_15-50-05"}
{"time_since_restore": 181.07762742042542, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 829.4539350429393, "outflow_rate_mean": 763.0430668177725, "cost2_mean": -39.61983907145243, "cost2_min": -47.499907499249815, "cost1_max": 303.1970733181077, "system_level_velocity_max": 16.736988471093976, "outflow_rate_min": 479.9591201957086, "cost1_min": 16.926797097534024, "cost2_max": -14.722214250680716, "system_level_velocity_mean": 10.392361095221009, "cost1_mean": 268.63146790128604, "system_level_velocity_min": 7.36001596213815}, "time_this_iter_s": 35.76253938674927, "num_metric_batches_dropped": 0, "iterations_since_restore": 5, "node_ip": "10.138.0.2", "pid": 50748, "timesteps_total": 561685, "info": {"update_time_ms": 126.688, "sample_time_ms": 14479.673, "num_steps_trained": 561685, "num_steps_sampled": 561685, "load_time_ms": 15.971, "grad_time_ms": 21390.088, "default": {"entropy": 1.3507918119430542, "kl": 0.007495802827179432, "vf_explained_var": 0.6905915141105652, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0025087310932576656, "vf_loss": 8.15138053894043, "cur_kl_coeff": 0.10000002384185791, "total_loss": 8.149621963500977}}, "episode_reward_max": 647.3495351392891, "episode_len_mean": 693.27, "episode_reward_mean": 553.5694468988736, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "output": null, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21c0b8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21cac8>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21cdd8>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "batch_mode": "truncate_episodes", "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "kl_target": 0.01, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "policy_reward_mean": {}, "time_total_s": 181.07762742042542, "training_iteration": 5, "episodes_total": 271, "timesteps_since_restore": 561685, "timesteps_this_iter": 109244, "episode_reward_min": 8.530511399237598, "experiment_id": "c719e39a953041248cf9c0fc9a39d68e", "timestamp": 1556380241, "episodes_this_iter": 61, "done": false, "date": "2019-04-27_15-50-41"}
{"time_since_restore": 215.9254126548767, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 830.4158102365265, "outflow_rate_mean": 794.9782266864672, "cost2_mean": -38.02870486384367, "cost2_min": -46.34247827368201, "cost1_max": 303.1970733181077, "system_level_velocity_max": 11.501711740738815, "outflow_rate_min": 668.7595323249203, "cost1_min": 225.93655305395504, "cost2_max": -32.16063535955942, "system_level_velocity_mean": 10.499755159408583, "cost1_mean": 277.20724918043516, "system_level_velocity_min": 8.522186240777405}, "time_this_iter_s": 34.847785234451294, "num_metric_batches_dropped": 0, "iterations_since_restore": 6, "node_ip": "10.138.0.2", "pid": 50748, "timesteps_total": 673147, "info": {"update_time_ms": 107.436, "sample_time_ms": 14450.975, "num_steps_trained": 673147, "num_steps_sampled": 673147, "load_time_ms": 14.694, "grad_time_ms": 21211.142, "default": {"entropy": 1.3511028289794922, "kl": 0.007375052198767662, "vf_explained_var": 0.6802154779434204, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0019219748210161924, "vf_loss": 8.603723526000977, "cur_kl_coeff": 0.10000001639127731, "total_loss": 8.6025390625}}, "episode_reward_max": 658.6726068542672, "episode_len_mean": 700.0, "episode_reward_mean": 618.9293640996566, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "output": null, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21c5f8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21c470>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21cc18>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "batch_mode": "truncate_episodes", "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "kl_target": 0.01, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "policy_reward_mean": {}, "time_total_s": 215.9254126548767, "training_iteration": 6, "episodes_total": 331, "timesteps_since_restore": 673147, "timesteps_this_iter": 111462, "episode_reward_min": 541.2689088117219, "experiment_id": "c719e39a953041248cf9c0fc9a39d68e", "timestamp": 1556380276, "episodes_this_iter": 60, "done": false, "date": "2019-04-27_15-51-16"}
{"time_since_restore": 251.55082869529724, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 830.4158102365265, "outflow_rate_mean": 805.2052040923589, "cost2_mean": -35.60260228146896, "cost2_min": -43.10005762329776, "cost1_max": 302.51114192580536, "system_level_velocity_max": 11.501711740738815, "outflow_rate_min": 726.1196168729074, "cost1_min": 223.0044721264678, "cost2_max": -30.325007306706485, "system_level_velocity_mean": 10.516611788965006, "cost1_mean": 278.6428403577465, "system_level_velocity_min": 8.236920879135782}, "time_this_iter_s": 35.62541604042053, "num_metric_batches_dropped": 0, "iterations_since_restore": 7, "node_ip": "10.138.0.2", "pid": 50748, "timesteps_total": 782042, "info": {"update_time_ms": 93.644, "sample_time_ms": 14445.999, "num_steps_trained": 782042, "num_steps_sampled": 782042, "load_time_ms": 14.024, "grad_time_ms": 21178.669, "default": {"entropy": 1.3384630680084229, "kl": 0.007291879039257765, "vf_explained_var": 0.6864489912986755, "cur_lr": 0.0005000000237487257, "policy_loss": -0.001887027989141643, "vf_loss": 9.082300186157227, "cur_kl_coeff": 0.10000001639127731, "total_loss": 9.08114242553711}}, "episode_reward_max": 673.941202289177, "episode_len_mean": 700.0, "episode_reward_mean": 647.2387744288776, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "output": null, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82cf8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82630>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82cc0>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "batch_mode": "truncate_episodes", "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "kl_target": 0.01, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "policy_reward_mean": {}, "time_total_s": 251.55082869529724, "training_iteration": 7, "episodes_total": 391, "timesteps_since_restore": 782042, "timesteps_this_iter": 108895, "episode_reward_min": 608.3792179466773, "experiment_id": "c719e39a953041248cf9c0fc9a39d68e", "timestamp": 1556380312, "episodes_this_iter": 60, "done": false, "date": "2019-04-27_15-51-52"}
{"time_since_restore": 287.13906621932983, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 833.8903014091795, "outflow_rate_mean": 800.6320372001134, "cost2_mean": -32.841211081217494, "cost2_min": -38.54816835660249, "cost1_max": 302.51114192580536, "system_level_velocity_max": 11.533603915496847, "outflow_rate_min": 731.3579311177903, "cost1_min": 223.0044721264678, "cost2_max": -27.432446941169673, "system_level_velocity_mean": 10.42569280096443, "cost1_mean": 276.46522589880124, "system_level_velocity_min": 8.236920879135782}, "time_this_iter_s": 35.58823752403259, "num_metric_batches_dropped": 0, "iterations_since_restore": 8, "node_ip": "10.138.0.2", "pid": 50748, "timesteps_total": 893252, "info": {"update_time_ms": 83.269, "sample_time_ms": 14402.97, "num_steps_trained": 893252, "num_steps_sampled": 893252, "load_time_ms": 13.334, "grad_time_ms": 21189.65, "default": {"entropy": 1.3304966688156128, "kl": 0.006079391576349735, "vf_explained_var": 0.641791820526123, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0007455676095560193, "vf_loss": 9.963711738586426, "cur_kl_coeff": 0.10000000894069672, "total_loss": 9.963574409484863}}, "episode_reward_max": 687.4289294451471, "episode_len_mean": 700.0, "episode_reward_mean": 661.4436009531289, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "output": null, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21ce48>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21c5f8>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21c0f0>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "batch_mode": "truncate_episodes", "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "kl_target": 0.01, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "policy_reward_mean": {}, "time_total_s": 287.13906621932983, "training_iteration": 8, "episodes_total": 451, "timesteps_since_restore": 893252, "timesteps_this_iter": 111210, "episode_reward_min": 612.7778142084074, "experiment_id": "c719e39a953041248cf9c0fc9a39d68e", "timestamp": 1556380347, "episodes_this_iter": 60, "done": false, "date": "2019-04-27_15-52-27"}
{"time_since_restore": 324.5969588756561, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 833.8903014091795, "outflow_rate_mean": 791.6866510866525, "cost2_mean": -30.51013922982051, "cost2_min": -37.93304885739582, "cost1_max": 300.9031775815611, "system_level_velocity_max": 11.533603915496847, "outflow_rate_min": 726.3556553189289, "cost1_min": 231.93279741346828, "cost2_max": -26.639064687631723, "system_level_velocity_mean": 10.13438527458819, "cost1_mean": 270.018090641114, "system_level_velocity_min": 8.59270711066787}, "time_this_iter_s": 37.457892656326294, "num_metric_batches_dropped": 0, "iterations_since_restore": 9, "node_ip": "10.138.0.2", "pid": 50748, "timesteps_total": 1004705, "info": {"update_time_ms": 75.138, "sample_time_ms": 14339.779, "num_steps_trained": 1004705, "num_steps_sampled": 1004705, "load_time_ms": 12.889, "grad_time_ms": 21434.669, "default": {"entropy": 1.337506890296936, "kl": 0.005694032181054354, "vf_explained_var": 0.6351597309112549, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0006969562382437289, "vf_loss": 9.589639663696289, "cur_kl_coeff": 0.10000001639127731, "total_loss": 9.589512825012207}}, "episode_reward_max": 690.740966737211, "episode_len_mean": 700.0, "episode_reward_mean": 671.3746039636102, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "output": null, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da97470>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21cda0>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21cac8>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "batch_mode": "truncate_episodes", "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "kl_target": 0.01, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "policy_reward_mean": {}, "time_total_s": 324.5969588756561, "training_iteration": 9, "episodes_total": 503, "timesteps_since_restore": 1004705, "timesteps_this_iter": 111453, "episode_reward_min": 631.5236194086194, "experiment_id": "c719e39a953041248cf9c0fc9a39d68e", "timestamp": 1556380385, "episodes_this_iter": 52, "done": false, "date": "2019-04-27_15-53-05"}
{"time_since_restore": 360.42040610313416, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 817.4377308869495, "outflow_rate_mean": 784.7425891127218, "cost2_mean": -28.56701100679267, "cost2_min": -34.911548753853296, "cost1_max": 292.30444289157424, "system_level_velocity_max": 11.16151584861325, "outflow_rate_min": 718.863709964841, "cost1_min": 231.93279741346828, "cost2_max": -24.86219939983014, "system_level_velocity_mean": 9.842477544393102, "cost1_mean": 263.6107846134157, "system_level_velocity_min": 8.59270711066787}, "time_this_iter_s": 35.82344722747803, "num_metric_batches_dropped": 0, "iterations_since_restore": 10, "node_ip": "10.138.0.2", "pid": 50748, "timesteps_total": 1116556, "info": {"update_time_ms": 68.712, "sample_time_ms": 14331.283, "num_steps_trained": 1116556, "num_steps_sampled": 1116556, "load_time_ms": 12.519, "grad_time_ms": 21424.875, "default": {"entropy": 1.336042881011963, "kl": 0.0063183847814798355, "vf_explained_var": 0.5842439532279968, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0009281127131544054, "vf_loss": 11.227816581726074, "cur_kl_coeff": 0.10000000894069672, "total_loss": 11.227519989013672}}, "episode_reward_max": 700.4769352091168, "episode_len_mean": 700.0, "episode_reward_mean": 681.8771932256174, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "output": null, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21ce48>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21c128>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21c470>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "batch_mode": "truncate_episodes", "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "kl_target": 0.01, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "policy_reward_mean": {}, "time_total_s": 360.42040610313416, "training_iteration": 10, "episodes_total": 562, "timesteps_since_restore": 1116556, "timesteps_this_iter": 111851, "episode_reward_min": 616.0851793002314, "experiment_id": "c719e39a953041248cf9c0fc9a39d68e", "timestamp": 1556380421, "episodes_this_iter": 59, "done": false, "date": "2019-04-27_15-53-41"}
{"time_since_restore": 394.60035729408264, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 810.344414158121, "outflow_rate_mean": 782.696838936231, "cost2_mean": -27.127769726940993, "cost2_min": -31.5422500833323, "cost1_max": 292.4370749089249, "system_level_velocity_max": 11.04551512425306, "outflow_rate_min": 694.2887889670283, "cost1_min": 224.87496324061914, "cost2_max": -22.469827266142094, "system_level_velocity_mean": 9.843007069617865, "cost1_mean": 263.64607953361764, "system_level_velocity_min": 8.388950137281425}, "time_this_iter_s": 34.179951190948486, "num_metric_batches_dropped": 0, "iterations_since_restore": 11, "node_ip": "10.138.0.2", "pid": 50748, "timesteps_total": 1227582, "info": {"update_time_ms": 10.892, "sample_time_ms": 14362.599, "num_steps_trained": 1227582, "num_steps_sampled": 1227582, "load_time_ms": 8.463, "grad_time_ms": 20881.492, "default": {"entropy": 1.335983395576477, "kl": 0.006978967692703009, "vf_explained_var": 0.5759296417236328, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0009657151531428099, "vf_loss": 12.119929313659668, "cur_kl_coeff": 0.10000001639127731, "total_loss": 12.119661331176758}}, "episode_reward_max": 706.2856462886194, "episode_len_mean": 700.0, "episode_reward_mean": 688.8152915456371, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "output": null, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21cac8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21c7b8>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21cb70>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "batch_mode": "truncate_episodes", "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "kl_target": 0.01, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "policy_reward_mean": {}, "time_total_s": 394.60035729408264, "training_iteration": 11, "episodes_total": 620, "timesteps_since_restore": 1227582, "timesteps_this_iter": 111026, "episode_reward_min": 616.0851793002314, "experiment_id": "c719e39a953041248cf9c0fc9a39d68e", "timestamp": 1556380455, "episodes_this_iter": 58, "done": false, "date": "2019-04-27_15-54-15"}
{"time_since_restore": 429.68072032928467, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 810.344414158121, "outflow_rate_mean": 784.0167849531526, "cost2_mean": -25.6051585261831, "cost2_min": -30.290800630248565, "cost1_max": 292.4370749089249, "system_level_velocity_max": 11.04551512425306, "outflow_rate_min": 702.5313744318015, "cost1_min": 224.87496324061914, "cost2_max": -20.584387626729374, "system_level_velocity_mean": 9.991134665180232, "cost1_mean": 267.33645007625006, "system_level_velocity_min": 8.388950137281425}, "time_this_iter_s": 35.080363035202026, "num_metric_batches_dropped": 0, "iterations_since_restore": 12, "node_ip": "10.138.0.2", "pid": 50748, "timesteps_total": 1339058, "info": {"update_time_ms": 10.689, "sample_time_ms": 14255.565, "num_steps_trained": 1339058, "num_steps_sampled": 1339058, "load_time_ms": 8.496, "grad_time_ms": 20919.489, "default": {"entropy": 1.3403900861740112, "kl": 0.00784816313534975, "vf_explained_var": 0.5986451506614685, "cur_lr": 0.0005000000237487257, "policy_loss": -0.001567954197525978, "vf_loss": 11.419461250305176, "cur_kl_coeff": 0.10000001639127731, "total_loss": 11.418679237365723}}, "episode_reward_max": 718.1902328693183, "episode_len_mean": 700.0, "episode_reward_mean": 695.0656626974771, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "output": null, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21c5c0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21ccc0>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21cc88>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "batch_mode": "truncate_episodes", "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "kl_target": 0.01, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "policy_reward_mean": {}, "time_total_s": 429.68072032928467, "training_iteration": 12, "episodes_total": 674, "timesteps_since_restore": 1339058, "timesteps_this_iter": 111476, "episode_reward_min": 630.8949143418438, "experiment_id": "c719e39a953041248cf9c0fc9a39d68e", "timestamp": 1556380490, "episodes_this_iter": 54, "done": false, "date": "2019-04-27_15-54-50"}
{"time_since_restore": 465.2426860332489, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 833.4542838033957, "outflow_rate_mean": 777.4603669783863, "cost2_mean": -23.675120981955, "cost2_min": -28.140971095012176, "cost1_max": 310.54390132091135, "system_level_velocity_max": 11.862451617949228, "outflow_rate_min": 692.7836936451364, "cost1_min": 223.80754979050033, "cost2_max": -19.531723021201156, "system_level_velocity_mean": 9.896876554977117, "cost1_mean": 264.8837522257156, "system_level_velocity_min": 8.144069781348012}, "time_this_iter_s": 35.56196570396423, "num_metric_batches_dropped": 0, "iterations_since_restore": 13, "node_ip": "10.138.0.2", "pid": 50748, "timesteps_total": 1451359, "info": {"update_time_ms": 10.754, "sample_time_ms": 14286.103, "num_steps_trained": 1451359, "num_steps_sampled": 1451359, "load_time_ms": 8.461, "grad_time_ms": 21050.203, "default": {"entropy": 1.3368982076644897, "kl": 0.006412071641534567, "vf_explained_var": 0.5896825194358826, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0006867836345918477, "vf_loss": 12.480168342590332, "cur_kl_coeff": 0.10000001639127731, "total_loss": 12.480123519897461}}, "episode_reward_max": 721.9175722414034, "episode_len_mean": 700.0, "episode_reward_mean": 696.333281356936, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "output": null, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21cd68>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21c7b8>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21cf28>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "batch_mode": "truncate_episodes", "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "kl_target": 0.01, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "policy_reward_mean": {}, "time_total_s": 465.2426860332489, "training_iteration": 13, "episodes_total": 733, "timesteps_since_restore": 1451359, "timesteps_this_iter": 112301, "episode_reward_min": 633.107340041053, "experiment_id": "c719e39a953041248cf9c0fc9a39d68e", "timestamp": 1556380526, "episodes_this_iter": 59, "done": false, "date": "2019-04-27_15-55-26"}
{"time_since_restore": 500.1951220035553, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 803.5941948868239, "outflow_rate_mean": 771.5617354542078, "cost2_mean": -22.307592137929387, "cost2_min": -25.215382607510122, "cost1_max": 297.4904421978008, "system_level_velocity_max": 11.29961475032717, "outflow_rate_min": 638.4424687662066, "cost1_min": 187.48265751937487, "cost2_max": -19.52375077151644, "system_level_velocity_mean": 9.872780057969006, "cost1_mean": 263.582200500447, "system_level_velocity_min": 6.86829712372985}, "time_this_iter_s": 34.9524359703064, "num_metric_batches_dropped": 0, "iterations_since_restore": 14, "node_ip": "10.138.0.2", "pid": 50748, "timesteps_total": 1563638, "info": {"update_time_ms": 10.73, "sample_time_ms": 14161.261, "num_steps_trained": 1563638, "num_steps_sampled": 1563638, "load_time_ms": 8.469, "grad_time_ms": 21101.82, "default": {"entropy": 1.3359575271606445, "kl": 0.007132579572498798, "vf_explained_var": 0.611493706703186, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0011658164439722896, "vf_loss": 12.140443801879883, "cur_kl_coeff": 0.10000001639127731, "total_loss": 12.139989852905273}}, "episode_reward_max": 723.3620359317417, "episode_len_mean": 700.0, "episode_reward_mean": 695.2256877632269, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "output": null, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21c5f8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21ce48>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21c128>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "batch_mode": "truncate_episodes", "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "kl_target": 0.01, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "policy_reward_mean": {}, "time_total_s": 500.1951220035553, "training_iteration": 14, "episodes_total": 786, "timesteps_since_restore": 1563638, "timesteps_this_iter": 112279, "episode_reward_min": 633.107340041053, "experiment_id": "c719e39a953041248cf9c0fc9a39d68e", "timestamp": 1556380561, "episodes_this_iter": 53, "done": false, "date": "2019-04-27_15-56-01"}
{"time_since_restore": 536.1452703475952, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 861.6387226573845, "outflow_rate_mean": 771.2762451180351, "cost2_mean": -21.190424398925387, "cost2_min": -25.000311402849125, "cost1_max": 318.1253511467822, "system_level_velocity_max": 12.310965959465287, "outflow_rate_min": 638.4424687662066, "cost1_min": 187.48265751937487, "cost2_max": -17.794245353474782, "system_level_velocity_mean": 9.915945039040723, "cost1_mean": 264.04834770760846, "system_level_velocity_min": 6.86829712372985}, "time_this_iter_s": 35.95014834403992, "num_metric_batches_dropped": 0, "iterations_since_restore": 15, "node_ip": "10.138.0.2", "pid": 50748, "timesteps_total": 1676944, "info": {"update_time_ms": 10.969, "sample_time_ms": 14108.449, "num_steps_trained": 1676944, "num_steps_sampled": 1676944, "load_time_ms": 8.412, "grad_time_ms": 21173.878, "default": {"entropy": 1.32486891746521, "kl": 0.006922626867890358, "vf_explained_var": 0.692554235458374, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0008510422776453197, "vf_loss": 11.908088684082031, "cur_kl_coeff": 0.10000001639127731, "total_loss": 11.907929420471191}}, "episode_reward_max": 724.6599476391578, "episode_len_mean": 700.0, "episode_reward_mean": 693.9236644569714, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "output": null, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21cbe0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21cd68>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21cac8>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "batch_mode": "truncate_episodes", "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "kl_target": 0.01, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "policy_reward_mean": {}, "time_total_s": 536.1452703475952, "training_iteration": 15, "episodes_total": 843, "timesteps_since_restore": 1676944, "timesteps_this_iter": 113306, "episode_reward_min": 620.5863135421139, "experiment_id": "c719e39a953041248cf9c0fc9a39d68e", "timestamp": 1556380597, "episodes_this_iter": 57, "done": false, "date": "2019-04-27_15-56-37"}
{"time_since_restore": 572.6370966434479, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 916.741675734719, "outflow_rate_mean": 777.2168540174316, "cost2_mean": -20.624539765496475, "cost2_min": -25.000311402849125, "cost1_max": 364.41453776088235, "system_level_velocity_max": 14.175718725908636, "outflow_rate_min": 616.9726745446469, "cost1_min": 197.9693436082557, "cost2_max": -17.636978202456262, "system_level_velocity_mean": 10.048945370923688, "cost1_mean": 267.06328344036143, "system_level_velocity_min": 7.3319972358008965}, "time_this_iter_s": 36.49182629585266, "num_metric_batches_dropped": 0, "iterations_since_restore": 16, "node_ip": "10.138.0.2", "pid": 50748, "timesteps_total": 1790145, "info": {"update_time_ms": 10.951, "sample_time_ms": 14080.872, "num_steps_trained": 1790145, "num_steps_sampled": 1790145, "load_time_ms": 8.23, "grad_time_ms": 21368.268, "default": {"entropy": 1.3228394985198975, "kl": 0.006813400890678167, "vf_explained_var": 0.7258955836296082, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0006442765588872135, "vf_loss": 10.771873474121094, "cur_kl_coeff": 0.10000001639127731, "total_loss": 10.771910667419434}}, "episode_reward_max": 781.4556065684058, "episode_len_mean": 700.0, "episode_reward_mean": 695.9212290893904, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "output": null, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21c5c0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21ccc0>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21cef0>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "batch_mode": "truncate_episodes", "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "kl_target": 0.01, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "policy_reward_mean": {}, "time_total_s": 572.6370966434479, "training_iteration": 16, "episodes_total": 894, "timesteps_since_restore": 1790145, "timesteps_this_iter": 113201, "episode_reward_min": 609.4453198521106, "experiment_id": "c719e39a953041248cf9c0fc9a39d68e", "timestamp": 1556380633, "episodes_this_iter": 51, "done": false, "date": "2019-04-27_15-57-13"}
{"time_since_restore": 608.452312707901, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 917.5375434108088, "outflow_rate_mean": 775.2144405026529, "cost2_mean": -19.883906461299688, "cost2_min": -24.171865902414744, "cost1_max": 373.71419413100875, "system_level_velocity_max": 14.531072487113896, "outflow_rate_min": 481.9210286974432, "cost1_min": 138.57027067994068, "cost2_max": -16.788801982917164, "system_level_velocity_mean": 10.107076797683057, "cost1_mean": 268.0751811247266, "system_level_velocity_min": 5.14693397004897}, "time_this_iter_s": 35.815216064453125, "num_metric_batches_dropped": 0, "iterations_since_restore": 17, "node_ip": "10.138.0.2", "pid": 50748, "timesteps_total": 1902479, "info": {"update_time_ms": 10.921, "sample_time_ms": 14067.073, "num_steps_trained": 1902479, "num_steps_sampled": 1902479, "load_time_ms": 8.185, "grad_time_ms": 21403.546, "default": {"entropy": 1.3178911209106445, "kl": 0.007148310542106628, "vf_explained_var": 0.7367433905601501, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0009236169280484319, "vf_loss": 12.734461784362793, "cur_kl_coeff": 0.10000001639127731, "total_loss": 12.7342529296875}}, "episode_reward_max": 782.3727433824295, "episode_len_mean": 700.0, "episode_reward_mean": 694.8582049801411, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "output": null, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21cbe0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21c1d0>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21c7b8>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "batch_mode": "truncate_episodes", "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "kl_target": 0.01, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "policy_reward_mean": {}, "time_total_s": 608.452312707901, "training_iteration": 17, "episodes_total": 954, "timesteps_since_restore": 1902479, "timesteps_this_iter": 112334, "episode_reward_min": 549.4561047924662, "experiment_id": "c719e39a953041248cf9c0fc9a39d68e", "timestamp": 1556380669, "episodes_this_iter": 60, "done": false, "date": "2019-04-27_15-57-49"}
{"time_since_restore": 644.4738056659698, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 917.5375434108088, "outflow_rate_mean": 767.9755517219077, "cost2_mean": -19.345232189792615, "cost2_min": -21.731274019906937, "cost1_max": 373.71419413100875, "system_level_velocity_max": 14.531072487113896, "outflow_rate_min": 569.1707880704, "cost1_min": 162.42721174068407, "cost2_max": -17.18811740889441, "system_level_velocity_mean": 10.088497222292206, "cost1_mean": 267.4777912589939, "system_level_velocity_min": 5.987382557610381}, "time_this_iter_s": 36.02149295806885, "num_metric_batches_dropped": 0, "iterations_since_restore": 18, "node_ip": "10.138.0.2", "pid": 50748, "timesteps_total": 2013318, "info": {"update_time_ms": 11.001, "sample_time_ms": 14085.295, "num_steps_trained": 2013318, "num_steps_sampled": 2013318, "load_time_ms": 8.207, "grad_time_ms": 21428.054, "default": {"entropy": 1.3028926849365234, "kl": 0.006099598947912455, "vf_explained_var": 0.6724615097045898, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00026942387921735644, "vf_loss": 15.553672790527344, "cur_kl_coeff": 0.10000001639127731, "total_loss": 15.554012298583984}}, "episode_reward_max": 782.3727433824295, "episode_len_mean": 700.0, "episode_reward_mean": 689.2374587890185, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "output": null, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21cc18>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21c2e8>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21c8d0>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "batch_mode": "truncate_episodes", "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "kl_target": 0.01, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "policy_reward_mean": {}, "time_total_s": 644.4738056659698, "training_iteration": 18, "episodes_total": 1014, "timesteps_since_restore": 2013318, "timesteps_this_iter": 110839, "episode_reward_min": 602.4495432049182, "experiment_id": "c719e39a953041248cf9c0fc9a39d68e", "timestamp": 1556380705, "episodes_this_iter": 60, "done": false, "date": "2019-04-27_15-58-25"}
{"time_since_restore": 682.089626789093, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 885.6198621736418, "outflow_rate_mean": 772.6350534066862, "cost2_mean": -19.061700954285314, "cost2_min": -22.321379525085803, "cost1_max": 358.361369521356, "system_level_velocity_max": 14.053719893517142, "outflow_rate_min": 669.1604257984585, "cost1_min": 219.50887761019194, "cost2_max": -15.711435515922783, "system_level_velocity_mean": 10.45208692663689, "cost1_mean": 276.00465030661326, "system_level_velocity_min": 8.271650614542642}, "time_this_iter_s": 37.61582112312317, "num_metric_batches_dropped": 0, "iterations_since_restore": 19, "node_ip": "10.138.0.2", "pid": 50748, "timesteps_total": 2123890, "info": {"update_time_ms": 10.961, "sample_time_ms": 14156.585, "num_steps_trained": 2123890, "num_steps_sampled": 2123890, "load_time_ms": 8.333, "grad_time_ms": 21371.787, "default": {"entropy": 1.292291522026062, "kl": 0.005537074059247971, "vf_explained_var": 0.6492805480957031, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0002419568772893399, "vf_loss": 16.403480529785156, "cur_kl_coeff": 0.10000002384185791, "total_loss": 16.403791427612305}}, "episode_reward_max": 739.252345824826, "episode_len_mean": 700.0, "episode_reward_mean": 686.1846159848277, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "output": null, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da97780>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da97da0>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da97550>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "batch_mode": "truncate_episodes", "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "kl_target": 0.01, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "policy_reward_mean": {}, "time_total_s": 682.089626789093, "training_iteration": 19, "episodes_total": 1076, "timesteps_since_restore": 2123890, "timesteps_this_iter": 110572, "episode_reward_min": 630.4387108826141, "experiment_id": "c719e39a953041248cf9c0fc9a39d68e", "timestamp": 1556380743, "episodes_this_iter": 62, "done": false, "date": "2019-04-27_15-59-03"}
{"time_since_restore": 717.3687717914581, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 885.5272684058322, "outflow_rate_mean": 768.6500085595887, "cost2_mean": -18.92817328961015, "cost2_min": -22.321379525085803, "cost1_max": 352.28225307334947, "system_level_velocity_max": 13.815210087364061, "outflow_rate_min": 677.6337021028437, "cost1_min": 221.62918310253553, "cost2_max": -15.44958714903582, "system_level_velocity_mean": 10.346138430219922, "cost1_mean": 273.50415756982983, "system_level_velocity_min": 8.06508921808085}, "time_this_iter_s": 35.27914500236511, "num_metric_batches_dropped": 0, "iterations_since_restore": 20, "node_ip": "10.138.0.2", "pid": 50748, "timesteps_total": 2234990, "info": {"update_time_ms": 11.076, "sample_time_ms": 14132.771, "num_steps_trained": 2234990, "num_steps_sampled": 2234990, "load_time_ms": 8.341, "grad_time_ms": 21341.217, "default": {"entropy": 1.295329213142395, "kl": 0.006675809156149626, "vf_explained_var": 0.6502507925033569, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0009097950533032417, "vf_loss": 15.60330867767334, "cur_kl_coeff": 0.10000001639127731, "total_loss": 15.603066444396973}}, "episode_reward_max": 723.2938245268938, "episode_len_mean": 700.0, "episode_reward_mean": 682.4405016514003, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "output": null, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21c978>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21c278>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21c588>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "batch_mode": "truncate_episodes", "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "kl_target": 0.01, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "policy_reward_mean": {}, "time_total_s": 717.3687717914581, "training_iteration": 20, "episodes_total": 1136, "timesteps_since_restore": 2234990, "timesteps_this_iter": 111100, "episode_reward_min": 630.4387108826141, "experiment_id": "c719e39a953041248cf9c0fc9a39d68e", "timestamp": 1556380778, "episodes_this_iter": 60, "done": false, "date": "2019-04-27_15-59-38"}
{"time_since_restore": 753.3864488601685, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 885.5272684058322, "outflow_rate_mean": 776.8672947215025, "cost2_mean": -18.717203117922207, "cost2_min": -22.318165470906468, "cost1_max": 352.28225307334947, "system_level_velocity_max": 13.815210087364061, "outflow_rate_min": 683.0281091262086, "cost1_min": 210.56235741091436, "cost2_max": -15.650033843117054, "system_level_velocity_mean": 10.519494778329674, "cost1_mean": 278.05532540220304, "system_level_velocity_min": 7.682872468331079}, "time_this_iter_s": 36.01767706871033, "num_metric_batches_dropped": 0, "iterations_since_restore": 21, "node_ip": "10.138.0.2", "pid": 50748, "timesteps_total": 2344747, "info": {"update_time_ms": 11.003, "sample_time_ms": 14100.379, "num_steps_trained": 2344747, "num_steps_sampled": 2344747, "load_time_ms": 8.398, "grad_time_ms": 21557.67, "default": {"entropy": 1.294532060623169, "kl": 0.007080661132931709, "vf_explained_var": 0.6179476976394653, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0014961945125833154, "vf_loss": 17.336259841918945, "cur_kl_coeff": 0.10000001639127731, "total_loss": 17.335472106933594}}, "episode_reward_max": 729.6518652697939, "episode_len_mean": 700.0, "episode_reward_mean": 689.0380716842136, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "output": null, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da97da0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da97588>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da97780>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "batch_mode": "truncate_episodes", "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "kl_target": 0.01, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "policy_reward_mean": {}, "time_total_s": 753.3864488601685, "training_iteration": 21, "episodes_total": 1195, "timesteps_since_restore": 2344747, "timesteps_this_iter": 109757, "episode_reward_min": 647.0302454402023, "experiment_id": "c719e39a953041248cf9c0fc9a39d68e", "timestamp": 1556380814, "episodes_this_iter": 59, "done": false, "date": "2019-04-27_16-00-14"}
{"time_since_restore": 787.2328901290894, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 873.008546430012, "outflow_rate_mean": 777.1737436871658, "cost2_mean": -18.992078984458786, "cost2_min": -23.693073713368417, "cost1_max": 363.7744451212618, "system_level_velocity_max": 15.788355313302343, "outflow_rate_min": 506.1098289120779, "cost1_min": 23.931804612601177, "cost2_max": -10.555394739822901, "system_level_velocity_mean": 10.85173498311051, "cost1_mean": 282.84500896363073, "system_level_velocity_min": 7.682872468331079}, "time_this_iter_s": 33.8464412689209, "num_metric_batches_dropped": 0, "iterations_since_restore": 22, "node_ip": "10.138.0.2", "pid": 50748, "timesteps_total": 2452978, "info": {"update_time_ms": 11.185, "sample_time_ms": 14087.739, "num_steps_trained": 2452978, "num_steps_sampled": 2452978, "load_time_ms": 8.512, "grad_time_ms": 21447.028, "default": {"entropy": 1.2932089567184448, "kl": 0.007419887464493513, "vf_explained_var": 0.5100818276405334, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0010160987731069326, "vf_loss": 20.49460792541504, "cur_kl_coeff": 0.10000001639127731, "total_loss": 20.494333267211914}}, "episode_reward_max": 729.6518652697939, "episode_len_mean": 693.44, "episode_reward_mean": 684.8165600740117, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "output": null, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21cef0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21c518>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21ccf8>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "batch_mode": "truncate_episodes", "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "kl_target": 0.01, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "policy_reward_mean": {}, "time_total_s": 787.2328901290894, "training_iteration": 22, "episodes_total": 1255, "timesteps_since_restore": 2452978, "timesteps_this_iter": 108231, "episode_reward_min": 33.7476428532508, "experiment_id": "c719e39a953041248cf9c0fc9a39d68e", "timestamp": 1556380848, "episodes_this_iter": 60, "done": false, "date": "2019-04-27_16-00-48"}
{"time_since_restore": 822.179098367691, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 937.362190990537, "outflow_rate_mean": 784.7965165872536, "cost2_mean": -19.20727042726847, "cost2_min": -23.693073713368417, "cost1_max": 368.69950849530846, "system_level_velocity_max": 16.307267805201462, "outflow_rate_min": 497.8792856175152, "cost1_min": 21.303260672346692, "cost2_max": -10.555394739822901, "system_level_velocity_mean": 11.252389337395842, "cost1_mean": 288.50950173964475, "system_level_velocity_min": 8.088085896341129}, "time_this_iter_s": 34.946208238601685, "num_metric_batches_dropped": 0, "iterations_since_restore": 23, "node_ip": "10.138.0.2", "pid": 50748, "timesteps_total": 2561400, "info": {"update_time_ms": 11.149, "sample_time_ms": 14048.837, "num_steps_trained": 2561400, "num_steps_sampled": 2561400, "load_time_ms": 8.623, "grad_time_ms": 21424.914, "default": {"entropy": 1.27802574634552, "kl": 0.0073266709223389626, "vf_explained_var": 0.48471081256866455, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0016944712260738015, "vf_loss": 20.52129554748535, "cur_kl_coeff": 0.10000001639127731, "total_loss": 20.520334243774414}}, "episode_reward_max": 729.6649694676356, "episode_len_mean": 686.82, "episode_reward_mean": 679.9271594866055, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "output": null, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21cd68>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21cda0>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21c240>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "batch_mode": "truncate_episodes", "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "kl_target": 0.01, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "policy_reward_mean": {}, "time_total_s": 822.179098367691, "training_iteration": 23, "episodes_total": 1316, "timesteps_since_restore": 2561400, "timesteps_this_iter": 108422, "episode_reward_min": 26.65926524110312, "experiment_id": "c719e39a953041248cf9c0fc9a39d68e", "timestamp": 1556380883, "episodes_this_iter": 61, "done": false, "date": "2019-04-27_16-01-23"}
{"time_since_restore": 856.37712931633, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 894.0964992919276, "outflow_rate_mean": 796.8778247712404, "cost2_mean": -19.31215556591852, "cost2_min": -22.324470126279554, "cost1_max": 383.48709460321373, "system_level_velocity_max": 16.307267805201462, "outflow_rate_min": 497.8792856175152, "cost1_min": 21.303260672346692, "cost2_max": -10.732319251699641, "system_level_velocity_mean": 11.58179126677486, "cost1_mean": 297.8087272730221, "system_level_velocity_min": 8.368286449787405}, "time_this_iter_s": 34.198030948638916, "num_metric_batches_dropped": 0, "iterations_since_restore": 24, "node_ip": "10.138.0.2", "pid": 50748, "timesteps_total": 2667752, "info": {"update_time_ms": 11.215, "sample_time_ms": 14028.278, "num_steps_trained": 2667752, "num_steps_sampled": 2667752, "load_time_ms": 8.575, "grad_time_ms": 21371.299, "default": {"entropy": 1.2686543464660645, "kl": 0.006940949708223343, "vf_explained_var": 0.34040406346321106, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0013263076543807983, "vf_loss": 22.245359420776367, "cur_kl_coeff": 0.10000001639127731, "total_loss": 22.244728088378906}}, "episode_reward_max": 743.4267042831389, "episode_len_mean": 687.55, "episode_reward_mean": 684.9469622868767, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "output": null, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21cc18>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21c588>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21c9e8>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "batch_mode": "truncate_episodes", "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "kl_target": 0.01, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "policy_reward_mean": {}, "time_total_s": 856.37712931633, "training_iteration": 24, "episodes_total": 1377, "timesteps_since_restore": 2667752, "timesteps_this_iter": 106352, "episode_reward_min": 26.65926524110312, "experiment_id": "c719e39a953041248cf9c0fc9a39d68e", "timestamp": 1556380917, "episodes_this_iter": 61, "done": false, "date": "2019-04-27_16-01-57"}
{"time_since_restore": 891.5224809646606, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 919.9092942912029, "outflow_rate_mean": 803.7912748631013, "cost2_mean": -19.518026488893877, "cost2_min": -24.718078963376822, "cost1_max": 383.48709460321373, "system_level_velocity_max": 15.158580459489391, "outflow_rate_min": 700.1410226841292, "cost1_min": 241.70629128147397, "cost2_max": -16.003137848674143, "system_level_velocity_mean": 11.670781423936873, "cost1_mean": 308.14979153218155, "system_level_velocity_min": 9.029709519675274}, "time_this_iter_s": 35.14535164833069, "num_metric_batches_dropped": 0, "iterations_since_restore": 25, "node_ip": "10.138.0.2", "pid": 50748, "timesteps_total": 2774125, "info": {"update_time_ms": 11.021, "sample_time_ms": 14002.722, "num_steps_trained": 2774125, "num_steps_sampled": 2774125, "load_time_ms": 8.807, "grad_time_ms": 21316.215, "default": {"entropy": 1.2487223148345947, "kl": 0.007348265033215284, "vf_explained_var": 0.27868106961250305, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0013954780297353864, "vf_loss": 23.222797393798828, "cur_kl_coeff": 0.10000002384185791, "total_loss": 23.22213363647461}}, "episode_reward_max": 779.7215403585818, "episode_len_mean": 700.0, "episode_reward_mean": 703.7651547314877, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "output": null, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21cac8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21cf28>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21ceb8>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "batch_mode": "truncate_episodes", "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "kl_target": 0.01, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "policy_reward_mean": {}, "time_total_s": 891.5224809646606, "training_iteration": 25, "episodes_total": 1438, "timesteps_since_restore": 2774125, "timesteps_this_iter": 106373, "episode_reward_min": 646.1834148585933, "experiment_id": "c719e39a953041248cf9c0fc9a39d68e", "timestamp": 1556380952, "episodes_this_iter": 61, "done": false, "date": "2019-04-27_16-02-32"}
{"time_since_restore": 926.002206325531, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 917.735405282146, "outflow_rate_mean": 808.1323867899787, "cost2_mean": -19.13367327202262, "cost2_min": -24.718078963376822, "cost1_max": 386.05525460968045, "system_level_velocity_max": 15.303021310921283, "outflow_rate_min": 685.931967370975, "cost1_min": 242.235962279474, "cost2_max": -15.398244231386006, "system_level_velocity_mean": 11.819560002272073, "cost1_mean": 312.0533799687673, "system_level_velocity_min": 9.09668675446242}, "time_this_iter_s": 34.47972536087036, "num_metric_batches_dropped": 0, "iterations_since_restore": 26, "node_ip": "10.138.0.2", "pid": 50748, "timesteps_total": 2880133, "info": {"update_time_ms": 10.915, "sample_time_ms": 13901.508, "num_steps_trained": 2880133, "num_steps_sampled": 2880133, "load_time_ms": 8.975, "grad_time_ms": 21213.611, "default": {"entropy": 1.2553062438964844, "kl": 0.0070091309025883675, "vf_explained_var": 0.2371717095375061, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0010279174894094467, "vf_loss": 20.487064361572266, "cur_kl_coeff": 0.10000002384185791, "total_loss": 20.486738204956055}}, "episode_reward_max": 781.7611585503543, "episode_len_mean": 700.0, "episode_reward_mean": 707.3063712373826, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "output": null, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21c0b8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21cb38>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21cfd0>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "batch_mode": "truncate_episodes", "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "kl_target": 0.01, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "policy_reward_mean": {}, "time_total_s": 926.002206325531, "training_iteration": 26, "episodes_total": 1498, "timesteps_since_restore": 2880133, "timesteps_this_iter": 106008, "episode_reward_min": 645.3527069069618, "experiment_id": "c719e39a953041248cf9c0fc9a39d68e", "timestamp": 1556380987, "episodes_this_iter": 60, "done": false, "date": "2019-04-27_16-03-07"}
{"time_since_restore": 962.1389546394348, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 911.5810917636388, "outflow_rate_mean": 806.9787894040012, "cost2_mean": -19.045453807875457, "cost2_min": -22.966349392009725, "cost1_max": 386.05525460968045, "system_level_velocity_max": 15.303021310921283, "outflow_rate_min": 748.7161160884883, "cost1_min": 271.0083881160142, "cost2_max": -15.398244231386006, "system_level_velocity_mean": 11.733626103358747, "cost1_mean": 309.9410195487891, "system_level_velocity_min": 10.030377169839069}, "time_this_iter_s": 36.13674831390381, "num_metric_batches_dropped": 0, "iterations_since_restore": 27, "node_ip": "10.138.0.2", "pid": 50748, "timesteps_total": 2987887, "info": {"update_time_ms": 11.045, "sample_time_ms": 13962.066, "num_steps_trained": 2987887, "num_steps_sampled": 2987887, "load_time_ms": 8.942, "grad_time_ms": 21182.489, "default": {"entropy": 1.2478643655776978, "kl": 0.006426029838621616, "vf_explained_var": 0.16182710230350494, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0005257793236523867, "vf_loss": 21.63434600830078, "cur_kl_coeff": 0.10000001639127731, "total_loss": 21.634464263916016}}, "episode_reward_max": 765.737267016895, "episode_len_mean": 700.0, "episode_reward_mean": 709.9671403066961, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "output": null, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d226470>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d2264a8>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d2264e0>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "batch_mode": "truncate_episodes", "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "kl_target": 0.01, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "policy_reward_mean": {}, "time_total_s": 962.1389546394348, "training_iteration": 27, "episodes_total": 1559, "timesteps_since_restore": 2987887, "timesteps_this_iter": 107754, "episode_reward_min": 664.5871276254932, "experiment_id": "c719e39a953041248cf9c0fc9a39d68e", "timestamp": 1556381023, "episodes_this_iter": 61, "done": false, "date": "2019-04-27_16-03-43"}
{"time_since_restore": 996.2653543949127, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 921.4636707044787, "outflow_rate_mean": 809.7837251212851, "cost2_mean": -19.127600009207562, "cost2_min": -22.966349392009725, "cost1_max": 378.8089529663855, "system_level_velocity_max": 14.883613964329717, "outflow_rate_min": 665.1876425830488, "cost1_min": 66.64124492367965, "cost2_max": -12.41634037112999, "system_level_velocity_mean": 11.65332808201032, "cost1_mean": 304.920291626016, "system_level_velocity_min": 10.275105242383633}, "time_this_iter_s": 34.126399755477905, "num_metric_batches_dropped": 0, "iterations_since_restore": 28, "node_ip": "10.138.0.2", "pid": 50748, "timesteps_total": 3094280, "info": {"update_time_ms": 10.986, "sample_time_ms": 13975.582, "num_steps_trained": 3094280, "num_steps_sampled": 3094280, "load_time_ms": 8.828, "grad_time_ms": 20983.094, "default": {"entropy": 1.231022834777832, "kl": 0.0067825596779584885, "vf_explained_var": 0.11214450001716614, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0009664972894825041, "vf_loss": 23.310039520263672, "cur_kl_coeff": 0.10000002384185791, "total_loss": 23.309749603271484}}, "episode_reward_max": 779.5497962521091, "episode_len_mean": 694.27, "episode_reward_mean": 707.0876594475899, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "output": null, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21cba8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21c4e0>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82dd8>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "batch_mode": "truncate_episodes", "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "kl_target": 0.01, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "policy_reward_mean": {}, "time_total_s": 996.2653543949127, "training_iteration": 28, "episodes_total": 1625, "timesteps_since_restore": 3094280, "timesteps_this_iter": 106393, "episode_reward_min": 122.76046113027259, "experiment_id": "c719e39a953041248cf9c0fc9a39d68e", "timestamp": 1556381057, "episodes_this_iter": 66, "done": false, "date": "2019-04-27_16-04-17"}
{"time_since_restore": 1030.0837223529816, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 874.4313122390014, "outflow_rate_mean": 806.9215719464006, "cost2_mean": -19.351761872362722, "cost2_min": -22.944083149142827, "cost1_max": 357.4192709075788, "system_level_velocity_max": 13.748646854951447, "outflow_rate_min": 754.7120204826612, "cost1_min": 270.0877630579055, "cost2_max": -15.520456303327602, "system_level_velocity_mean": 11.485971882488895, "cost1_mean": 304.5859909728556, "system_level_velocity_min": 9.878162593711354}, "time_this_iter_s": 33.81836795806885, "num_metric_batches_dropped": 0, "iterations_since_restore": 29, "node_ip": "10.138.0.2", "pid": 50748, "timesteps_total": 3201037, "info": {"update_time_ms": 11.12, "sample_time_ms": 13972.241, "num_steps_trained": 3201037, "num_steps_sampled": 3201037, "load_time_ms": 8.611, "grad_time_ms": 20610.233, "default": {"entropy": 1.238816499710083, "kl": 0.006663626525551081, "vf_explained_var": 0.1017145961523056, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0007606257568113506, "vf_loss": 23.010095596313477, "cur_kl_coeff": 0.10000000894069672, "total_loss": 23.010000228881836}}, "episode_reward_max": 743.6506259581904, "episode_len_mean": 700.0, "episode_reward_mean": 709.1516712853977, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "output": null, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d2263c8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d226400>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d2262e8>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "batch_mode": "truncate_episodes", "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "kl_target": 0.01, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "policy_reward_mean": {}, "time_total_s": 1030.0837223529816, "training_iteration": 29, "episodes_total": 1692, "timesteps_since_restore": 3201037, "timesteps_this_iter": 106757, "episode_reward_min": 649.5501914360583, "experiment_id": "c719e39a953041248cf9c0fc9a39d68e", "timestamp": 1556381091, "episodes_this_iter": 67, "done": false, "date": "2019-04-27_16-04-51"}
{"time_since_restore": 1063.0767912864685, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 896.0204338057758, "outflow_rate_mean": 811.310089464175, "cost2_mean": -19.170694133155585, "cost2_min": -23.122613357680173, "cost1_max": 375.582238370848, "system_level_velocity_max": 14.964903433290804, "outflow_rate_min": 754.7120204826612, "cost1_min": 281.76736636085, "cost2_max": -15.520456303327602, "system_level_velocity_mean": 11.548883414841812, "cost1_mean": 305.7476225422096, "system_level_velocity_min": 10.561020025954125}, "time_this_iter_s": 32.99306893348694, "num_metric_batches_dropped": 0, "iterations_since_restore": 30, "node_ip": "10.138.0.2", "pid": 50748, "timesteps_total": 3307821, "info": {"update_time_ms": 11.34, "sample_time_ms": 14026.907, "num_steps_trained": 3307821, "num_steps_sampled": 3307821, "load_time_ms": 8.098, "grad_time_ms": 20327.677, "default": {"entropy": 1.2179688215255737, "kl": 0.008102248422801495, "vf_explained_var": 0.10893265902996063, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0012990061659365892, "vf_loss": 22.138864517211914, "cur_kl_coeff": 0.10000000894069672, "total_loss": 22.13837432861328}}, "episode_reward_max": 768.2524272776366, "episode_len_mean": 699.57, "episode_reward_mean": 707.2567663213235, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "output": null, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21c278>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21c978>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21cb38>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "batch_mode": "truncate_episodes", "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "kl_target": 0.01, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "policy_reward_mean": {}, "time_total_s": 1063.0767912864685, "training_iteration": 30, "episodes_total": 1754, "timesteps_since_restore": 3307821, "timesteps_this_iter": 106784, "episode_reward_min": 649.5501914360583, "experiment_id": "c719e39a953041248cf9c0fc9a39d68e", "timestamp": 1556381124, "episodes_this_iter": 62, "done": false, "date": "2019-04-27_16-05-24"}
{"time_since_restore": 1097.180291891098, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 907.8826309856937, "outflow_rate_mean": 811.6167045900428, "cost2_mean": -18.790438542191925, "cost2_min": -23.122613357680173, "cost1_max": 371.0507251643183, "system_level_velocity_max": 14.581509425819771, "outflow_rate_min": 670.4199285194601, "cost1_min": 246.2076650576344, "cost2_max": -14.665063797601192, "system_level_velocity_mean": 11.61199896748065, "cost1_mean": 307.36238932402193, "system_level_velocity_min": 8.986828474248705}, "time_this_iter_s": 34.10350060462952, "num_metric_batches_dropped": 0, "iterations_since_restore": 31, "node_ip": "10.138.0.2", "pid": 50748, "timesteps_total": 3414941, "info": {"update_time_ms": 11.375, "sample_time_ms": 14115.182, "num_steps_trained": 3414941, "num_steps_sampled": 3414941, "load_time_ms": 7.996, "grad_time_ms": 20047.061, "default": {"entropy": 1.2258356809616089, "kl": 0.0067099654115736485, "vf_explained_var": 0.09523313492536545, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0007719109416939318, "vf_loss": 24.5843448638916, "cur_kl_coeff": 0.10000001639127731, "total_loss": 24.584245681762695}}, "episode_reward_max": 760.2560806104793, "episode_len_mean": 700.0, "episode_reward_mean": 710.968570783806, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "output": null, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d226438>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d226828>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d226630>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "batch_mode": "truncate_episodes", "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "kl_target": 0.01, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "policy_reward_mean": {}, "time_total_s": 1097.180291891098, "training_iteration": 31, "episodes_total": 1823, "timesteps_since_restore": 3414941, "timesteps_this_iter": 107120, "episode_reward_min": 655.4629182841398, "experiment_id": "c719e39a953041248cf9c0fc9a39d68e", "timestamp": 1556381158, "episodes_this_iter": 69, "done": false, "date": "2019-04-27_16-05-58"}
{"time_since_restore": 1133.4217195510864, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 921.2697776756443, "outflow_rate_mean": 813.7335749195112, "cost2_mean": -18.41381811963575, "cost2_min": -21.731545972929244, "cost1_max": 371.0507251643183, "system_level_velocity_max": 14.581509425819771, "outflow_rate_min": 670.4199285194601, "cost1_min": 246.2076650576344, "cost2_max": -14.665063797601192, "system_level_velocity_mean": 11.555535814827659, "cost1_mean": 305.97856688633635, "system_level_velocity_min": 8.986828474248705}, "time_this_iter_s": 36.2414276599884, "num_metric_batches_dropped": 0, "iterations_since_restore": 32, "node_ip": "10.138.0.2", "pid": 50748, "timesteps_total": 3521290, "info": {"update_time_ms": 11.393, "sample_time_ms": 14208.053, "num_steps_trained": 3521290, "num_steps_sampled": 3521290, "load_time_ms": 7.951, "grad_time_ms": 20193.589, "default": {"entropy": 1.2248070240020752, "kl": 0.007367701735347509, "vf_explained_var": 0.12806573510169983, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0012547617079690099, "vf_loss": 23.902904510498047, "cur_kl_coeff": 0.10000001639127731, "total_loss": 23.902385711669922}}, "episode_reward_max": 791.0594153193193, "episode_len_mean": 700.0, "episode_reward_mean": 716.0924823386812, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "output": null, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da97be0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da97b70>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da97ac8>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "batch_mode": "truncate_episodes", "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "kl_target": 0.01, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "policy_reward_mean": {}, "time_total_s": 1133.4217195510864, "training_iteration": 32, "episodes_total": 1888, "timesteps_since_restore": 3521290, "timesteps_this_iter": 106349, "episode_reward_min": 655.4629182841398, "experiment_id": "c719e39a953041248cf9c0fc9a39d68e", "timestamp": 1556381194, "episodes_this_iter": 65, "done": false, "date": "2019-04-27_16-06-34"}
{"time_since_restore": 1168.6121664047241, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 921.2697776756443, "outflow_rate_mean": 812.0223682783175, "cost2_mean": -18.46264774419391, "cost2_min": -23.62199583995396, "cost1_max": 369.9542409543499, "system_level_velocity_max": 14.620060143898172, "outflow_rate_min": 654.5507062415377, "cost1_min": 67.01576268205952, "cost2_max": -11.450367401921696, "system_level_velocity_mean": 11.631592177126747, "cost1_mean": 303.88500406756964, "system_level_velocity_min": 10.408480747138043}, "time_this_iter_s": 35.190446853637695, "num_metric_batches_dropped": 0, "iterations_since_restore": 33, "node_ip": "10.138.0.2", "pid": 50748, "timesteps_total": 3626950, "info": {"update_time_ms": 11.306, "sample_time_ms": 14301.504, "num_steps_trained": 3626950, "num_steps_sampled": 3626950, "load_time_ms": 8.059, "grad_time_ms": 20125.272, "default": {"entropy": 1.2209231853485107, "kl": 0.006620253436267376, "vf_explained_var": 0.1034444272518158, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0008736536838114262, "vf_loss": 24.529298782348633, "cur_kl_coeff": 0.10000001639127731, "total_loss": 24.529090881347656}}, "episode_reward_max": 791.285283365035, "episode_len_mean": 692.14, "episode_reward_mean": 707.9030936413048, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "output": null, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d226a90>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d2264a8>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d226390>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "batch_mode": "truncate_episodes", "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "kl_target": 0.01, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "policy_reward_mean": {}, "time_total_s": 1168.6121664047241, "training_iteration": 33, "episodes_total": 1954, "timesteps_since_restore": 3626950, "timesteps_this_iter": 105660, "episode_reward_min": 124.61033438680685, "experiment_id": "c719e39a953041248cf9c0fc9a39d68e", "timestamp": 1556381230, "episodes_this_iter": 66, "done": false, "date": "2019-04-27_16-07-10"}
{"time_since_restore": 1201.4088020324707, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 932.544785485083, "outflow_rate_mean": 814.7076737975012, "cost2_mean": -18.25810469664629, "cost2_min": -23.62199583995396, "cost1_max": 388.888329625235, "system_level_velocity_max": 15.308701032387512, "outflow_rate_min": 654.5507062415377, "cost1_min": 67.01576268205952, "cost2_max": -11.450367401921696, "system_level_velocity_mean": 11.879796305633471, "cost1_mean": 310.0604221478972, "system_level_velocity_min": 10.408480747138043}, "time_this_iter_s": 32.79663562774658, "num_metric_batches_dropped": 0, "iterations_since_restore": 34, "node_ip": "10.138.0.2", "pid": 50748, "timesteps_total": 3732535, "info": {"update_time_ms": 11.307, "sample_time_ms": 14396.378, "num_steps_trained": 3732535, "num_steps_sampled": 3732535, "load_time_ms": 7.982, "grad_time_ms": 19892.826, "default": {"entropy": 1.225726842880249, "kl": 0.006807849742472172, "vf_explained_var": 0.1142076849937439, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0005333152366802096, "vf_loss": 26.015705108642578, "cur_kl_coeff": 0.10000000894069672, "total_loss": 26.015851974487305}}, "episode_reward_max": 789.1391528258309, "episode_len_mean": 694.29, "episode_reward_mean": 709.8055840127295, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "output": null, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21c5f8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21c438>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21c9e8>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "batch_mode": "truncate_episodes", "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "kl_target": 0.01, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "policy_reward_mean": {}, "time_total_s": 1201.4088020324707, "training_iteration": 34, "episodes_total": 2020, "timesteps_since_restore": 3732535, "timesteps_this_iter": 105585, "episode_reward_min": 124.61033438680685, "experiment_id": "c719e39a953041248cf9c0fc9a39d68e", "timestamp": 1556381262, "episodes_this_iter": 66, "done": false, "date": "2019-04-27_16-07-42"}
{"time_since_restore": 1236.7946226596832, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 943.6483467696206, "outflow_rate_mean": 812.8406157857478, "cost2_mean": -18.163428488151506, "cost2_min": -22.038311190249537, "cost1_max": 391.46478834853997, "system_level_velocity_max": 15.618569149144477, "outflow_rate_min": 782.6189940531808, "cost1_min": 279.4129892722185, "cost2_max": -15.037022256287912, "system_level_velocity_mean": 11.727077807401997, "cost1_mean": 309.7788099623093, "system_level_velocity_min": 10.39675579016654}, "time_this_iter_s": 35.385820627212524, "num_metric_batches_dropped": 0, "iterations_since_restore": 35, "node_ip": "10.138.0.2", "pid": 50748, "timesteps_total": 3838900, "info": {"update_time_ms": 11.326, "sample_time_ms": 14464.586, "num_steps_trained": 3838900, "num_steps_sampled": 3838900, "load_time_ms": 7.81, "grad_time_ms": 19847.461, "default": {"entropy": 1.2276194095611572, "kl": 0.008057930506765842, "vf_explained_var": 0.1475394070148468, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0018337422516196966, "vf_loss": 25.962501525878906, "cur_kl_coeff": 0.10000001639127731, "total_loss": 25.96147346496582}}, "episode_reward_max": 796.7817344517274, "episode_len_mean": 700.0, "episode_reward_mean": 717.5582900259676, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "output": null, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d226b70>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d226630>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d226240>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "batch_mode": "truncate_episodes", "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "kl_target": 0.01, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "policy_reward_mean": {}, "time_total_s": 1236.7946226596832, "training_iteration": 35, "episodes_total": 2088, "timesteps_since_restore": 3838900, "timesteps_this_iter": 106365, "episode_reward_min": 692.1459890293227, "experiment_id": "c719e39a953041248cf9c0fc9a39d68e", "timestamp": 1556381298, "episodes_this_iter": 68, "done": false, "date": "2019-04-27_16-08-18"}
{"time_since_restore": 1271.74143576622, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 943.6483467696206, "outflow_rate_mean": 816.7898403538351, "cost2_mean": -18.033883536690436, "cost2_min": -22.038311190249537, "cost1_max": 391.46478834853997, "system_level_velocity_max": 15.618569149144477, "outflow_rate_min": 782.6189940531808, "cost1_min": 277.29478207067353, "cost2_max": -14.953924485310836, "system_level_velocity_mean": 11.698859507636632, "cost1_mean": 309.22508468359274, "system_level_velocity_min": 10.154104539161025}, "time_this_iter_s": 34.946813106536865, "num_metric_batches_dropped": 0, "iterations_since_restore": 36, "node_ip": "10.138.0.2", "pid": 50748, "timesteps_total": 3945393, "info": {"update_time_ms": 11.525, "sample_time_ms": 14645.179, "num_steps_trained": 3945393, "num_steps_sampled": 3945393, "load_time_ms": 7.767, "grad_time_ms": 19716.295, "default": {"entropy": 1.2417312860488892, "kl": 0.006896881386637688, "vf_explained_var": 0.19313177466392517, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0012750516179949045, "vf_loss": 24.804887771606445, "cur_kl_coeff": 0.10000002384185791, "total_loss": 24.804302215576172}}, "episode_reward_max": 796.7817344517274, "episode_len_mean": 700.0, "episode_reward_mean": 721.8151768964751, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "output": null, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da970b8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d226b00>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d2268d0>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "batch_mode": "truncate_episodes", "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "kl_target": 0.01, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "policy_reward_mean": {}, "time_total_s": 1271.74143576622, "training_iteration": 36, "episodes_total": 2153, "timesteps_since_restore": 3945393, "timesteps_this_iter": 106493, "episode_reward_min": 694.5817788893282, "experiment_id": "c719e39a953041248cf9c0fc9a39d68e", "timestamp": 1556381333, "episodes_this_iter": 65, "done": false, "date": "2019-04-27_16-08-53"}
{"time_since_restore": 1306.319429397583, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 932.5492560451779, "outflow_rate_mean": 817.8426407906959, "cost2_mean": -17.567752238035546, "cost2_min": -20.60447108855616, "cost1_max": 390.9679502075304, "system_level_velocity_max": 15.752714622167995, "outflow_rate_min": 686.8739679906084, "cost1_min": 175.78637342786052, "cost2_max": -14.953924485310836, "system_level_velocity_mean": 11.662620065943688, "cost1_mean": 306.65575295131265, "system_level_velocity_min": 10.154104539161025}, "time_this_iter_s": 34.577993631362915, "num_metric_batches_dropped": 0, "iterations_since_restore": 37, "node_ip": "10.138.0.2", "pid": 50748, "timesteps_total": 4052023, "info": {"update_time_ms": 11.363, "sample_time_ms": 14628.627, "num_steps_trained": 4052023, "num_steps_sampled": 4052023, "load_time_ms": 7.851, "grad_time_ms": 19578.043, "default": {"entropy": 1.249326467514038, "kl": 0.007001966238021851, "vf_explained_var": 0.19368349015712738, "cur_lr": 0.0005000000237487257, "policy_loss": -0.001062412979081273, "vf_loss": 25.039005279541016, "cur_kl_coeff": 0.10000001639127731, "total_loss": 25.038644790649414}}, "episode_reward_max": 796.4283415398704, "episode_len_mean": 696.87, "episode_reward_mean": 721.3918035956574, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "output": null, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d226b70>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d226400>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d226198>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "batch_mode": "truncate_episodes", "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "kl_target": 0.01, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "policy_reward_mean": {}, "time_total_s": 1306.319429397583, "training_iteration": 37, "episodes_total": 2217, "timesteps_since_restore": 4052023, "timesteps_this_iter": 106630, "episode_reward_min": 383.84683258915766, "experiment_id": "c719e39a953041248cf9c0fc9a39d68e", "timestamp": 1556381367, "episodes_this_iter": 64, "done": false, "date": "2019-04-27_16-09-27"}
{"time_since_restore": 1340.2847754955292, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 951.7062613956803, "outflow_rate_mean": 820.9323012418229, "cost2_mean": -17.28618753338153, "cost2_min": -20.030430080578807, "cost1_max": 391.3087980471502, "system_level_velocity_max": 15.752714622167995, "outflow_rate_min": 780.6202957024024, "cost1_min": 276.636588713192, "cost2_max": -15.140876920656767, "system_level_velocity_mean": 11.6426095266617, "cost1_mean": 307.4748485952118, "system_level_velocity_min": 10.283614039225977}, "time_this_iter_s": 33.96534609794617, "num_metric_batches_dropped": 0, "iterations_since_restore": 38, "node_ip": "10.138.0.2", "pid": 50748, "timesteps_total": 4158872, "info": {"update_time_ms": 11.49, "sample_time_ms": 14626.2, "num_steps_trained": 4158872, "num_steps_sampled": 4158872, "load_time_ms": 7.817, "grad_time_ms": 19563.086, "default": {"entropy": 1.2317746877670288, "kl": 0.006884298287332058, "vf_explained_var": 0.20484411716461182, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0011232300894334912, "vf_loss": 24.516742706298828, "cur_kl_coeff": 0.10000000894069672, "total_loss": 24.51630973815918}}, "episode_reward_max": 790.299827297693, "episode_len_mean": 700.0, "episode_reward_mean": 726.2193035501084, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "output": null, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da97518>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da97358>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da97ac8>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "batch_mode": "truncate_episodes", "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "kl_target": 0.01, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "policy_reward_mean": {}, "time_total_s": 1340.2847754955292, "training_iteration": 38, "episodes_total": 2281, "timesteps_since_restore": 4158872, "timesteps_this_iter": 106849, "episode_reward_min": 698.6150570835083, "experiment_id": "c719e39a953041248cf9c0fc9a39d68e", "timestamp": 1556381401, "episodes_this_iter": 64, "done": false, "date": "2019-04-27_16-10-01"}
{"time_since_restore": 1375.38720536232, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 951.7946335255085, "outflow_rate_mean": 817.9198882630669, "cost2_mean": -17.391163699643126, "cost2_min": -20.214187202285668, "cost1_max": 389.1955655656312, "system_level_velocity_max": 15.560102173404864, "outflow_rate_min": 783.3095944270023, "cost1_min": 276.10257941545296, "cost2_max": -14.031404380266174, "system_level_velocity_mean": 11.401397275881541, "cost1_mean": 301.7737521982971, "system_level_velocity_min": 10.270922309949995}, "time_this_iter_s": 35.10242986679077, "num_metric_batches_dropped": 0, "iterations_since_restore": 39, "node_ip": "10.138.0.2", "pid": 50748, "timesteps_total": 4265766, "info": {"update_time_ms": 11.514, "sample_time_ms": 14621.68, "num_steps_trained": 4265766, "num_steps_sampled": 4265766, "load_time_ms": 7.7, "grad_time_ms": 19693.471, "default": {"entropy": 1.224561095237732, "kl": 0.006979402154684067, "vf_explained_var": 0.2046528160572052, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0005779810016974807, "vf_loss": 23.219873428344727, "cur_kl_coeff": 0.10000001639127731, "total_loss": 23.21999168395996}}, "episode_reward_max": 789.1652784324477, "episode_len_mean": 700.0, "episode_reward_mean": 720.6856204362637, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "output": null, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d226588>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d226f28>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d226630>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "batch_mode": "truncate_episodes", "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "kl_target": 0.01, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "policy_reward_mean": {}, "time_total_s": 1375.38720536232, "training_iteration": 39, "episodes_total": 2342, "timesteps_since_restore": 4265766, "timesteps_this_iter": 106894, "episode_reward_min": 699.1474389215864, "experiment_id": "c719e39a953041248cf9c0fc9a39d68e", "timestamp": 1556381437, "episodes_this_iter": 61, "done": false, "date": "2019-04-27_16-10-37"}
{"time_since_restore": 1410.8872275352478, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 951.7946335255085, "outflow_rate_mean": 816.8241747284276, "cost2_mean": -17.277397034318078, "cost2_min": -20.214187202285668, "cost1_max": 392.65834492005774, "system_level_velocity_max": 15.45151254459819, "outflow_rate_min": 783.3095944270023, "cost1_min": 273.48703425597154, "cost2_max": -14.031404380266174, "system_level_velocity_mean": 11.403657215854198, "cost1_mean": 302.19653614190696, "system_level_velocity_min": 10.139242455645183}, "time_this_iter_s": 35.500022172927856, "num_metric_batches_dropped": 0, "iterations_since_restore": 40, "node_ip": "10.138.0.2", "pid": 50748, "timesteps_total": 4371715, "info": {"update_time_ms": 11.468, "sample_time_ms": 14626.256, "num_steps_trained": 4371715, "num_steps_sampled": 4371715, "load_time_ms": 8.217, "grad_time_ms": 19938.153, "default": {"entropy": 1.2212203741073608, "kl": 0.007780856918543577, "vf_explained_var": 0.20956070721149445, "cur_lr": 0.0005000000237487257, "policy_loss": -0.001847429433837533, "vf_loss": 25.111345291137695, "cur_kl_coeff": 0.10000001639127731, "total_loss": 25.11027717590332}}, "episode_reward_max": 788.2709882526314, "episode_len_mean": 700.0, "episode_reward_mean": 720.3085448461824, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "output": null, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d21c908>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da92748>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d226e10>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "batch_mode": "truncate_episodes", "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "kl_target": 0.01, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "policy_reward_mean": {}, "time_total_s": 1410.8872275352478, "training_iteration": 40, "episodes_total": 2406, "timesteps_since_restore": 4371715, "timesteps_this_iter": 105949, "episode_reward_min": 686.2534658801912, "experiment_id": "c719e39a953041248cf9c0fc9a39d68e", "timestamp": 1556381472, "episodes_this_iter": 64, "done": false, "date": "2019-04-27_16-11-12"}
{"time_since_restore": 1447.6655931472778, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 948.5217299719067, "outflow_rate_mean": 817.4950960705979, "cost2_mean": -17.113700745712592, "cost2_min": -19.382785967702517, "cost1_max": 396.46090902168214, "system_level_velocity_max": 15.573059403003152, "outflow_rate_min": 789.4735875984219, "cost1_min": 273.48703425597154, "cost2_max": -14.23172097609486, "system_level_velocity_mean": 11.542601371968027, "cost1_mean": 305.19970451911774, "system_level_velocity_min": 10.139242455645183}, "time_this_iter_s": 36.77836561203003, "num_metric_batches_dropped": 0, "iterations_since_restore": 41, "node_ip": "10.138.0.2", "pid": 50748, "timesteps_total": 4478211, "info": {"update_time_ms": 11.517, "sample_time_ms": 14618.309, "num_steps_trained": 4478211, "num_steps_sampled": 4478211, "load_time_ms": 8.248, "grad_time_ms": 20216.08, "default": {"entropy": 1.225170373916626, "kl": 0.006295768078416586, "vf_explained_var": 0.1869901716709137, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0005665616481564939, "vf_loss": 26.374094009399414, "cur_kl_coeff": 0.10000001639127731, "total_loss": 26.374155044555664}}, "episode_reward_max": 791.924369569987, "episode_len_mean": 700.0, "episode_reward_mean": 717.3763343813771, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "output": null, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d2263c8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d226748>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d226400>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "batch_mode": "truncate_episodes", "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "kl_target": 0.01, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "policy_reward_mean": {}, "time_total_s": 1447.6655931472778, "training_iteration": 41, "episodes_total": 2469, "timesteps_since_restore": 4478211, "timesteps_this_iter": 106496, "episode_reward_min": 686.2534658801912, "experiment_id": "c719e39a953041248cf9c0fc9a39d68e", "timestamp": 1556381509, "episodes_this_iter": 63, "done": false, "date": "2019-04-27_16-11-49"}
{"time_since_restore": 1482.927746295929, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 948.5217299719067, "outflow_rate_mean": 824.379373700772, "cost2_mean": -16.789629443636493, "cost2_min": -19.617947671789345, "cost1_max": 396.46090902168214, "system_level_velocity_max": 15.637037771748089, "outflow_rate_min": 787.6657109557405, "cost1_min": 268.841995534416, "cost2_max": -11.088216314041963, "system_level_velocity_mean": 11.697066111155515, "cost1_mean": 308.4836061326681, "system_level_velocity_min": 9.956927590621445}, "time_this_iter_s": 35.26215314865112, "num_metric_batches_dropped": 0, "iterations_since_restore": 42, "node_ip": "10.138.0.2", "pid": 50748, "timesteps_total": 4584863, "info": {"update_time_ms": 11.485, "sample_time_ms": 14655.981, "num_steps_trained": 4584863, "num_steps_sampled": 4584863, "load_time_ms": 8.328, "grad_time_ms": 20080.193, "default": {"entropy": 1.2355124950408936, "kl": 0.009188658557832241, "vf_explained_var": 0.2110190987586975, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0020652173552662134, "vf_loss": 25.548391342163086, "cur_kl_coeff": 0.10000001639127731, "total_loss": 25.547245025634766}}, "episode_reward_max": 791.924369569987, "episode_len_mean": 700.0, "episode_reward_mean": 721.5883323854467, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "output": null, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d226b38>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d226e10>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d226ef0>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "batch_mode": "truncate_episodes", "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "kl_target": 0.01, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "policy_reward_mean": {}, "time_total_s": 1482.927746295929, "training_iteration": 42, "episodes_total": 2534, "timesteps_since_restore": 4584863, "timesteps_this_iter": 106652, "episode_reward_min": 691.4169461646884, "experiment_id": "c719e39a953041248cf9c0fc9a39d68e", "timestamp": 1556381544, "episodes_this_iter": 65, "done": false, "date": "2019-04-27_16-12-24"}
{"time_since_restore": 1516.5627064704895, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 941.3158648134878, "outflow_rate_mean": 818.3334719765118, "cost2_mean": -16.336509056147456, "cost2_min": -18.103060457296177, "cost1_max": 378.3748033454339, "system_level_velocity_max": 14.86031361318708, "outflow_rate_min": 787.6657109557405, "cost1_min": 268.841995534416, "cost2_max": -11.088216314041963, "system_level_velocity_mean": 11.33148152114002, "cost1_mean": 299.82383326181133, "system_level_velocity_min": 9.956927590621445}, "time_this_iter_s": 33.63496017456055, "num_metric_batches_dropped": 0, "iterations_since_restore": 43, "node_ip": "10.138.0.2", "pid": 50748, "timesteps_total": 4692008, "info": {"update_time_ms": 11.363, "sample_time_ms": 14681.535, "num_steps_trained": 4692008, "num_steps_sampled": 4692008, "load_time_ms": 8.146, "grad_time_ms": 19899.875, "default": {"entropy": 1.2347387075424194, "kl": 0.007742435205727816, "vf_explained_var": 0.28096964955329895, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0008499393006786704, "vf_loss": 23.385576248168945, "cur_kl_coeff": 0.10000001639127731, "total_loss": 23.385496139526367}}, "episode_reward_max": 805.3494700633362, "episode_len_mean": 700.0, "episode_reward_mean": 716.0575701872352, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "output": null, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d226c88>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d226dd8>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d226550>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "batch_mode": "truncate_episodes", "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "kl_target": 0.01, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "policy_reward_mean": {}, "time_total_s": 1516.5627064704895, "training_iteration": 43, "episodes_total": 2597, "timesteps_since_restore": 4692008, "timesteps_this_iter": 107145, "episode_reward_min": 693.9195529471718, "experiment_id": "c719e39a953041248cf9c0fc9a39d68e", "timestamp": 1556381578, "episodes_this_iter": 63, "done": false, "date": "2019-04-27_16-12-58"}
{"time_since_restore": 1551.2976315021515, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 932.9230796054054, "outflow_rate_mean": 818.8828922210741, "cost2_mean": -16.676379621040947, "cost2_min": -19.104155316985167, "cost1_max": 377.49215324227396, "system_level_velocity_max": 14.686663686680227, "outflow_rate_min": 791.5256738553203, "cost1_min": 269.0737704553541, "cost2_max": -14.453325744336203, "system_level_velocity_mean": 11.342877590767078, "cost1_mean": 299.895565943689, "system_level_velocity_min": 10.067225033146265}, "time_this_iter_s": 34.73492503166199, "num_metric_batches_dropped": 0, "iterations_since_restore": 44, "node_ip": "10.138.0.2", "pid": 50748, "timesteps_total": 4798174, "info": {"update_time_ms": 11.341, "sample_time_ms": 14685.162, "num_steps_trained": 4798174, "num_steps_sampled": 4798174, "load_time_ms": 8.314, "grad_time_ms": 20086.275, "default": {"entropy": 1.2113734483718872, "kl": 0.008676582016050816, "vf_explained_var": 0.24002937972545624, "cur_lr": 0.0005000000237487257, "policy_loss": -0.001852431450970471, "vf_loss": 27.349164962768555, "cur_kl_coeff": 0.10000000894069672, "total_loss": 27.34817886352539}}, "episode_reward_max": 802.9350841665776, "episode_len_mean": 700.0, "episode_reward_mean": 714.168292290371, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "output": null, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d226e80>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d226208>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d226e10>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "batch_mode": "truncate_episodes", "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "kl_target": 0.01, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "policy_reward_mean": {}, "time_total_s": 1551.2976315021515, "training_iteration": 44, "episodes_total": 2662, "timesteps_since_restore": 4798174, "timesteps_this_iter": 106166, "episode_reward_min": 684.0732664597522, "experiment_id": "c719e39a953041248cf9c0fc9a39d68e", "timestamp": 1556381613, "episodes_this_iter": 65, "done": false, "date": "2019-04-27_16-13-33"}
{"time_since_restore": 1586.0716445446014, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 949.3081365755223, "outflow_rate_mean": 819.4941740718876, "cost2_mean": -17.201446305144756, "cost2_min": -19.676768402136908, "cost1_max": 388.83489106941545, "system_level_velocity_max": 15.188722753460679, "outflow_rate_min": 792.3977265021017, "cost1_min": 271.7955194127501, "cost2_max": -14.814654594552792, "system_level_velocity_mean": 11.667385465606758, "cost1_mean": 307.2918923514083, "system_level_velocity_min": 10.118133483452512}, "time_this_iter_s": 34.77401304244995, "num_metric_batches_dropped": 0, "iterations_since_restore": 45, "node_ip": "10.138.0.2", "pid": 50748, "timesteps_total": 4903947, "info": {"update_time_ms": 11.382, "sample_time_ms": 14647.881, "num_steps_trained": 4903947, "num_steps_sampled": 4903947, "load_time_ms": 8.351, "grad_time_ms": 20063.651, "default": {"entropy": 1.199691891670227, "kl": 0.007482340559363365, "vf_explained_var": 0.19499807059764862, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00045098693226464093, "vf_loss": 27.01443862915039, "cur_kl_coeff": 0.10000001639127731, "total_loss": 27.014734268188477}}, "episode_reward_max": 802.9350841665776, "episode_len_mean": 699.65, "episode_reward_mean": 712.6635738405103, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "output": null, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d226f28>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d226da0>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d226390>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "batch_mode": "truncate_episodes", "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "kl_target": 0.01, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "policy_reward_mean": {}, "time_total_s": 1586.0716445446014, "training_iteration": 45, "episodes_total": 2726, "timesteps_since_restore": 4903947, "timesteps_this_iter": 105773, "episode_reward_min": 672.0977378385138, "experiment_id": "c719e39a953041248cf9c0fc9a39d68e", "timestamp": 1556381647, "episodes_this_iter": 64, "done": false, "date": "2019-04-27_16-14-07"}
{"time_since_restore": 1621.61194896698, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 949.3081365755223, "outflow_rate_mean": 816.0783212984005, "cost2_mean": -17.274819074799844, "cost2_min": -19.465143742498373, "cost1_max": 388.83489106941545, "system_level_velocity_max": 15.188722753460679, "outflow_rate_min": 786.7615926218776, "cost1_min": 271.7955194127501, "cost2_max": -14.866821428912452, "system_level_velocity_mean": 11.645130818479226, "cost1_mean": 307.00416487066383, "system_level_velocity_min": 10.235276724635682}, "time_this_iter_s": 35.54030442237854, "num_metric_batches_dropped": 0, "iterations_since_restore": 46, "node_ip": "10.138.0.2", "pid": 50748, "timesteps_total": 5010155, "info": {"update_time_ms": 11.319, "sample_time_ms": 14638.254, "num_steps_trained": 5010155, "num_steps_sampled": 5010155, "load_time_ms": 8.274, "grad_time_ms": 20130.081, "default": {"entropy": 1.2039518356323242, "kl": 0.007724813651293516, "vf_explained_var": 0.19115357100963593, "cur_lr": 0.0005000000237487257, "policy_loss": -0.001466358546167612, "vf_loss": 26.98994255065918, "cur_kl_coeff": 0.10000000894069672, "total_loss": 26.989246368408203}}, "episode_reward_max": 770.6538400422272, "episode_len_mean": 699.65, "episode_reward_mean": 710.7711792819192, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "output": null, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d226208>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d2262e8>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d226e80>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "batch_mode": "truncate_episodes", "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "kl_target": 0.01, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "policy_reward_mean": {}, "time_total_s": 1621.61194896698, "training_iteration": 46, "episodes_total": 2791, "timesteps_since_restore": 5010155, "timesteps_this_iter": 106208, "episode_reward_min": 672.0977378385138, "experiment_id": "c719e39a953041248cf9c0fc9a39d68e", "timestamp": 1556381683, "episodes_this_iter": 65, "done": false, "date": "2019-04-27_16-14-43"}
{"time_since_restore": 1656.8842370510101, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 943.3105642307137, "outflow_rate_mean": 814.5848047270322, "cost2_mean": -16.758895602490018, "cost2_min": -20.72867688906103, "cost1_max": 403.35589553896205, "system_level_velocity_max": 16.254013205815387, "outflow_rate_min": 791.8699530553035, "cost1_min": 276.31365563992864, "cost2_max": -14.831093861248256, "system_level_velocity_mean": 11.460347896904915, "cost1_mean": 302.8098257966661, "system_level_velocity_min": 10.376298034549123}, "time_this_iter_s": 35.27228808403015, "num_metric_batches_dropped": 0, "iterations_since_restore": 47, "node_ip": "10.138.0.2", "pid": 50748, "timesteps_total": 5116403, "info": {"update_time_ms": 11.378, "sample_time_ms": 14644.584, "num_steps_trained": 5116403, "num_steps_sampled": 5116403, "load_time_ms": 8.006, "grad_time_ms": 20192.345, "default": {"entropy": 1.1998101472854614, "kl": 0.008048026822507381, "vf_explained_var": 0.20407384634017944, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0011748590040951967, "vf_loss": 26.21290397644043, "cur_kl_coeff": 0.10000001639127731, "total_loss": 26.21253204345703}}, "episode_reward_max": 775.1821936711542, "episode_len_mean": 700.0, "episode_reward_mean": 708.5015522273684, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "output": null, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d226c88>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d226828>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d226400>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "batch_mode": "truncate_episodes", "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "kl_target": 0.01, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "policy_reward_mean": {}, "time_total_s": 1656.8842370510101, "training_iteration": 47, "episodes_total": 2855, "timesteps_since_restore": 5116403, "timesteps_this_iter": 106248, "episode_reward_min": 684.5678422874145, "experiment_id": "c719e39a953041248cf9c0fc9a39d68e", "timestamp": 1556381718, "episodes_this_iter": 64, "done": false, "date": "2019-04-27_16-15-18"}
{"time_since_restore": 1693.5388398170471, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 932.303806780736, "outflow_rate_mean": 810.3696457401702, "cost2_mean": -16.28986684677644, "cost2_min": -19.15732997652876, "cost1_max": 391.6772197777667, "system_level_velocity_max": 15.7253234570959, "outflow_rate_min": 659.20338532728, "cost1_min": 67.86580761469216, "cost2_max": -11.158665743692524, "system_level_velocity_mean": 11.374042843639726, "cost1_mean": 297.24162320057496, "system_level_velocity_min": 10.131575177640956}, "time_this_iter_s": 36.65460276603699, "num_metric_batches_dropped": 0, "iterations_since_restore": 48, "node_ip": "10.138.0.2", "pid": 50748, "timesteps_total": 5222178, "info": {"update_time_ms": 11.303, "sample_time_ms": 14665.084, "num_steps_trained": 5222178, "num_steps_sampled": 5222178, "load_time_ms": 8.195, "grad_time_ms": 20436.827, "default": {"entropy": 1.1915481090545654, "kl": 0.0074628000147640705, "vf_explained_var": 0.2159031480550766, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0007260962156578898, "vf_loss": 27.438894271850586, "cur_kl_coeff": 0.10000001639127731, "total_loss": 27.438913345336914}}, "episode_reward_max": 759.9732130064817, "episode_len_mean": 694.26, "episode_reward_mean": 704.4506907741655, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "output": null, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d226128>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d226e10>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d2268d0>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "batch_mode": "truncate_episodes", "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "kl_target": 0.01, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "policy_reward_mean": {}, "time_total_s": 1693.5388398170471, "training_iteration": 48, "episodes_total": 2921, "timesteps_since_restore": 5222178, "timesteps_this_iter": 105775, "episode_reward_min": 120.93936750760615, "experiment_id": "c719e39a953041248cf9c0fc9a39d68e", "timestamp": 1556381755, "episodes_this_iter": 66, "done": false, "date": "2019-04-27_16-15-55"}
{"time_since_restore": 1729.2695331573486, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 940.6565350993254, "outflow_rate_mean": 817.2834108089634, "cost2_mean": -16.3774980416989, "cost2_min": -19.15732997652876, "cost1_max": 400.85636943399123, "system_level_velocity_max": 15.947734538410993, "outflow_rate_min": 787.774371443609, "cost1_min": 274.2601673562599, "cost2_max": -13.79586713640611, "system_level_velocity_mean": 11.658025900685088, "cost1_mean": 307.5095446619542, "system_level_velocity_min": 10.131575177640956}, "time_this_iter_s": 35.730693340301514, "num_metric_batches_dropped": 0, "iterations_since_restore": 49, "node_ip": "10.138.0.2", "pid": 50748, "timesteps_total": 5327563, "info": {"update_time_ms": 11.299, "sample_time_ms": 14691.715, "num_steps_trained": 5327563, "num_steps_sampled": 5327563, "load_time_ms": 8.033, "grad_time_ms": 20472.871, "default": {"entropy": 1.2029590606689453, "kl": 0.008484176360070705, "vf_explained_var": 0.19248071312904358, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0011080869007855654, "vf_loss": 29.76230812072754, "cur_kl_coeff": 0.10000002384185791, "total_loss": 29.762048721313477}}, "episode_reward_max": 801.7674925583389, "episode_len_mean": 700.0, "episode_reward_mean": 718.5561937798708, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "output": null, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d2267b8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d226ba8>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d226390>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "batch_mode": "truncate_episodes", "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "kl_target": 0.01, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "policy_reward_mean": {}, "time_total_s": 1729.2695331573486, "training_iteration": 49, "episodes_total": 2992, "timesteps_since_restore": 5327563, "timesteps_this_iter": 105385, "episode_reward_min": 687.164009410754, "experiment_id": "c719e39a953041248cf9c0fc9a39d68e", "timestamp": 1556381791, "episodes_this_iter": 71, "done": false, "date": "2019-04-27_16-16-31"}
{"time_since_restore": 1762.0108737945557, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 940.6565350993254, "outflow_rate_mean": 814.727090313522, "cost2_mean": -16.77658041152998, "cost2_min": -19.9761621050325, "cost1_max": 400.85636943399123, "system_level_velocity_max": 15.947734538410993, "outflow_rate_min": 779.5856705502788, "cost1_min": 282.92585763784996, "cost2_max": -14.20053583910219, "system_level_velocity_mean": 11.848747425042495, "cost1_mean": 311.5995961271499, "system_level_velocity_min": 10.678296758816238}, "time_this_iter_s": 32.74134063720703, "num_metric_batches_dropped": 0, "iterations_since_restore": 50, "node_ip": "10.138.0.2", "pid": 50748, "timesteps_total": 5431809, "info": {"update_time_ms": 11.033, "sample_time_ms": 14670.148, "num_steps_trained": 5431809, "num_steps_sampled": 5431809, "load_time_ms": 7.992, "grad_time_ms": 20219.568, "default": {"entropy": 1.1882474422454834, "kl": 0.007780517917126417, "vf_explained_var": 0.1790725737810135, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0010182600235566497, "vf_loss": 29.29149627685547, "cur_kl_coeff": 0.10000002384185791, "total_loss": 29.291255950927734}}, "episode_reward_max": 801.7674925583389, "episode_len_mean": 699.57, "episode_reward_mean": 713.6448942787628, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "output": null, "sgd_minibatch_size": 128, "input_evaluation": null, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d226eb8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d226fd0>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12d226208>", "on_sample_end": null}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "clip_actions": false, "num_sgd_iter": 10, "monitor": false, "batch_mode": "truncate_episodes", "sample_async": false, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "output_max_file_size": 67108864, "sample_batch_size": 200, "kl_target": 0.01, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "policy_reward_mean": {}, "time_total_s": 1762.0108737945557, "training_iteration": 50, "episodes_total": 3059, "timesteps_since_restore": 5431809, "timesteps_this_iter": 104246, "episode_reward_min": 661.0474075449998, "experiment_id": "c719e39a953041248cf9c0fc9a39d68e", "timestamp": 1556381823, "episodes_this_iter": 67, "done": true, "date": "2019-04-27_16-17-03"}
