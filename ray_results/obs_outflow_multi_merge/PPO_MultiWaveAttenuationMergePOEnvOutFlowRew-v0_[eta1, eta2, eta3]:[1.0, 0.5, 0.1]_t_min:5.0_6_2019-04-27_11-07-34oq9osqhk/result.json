{"time_since_restore": 41.833468437194824, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 683.1998551792675, "outflow_rate_mean": 600.3518787147264, "outflow_rate_min": 560.796580324665, "cost2_min": -28.180644047839777, "cost1_max": 275.16159407135734, "cost1_mean": 206.85212586266772, "cost2_mean": -21.849073520677944, "cost1_min": 170.43490020296983, "system_level_velocity_max": 10.91100274307738, "system_level_velocity_mean": 8.132522341340515, "cost2_max": -13.96436085583873, "system_level_velocity_min": 6.685479568030805}, "time_this_iter_s": 41.833468437194824, "num_metric_batches_dropped": 0, "iterations_since_restore": 1, "node_ip": "10.138.0.2", "pid": 52798, "timesteps_total": 120702, "info": {"sample_time_ms": 14187.121, "num_steps_trained": 120702, "load_time_ms": 59.727, "update_time_ms": 527.992, "grad_time_ms": 26806.538, "num_steps_sampled": 120702, "default": {"entropy": 1.4164961576461792, "vf_explained_var": 0.8642517328262329, "kl": 0.001877490896731615, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0005924914148636162, "vf_loss": 1.2852023839950562, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1.2849854230880737}}, "episode_len_mean": 700.0, "episode_reward_mean": 269.3348643927394, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "clip_actions": false, "monitor": false, "kl_target": 0.01, "log_level": "INFO", "output": null, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.5, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f2fa898>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f2fa128>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa4128>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "dim": 84, "conv_filters": null, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 360.1415900391076, "time_total_s": 41.833468437194824, "policy_reward_mean": {}, "training_iteration": 1, "episodes_total": 16, "timesteps_since_restore": 120702, "timesteps_this_iter": 120702, "episode_reward_min": 213.00018545210455, "experiment_id": "96f74362955042aaa1df28bf369836fa", "timestamp": 1556363306, "episodes_this_iter": 16, "done": false, "date": "2019-04-27_11-08-26"}
{"time_since_restore": 79.65702152252197, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 799.3748053314146, "outflow_rate_mean": 609.0859879893754, "outflow_rate_min": 396.2021943187275, "cost2_min": -44.609338672455856, "cost1_max": 275.16159407135734, "cost1_mean": 200.87378869334407, "cost2_mean": -27.30695599940988, "cost1_min": 154.7552203052715, "system_level_velocity_max": 10.91100274307738, "system_level_velocity_mean": 7.768408488180953, "cost2_max": -13.96436085583873, "system_level_velocity_min": 5.92454687803256}, "time_this_iter_s": 37.82355308532715, "num_metric_batches_dropped": 0, "iterations_since_restore": 2, "node_ip": "10.138.0.2", "pid": 52798, "timesteps_total": 239799, "info": {"sample_time_ms": 14381.315, "num_steps_trained": 239799, "load_time_ms": 33.631, "update_time_ms": 269.722, "grad_time_ms": 24908.994, "num_steps_sampled": 239799, "default": {"entropy": 1.4133504629135132, "vf_explained_var": 0.9019932150840759, "kl": 0.011898581869900227, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0053879995830357075, "vf_loss": 1.5603718757629395, "cur_kl_coeff": 0.10000001639127731, "total_loss": 1.5561736822128296}}, "episode_len_mean": 700.0, "episode_reward_mean": 328.15082183432514, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "clip_actions": false, "monitor": false, "kl_target": 0.01, "log_level": "INFO", "output": null, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.5, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad1978>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad1908>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad10f0>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "dim": 84, "conv_filters": null, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 479.1470518407985, "time_total_s": 79.65702152252197, "policy_reward_mean": {}, "training_iteration": 2, "episodes_total": 77, "timesteps_since_restore": 239799, "timesteps_this_iter": 119097, "episode_reward_min": 213.00018545210455, "experiment_id": "96f74362955042aaa1df28bf369836fa", "timestamp": 1556363344, "episodes_this_iter": 61, "done": false, "date": "2019-04-27_11-09-04"}
{"time_since_restore": 117.83776116371155, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 870.5327389734749, "outflow_rate_mean": 631.1189746732126, "outflow_rate_min": 396.2021943187275, "cost2_min": -46.756006621645014, "cost1_max": 291.7639508430983, "cost1_mean": 206.8924050953899, "cost2_mean": -27.83014164775885, "cost1_min": 22.500414634900125, "system_level_velocity_max": 18.212053846716735, "system_level_velocity_mean": 8.125415911891718, "cost2_max": -12.294891220402999, "system_level_velocity_min": 5.92454687803256}, "time_this_iter_s": 38.180739641189575, "num_metric_batches_dropped": 0, "iterations_since_restore": 3, "node_ip": "10.138.0.2", "pid": 52798, "timesteps_total": 356244, "info": {"sample_time_ms": 14274.185, "num_steps_trained": 356244, "load_time_ms": 24.214, "update_time_ms": 183.533, "grad_time_ms": 24568.626, "num_steps_sampled": 356244, "default": {"entropy": 1.383256196975708, "vf_explained_var": 0.8658413887023926, "kl": 0.008417179808020592, "cur_lr": 0.0005000000237487257, "policy_loss": -0.003936501685529947, "vf_loss": 4.544646739959717, "cur_kl_coeff": 0.10000000894069672, "total_loss": 4.54155158996582}}, "episode_len_mean": 693.35, "episode_reward_mean": 386.4946423244878, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "clip_actions": false, "monitor": false, "kl_target": 0.01, "log_level": "INFO", "output": null, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.5, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dacd6a0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dacd978>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dacd710>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "dim": 84, "conv_filters": null, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 685.9291641630659, "time_total_s": 117.83776116371155, "policy_reward_mean": {}, "training_iteration": 3, "episodes_total": 130, "timesteps_since_restore": 356244, "timesteps_this_iter": 116445, "episode_reward_min": 37.56256060607743, "experiment_id": "96f74362955042aaa1df28bf369836fa", "timestamp": 1556363382, "episodes_this_iter": 53, "done": false, "date": "2019-04-27_11-09-42"}
{"time_since_restore": 154.4131453037262, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 947.1080589218882, "outflow_rate_mean": 736.1861658343206, "outflow_rate_min": 409.6213105256801, "cost2_min": -46.756006621645014, "cost1_max": 333.1029801846767, "cost1_mean": 241.5049252793323, "cost2_mean": -28.267039357075404, "cost1_min": 22.500414634900125, "system_level_velocity_max": 18.212053846716735, "system_level_velocity_mean": 9.386392300469943, "cost2_max": -12.294891220402999, "system_level_velocity_min": 6.509667848014999}, "time_this_iter_s": 36.57538414001465, "num_metric_batches_dropped": 0, "iterations_since_restore": 4, "node_ip": "10.138.0.2", "pid": 52798, "timesteps_total": 472336, "info": {"sample_time_ms": 14259.49, "num_steps_trained": 472336, "load_time_ms": 19.56, "update_time_ms": 140.106, "grad_time_ms": 23960.871, "num_steps_sampled": 472336, "default": {"entropy": 1.3618866205215454, "vf_explained_var": 0.7816073298454285, "kl": 0.007554695941507816, "cur_lr": 0.0005000000237487257, "policy_loss": -0.003021595301106572, "vf_loss": 6.968020439147949, "cur_kl_coeff": 0.10000002384185791, "total_loss": 6.96575403213501}}, "episode_len_mean": 693.35, "episode_reward_mean": 547.2704622182888, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "clip_actions": false, "monitor": false, "kl_target": 0.01, "log_level": "INFO", "output": null, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.5, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad1c18>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad1198>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad1978>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "dim": 84, "conv_filters": null, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 776.6054055699063, "time_total_s": 154.4131453037262, "policy_reward_mean": {}, "training_iteration": 4, "episodes_total": 190, "timesteps_since_restore": 472336, "timesteps_this_iter": 116092, "episode_reward_min": 37.56256060607743, "experiment_id": "96f74362955042aaa1df28bf369836fa", "timestamp": 1556363419, "episodes_this_iter": 60, "done": false, "date": "2019-04-27_11-10-19"}
{"time_since_restore": 190.71277523040771, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 929.6862750733911, "outflow_rate_mean": 808.0143464914021, "outflow_rate_min": 544.1521640642432, "cost2_min": -37.16051623432627, "cost1_max": 315.028282195243, "cost1_mean": 263.1193495214249, "cost2_mean": -27.570819213462354, "cost1_min": 173.68464952368288, "system_level_velocity_max": 11.808417501330275, "system_level_velocity_mean": 9.953184650257228, "cost2_max": -19.859178381335465, "system_level_velocity_min": 6.7296035148920135}, "time_this_iter_s": 36.29962992668152, "num_metric_batches_dropped": 0, "iterations_since_restore": 5, "node_ip": "10.138.0.2", "pid": 52798, "timesteps_total": 586224, "info": {"sample_time_ms": 14206.324, "num_steps_trained": 586224, "load_time_ms": 16.826, "update_time_ms": 114.011, "grad_time_ms": 23585.212, "num_steps_sampled": 586224, "default": {"entropy": 1.3587526082992554, "vf_explained_var": 0.752416729927063, "kl": 0.004701020196080208, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0012233505258336663, "vf_loss": 8.061966896057129, "cur_kl_coeff": 0.10000001639127731, "total_loss": 8.061214447021484}}, "episode_len_mean": 700.0, "episode_reward_mean": 677.7101270651875, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "clip_actions": false, "monitor": false, "kl_target": 0.01, "log_level": "INFO", "output": null, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.5, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dacd240>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dacda20>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dacdb70>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "dim": 84, "conv_filters": null, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 830.8330880662014, "time_total_s": 190.71277523040771, "policy_reward_mean": {}, "training_iteration": 5, "episodes_total": 245, "timesteps_since_restore": 586224, "timesteps_this_iter": 113888, "episode_reward_min": 489.946903148718, "experiment_id": "96f74362955042aaa1df28bf369836fa", "timestamp": 1556363455, "episodes_this_iter": 55, "done": false, "date": "2019-04-27_11-10-55"}
{"time_since_restore": 226.56869530677795, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 976.1575400368988, "outflow_rate_mean": 824.9743924572612, "outflow_rate_min": 698.2054400995827, "cost2_min": -37.0983324714615, "cost1_max": 334.7631766489405, "cost1_mean": 265.95295268174027, "cost2_mean": -24.824573566762, "cost1_min": 197.00552866797284, "system_level_velocity_max": 12.818295219460742, "system_level_velocity_mean": 10.007887579802887, "cost2_max": -19.878383740485386, "system_level_velocity_min": 7.404301375910054}, "time_this_iter_s": 35.85592007637024, "num_metric_batches_dropped": 0, "iterations_since_restore": 6, "node_ip": "10.138.0.2", "pid": 52798, "timesteps_total": 701881, "info": {"sample_time_ms": 14121.608, "num_steps_trained": 701881, "load_time_ms": 15.122, "update_time_ms": 96.997, "grad_time_ms": 23311.018, "num_steps_sampled": 701881, "default": {"entropy": 1.3527854681015015, "vf_explained_var": 0.7455496191978455, "kl": 0.005508470349013805, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0012180607300251722, "vf_loss": 8.373303413391113, "cur_kl_coeff": 0.050000011920928955, "total_loss": 8.372361183166504}}, "episode_len_mean": 700.0, "episode_reward_mean": 727.0838089838259, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "clip_actions": false, "monitor": false, "kl_target": 0.01, "log_level": "INFO", "output": null, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.5, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad1940>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad1898>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad1c18>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "dim": 84, "conv_filters": null, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 830.8330880662014, "time_total_s": 226.56869530677795, "policy_reward_mean": {}, "training_iteration": 6, "episodes_total": 300, "timesteps_since_restore": 701881, "timesteps_this_iter": 115657, "episode_reward_min": 634.9701725043161, "experiment_id": "96f74362955042aaa1df28bf369836fa", "timestamp": 1556363491, "episodes_this_iter": 55, "done": false, "date": "2019-04-27_11-11-31"}
{"time_since_restore": 262.1288433074951, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 987.0173211119144, "outflow_rate_mean": 855.3284380816942, "outflow_rate_min": 726.9314696938836, "cost2_min": -26.751951210877465, "cost1_max": 344.1525754685017, "cost1_mean": 279.7426243751692, "cost2_mean": -22.36135736141296, "cost1_min": 234.09229237537846, "system_level_velocity_max": 13.035134320186355, "system_level_velocity_mean": 10.511365292153481, "cost2_max": -18.66212654516707, "system_level_velocity_min": 8.781069014989415}, "time_this_iter_s": 35.56014800071716, "num_metric_batches_dropped": 0, "iterations_since_restore": 7, "node_ip": "10.138.0.2", "pid": 52798, "timesteps_total": 818561, "info": {"sample_time_ms": 14239.314, "num_steps_trained": 818561, "load_time_ms": 13.671, "update_time_ms": 84.639, "grad_time_ms": 22892.833, "num_steps_sampled": 818561, "default": {"entropy": 1.3353370428085327, "vf_explained_var": 0.7073767781257629, "kl": 0.005734087899327278, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0009286716231144965, "vf_loss": 11.32143783569336, "cur_kl_coeff": 0.050000011920928955, "total_loss": 11.320796012878418}}, "episode_len_mean": 700.0, "episode_reward_mean": 765.88097755693, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "clip_actions": false, "monitor": false, "kl_target": 0.01, "log_level": "INFO", "output": null, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.5, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dacd2b0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dacdef0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dacdcf8>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "dim": 84, "conv_filters": null, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 861.1614398322575, "time_total_s": 262.1288433074951, "policy_reward_mean": {}, "training_iteration": 7, "episodes_total": 360, "timesteps_since_restore": 818561, "timesteps_this_iter": 116680, "episode_reward_min": 653.6779885004752, "experiment_id": "96f74362955042aaa1df28bf369836fa", "timestamp": 1556363527, "episodes_this_iter": 60, "done": false, "date": "2019-04-27_11-12-07"}
{"time_since_restore": 297.255818605423, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1014.0546605675829, "outflow_rate_mean": 887.617031737533, "outflow_rate_min": 500.6739677162039, "cost2_min": -24.543476246343857, "cost1_max": 371.9770126523463, "cost1_mean": 295.9299190994702, "cost2_mean": -21.046250324133847, "cost1_min": 23.39507723204796, "system_level_velocity_max": 17.431461052378047, "system_level_velocity_mean": 11.29159309724853, "cost2_max": -8.665803968623967, "system_level_velocity_min": 8.917095327133953}, "time_this_iter_s": 35.126975297927856, "num_metric_batches_dropped": 0, "iterations_since_restore": 8, "node_ip": "10.138.0.2", "pid": 52798, "timesteps_total": 935151, "info": {"sample_time_ms": 14247.322, "num_steps_trained": 935151, "load_time_ms": 12.408, "update_time_ms": 75.367, "grad_time_ms": 22609.498, "num_steps_sampled": 935151, "default": {"entropy": 1.3237768411636353, "vf_explained_var": 0.7841805815696716, "kl": 0.004935005679726601, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0007671357016079128, "vf_loss": 9.977785110473633, "cur_kl_coeff": 0.05000000819563866, "total_loss": 9.977264404296875}}, "episode_len_mean": 693.38, "episode_reward_mean": 789.5075583029231, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "clip_actions": false, "monitor": false, "kl_target": 0.01, "log_level": "INFO", "output": null, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.5, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad1240>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad1908>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad10f0>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "dim": 84, "conv_filters": null, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 915.2593506056908, "time_total_s": 297.255818605423, "policy_reward_mean": {}, "training_iteration": 8, "episodes_total": 399, "timesteps_since_restore": 935151, "timesteps_this_iter": 116590, "episode_reward_min": 46.79828799943284, "experiment_id": "96f74362955042aaa1df28bf369836fa", "timestamp": 1556363562, "episodes_this_iter": 39, "done": false, "date": "2019-04-27_11-12-42"}
{"time_since_restore": 334.2805905342102, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1023.7640174854777, "outflow_rate_mean": 908.4981165257236, "outflow_rate_min": 500.6739677162039, "cost2_min": -26.51086499185683, "cost1_max": 373.4951830897207, "cost1_mean": 303.66725539269504, "cost2_mean": -20.614268734513647, "cost1_min": 23.39507723204796, "system_level_velocity_max": 17.431461052378047, "system_level_velocity_mean": 11.580835825186789, "cost2_max": -8.665803968623967, "system_level_velocity_min": 8.871009960358101}, "time_this_iter_s": 37.02477192878723, "num_metric_batches_dropped": 0, "iterations_since_restore": 9, "node_ip": "10.138.0.2", "pid": 52798, "timesteps_total": 1051321, "info": {"sample_time_ms": 14311.348, "num_steps_trained": 1051321, "load_time_ms": 11.612, "update_time_ms": 68.16, "grad_time_ms": 22538.104, "num_steps_sampled": 1051321, "default": {"entropy": 1.3108112812042236, "vf_explained_var": 0.7253140211105347, "kl": 0.006488238461315632, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0009071499807760119, "vf_loss": 13.778558731079102, "cur_kl_coeff": 0.02500000409781933, "total_loss": 13.777812957763672}}, "episode_len_mean": 693.38, "episode_reward_mean": 811.6662234865529, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "clip_actions": false, "monitor": false, "kl_target": 0.01, "log_level": "INFO", "output": null, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.5, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dacdb70>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dacdb38>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dacd438>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "dim": 84, "conv_filters": null, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 922.498805854485, "time_total_s": 334.2805905342102, "policy_reward_mean": {}, "training_iteration": 9, "episodes_total": 457, "timesteps_since_restore": 1051321, "timesteps_this_iter": 116170, "episode_reward_min": 46.79828799943284, "experiment_id": "96f74362955042aaa1df28bf369836fa", "timestamp": 1556363599, "episodes_this_iter": 58, "done": false, "date": "2019-04-27_11-13-19"}
{"time_since_restore": 371.44610834121704, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1023.7640174854777, "outflow_rate_mean": 919.9423079997922, "outflow_rate_min": 791.5873616052147, "cost2_min": -27.1313586192287, "cost1_max": 376.3322141593053, "cost1_mean": 308.2829620931124, "cost2_mean": -21.001559390765834, "cost1_min": 213.597116176983, "system_level_velocity_max": 14.322408446754958, "system_level_velocity_mean": 11.656780102436821, "cost2_max": -16.566784480094352, "system_level_velocity_min": 7.981450267531247}, "time_this_iter_s": 37.165517807006836, "num_metric_batches_dropped": 0, "iterations_since_restore": 10, "node_ip": "10.138.0.2", "pid": 52798, "timesteps_total": 1162596, "info": {"sample_time_ms": 14386.901, "num_steps_trained": 1162596, "load_time_ms": 10.963, "update_time_ms": 62.822, "grad_time_ms": 22473.891, "num_steps_sampled": 1162596, "default": {"entropy": 1.3089497089385986, "vf_explained_var": 0.73410964012146, "kl": 0.006013215985149145, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0010117924539372325, "vf_loss": 16.525081634521484, "cur_kl_coeff": 0.02500000223517418, "total_loss": 16.524219512939453}}, "episode_len_mean": 696.97, "episode_reward_mean": 822.1786844583631, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "clip_actions": false, "monitor": false, "kl_target": 0.01, "log_level": "INFO", "output": null, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.5, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad1320>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad10f0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad1780>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "dim": 84, "conv_filters": null, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 922.498805854485, "time_total_s": 371.44610834121704, "policy_reward_mean": {}, "training_iteration": 10, "episodes_total": 516, "timesteps_since_restore": 1162596, "timesteps_this_iter": 111275, "episode_reward_min": 494.5283644472324, "experiment_id": "96f74362955042aaa1df28bf369836fa", "timestamp": 1556363636, "episodes_this_iter": 59, "done": false, "date": "2019-04-27_11-13-56"}
{"time_since_restore": 408.2546343803406, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1024.986049062431, "outflow_rate_mean": 942.1980913454447, "outflow_rate_min": 493.68443328291704, "cost2_min": -27.1313586192287, "cost1_max": 381.75928775691375, "cost1_mean": 324.80751234147255, "cost2_mean": -19.875084986992032, "cost1_min": 22.95211785461708, "system_level_velocity_max": 16.983159035837726, "system_level_velocity_mean": 12.467279385506881, "cost2_max": -7.994746912324215, "system_level_velocity_min": 7.981450267531247}, "time_this_iter_s": 36.808526039123535, "num_metric_batches_dropped": 0, "iterations_since_restore": 11, "node_ip": "10.138.0.2", "pid": 52798, "timesteps_total": 1273424, "info": {"sample_time_ms": 14397.172, "num_steps_trained": 1273424, "load_time_ms": 5.717, "update_time_ms": 11.228, "grad_time_ms": 22021.212, "num_steps_sampled": 1273424, "default": {"entropy": 1.3026782274246216, "vf_explained_var": 0.7116899490356445, "kl": 0.008605850860476494, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0014388718409463763, "vf_loss": 17.568504333496094, "cur_kl_coeff": 0.02500000409781933, "total_loss": 17.567279815673828}}, "episode_len_mean": 690.35, "episode_reward_mean": 831.5399939619449, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "clip_actions": false, "monitor": false, "kl_target": 0.01, "log_level": "INFO", "output": null, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.5, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dacd668>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dacd780>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dacda58>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "dim": 84, "conv_filters": null, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 921.3131252339833, "time_total_s": 408.2546343803406, "policy_reward_mean": {}, "training_iteration": 11, "episodes_total": 577, "timesteps_since_restore": 1273424, "timesteps_this_iter": 110828, "episode_reward_min": 47.2302810438298, "experiment_id": "96f74362955042aaa1df28bf369836fa", "timestamp": 1556363673, "episodes_this_iter": 61, "done": false, "date": "2019-04-27_11-14-33"}
{"time_since_restore": 445.2286891937256, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1025.3668912890419, "outflow_rate_mean": 950.3494735895296, "outflow_rate_min": 794.0455118879935, "cost2_min": -26.251762609599442, "cost1_max": 385.8705298586004, "cost1_mean": 337.21756745514756, "cost2_mean": -18.615851355084626, "cost1_min": 244.84579535631434, "system_level_velocity_max": 14.768683435197303, "system_level_velocity_mean": 12.712426743637105, "cost2_max": -14.27387542926418, "system_level_velocity_min": 9.149235954286567}, "time_this_iter_s": 36.97405481338501, "num_metric_batches_dropped": 0, "iterations_since_restore": 12, "node_ip": "10.138.0.2", "pid": 52798, "timesteps_total": 1382721, "info": {"sample_time_ms": 14390.718, "num_steps_trained": 1382721, "load_time_ms": 5.496, "update_time_ms": 11.135, "grad_time_ms": 21945.513, "num_steps_sampled": 1382721, "default": {"entropy": 1.2837328910827637, "vf_explained_var": 0.7068486213684082, "kl": 0.007484056055545807, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0008148289052769542, "vf_loss": 18.246915817260742, "cur_kl_coeff": 0.025000005960464478, "total_loss": 18.24629020690918}}, "episode_len_mean": 700.0, "episode_reward_mean": 844.8692211944945, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "clip_actions": false, "monitor": false, "kl_target": 0.01, "log_level": "INFO", "output": null, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.5, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad1f28>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad10f0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad1eb8>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "dim": 84, "conv_filters": null, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 915.6463152054874, "time_total_s": 445.2286891937256, "policy_reward_mean": {}, "training_iteration": 12, "episodes_total": 636, "timesteps_since_restore": 1382721, "timesteps_this_iter": 109297, "episode_reward_min": 727.8059501562112, "experiment_id": "96f74362955042aaa1df28bf369836fa", "timestamp": 1556363710, "episodes_this_iter": 59, "done": false, "date": "2019-04-27_11-15-10"}
{"time_since_restore": 483.35101413726807, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1024.868459188728, "outflow_rate_mean": 952.9751588999889, "outflow_rate_min": 794.0455118879935, "cost2_min": -23.60746049240545, "cost1_max": 393.4824581013551, "cost1_mean": 342.2768401035861, "cost2_mean": -17.38667732061098, "cost1_min": 247.8634150209421, "system_level_velocity_max": 14.888243867147864, "system_level_velocity_mean": 12.893201477503066, "cost2_max": -13.7102445919284, "system_level_velocity_min": 9.149235954286567}, "time_this_iter_s": 38.12232494354248, "num_metric_batches_dropped": 0, "iterations_since_restore": 13, "node_ip": "10.138.0.2", "pid": 52798, "timesteps_total": 1493363, "info": {"sample_time_ms": 14508.25, "num_steps_trained": 1493363, "load_time_ms": 5.556, "update_time_ms": 11.079, "grad_time_ms": 21821.722, "num_steps_sampled": 1493363, "default": {"entropy": 1.2692617177963257, "vf_explained_var": 0.6827378869056702, "kl": 0.006963940802961588, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0010659749386832118, "vf_loss": 18.96238136291504, "cur_kl_coeff": 0.02500000223517418, "total_loss": 18.961490631103516}}, "episode_len_mean": 700.0, "episode_reward_mean": 852.2192175386957, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "clip_actions": false, "monitor": false, "kl_target": 0.01, "log_level": "INFO", "output": null, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.5, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dacd390>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dacd9b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dacd908>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "dim": 84, "conv_filters": null, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 917.8589690809231, "time_total_s": 483.35101413726807, "policy_reward_mean": {}, "training_iteration": 13, "episodes_total": 698, "timesteps_since_restore": 1493363, "timesteps_this_iter": 110642, "episode_reward_min": 731.1992838858114, "experiment_id": "96f74362955042aaa1df28bf369836fa", "timestamp": 1556363748, "episodes_this_iter": 62, "done": false, "date": "2019-04-27_11-15-48"}
{"time_since_restore": 519.6973185539246, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1024.868459188728, "outflow_rate_mean": 939.1704889737777, "outflow_rate_min": 503.4799806009568, "cost2_min": -21.90871002020651, "cost1_max": 398.1577544929444, "cost1_mean": 337.26237279580585, "cost2_mean": -16.296431975479734, "cost1_min": 23.430598331949287, "system_level_velocity_max": 17.48053097366216, "system_level_velocity_mean": 12.850950583725542, "cost2_max": -7.7837169607273475, "system_level_velocity_min": 9.473490782144633}, "time_this_iter_s": 36.346304416656494, "num_metric_batches_dropped": 0, "iterations_since_restore": 14, "node_ip": "10.138.0.2", "pid": 52798, "timesteps_total": 1602722, "info": {"sample_time_ms": 14539.305, "num_steps_trained": 1602722, "load_time_ms": 5.485, "update_time_ms": 11.161, "grad_time_ms": 21767.958, "num_steps_sampled": 1602722, "default": {"entropy": 1.255811333656311, "vf_explained_var": 0.650486946105957, "kl": 0.0071080708876252174, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0005825816188007593, "vf_loss": 19.96839714050293, "cur_kl_coeff": 0.02500000223517418, "total_loss": 19.967992782592773}}, "episode_len_mean": 693.38, "episode_reward_mean": 841.1577688677951, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "clip_actions": false, "monitor": false, "kl_target": 0.01, "log_level": "INFO", "output": null, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.5, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad1b00>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad19e8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad1f28>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "dim": 84, "conv_filters": null, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 934.6177579931323, "time_total_s": 519.6973185539246, "policy_reward_mean": {}, "training_iteration": 14, "episodes_total": 758, "timesteps_since_restore": 1602722, "timesteps_this_iter": 109359, "episode_reward_min": 47.429328324792664, "experiment_id": "96f74362955042aaa1df28bf369836fa", "timestamp": 1556363784, "episodes_this_iter": 60, "done": false, "date": "2019-04-27_11-16-24"}
{"time_since_restore": 555.7765200138092, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1020.9921149483419, "outflow_rate_mean": 937.5682696247527, "outflow_rate_min": 503.4799806009568, "cost2_min": -19.103712964598834, "cost1_max": 399.13536281342306, "cost1_mean": 339.4941828792714, "cost2_mean": -15.420570493428507, "cost1_min": 23.430598331949287, "system_level_velocity_max": 17.48053097366216, "system_level_velocity_mean": 12.914666761018273, "cost2_max": -7.7837169607273475, "system_level_velocity_min": 9.521544615020222}, "time_this_iter_s": 36.079201459884644, "num_metric_batches_dropped": 0, "iterations_since_restore": 15, "node_ip": "10.138.0.2", "pid": 52798, "timesteps_total": 1713174, "info": {"sample_time_ms": 14590.611, "num_steps_trained": 1713174, "load_time_ms": 5.402, "update_time_ms": 11.099, "grad_time_ms": 21694.715, "num_steps_sampled": 1713174, "default": {"entropy": 1.2512890100479126, "vf_explained_var": 0.6544727683067322, "kl": 0.0070863645523786545, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0003671630984172225, "vf_loss": 19.9148006439209, "cur_kl_coeff": 0.02500000409781933, "total_loss": 19.914609909057617}}, "episode_len_mean": 693.38, "episode_reward_mean": 850.4910418728624, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "clip_actions": false, "monitor": false, "kl_target": 0.01, "log_level": "INFO", "output": null, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.5, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dacd940>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dab7e10>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9d128>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "dim": 84, "conv_filters": null, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 938.4139169081797, "time_total_s": 555.7765200138092, "policy_reward_mean": {}, "training_iteration": 15, "episodes_total": 819, "timesteps_since_restore": 1713174, "timesteps_this_iter": 110452, "episode_reward_min": 47.429328324792664, "experiment_id": "96f74362955042aaa1df28bf369836fa", "timestamp": 1556363820, "episodes_this_iter": 61, "done": false, "date": "2019-04-27_11-17-00"}
{"time_since_restore": 591.7489910125732, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1020.9921149483419, "outflow_rate_mean": 937.870645055406, "outflow_rate_min": 494.8530148867623, "cost2_min": -18.365108273581484, "cost1_max": 399.13536281342306, "cost1_mean": 341.07715652397064, "cost2_mean": -14.805739854688829, "cost1_min": 24.479891540407305, "system_level_velocity_max": 17.22986752847352, "system_level_velocity_mean": 12.962125981546665, "cost2_max": -5.659866436709544, "system_level_velocity_min": 9.521544615020222}, "time_this_iter_s": 35.97247099876404, "num_metric_batches_dropped": 0, "iterations_since_restore": 16, "node_ip": "10.138.0.2", "pid": 52798, "timesteps_total": 1822717, "info": {"sample_time_ms": 14663.63, "num_steps_trained": 1822717, "load_time_ms": 5.281, "update_time_ms": 10.974, "grad_time_ms": 21632.62, "num_steps_sampled": 1822717, "default": {"entropy": 1.2323503494262695, "vf_explained_var": 0.5889447331428528, "kl": 0.007490673568099737, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0005684850621037185, "vf_loss": 21.839427947998047, "cur_kl_coeff": 0.02500000409781933, "total_loss": 21.839046478271484}}, "episode_len_mean": 693.4, "episode_reward_mean": 852.8639565014585, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "clip_actions": false, "monitor": false, "kl_target": 0.01, "log_level": "INFO", "output": null, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.5, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad1710>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad1f60>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad1b00>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "dim": 84, "conv_filters": null, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 938.4139169081797, "time_total_s": 591.7489910125732, "policy_reward_mean": {}, "training_iteration": 16, "episodes_total": 880, "timesteps_since_restore": 1822717, "timesteps_this_iter": 109543, "episode_reward_min": 54.84657372944514, "experiment_id": "96f74362955042aaa1df28bf369836fa", "timestamp": 1556363856, "episodes_this_iter": 61, "done": false, "date": "2019-04-27_11-17-36"}
{"time_since_restore": 626.9545035362244, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1011.7092203895958, "outflow_rate_mean": 933.511645591337, "outflow_rate_min": 494.8530148867623, "cost2_min": -22.442528871538535, "cost1_max": 399.9267415379454, "cost1_mean": 338.70457913702245, "cost2_mean": -16.27823328333171, "cost1_min": 24.479891540407305, "system_level_velocity_max": 17.22986752847352, "system_level_velocity_mean": 12.868687178197654, "cost2_max": -5.659866436709544, "system_level_velocity_min": 9.830235407313776}, "time_this_iter_s": 35.20551252365112, "num_metric_batches_dropped": 0, "iterations_since_restore": 17, "node_ip": "10.138.0.2", "pid": 52798, "timesteps_total": 1935220, "info": {"sample_time_ms": 14648.541, "num_steps_trained": 1935220, "load_time_ms": 5.289, "update_time_ms": 10.991, "grad_time_ms": 21612.478, "num_steps_sampled": 1935220, "default": {"entropy": 1.2305874824523926, "vf_explained_var": 0.6187776327133179, "kl": 0.00716958986595273, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0001962962851393968, "vf_loss": 21.92835807800293, "cur_kl_coeff": 0.02500000223517418, "total_loss": 21.928340911865234}}, "episode_len_mean": 693.4, "episode_reward_mean": 854.088605858036, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "clip_actions": false, "monitor": false, "kl_target": 0.01, "log_level": "INFO", "output": null, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.5, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dab7e80>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad1400>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad1860>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "dim": 84, "conv_filters": null, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 937.5469841981717, "time_total_s": 626.9545035362244, "policy_reward_mean": {}, "training_iteration": 17, "episodes_total": 938, "timesteps_since_restore": 1935220, "timesteps_this_iter": 112503, "episode_reward_min": 54.84657372944514, "experiment_id": "96f74362955042aaa1df28bf369836fa", "timestamp": 1556363892, "episodes_this_iter": 58, "done": false, "date": "2019-04-27_11-18-12"}
{"time_since_restore": 666.2211155891418, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1028.5362225892231, "outflow_rate_mean": 928.5801737336916, "outflow_rate_min": 817.2637191912095, "cost2_min": -24.782827407283644, "cost1_max": 396.882134439706, "cost1_mean": 329.65340233210935, "cost2_mean": -17.50093208935981, "cost1_min": 258.81662923564613, "system_level_velocity_max": 14.82619763214017, "system_level_velocity_mean": 12.36310187636633, "cost2_max": -13.614720875035514, "system_level_velocity_min": 9.665979044781569}, "time_this_iter_s": 39.26661205291748, "num_metric_batches_dropped": 0, "iterations_since_restore": 18, "node_ip": "10.138.0.2", "pid": 52798, "timesteps_total": 2048467, "info": {"sample_time_ms": 14721.936, "num_steps_trained": 2048467, "load_time_ms": 5.478, "update_time_ms": 10.944, "grad_time_ms": 21949.366, "num_steps_sampled": 2048467, "default": {"entropy": 1.2287057638168335, "vf_explained_var": 0.6443819999694824, "kl": 0.0067984797060489655, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0006776978843845427, "vf_loss": 20.977752685546875, "cur_kl_coeff": 0.02500000409781933, "total_loss": 20.977243423461914}}, "episode_len_mean": 700.0, "episode_reward_mean": 860.8268645301432, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "clip_actions": false, "monitor": false, "kl_target": 0.01, "log_level": "INFO", "output": null, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.5, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad13c8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad1710>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad1438>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "dim": 84, "conv_filters": null, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 940.3856180531101, "time_total_s": 666.2211155891418, "policy_reward_mean": {}, "training_iteration": 18, "episodes_total": 995, "timesteps_since_restore": 2048467, "timesteps_this_iter": 113247, "episode_reward_min": 757.0142094742126, "experiment_id": "96f74362955042aaa1df28bf369836fa", "timestamp": 1556363931, "episodes_this_iter": 57, "done": false, "date": "2019-04-27_11-18-51"}
{"time_since_restore": 702.9489486217499, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1041.640174208063, "outflow_rate_mean": 931.2874915382918, "outflow_rate_min": 828.945437201528, "cost2_min": -24.782827407283644, "cost1_max": 408.3710306011211, "cost1_mean": 330.04866302114357, "cost2_mean": -16.46554715294827, "cost1_min": 257.59989386096214, "system_level_velocity_max": 15.349048677309215, "system_level_velocity_mean": 12.384467128873883, "cost2_max": -11.720286192009674, "system_level_velocity_min": 9.60534035758165}, "time_this_iter_s": 36.72783303260803, "num_metric_batches_dropped": 0, "iterations_since_restore": 19, "node_ip": "10.138.0.2", "pid": 52798, "timesteps_total": 2159111, "info": {"sample_time_ms": 14695.01, "num_steps_trained": 2159111, "load_time_ms": 5.441, "update_time_ms": 11.113, "grad_time_ms": 21947.211, "num_steps_sampled": 2159111, "default": {"entropy": 1.217517375946045, "vf_explained_var": 0.6147059798240662, "kl": 0.008046410046517849, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0004815583524759859, "vf_loss": 22.445384979248047, "cur_kl_coeff": 0.02500000223517418, "total_loss": 22.445104598999023}}, "episode_len_mean": 700.0, "episode_reward_mean": 860.7414407684436, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "clip_actions": false, "monitor": false, "kl_target": 0.01, "log_level": "INFO", "output": null, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.5, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dacd7b8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dacd668>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dacda20>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "dim": 84, "conv_filters": null, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 977.5894755156011, "time_total_s": 702.9489486217499, "policy_reward_mean": {}, "training_iteration": 19, "episodes_total": 1053, "timesteps_since_restore": 2159111, "timesteps_this_iter": 110644, "episode_reward_min": 757.0142094742126, "experiment_id": "96f74362955042aaa1df28bf369836fa", "timestamp": 1556363968, "episodes_this_iter": 58, "done": false, "date": "2019-04-27_11-19-28"}
{"time_since_restore": 737.5066168308258, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1016.0893576044099, "outflow_rate_mean": 923.9268968307103, "outflow_rate_min": 811.9055985635536, "cost2_min": -18.846715048931685, "cost1_max": 390.91433251454526, "cost1_mean": 330.93578164403044, "cost2_mean": -14.708483350871349, "cost1_min": 256.1078587676683, "system_level_velocity_max": 14.757621547766934, "system_level_velocity_mean": 12.41324827314559, "cost2_max": -10.164978856847183, "system_level_velocity_min": 9.60534035758165}, "time_this_iter_s": 34.55766820907593, "num_metric_batches_dropped": 0, "iterations_since_restore": 20, "node_ip": "10.138.0.2", "pid": 52798, "timesteps_total": 2269263, "info": {"sample_time_ms": 14653.039, "num_steps_trained": 2269263, "load_time_ms": 5.49, "update_time_ms": 10.77, "grad_time_ms": 21726.01, "num_steps_sampled": 2269263, "default": {"entropy": 1.200132966041565, "vf_explained_var": 0.5623053908348083, "kl": 0.006673394702374935, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0003113430575467646, "vf_loss": 24.83319854736328, "cur_kl_coeff": 0.02500000409781933, "total_loss": 24.833053588867188}}, "episode_len_mean": 700.0, "episode_reward_mean": 853.5667595744231, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "clip_actions": false, "monitor": false, "kl_target": 0.01, "log_level": "INFO", "output": null, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.5, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad10f0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad1438>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad1358>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "dim": 84, "conv_filters": null, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 934.8998011976036, "time_total_s": 737.5066168308258, "policy_reward_mean": {}, "training_iteration": 20, "episodes_total": 1113, "timesteps_since_restore": 2269263, "timesteps_this_iter": 110152, "episode_reward_min": 746.3969808736182, "experiment_id": "96f74362955042aaa1df28bf369836fa", "timestamp": 1556364002, "episodes_this_iter": 60, "done": false, "date": "2019-04-27_11-20-02"}
{"time_since_restore": 773.162416934967, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1003.4262699771127, "outflow_rate_mean": 921.8970915664243, "outflow_rate_min": 811.9055985635536, "cost2_min": -16.82844565940656, "cost1_max": 404.6185382743962, "cost1_mean": 334.8703698852164, "cost2_mean": -13.7689347729912, "cost1_min": 256.1078587676683, "system_level_velocity_max": 15.31296732224075, "system_level_velocity_mean": 12.571793467822818, "cost2_max": -11.17489943299395, "system_level_velocity_min": 9.676636577950843}, "time_this_iter_s": 35.655800104141235, "num_metric_batches_dropped": 0, "iterations_since_restore": 21, "node_ip": "10.138.0.2", "pid": 52798, "timesteps_total": 2380621, "info": {"sample_time_ms": 14685.932, "num_steps_trained": 2380621, "load_time_ms": 5.162, "update_time_ms": 10.755, "grad_time_ms": 21580.926, "num_steps_sampled": 2380621, "default": {"entropy": 1.1960289478302002, "vf_explained_var": 0.5934299826622009, "kl": 0.006970184855163097, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00020260256133042276, "vf_loss": 24.395540237426758, "cur_kl_coeff": 0.02500000223517418, "total_loss": 24.395511627197266}}, "episode_len_mean": 700.0, "episode_reward_mean": 851.3770062676635, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "clip_actions": false, "monitor": false, "kl_target": 0.01, "log_level": "INFO", "output": null, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.5, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dab7208>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dac50f0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dac5860>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "dim": 84, "conv_filters": null, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 927.32253820414, "time_total_s": 773.162416934967, "policy_reward_mean": {}, "training_iteration": 21, "episodes_total": 1172, "timesteps_since_restore": 2380621, "timesteps_this_iter": 111358, "episode_reward_min": 746.3969808736182, "experiment_id": "96f74362955042aaa1df28bf369836fa", "timestamp": 1556364038, "episodes_this_iter": 59, "done": false, "date": "2019-04-27_11-20-38"}
{"time_since_restore": 810.0154864788055, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1020.6639578780143, "outflow_rate_mean": 927.5036706856903, "outflow_rate_min": 822.8120598170788, "cost2_min": -16.82844565940656, "cost1_max": 402.7149737075953, "cost1_mean": 332.38366804511895, "cost2_mean": -13.785209639390366, "cost1_min": 274.69931532476755, "system_level_velocity_max": 15.131705662039785, "system_level_velocity_mean": 12.448395141899114, "cost2_max": -10.70584201948682, "system_level_velocity_min": 10.370052853347456}, "time_this_iter_s": 36.8530695438385, "num_metric_batches_dropped": 0, "iterations_since_restore": 22, "node_ip": "10.138.0.2", "pid": 52798, "timesteps_total": 2492686, "info": {"sample_time_ms": 14685.98, "num_steps_trained": 2492686, "load_time_ms": 5.154, "update_time_ms": 11.027, "grad_time_ms": 21565.487, "num_steps_sampled": 2492686, "default": {"entropy": 1.189290165901184, "vf_explained_var": 0.5785128474235535, "kl": 0.0073954020626842976, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0003333854547236115, "vf_loss": 25.198970794677734, "cur_kl_coeff": 0.02500000409781933, "total_loss": 25.198823928833008}}, "episode_len_mean": 700.0, "episode_reward_mean": 864.2566913074537, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "clip_actions": false, "monitor": false, "kl_target": 0.01, "log_level": "INFO", "output": null, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.5, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad1e48>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad1898>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad10f0>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "dim": 84, "conv_filters": null, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 953.1812393740104, "time_total_s": 810.0154864788055, "policy_reward_mean": {}, "training_iteration": 22, "episodes_total": 1231, "timesteps_since_restore": 2492686, "timesteps_this_iter": 112065, "episode_reward_min": 762.932459688712, "experiment_id": "96f74362955042aaa1df28bf369836fa", "timestamp": 1556364075, "episodes_this_iter": 59, "done": false, "date": "2019-04-27_11-21-15"}
{"time_since_restore": 844.356255531311, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1013.497423359428, "outflow_rate_mean": 936.0024933222709, "outflow_rate_min": 822.8120598170788, "cost2_min": -16.233849871741967, "cost1_max": 406.8316801194102, "cost1_mean": 338.082663337165, "cost2_mean": -13.552820603625714, "cost1_min": 266.9599248248227, "system_level_velocity_max": 15.442320589119538, "system_level_velocity_mean": 12.65549768811581, "cost2_max": -10.691348112729543, "system_level_velocity_min": 9.968015433540058}, "time_this_iter_s": 34.34076905250549, "num_metric_batches_dropped": 0, "iterations_since_restore": 23, "node_ip": "10.138.0.2", "pid": 52798, "timesteps_total": 2603278, "info": {"sample_time_ms": 14625.806, "num_steps_trained": 2603278, "load_time_ms": 5.043, "update_time_ms": 11.109, "grad_time_ms": 21251.109, "num_steps_sampled": 2603278, "default": {"entropy": 1.168897271156311, "vf_explained_var": 0.5885877013206482, "kl": 0.007801662664860487, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0012024493189528584, "vf_loss": 25.675308227539062, "cur_kl_coeff": 0.02500000223517418, "total_loss": 25.67430305480957}}, "episode_len_mean": 700.0, "episode_reward_mean": 873.4659839615333, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "clip_actions": false, "monitor": false, "kl_target": 0.01, "log_level": "INFO", "output": null, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.5, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dacde80>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dacd3c8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dacd470>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "dim": 84, "conv_filters": null, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 953.1812393740104, "time_total_s": 844.356255531311, "policy_reward_mean": {}, "training_iteration": 23, "episodes_total": 1289, "timesteps_since_restore": 2603278, "timesteps_this_iter": 110592, "episode_reward_min": 751.9309929829273, "experiment_id": "96f74362955042aaa1df28bf369836fa", "timestamp": 1556364109, "episodes_this_iter": 58, "done": false, "date": "2019-04-27_11-21-49"}
{"time_since_restore": 879.8200440406799, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1019.2806767668078, "outflow_rate_mean": 945.1592587633246, "outflow_rate_min": 830.4846574223985, "cost2_min": -16.965685177073034, "cost1_max": 406.8316801194102, "cost1_mean": 345.28334578888575, "cost2_mean": -13.673778729112644, "cost1_min": 271.0164291891072, "system_level_velocity_max": 15.442320589119538, "system_level_velocity_mean": 12.937244801163763, "cost2_max": -10.691348112729543, "system_level_velocity_min": 9.966682974824616}, "time_this_iter_s": 35.4637885093689, "num_metric_batches_dropped": 0, "iterations_since_restore": 24, "node_ip": "10.138.0.2", "pid": 52798, "timesteps_total": 2714663, "info": {"sample_time_ms": 14637.044, "num_steps_trained": 2714663, "load_time_ms": 5.058, "update_time_ms": 11.148, "grad_time_ms": 21151.126, "num_steps_sampled": 2714663, "default": {"entropy": 1.1618340015411377, "vf_explained_var": 0.5980001091957092, "kl": 0.008618298918008804, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0008734090370126069, "vf_loss": 27.345001220703125, "cur_kl_coeff": 0.02500000409781933, "total_loss": 27.344343185424805}}, "episode_len_mean": 700.0, "episode_reward_mean": 881.6931019643158, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "clip_actions": false, "monitor": false, "kl_target": 0.01, "log_level": "INFO", "output": null, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.5, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad1908>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad1e48>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad1be0>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "dim": 84, "conv_filters": null, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 951.1006205488299, "time_total_s": 879.8200440406799, "policy_reward_mean": {}, "training_iteration": 24, "episodes_total": 1349, "timesteps_since_restore": 2714663, "timesteps_this_iter": 111385, "episode_reward_min": 751.9309929829273, "experiment_id": "96f74362955042aaa1df28bf369836fa", "timestamp": 1556364145, "episodes_this_iter": 60, "done": false, "date": "2019-04-27_11-22-25"}
{"time_since_restore": 916.7975733280182, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1030.8448020570065, "outflow_rate_mean": 945.2444253458298, "outflow_rate_min": 833.3096888356359, "cost2_min": -16.28504557915512, "cost1_max": 404.7122396378635, "cost1_mean": 342.0766150325178, "cost2_mean": -13.815232840739796, "cost1_min": 266.82091204092933, "system_level_velocity_max": 15.320875462749791, "system_level_velocity_mean": 12.812256831662319, "cost2_max": -10.985691347748414, "system_level_velocity_min": 10.019368807120962}, "time_this_iter_s": 36.97752928733826, "num_metric_batches_dropped": 0, "iterations_since_restore": 25, "node_ip": "10.138.0.2", "pid": 52798, "timesteps_total": 2827749, "info": {"sample_time_ms": 14662.761, "num_steps_trained": 2827749, "load_time_ms": 5.074, "update_time_ms": 11.214, "grad_time_ms": 21214.363, "num_steps_sampled": 2827749, "default": {"entropy": 1.156045913696289, "vf_explained_var": 0.6297280192375183, "kl": 0.007782953791320324, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0008916283841244876, "vf_loss": 27.851606369018555, "cur_kl_coeff": 0.025000005960464478, "total_loss": 27.850908279418945}}, "episode_len_mean": 700.0, "episode_reward_mean": 889.4553024061122, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "clip_actions": false, "monitor": false, "kl_target": 0.01, "log_level": "INFO", "output": null, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.5, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dacd2b0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dacdac8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dacde48>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "dim": 84, "conv_filters": null, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 983.1176628313756, "time_total_s": 916.7975733280182, "policy_reward_mean": {}, "training_iteration": 25, "episodes_total": 1407, "timesteps_since_restore": 2827749, "timesteps_this_iter": 113086, "episode_reward_min": 780.6900000058649, "experiment_id": "96f74362955042aaa1df28bf369836fa", "timestamp": 1556364182, "episodes_this_iter": 58, "done": false, "date": "2019-04-27_11-23-02"}
{"time_since_restore": 954.1385009288788, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1037.8685734090602, "outflow_rate_mean": 942.8547304463489, "outflow_rate_min": 499.122409994049, "cost2_min": -18.479094587507646, "cost1_max": 398.78420089400504, "cost1_mean": 334.891680959663, "cost2_mean": -13.834697986402235, "cost1_min": 22.704014628070276, "system_level_velocity_max": 17.480409576299458, "system_level_velocity_mean": 12.689863904836754, "cost2_max": -7.014256577406449, "system_level_velocity_min": 10.018344954409903}, "time_this_iter_s": 37.340927600860596, "num_metric_batches_dropped": 0, "iterations_since_restore": 26, "node_ip": "10.138.0.2", "pid": 52798, "timesteps_total": 2941880, "info": {"sample_time_ms": 14721.401, "num_steps_trained": 2941880, "load_time_ms": 5.009, "update_time_ms": 11.352, "grad_time_ms": 21290.691, "num_steps_sampled": 2941880, "default": {"entropy": 1.1447230577468872, "vf_explained_var": 0.6493045687675476, "kl": 0.008651972748339176, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00021803767594974488, "vf_loss": 28.472925186157227, "cur_kl_coeff": 0.02500000409781933, "total_loss": 28.472923278808594}}, "episode_len_mean": 693.37, "episode_reward_mean": 884.9045879709176, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "clip_actions": false, "monitor": false, "kl_target": 0.01, "log_level": "INFO", "output": null, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.5, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad1908>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad1438>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad14e0>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "dim": 84, "conv_filters": null, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 991.8528435324044, "time_total_s": 954.1385009288788, "policy_reward_mean": {}, "training_iteration": 26, "episodes_total": 1463, "timesteps_since_restore": 2941880, "timesteps_this_iter": 114131, "episode_reward_min": 47.37484559607533, "experiment_id": "96f74362955042aaa1df28bf369836fa", "timestamp": 1556364219, "episodes_this_iter": 56, "done": false, "date": "2019-04-27_11-23-39"}
{"time_since_restore": 990.6021559238434, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1037.8685734090602, "outflow_rate_mean": 943.037307644011, "outflow_rate_min": 499.122409994049, "cost2_min": -17.603099548513697, "cost1_max": 398.78420089400504, "cost1_mean": 336.8561671847922, "cost2_mean": -13.80619410967576, "cost1_min": 22.704014628070276, "system_level_velocity_max": 17.480409576299458, "system_level_velocity_mean": 12.791207124867789, "cost2_max": -7.014256577406449, "system_level_velocity_min": 10.018344954409903}, "time_this_iter_s": 36.4636549949646, "num_metric_batches_dropped": 0, "iterations_since_restore": 27, "node_ip": "10.138.0.2", "pid": 52798, "timesteps_total": 3053393, "info": {"sample_time_ms": 14702.035, "num_steps_trained": 3053393, "load_time_ms": 4.94, "update_time_ms": 11.396, "grad_time_ms": 21436.493, "num_steps_sampled": 3053393, "default": {"entropy": 1.1508077383041382, "vf_explained_var": 0.6470144987106323, "kl": 0.007187815848737955, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0002110231580445543, "vf_loss": 28.78923797607422, "cur_kl_coeff": 0.02500000409781933, "total_loss": 28.78920555114746}}, "episode_len_mean": 693.37, "episode_reward_mean": 878.5739197891063, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "clip_actions": false, "monitor": false, "kl_target": 0.01, "log_level": "INFO", "output": null, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.5, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad8198>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad81d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad8208>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "dim": 84, "conv_filters": null, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 991.8528435324044, "time_total_s": 990.6021559238434, "policy_reward_mean": {}, "training_iteration": 27, "episodes_total": 1519, "timesteps_since_restore": 3053393, "timesteps_this_iter": 111513, "episode_reward_min": 47.37484559607533, "experiment_id": "96f74362955042aaa1df28bf369836fa", "timestamp": 1556364256, "episodes_this_iter": 56, "done": false, "date": "2019-04-27_11-24-16"}
{"time_since_restore": 1027.3463742733002, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1026.7733315719433, "outflow_rate_mean": 947.1966023002367, "outflow_rate_min": 835.5255666888536, "cost2_min": -17.603099548513697, "cost1_max": 407.0501203885901, "cost1_mean": 343.55057781865537, "cost2_mean": -13.77543838661338, "cost1_min": 263.7164364363852, "system_level_velocity_max": 15.343874228886767, "system_level_velocity_mean": 12.890234817798673, "cost2_max": -11.047208598448591, "system_level_velocity_min": 9.911673094681957}, "time_this_iter_s": 36.74421834945679, "num_metric_batches_dropped": 0, "iterations_since_restore": 28, "node_ip": "10.138.0.2", "pid": 52798, "timesteps_total": 3164850, "info": {"sample_time_ms": 14684.308, "num_steps_trained": 3164850, "load_time_ms": 4.82, "update_time_ms": 11.361, "grad_time_ms": 21205.509, "num_steps_sampled": 3164850, "default": {"entropy": 1.151302456855774, "vf_explained_var": 0.5891137719154358, "kl": 0.007628218736499548, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0006866544717922807, "vf_loss": 30.659814834594727, "cur_kl_coeff": 0.02500000409781933, "total_loss": 30.659318923950195}}, "episode_len_mean": 700.0, "episode_reward_mean": 884.8619743432614, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "clip_actions": false, "monitor": false, "kl_target": 0.01, "log_level": "INFO", "output": null, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.5, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad10f0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad1898>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad1be0>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "dim": 84, "conv_filters": null, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 955.8236178829358, "time_total_s": 1027.3463742733002, "policy_reward_mean": {}, "training_iteration": 28, "episodes_total": 1579, "timesteps_since_restore": 3164850, "timesteps_this_iter": 111457, "episode_reward_min": 767.430244193031, "experiment_id": "96f74362955042aaa1df28bf369836fa", "timestamp": 1556364292, "episodes_this_iter": 60, "done": false, "date": "2019-04-27_11-24-52"}
{"time_since_restore": 1063.4459578990936, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1026.7733315719433, "outflow_rate_mean": 939.9680649950973, "outflow_rate_min": 828.7292887958205, "cost2_min": -17.224500423544363, "cost1_max": 407.0501203885901, "cost1_mean": 339.0364281911498, "cost2_mean": -13.581534258448006, "cost1_min": 263.7164364363852, "system_level_velocity_max": 15.343874228886767, "system_level_velocity_mean": 12.719584428457438, "cost2_max": -11.047208598448591, "system_level_velocity_min": 9.911673094681957}, "time_this_iter_s": 36.09958362579346, "num_metric_batches_dropped": 0, "iterations_since_restore": 29, "node_ip": "10.138.0.2", "pid": 52798, "timesteps_total": 3276868, "info": {"sample_time_ms": 14694.361, "num_steps_trained": 3276868, "load_time_ms": 4.836, "update_time_ms": 11.221, "grad_time_ms": 21132.417, "num_steps_sampled": 3276868, "default": {"entropy": 1.1575989723205566, "vf_explained_var": 0.6062051057815552, "kl": 0.007381160277873278, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00047342953621409833, "vf_loss": 32.45283126831055, "cur_kl_coeff": 0.02500000409781933, "total_loss": 32.45254135131836}}, "episode_len_mean": 700.0, "episode_reward_mean": 881.4318948925699, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "clip_actions": false, "monitor": false, "kl_target": 0.01, "log_level": "INFO", "output": null, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.5, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad81d0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad8390>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad8438>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "dim": 84, "conv_filters": null, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 955.8236178829358, "time_total_s": 1063.4459578990936, "policy_reward_mean": {}, "training_iteration": 29, "episodes_total": 1639, "timesteps_since_restore": 3276868, "timesteps_this_iter": 112018, "episode_reward_min": 770.4209408008325, "experiment_id": "96f74362955042aaa1df28bf369836fa", "timestamp": 1556364328, "episodes_this_iter": 60, "done": false, "date": "2019-04-27_11-25-28"}
{"time_since_restore": 1099.3028671741486, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1012.1113474295034, "outflow_rate_mean": 929.546845024083, "outflow_rate_min": 804.7646248499252, "cost2_min": -17.224500423544363, "cost1_max": 392.9563626196451, "cost1_mean": 333.36090895618867, "cost2_mean": -13.5969342852749, "cost1_min": 245.4056987973956, "system_level_velocity_max": 14.799045038678123, "system_level_velocity_mean": 12.485913325204882, "cost2_max": -11.448673206719944, "system_level_velocity_min": 9.240684054961362}, "time_this_iter_s": 35.85690927505493, "num_metric_batches_dropped": 0, "iterations_since_restore": 30, "node_ip": "10.138.0.2", "pid": 52798, "timesteps_total": 3388130, "info": {"sample_time_ms": 14700.502, "num_steps_trained": 3388130, "load_time_ms": 4.713, "update_time_ms": 11.139, "grad_time_ms": 21255.823, "num_steps_sampled": 3388130, "default": {"entropy": 1.1545621156692505, "vf_explained_var": 0.6274433135986328, "kl": 0.007925600744783878, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0004920319770462811, "vf_loss": 29.983415603637695, "cur_kl_coeff": 0.02500000223517418, "total_loss": 29.98311996459961}}, "episode_len_mean": 700.0, "episode_reward_mean": 880.9287148114138, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "clip_actions": false, "monitor": false, "kl_target": 0.01, "log_level": "INFO", "output": null, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.5, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad1438>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad1588>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad1f28>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "dim": 84, "conv_filters": null, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 949.6723394082661, "time_total_s": 1099.3028671741486, "policy_reward_mean": {}, "training_iteration": 30, "episodes_total": 1697, "timesteps_since_restore": 3388130, "timesteps_this_iter": 111262, "episode_reward_min": 767.4409664005436, "experiment_id": "96f74362955042aaa1df28bf369836fa", "timestamp": 1556364364, "episodes_this_iter": 58, "done": false, "date": "2019-04-27_11-26-04"}
{"time_since_restore": 1137.2203426361084, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1010.8453749419814, "outflow_rate_mean": 919.3976574669394, "outflow_rate_min": 804.7646248499252, "cost2_min": -18.989139892817477, "cost1_max": 392.3906806689243, "cost1_mean": 327.26123195812676, "cost2_mean": -13.653083296859165, "cost1_min": 245.4056987973956, "system_level_velocity_max": 14.694731746970033, "system_level_velocity_mean": 12.227110917756365, "cost2_max": -10.816593989128819, "system_level_velocity_min": 9.240684054961362}, "time_this_iter_s": 37.91747546195984, "num_metric_batches_dropped": 0, "iterations_since_restore": 31, "node_ip": "10.138.0.2", "pid": 52798, "timesteps_total": 3500195, "info": {"sample_time_ms": 14734.066, "num_steps_trained": 3500195, "load_time_ms": 4.832, "update_time_ms": 11.005, "grad_time_ms": 21445.671, "num_steps_sampled": 3500195, "default": {"entropy": 1.1458609104156494, "vf_explained_var": 0.5722995400428772, "kl": 0.009317060001194477, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0009338624658994377, "vf_loss": 30.75994110107422, "cur_kl_coeff": 0.02500000409781933, "total_loss": 30.759241104125977}}, "episode_len_mean": 700.0, "episode_reward_mean": 878.2528115275719, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "clip_actions": false, "monitor": false, "kl_target": 0.01, "log_level": "INFO", "output": null, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.5, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad8780>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad8550>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad81d0>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "dim": 84, "conv_filters": null, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 949.6723394082661, "time_total_s": 1137.2203426361084, "policy_reward_mean": {}, "training_iteration": 31, "episodes_total": 1754, "timesteps_since_restore": 3500195, "timesteps_this_iter": 112065, "episode_reward_min": 767.4409664005436, "experiment_id": "96f74362955042aaa1df28bf369836fa", "timestamp": 1556364402, "episodes_this_iter": 57, "done": false, "date": "2019-04-27_11-26-42"}
{"time_since_restore": 1174.0065562725067, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1004.4445594854944, "outflow_rate_mean": 922.196270899001, "outflow_rate_min": 807.1198966010957, "cost2_min": -18.989139892817477, "cost1_max": 391.2216121421282, "cost1_mean": 327.9182383315064, "cost2_mean": -13.687482539925702, "cost1_min": 245.33166514660127, "system_level_velocity_max": 14.708467035862808, "system_level_velocity_mean": 12.239489622273894, "cost2_max": -10.890990590935283, "system_level_velocity_min": 9.250154457724}, "time_this_iter_s": 36.786213636398315, "num_metric_batches_dropped": 0, "iterations_since_restore": 32, "node_ip": "10.138.0.2", "pid": 52798, "timesteps_total": 3611809, "info": {"sample_time_ms": 14746.381, "num_steps_trained": 3611809, "load_time_ms": 4.683, "update_time_ms": 11.099, "grad_time_ms": 21426.985, "num_steps_sampled": 3611809, "default": {"entropy": 1.1400161981582642, "vf_explained_var": 0.5802183151245117, "kl": 0.008947593159973621, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0009709581499919295, "vf_loss": 31.35950469970703, "cur_kl_coeff": 0.02500000409781933, "total_loss": 31.35875701904297}}, "episode_len_mean": 700.0, "episode_reward_mean": 882.2213714563021, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "clip_actions": false, "monitor": false, "kl_target": 0.01, "log_level": "INFO", "output": null, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.5, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad1e48>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad1710>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad14a8>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "dim": 84, "conv_filters": null, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 940.9906451226377, "time_total_s": 1174.0065562725067, "policy_reward_mean": {}, "training_iteration": 32, "episodes_total": 1814, "timesteps_since_restore": 3611809, "timesteps_this_iter": 111614, "episode_reward_min": 785.8095540941523, "experiment_id": "96f74362955042aaa1df28bf369836fa", "timestamp": 1556364439, "episodes_this_iter": 60, "done": false, "date": "2019-04-27_11-27-19"}
{"time_since_restore": 1210.802891254425, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1033.763133303512, "outflow_rate_mean": 945.3526259278965, "outflow_rate_min": 807.1198966010957, "cost2_min": -16.13029799445109, "cost1_max": 401.4789394081845, "cost1_mean": 338.0473134403469, "cost2_mean": -13.684108656136871, "cost1_min": 245.33166514660127, "system_level_velocity_max": 15.114303701937061, "system_level_velocity_mean": 12.643029578772811, "cost2_max": -10.716192465083548, "system_level_velocity_min": 9.250154457724}, "time_this_iter_s": 36.796334981918335, "num_metric_batches_dropped": 0, "iterations_since_restore": 33, "node_ip": "10.138.0.2", "pid": 52798, "timesteps_total": 3724344, "info": {"sample_time_ms": 14723.874, "num_steps_trained": 3724344, "load_time_ms": 4.677, "update_time_ms": 11.023, "grad_time_ms": 21694.608, "num_steps_sampled": 3724344, "default": {"entropy": 1.13157057762146, "vf_explained_var": 0.6197327375411987, "kl": 0.009078126400709152, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0007864541257731616, "vf_loss": 31.6536808013916, "cur_kl_coeff": 0.02500000223517418, "total_loss": 31.65312385559082}}, "episode_len_mean": 700.0, "episode_reward_mean": 896.7745668964842, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "clip_actions": false, "monitor": false, "kl_target": 0.01, "log_level": "INFO", "output": null, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.5, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad85f8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad8780>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad8320>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "dim": 84, "conv_filters": null, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 967.7532504373689, "time_total_s": 1210.802891254425, "policy_reward_mean": {}, "training_iteration": 33, "episodes_total": 1871, "timesteps_since_restore": 3724344, "timesteps_this_iter": 112535, "episode_reward_min": 787.7393298412751, "experiment_id": "96f74362955042aaa1df28bf369836fa", "timestamp": 1556364476, "episodes_this_iter": 57, "done": false, "date": "2019-04-27_11-27-56"}
{"time_since_restore": 1247.3529970645905, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1036.5475950942166, "outflow_rate_mean": 961.386001528889, "outflow_rate_min": 831.1990900882993, "cost2_min": -16.13029799445109, "cost1_max": 401.4789394081845, "cost1_mean": 343.0887138343215, "cost2_mean": -13.566272257433686, "cost1_min": 264.0627051351941, "system_level_velocity_max": 15.114303701937061, "system_level_velocity_mean": 12.844545118091565, "cost2_max": -10.716192465083548, "system_level_velocity_min": 9.8417519505454}, "time_this_iter_s": 36.550105810165405, "num_metric_batches_dropped": 0, "iterations_since_restore": 34, "node_ip": "10.138.0.2", "pid": 52798, "timesteps_total": 3837950, "info": {"sample_time_ms": 14708.93, "num_steps_trained": 3837950, "load_time_ms": 4.634, "update_time_ms": 11.069, "grad_time_ms": 21816.884, "num_steps_sampled": 3837950, "default": {"entropy": 1.1281107664108276, "vf_explained_var": 0.6685088276863098, "kl": 0.00829149130731821, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0005206696223467588, "vf_loss": 30.32667350769043, "cur_kl_coeff": 0.02500000409781933, "total_loss": 30.32636070251465}}, "episode_len_mean": 700.0, "episode_reward_mean": 908.0712439525986, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "clip_actions": false, "monitor": false, "kl_target": 0.01, "log_level": "INFO", "output": null, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.5, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad10f0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad18d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad1898>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "dim": 84, "conv_filters": null, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 990.5761988000694, "time_total_s": 1247.3529970645905, "policy_reward_mean": {}, "training_iteration": 34, "episodes_total": 1925, "timesteps_since_restore": 3837950, "timesteps_this_iter": 113606, "episode_reward_min": 773.9772155732167, "experiment_id": "96f74362955042aaa1df28bf369836fa", "timestamp": 1556364513, "episodes_this_iter": 54, "done": false, "date": "2019-04-27_11-28-33"}
{"time_since_restore": 1285.9631390571594, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1052.7538485826888, "outflow_rate_mean": 956.253926650073, "outflow_rate_min": 827.3732745976122, "cost2_min": -15.69264910142773, "cost1_max": 400.5934436029784, "cost1_mean": 337.4385426432566, "cost2_mean": -13.247487155043721, "cost1_min": 255.50981453104708, "system_level_velocity_max": 15.153821161485752, "system_level_velocity_mean": 12.624240808532338, "cost2_max": -10.164327733961692, "system_level_velocity_min": 9.596069704376236}, "time_this_iter_s": 38.61014199256897, "num_metric_batches_dropped": 0, "iterations_since_restore": 35, "node_ip": "10.138.0.2", "pid": 52798, "timesteps_total": 3951077, "info": {"sample_time_ms": 14738.416, "num_steps_trained": 3951077, "load_time_ms": 4.576, "update_time_ms": 11.198, "grad_time_ms": 21949.669, "num_steps_sampled": 3951077, "default": {"entropy": 1.1122689247131348, "vf_explained_var": 0.6772150993347168, "kl": 0.008234713226556778, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0003995823790319264, "vf_loss": 31.41033363342285, "cur_kl_coeff": 0.025000005960464478, "total_loss": 31.410139083862305}}, "episode_len_mean": 700.0, "episode_reward_mean": 908.8258106758688, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "clip_actions": false, "monitor": false, "kl_target": 0.01, "log_level": "INFO", "output": null, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.5, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad8550>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad8630>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad8320>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "dim": 84, "conv_filters": null, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 990.5761988000694, "time_total_s": 1285.9631390571594, "policy_reward_mean": {}, "training_iteration": 35, "episodes_total": 1978, "timesteps_since_restore": 3951077, "timesteps_this_iter": 113127, "episode_reward_min": 773.9772155732167, "experiment_id": "96f74362955042aaa1df28bf369836fa", "timestamp": 1556364551, "episodes_this_iter": 53, "done": false, "date": "2019-04-27_11-29-11"}
{"time_since_restore": 1323.3276629447937, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1052.7538485826888, "outflow_rate_mean": 949.1456788015054, "outflow_rate_min": 827.3732745976122, "cost2_min": -15.69264910142773, "cost1_max": 404.5848596808855, "cost1_mean": 332.3061735073694, "cost2_mean": -13.102082540479143, "cost1_min": 255.50981453104708, "system_level_velocity_max": 15.284138239543514, "system_level_velocity_mean": 12.430779278560749, "cost2_max": -9.594379445638197, "system_level_velocity_min": 9.596069704376236}, "time_this_iter_s": 37.36452388763428, "num_metric_batches_dropped": 0, "iterations_since_restore": 36, "node_ip": "10.138.0.2", "pid": 52798, "timesteps_total": 4065388, "info": {"sample_time_ms": 14715.226, "num_steps_trained": 4065388, "load_time_ms": 4.62, "update_time_ms": 11.04, "grad_time_ms": 21978.413, "num_steps_sampled": 4065388, "default": {"entropy": 1.1150095462799072, "vf_explained_var": 0.6907063722610474, "kl": 0.008850837126374245, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0001646763557801023, "vf_loss": 31.839454650878906, "cur_kl_coeff": 0.025000005960464478, "total_loss": 31.83951187133789}}, "episode_len_mean": 700.0, "episode_reward_mean": 903.6442141267826, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "clip_actions": false, "monitor": false, "kl_target": 0.01, "log_level": "INFO", "output": null, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.5, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad1438>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad14a8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad1b38>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "dim": 84, "conv_filters": null, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 993.5230847611303, "time_total_s": 1323.3276629447937, "policy_reward_mean": {}, "training_iteration": 36, "episodes_total": 2034, "timesteps_since_restore": 4065388, "timesteps_this_iter": 114311, "episode_reward_min": 788.0371569581215, "experiment_id": "96f74362955042aaa1df28bf369836fa", "timestamp": 1556364589, "episodes_this_iter": 56, "done": false, "date": "2019-04-27_11-29-49"}
{"time_since_restore": 1357.5275008678436, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1067.2781205588078, "outflow_rate_mean": 955.7933444936004, "outflow_rate_min": 824.0654205847105, "cost2_min": -15.496639006157622, "cost1_max": 419.5241557930203, "cost1_mean": 335.5785402679781, "cost2_mean": -13.187586039180935, "cost1_min": 251.77749595337775, "system_level_velocity_max": 16.054151483789063, "system_level_velocity_mean": 12.566906075289985, "cost2_max": -9.92853854231605, "system_level_velocity_min": 9.418357570353427}, "time_this_iter_s": 34.19983792304993, "num_metric_batches_dropped": 0, "iterations_since_restore": 37, "node_ip": "10.138.0.2", "pid": 52798, "timesteps_total": 4177696, "info": {"sample_time_ms": 14765.283, "num_steps_trained": 4177696, "load_time_ms": 4.745, "update_time_ms": 10.995, "grad_time_ms": 21703.938, "num_steps_sampled": 4177696, "default": {"entropy": 1.108630657196045, "vf_explained_var": 0.6967015266418457, "kl": 0.0088364752009511, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0006694505573250353, "vf_loss": 34.774627685546875, "cur_kl_coeff": 0.02500000409781933, "total_loss": 34.77417755126953}}, "episode_len_mean": 700.0, "episode_reward_mean": 908.5777637361832, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "clip_actions": false, "monitor": false, "kl_target": 0.01, "log_level": "INFO", "output": null, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.5, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad8208>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad81d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad8550>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "dim": 84, "conv_filters": null, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 995.6174349403435, "time_total_s": 1357.5275008678436, "policy_reward_mean": {}, "training_iteration": 37, "episodes_total": 2093, "timesteps_since_restore": 4177696, "timesteps_this_iter": 112308, "episode_reward_min": 780.2060869086932, "experiment_id": "96f74362955042aaa1df28bf369836fa", "timestamp": 1556364623, "episodes_this_iter": 59, "done": false, "date": "2019-04-27_11-30-23"}
{"time_since_restore": 1394.5943884849548, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1068.01273027515, "outflow_rate_mean": 977.6612701828587, "outflow_rate_min": 824.0654205847105, "cost2_min": -17.98950966181883, "cost1_max": 419.5241557930203, "cost1_mean": 347.2114577778752, "cost2_mean": -13.636622998997147, "cost1_min": 251.77749595337775, "system_level_velocity_max": 16.054151483789063, "system_level_velocity_mean": 13.008470701104251, "cost2_max": -10.745163295232388, "system_level_velocity_min": 9.418357570353427}, "time_this_iter_s": 37.066887617111206, "num_metric_batches_dropped": 0, "iterations_since_restore": 38, "node_ip": "10.138.0.2", "pid": 52798, "timesteps_total": 4290120, "info": {"sample_time_ms": 14793.208, "num_steps_trained": 4290120, "load_time_ms": 4.906, "update_time_ms": 11.154, "grad_time_ms": 21707.474, "num_steps_sampled": 4290120, "default": {"entropy": 1.0954762697219849, "vf_explained_var": 0.679307758808136, "kl": 0.008638155646622181, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0010409388924017549, "vf_loss": 35.28997802734375, "cur_kl_coeff": 0.02500000223517418, "total_loss": 35.28915023803711}}, "episode_len_mean": 700.0, "episode_reward_mean": 926.7416724419445, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "clip_actions": false, "monitor": false, "kl_target": 0.01, "log_level": "INFO", "output": null, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.5, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad1080>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad15c0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad1da0>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "dim": 84, "conv_filters": null, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 1005.3564953794254, "time_total_s": 1394.5943884849548, "policy_reward_mean": {}, "training_iteration": 38, "episodes_total": 2150, "timesteps_since_restore": 4290120, "timesteps_this_iter": 112424, "episode_reward_min": 780.2060869086932, "experiment_id": "96f74362955042aaa1df28bf369836fa", "timestamp": 1556364660, "episodes_this_iter": 57, "done": false, "date": "2019-04-27_11-31-00"}
{"time_since_restore": 1433.4105851650238, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1077.664379253284, "outflow_rate_mean": 994.005439445905, "outflow_rate_min": 850.5173759380339, "cost2_min": -15.932474800101396, "cost1_max": 413.09633562908687, "cost1_mean": 354.8050181094939, "cost2_mean": -13.807921204735083, "cost1_min": 271.5750493735331, "system_level_velocity_max": 15.683381015122743, "system_level_velocity_mean": 13.307573783638434, "cost2_max": -11.378144749673796, "system_level_velocity_min": 10.12921675620737}, "time_this_iter_s": 38.81619668006897, "num_metric_batches_dropped": 0, "iterations_since_restore": 39, "node_ip": "10.138.0.2", "pid": 52798, "timesteps_total": 4403797, "info": {"sample_time_ms": 14831.247, "num_steps_trained": 4403797, "load_time_ms": 4.824, "update_time_ms": 11.342, "grad_time_ms": 21940.047, "num_steps_sampled": 4403797, "default": {"entropy": 1.0899837017059326, "vf_explained_var": 0.7332982420921326, "kl": 0.008623495697975159, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0004674937226809561, "vf_loss": 32.695186614990234, "cur_kl_coeff": 0.025000005960464478, "total_loss": 32.69493103027344}}, "episode_len_mean": 700.0, "episode_reward_mean": 941.2182176334813, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "clip_actions": false, "monitor": false, "kl_target": 0.01, "log_level": "INFO", "output": null, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.5, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad8470>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad8080>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad8208>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "dim": 84, "conv_filters": null, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 1005.3564953794254, "time_total_s": 1433.4105851650238, "policy_reward_mean": {}, "training_iteration": 39, "episodes_total": 2206, "timesteps_since_restore": 4403797, "timesteps_this_iter": 113677, "episode_reward_min": 826.1698933226767, "experiment_id": "96f74362955042aaa1df28bf369836fa", "timestamp": 1556364699, "episodes_this_iter": 56, "done": false, "date": "2019-04-27_11-31-39"}
{"time_since_restore": 1470.5323703289032, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1077.664379253284, "outflow_rate_mean": 980.953557732725, "outflow_rate_min": 819.1025070473545, "cost2_min": -15.741027013206487, "cost1_max": 413.09633562908687, "cost1_mean": 343.58978952705786, "cost2_mean": -13.699102143774587, "cost1_min": 244.54606671471356, "system_level_velocity_max": 15.683381015122743, "system_level_velocity_mean": 12.874655266603458, "cost2_max": -10.916098656846941, "system_level_velocity_min": 9.159325080668253}, "time_this_iter_s": 37.121785163879395, "num_metric_batches_dropped": 0, "iterations_since_restore": 40, "node_ip": "10.138.0.2", "pid": 52798, "timesteps_total": 4518347, "info": {"sample_time_ms": 14849.687, "num_steps_trained": 4518347, "load_time_ms": 4.959, "update_time_ms": 11.478, "grad_time_ms": 22047.642, "num_steps_sampled": 4518347, "default": {"entropy": 1.0768996477127075, "vf_explained_var": 0.7620016932487488, "kl": 0.007436391431838274, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0005097704706713557, "vf_loss": 29.423063278198242, "cur_kl_coeff": 0.02500000409781933, "total_loss": 29.422740936279297}}, "episode_len_mean": 700.0, "episode_reward_mean": 933.8330332336062, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "clip_actions": false, "monitor": false, "kl_target": 0.01, "log_level": "INFO", "output": null, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.5, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad1710>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad1198>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad1550>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "dim": 84, "conv_filters": null, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 1014.4571131259127, "time_total_s": 1470.5323703289032, "policy_reward_mean": {}, "training_iteration": 40, "episodes_total": 2258, "timesteps_since_restore": 4518347, "timesteps_this_iter": 114550, "episode_reward_min": 778.8197039907461, "experiment_id": "96f74362955042aaa1df28bf369836fa", "timestamp": 1556364736, "episodes_this_iter": 52, "done": false, "date": "2019-04-27_11-32-16"}
{"time_since_restore": 1507.7537324428558, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1074.811472626897, "outflow_rate_mean": 972.786861286312, "outflow_rate_min": 819.1025070473545, "cost2_min": -16.038429115711693, "cost1_max": 407.78806175015575, "cost1_mean": 336.37936810695857, "cost2_mean": -13.628977637302205, "cost1_min": 244.54606671471356, "system_level_velocity_max": 15.39873046117385, "system_level_velocity_mean": 12.58052184462142, "cost2_max": -10.737542317509849, "system_level_velocity_min": 9.159325080668253}, "time_this_iter_s": 37.22136211395264, "num_metric_batches_dropped": 0, "iterations_since_restore": 41, "node_ip": "10.138.0.2", "pid": 52798, "timesteps_total": 4634595, "info": {"sample_time_ms": 14858.19, "num_steps_trained": 4634595, "load_time_ms": 5.022, "update_time_ms": 11.543, "grad_time_ms": 21969.054, "num_steps_sampled": 4634595, "default": {"entropy": 1.0679389238357544, "vf_explained_var": 0.7598581910133362, "kl": 0.009082123637199402, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0005488116876222193, "vf_loss": 28.640777587890625, "cur_kl_coeff": 0.025000005960464478, "total_loss": 28.640457153320312}}, "episode_len_mean": 700.0, "episode_reward_mean": 932.3745684506061, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "clip_actions": false, "monitor": false, "kl_target": 0.01, "log_level": "INFO", "output": null, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.5, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad8470>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad8ac8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad8198>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "dim": 84, "conv_filters": null, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 1014.4571131259127, "time_total_s": 1507.7537324428558, "policy_reward_mean": {}, "training_iteration": 41, "episodes_total": 2311, "timesteps_since_restore": 4634595, "timesteps_this_iter": 116248, "episode_reward_min": 778.8197039907461, "experiment_id": "96f74362955042aaa1df28bf369836fa", "timestamp": 1556364773, "episodes_this_iter": 53, "done": false, "date": "2019-04-27_11-32-53"}
{"time_since_restore": 1545.1435770988464, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1068.1006074987558, "outflow_rate_mean": 963.6226248364366, "outflow_rate_min": 832.5233297799007, "cost2_min": -16.35809830107043, "cost1_max": 404.3218917089112, "cost1_mean": 328.6299308123804, "cost2_mean": -13.650310066486927, "cost1_min": 252.72927790628444, "system_level_velocity_max": 15.338704970234478, "system_level_velocity_mean": 12.269459837584348, "cost2_max": -10.737542317509849, "system_level_velocity_min": 9.462476379722082}, "time_this_iter_s": 37.3898446559906, "num_metric_batches_dropped": 0, "iterations_since_restore": 42, "node_ip": "10.138.0.2", "pid": 52798, "timesteps_total": 4751611, "info": {"sample_time_ms": 14899.785, "num_steps_trained": 4751611, "load_time_ms": 5.165, "update_time_ms": 11.283, "grad_time_ms": 21987.697, "num_steps_sampled": 4751611, "default": {"entropy": 1.0581766366958618, "vf_explained_var": 0.7838863730430603, "kl": 0.008673934265971184, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00024679122725501657, "vf_loss": 27.187448501586914, "cur_kl_coeff": 0.02500000409781933, "total_loss": 27.18741798400879}}, "episode_len_mean": 700.0, "episode_reward_mean": 929.6523146578792, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "clip_actions": false, "monitor": false, "kl_target": 0.01, "log_level": "INFO", "output": null, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.5, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad18d0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad11d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dabaef0>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "dim": 84, "conv_filters": null, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 1021.1204318434676, "time_total_s": 1545.1435770988464, "policy_reward_mean": {}, "training_iteration": 42, "episodes_total": 2361, "timesteps_since_restore": 4751611, "timesteps_this_iter": 117016, "episode_reward_min": 810.6698510093389, "experiment_id": "96f74362955042aaa1df28bf369836fa", "timestamp": 1556364811, "episodes_this_iter": 50, "done": false, "date": "2019-04-27_11-33-31"}
{"time_since_restore": 1583.2123839855194, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1075.0607338416255, "outflow_rate_mean": 959.9790651961775, "outflow_rate_min": 828.3069119403957, "cost2_min": -18.088775202089934, "cost1_max": 398.297579857274, "cost1_mean": 322.65625960591103, "cost2_mean": -13.885763037864324, "cost1_min": 241.24381515151322, "system_level_velocity_max": 15.021211773603248, "system_level_velocity_mean": 12.0411893776944, "cost2_max": -10.917431488478131, "system_level_velocity_min": 9.009710566587753}, "time_this_iter_s": 38.068806886672974, "num_metric_batches_dropped": 0, "iterations_since_restore": 43, "node_ip": "10.138.0.2", "pid": 52798, "timesteps_total": 4868171, "info": {"sample_time_ms": 14957.322, "num_steps_trained": 4868171, "load_time_ms": 5.244, "update_time_ms": 11.267, "grad_time_ms": 22054.329, "num_steps_sampled": 4868171, "default": {"entropy": 1.0519627332687378, "vf_explained_var": 0.7658923268318176, "kl": 0.008035860024392605, "cur_lr": 0.0005000000237487257, "policy_loss": -6.392368959495798e-05, "vf_loss": 29.617595672607422, "cur_kl_coeff": 0.02500000409781933, "total_loss": 29.617733001708984}}, "episode_len_mean": 700.0, "episode_reward_mean": 927.9709820565545, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "clip_actions": false, "monitor": false, "kl_target": 0.01, "log_level": "INFO", "output": null, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.5, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad8470>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad85f8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad8940>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "dim": 84, "conv_filters": null, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 1021.1204318434676, "time_total_s": 1583.2123839855194, "policy_reward_mean": {}, "training_iteration": 43, "episodes_total": 2413, "timesteps_since_restore": 4868171, "timesteps_this_iter": 116560, "episode_reward_min": 783.5208283631989, "experiment_id": "96f74362955042aaa1df28bf369836fa", "timestamp": 1556364849, "episodes_this_iter": 52, "done": false, "date": "2019-04-27_11-34-09"}
{"time_since_restore": 1618.3271503448486, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1075.0607338416255, "outflow_rate_mean": 966.698727739845, "outflow_rate_min": 779.8562151265736, "cost2_min": -18.088775202089934, "cost1_max": 398.297579857274, "cost1_mean": 322.6182690064321, "cost2_mean": -14.223980708237761, "cost1_min": 124.26970139990087, "system_level_velocity_max": 16.06694382483383, "system_level_velocity_mean": 12.169584612856884, "cost2_max": -10.917431488478131, "system_level_velocity_min": 9.009710566587753}, "time_this_iter_s": 35.114766359329224, "num_metric_batches_dropped": 0, "iterations_since_restore": 44, "node_ip": "10.138.0.2", "pid": 52798, "timesteps_total": 4983383, "info": {"sample_time_ms": 15016.333, "num_steps_trained": 4983383, "load_time_ms": 5.356, "update_time_ms": 11.055, "grad_time_ms": 21851.901, "num_steps_sampled": 4983383, "default": {"entropy": 1.0429103374481201, "vf_explained_var": 0.7785008549690247, "kl": 0.008969559334218502, "cur_lr": 0.0005000000237487257, "policy_loss": -0.000265670008957386, "vf_loss": 29.8096923828125, "cur_kl_coeff": 0.02500000409781933, "total_loss": 29.809650421142578}}, "episode_len_mean": 695.07, "episode_reward_mean": 923.7407900844898, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "clip_actions": false, "monitor": false, "kl_target": 0.01, "log_level": "INFO", "output": null, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.5, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dacd438>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad88d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad8a20>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "dim": 84, "conv_filters": null, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 1019.4640305246749, "time_total_s": 1618.3271503448486, "policy_reward_mean": {}, "training_iteration": 44, "episodes_total": 2467, "timesteps_since_restore": 4983383, "timesteps_this_iter": 115212, "episode_reward_min": 292.4613603333497, "experiment_id": "96f74362955042aaa1df28bf369836fa", "timestamp": 1556364884, "episodes_this_iter": 54, "done": false, "date": "2019-04-27_11-34-44"}
{"time_since_restore": 1654.6831150054932, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1064.4187746481855, "outflow_rate_mean": 967.1854540336033, "outflow_rate_min": 779.8562151265736, "cost2_min": -16.528864396832404, "cost1_max": 388.76223664126786, "cost1_mean": 322.4318777861556, "cost2_mean": -14.080176624407962, "cost1_min": 124.26970139990087, "system_level_velocity_max": 16.06694382483383, "system_level_velocity_mean": 12.150786639442675, "cost2_max": -10.960132295948823, "system_level_velocity_min": 9.178279170940002}, "time_this_iter_s": 36.35596466064453, "num_metric_batches_dropped": 0, "iterations_since_restore": 45, "node_ip": "10.138.0.2", "pid": 52798, "timesteps_total": 5098191, "info": {"sample_time_ms": 14982.384, "num_steps_trained": 5098191, "load_time_ms": 5.523, "update_time_ms": 11.009, "grad_time_ms": 21660.108, "num_steps_sampled": 5098191, "default": {"entropy": 1.0414392948150635, "vf_explained_var": 0.7864918112754822, "kl": 0.008973713032901287, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0005725431838072836, "vf_loss": 29.088777542114258, "cur_kl_coeff": 0.02500000409781933, "total_loss": 29.088430404663086}}, "episode_len_mean": 695.07, "episode_reward_mean": 921.9067630625455, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "clip_actions": false, "monitor": false, "kl_target": 0.01, "log_level": "INFO", "output": null, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.5, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad80b8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad85c0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad8dd8>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "dim": 84, "conv_filters": null, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 1019.4640305246749, "time_total_s": 1654.6831150054932, "policy_reward_mean": {}, "training_iteration": 45, "episodes_total": 2523, "timesteps_since_restore": 5098191, "timesteps_this_iter": 114808, "episode_reward_min": 292.4613603333497, "experiment_id": "96f74362955042aaa1df28bf369836fa", "timestamp": 1556364920, "episodes_this_iter": 56, "done": false, "date": "2019-04-27_11-35-20"}
{"time_since_restore": 1692.5241193771362, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1059.971775296318, "outflow_rate_mean": 971.4244619700705, "outflow_rate_min": 833.5076404857282, "cost2_min": -16.528864396832404, "cost1_max": 387.58339329380783, "cost1_mean": 325.50324432124734, "cost2_mean": -13.945691304511069, "cost1_min": 248.67559241601919, "system_level_velocity_max": 14.540043038102652, "system_level_velocity_mean": 12.15237518106921, "cost2_max": -10.969932432751683, "system_level_velocity_min": 9.178279170940002}, "time_this_iter_s": 37.841004371643066, "num_metric_batches_dropped": 0, "iterations_since_restore": 46, "node_ip": "10.138.0.2", "pid": 52798, "timesteps_total": 5214004, "info": {"sample_time_ms": 14973.092, "num_steps_trained": 5214004, "load_time_ms": 5.559, "update_time_ms": 11.191, "grad_time_ms": 21712.83, "num_steps_sampled": 5214004, "default": {"entropy": 1.039185881614685, "vf_explained_var": 0.787742555141449, "kl": 0.009232955053448677, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0011722443159669638, "vf_loss": 28.982444763183594, "cur_kl_coeff": 0.02500000223517418, "total_loss": 28.98150634765625}}, "episode_len_mean": 700.0, "episode_reward_mean": 926.6603329872192, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "clip_actions": false, "monitor": false, "kl_target": 0.01, "log_level": "INFO", "output": null, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.5, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad8e80>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad8278>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad8668>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "dim": 84, "conv_filters": null, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 1013.4137892831055, "time_total_s": 1692.5241193771362, "policy_reward_mean": {}, "training_iteration": 46, "episodes_total": 2578, "timesteps_since_restore": 5214004, "timesteps_this_iter": 115813, "episode_reward_min": 820.2244878386142, "experiment_id": "96f74362955042aaa1df28bf369836fa", "timestamp": 1556364958, "episodes_this_iter": 55, "done": false, "date": "2019-04-27_11-35-58"}
{"time_since_restore": 1729.9424669742584, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1062.337231423081, "outflow_rate_mean": 965.1738914176224, "outflow_rate_min": 833.5076404857282, "cost2_min": -16.092024369738272, "cost1_max": 379.8777864778935, "cost1_mean": 321.487551922903, "cost2_mean": -14.060038538840576, "cost1_min": 251.91100820919775, "system_level_velocity_max": 14.414234555396332, "system_level_velocity_mean": 12.002997449293652, "cost2_max": -11.853993558716375, "system_level_velocity_min": 9.373521439851167}, "time_this_iter_s": 37.41834759712219, "num_metric_batches_dropped": 0, "iterations_since_restore": 47, "node_ip": "10.138.0.2", "pid": 52798, "timesteps_total": 5330397, "info": {"sample_time_ms": 14966.251, "num_steps_trained": 5330397, "load_time_ms": 5.574, "update_time_ms": 11.643, "grad_time_ms": 22036.806, "num_steps_sampled": 5330397, "default": {"entropy": 1.0386226177215576, "vf_explained_var": 0.8001341223716736, "kl": 0.009181508794426918, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0006509745144285262, "vf_loss": 26.722841262817383, "cur_kl_coeff": 0.02500000223517418, "total_loss": 26.72241973876953}}, "episode_len_mean": 700.0, "episode_reward_mean": 921.9188283929552, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "clip_actions": false, "monitor": false, "kl_target": 0.01, "log_level": "INFO", "output": null, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.5, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad8940>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad85f8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad8cc0>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "dim": 84, "conv_filters": null, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 987.2085763614504, "time_total_s": 1729.9424669742584, "policy_reward_mean": {}, "training_iteration": 47, "episodes_total": 2627, "timesteps_since_restore": 5330397, "timesteps_this_iter": 116393, "episode_reward_min": 829.4705506453789, "experiment_id": "96f74362955042aaa1df28bf369836fa", "timestamp": 1556364995, "episodes_this_iter": 49, "done": false, "date": "2019-04-27_11-36-35"}
{"time_since_restore": 1767.3793532848358, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1073.1367335765315, "outflow_rate_mean": 948.3762259555295, "outflow_rate_min": 501.62470491789117, "cost2_min": -16.589462339397652, "cost1_max": 389.0870543575596, "cost1_mean": 312.2487893725812, "cost2_mean": -14.146112383971865, "cost1_min": 21.930742870684607, "system_level_velocity_max": 17.716944252434917, "system_level_velocity_mean": 11.826388397047506, "cost2_max": -7.535358750349166, "system_level_velocity_min": 9.22954861961246}, "time_this_iter_s": 37.43688631057739, "num_metric_batches_dropped": 0, "iterations_since_restore": 48, "node_ip": "10.138.0.2", "pid": 52798, "timesteps_total": 5447337, "info": {"sample_time_ms": 14948.616, "num_steps_trained": 5447337, "load_time_ms": 5.63, "update_time_ms": 11.573, "grad_time_ms": 22086.829, "num_steps_sampled": 5447337, "default": {"entropy": 1.0357173681259155, "vf_explained_var": 0.8021599650382996, "kl": 0.009106664918363094, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00039068853948265314, "vf_loss": 28.337844848632812, "cur_kl_coeff": 0.02500000223517418, "total_loss": 28.337682723999023}}, "episode_len_mean": 693.35, "episode_reward_mean": 903.100352129984, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "clip_actions": false, "monitor": false, "kl_target": 0.01, "log_level": "INFO", "output": null, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.5, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad86a0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad8a58>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad8668>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "dim": 84, "conv_filters": null, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 996.6089149533043, "time_total_s": 1767.3793532848358, "policy_reward_mean": {}, "training_iteration": 48, "episodes_total": 2681, "timesteps_since_restore": 5447337, "timesteps_this_iter": 116940, "episode_reward_min": 43.5708830292524, "experiment_id": "96f74362955042aaa1df28bf369836fa", "timestamp": 1556365033, "episodes_this_iter": 54, "done": false, "date": "2019-04-27_11-37-13"}
{"time_since_restore": 1806.5923669338226, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1073.1367335765315, "outflow_rate_mean": 950.1350554050746, "outflow_rate_min": 501.62470491789117, "cost2_min": -16.589462339397652, "cost1_max": 389.0870543575596, "cost1_mean": 313.7624398294022, "cost2_mean": -14.09297972837104, "cost1_min": 21.930742870684607, "system_level_velocity_max": 17.716944252434917, "system_level_velocity_mean": 11.893044484768724, "cost2_max": -7.535358750349166, "system_level_velocity_min": 9.22954861961246}, "time_this_iter_s": 39.213013648986816, "num_metric_batches_dropped": 0, "iterations_since_restore": 49, "node_ip": "10.138.0.2", "pid": 52798, "timesteps_total": 5564858, "info": {"sample_time_ms": 14973.382, "num_steps_trained": 5564858, "load_time_ms": 5.771, "update_time_ms": 11.471, "grad_time_ms": 22100.933, "num_steps_sampled": 5564858, "default": {"entropy": 1.0489999055862427, "vf_explained_var": 0.8040497303009033, "kl": 0.008792104199528694, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0008532899664714932, "vf_loss": 27.440113067626953, "cur_kl_coeff": 0.02500000409781933, "total_loss": 27.439477920532227}}, "episode_len_mean": 693.35, "episode_reward_mean": 899.3109789452213, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "clip_actions": false, "monitor": false, "kl_target": 0.01, "log_level": "INFO", "output": null, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.5, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad8390>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad85c0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad8cf8>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "dim": 84, "conv_filters": null, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 996.6089149533043, "time_total_s": 1806.5923669338226, "policy_reward_mean": {}, "training_iteration": 49, "episodes_total": 2731, "timesteps_since_restore": 5564858, "timesteps_this_iter": 117521, "episode_reward_min": 43.5708830292524, "experiment_id": "96f74362955042aaa1df28bf369836fa", "timestamp": 1556365072, "episodes_this_iter": 50, "done": false, "date": "2019-04-27_11-37-52"}
{"time_since_restore": 1845.4236199855804, "hostname": "flow-main", "custom_metrics": {"outflow_rate_max": 1064.1745285889097, "outflow_rate_mean": 951.6604835209556, "outflow_rate_min": 830.919692913909, "cost2_min": -16.398341556795117, "cost1_max": 381.71318912523583, "cost1_mean": 314.7587989303739, "cost2_mean": -14.034891385433104, "cost1_min": 236.4369493897355, "system_level_velocity_max": 14.441635810852073, "system_level_velocity_mean": 11.768868170026941, "cost2_max": -10.930071955657905, "system_level_velocity_min": 8.732972813858263}, "time_this_iter_s": 38.83125305175781, "num_metric_batches_dropped": 0, "iterations_since_restore": 50, "node_ip": "10.138.0.2", "pid": 52798, "timesteps_total": 5681526, "info": {"sample_time_ms": 14956.158, "num_steps_trained": 5681526, "load_time_ms": 5.756, "update_time_ms": 11.348, "grad_time_ms": 22287.921, "num_steps_sampled": 5681526, "default": {"entropy": 1.049141526222229, "vf_explained_var": 0.8010122179985046, "kl": 0.009164640679955482, "cur_lr": 0.0005000000237487257, "policy_loss": -0.001171331387013197, "vf_loss": 28.83517074584961, "cur_kl_coeff": 0.025000005960464478, "total_loss": 28.834226608276367}}, "episode_len_mean": 700.0, "episode_reward_mean": 905.4381463365881, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "clip_actions": false, "monitor": false, "kl_target": 0.01, "log_level": "INFO", "output": null, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.5, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad16a0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad15f8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad1dd8>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "dim": 84, "conv_filters": null, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 984.1761545072948, "time_total_s": 1845.4236199855804, "policy_reward_mean": {}, "training_iteration": 50, "episodes_total": 2784, "timesteps_since_restore": 5681526, "timesteps_this_iter": 116668, "episode_reward_min": 799.1534172359434, "experiment_id": "96f74362955042aaa1df28bf369836fa", "timestamp": 1556365111, "episodes_this_iter": 53, "done": true, "date": "2019-04-27_11-38-31"}
