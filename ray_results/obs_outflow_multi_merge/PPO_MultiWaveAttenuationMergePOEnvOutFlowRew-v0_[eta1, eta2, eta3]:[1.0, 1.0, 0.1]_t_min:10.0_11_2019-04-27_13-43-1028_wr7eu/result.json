{"time_since_restore": 69.02647042274475, "timesteps_total": 114847, "custom_metrics": {"outflow_rate_max": 715.9590415039403, "outflow_rate_mean": 597.9906805864563, "cost2_mean": -53.57224979109504, "cost2_min": -83.14499940357683, "cost1_max": 257.4513738684087, "system_level_velocity_max": 10.04744838607535, "outflow_rate_min": 424.6427609831417, "cost1_min": 161.08493356254365, "cost2_max": -33.31980341315247, "system_level_velocity_mean": 7.684853622799794, "cost1_mean": 197.6396186713941, "system_level_velocity_min": 6.284590469180659}, "time_this_iter_s": 69.02647042274475, "num_metric_batches_dropped": 0, "iterations_since_restore": 1, "node_ip": "10.138.0.2", "pid": 56259, "hostname": "flow-main", "info": {"update_time_ms": 2316.704, "sample_time_ms": 41610.518, "num_steps_trained": 114847, "num_steps_sampled": 114847, "load_time_ms": 59.618, "grad_time_ms": 24793.94, "default": {"entropy": 1.4151934385299683, "vf_explained_var": 0.818247377872467, "kl": 0.0050536105409264565, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0029186804313212633, "vf_loss": 1.207116961479187, "cur_kl_coeff": 0.20000003278255463, "total_loss": 1.2052090167999268}}, "episode_len_mean": 700.0, "episode_reward_mean": 223.99159616821268, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "clip_actions": false, "monitor": false, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "vf_loss_coeff": 1.0, "sgd_minibatch_size": 128, "input_evaluation": null, "observation_filter": "NoFilter", "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 1.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da6be10>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da6b5c0>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da6ba20>", "on_sample_end": null}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "collect_metrics_timeout": 180, "clip_rewards": null, "lr": 0.0005, "num_cpus_for_driver": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "sample_async": false, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "conv_activation": "relu", "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 299.87198428727265, "policy_reward_mean": {}, "time_total_s": 69.02647042274475, "training_iteration": 1, "episodes_total": 36, "timesteps_since_restore": 114847, "timesteps_this_iter": 114847, "episode_reward_min": 166.60093815093182, "experiment_id": "144c0940cfac45f7849c4cc8d8836bea", "timestamp": 1556372677, "episodes_this_iter": 36, "done": false, "date": "2019-04-27_13-44-37"}
{"time_since_restore": 106.69695734977722, "timesteps_total": 230376, "custom_metrics": {"outflow_rate_max": 721.0838691921574, "outflow_rate_mean": 611.6837517970312, "cost2_mean": -53.37203128332403, "cost2_min": -96.41403019803602, "cost1_max": 257.4513738684087, "system_level_velocity_max": 10.04744838607535, "outflow_rate_min": 418.6930664273867, "cost1_min": 145.4777641857683, "cost2_max": -23.778191995582027, "system_level_velocity_mean": 7.788837551952454, "cost1_mean": 201.1454906406184, "system_level_velocity_min": 5.661215958813912}, "time_this_iter_s": 37.67048692703247, "num_metric_batches_dropped": 0, "iterations_since_restore": 2, "node_ip": "10.138.0.2", "pid": 56259, "hostname": "flow-main", "info": {"update_time_ms": 1164.235, "sample_time_ms": 27946.578, "num_steps_trained": 230376, "num_steps_sampled": 230376, "load_time_ms": 35.564, "grad_time_ms": 23975.058, "default": {"entropy": 1.4172837734222412, "vf_explained_var": 0.8067986965179443, "kl": 0.009878158569335938, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007376372814178467, "vf_loss": 1.338687777519226, "cur_kl_coeff": 0.20000003278255463, "total_loss": 1.333287000656128}}, "episode_len_mean": 700.0, "episode_reward_mean": 249.69010817238708, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "clip_actions": false, "monitor": false, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "vf_loss_coeff": 1.0, "sgd_minibatch_size": 128, "input_evaluation": null, "observation_filter": "NoFilter", "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 1.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da76940>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da76748>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da76780>", "on_sample_end": null}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "collect_metrics_timeout": 180, "clip_rewards": null, "lr": 0.0005, "num_cpus_for_driver": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "sample_async": false, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "conv_activation": "relu", "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 349.41018332093086, "policy_reward_mean": {}, "time_total_s": 106.69695734977722, "training_iteration": 2, "episodes_total": 98, "timesteps_since_restore": 230376, "timesteps_this_iter": 115529, "episode_reward_min": 166.60093815093182, "experiment_id": "144c0940cfac45f7849c4cc8d8836bea", "timestamp": 1556372715, "episodes_this_iter": 62, "done": false, "date": "2019-04-27_13-45-15"}
{"time_since_restore": 142.4884386062622, "timesteps_total": 340949, "custom_metrics": {"outflow_rate_max": 754.258007405869, "outflow_rate_mean": 626.6284785380975, "cost2_mean": -45.18609418966057, "cost2_min": -96.41403019803602, "cost1_max": 269.96468982037527, "system_level_velocity_max": 10.29860973650438, "outflow_rate_min": 418.6930664273867, "cost1_min": 145.4777641857683, "cost2_max": -23.778191995582027, "system_level_velocity_mean": 8.231506838294372, "cost1_mean": 212.87986122802616, "system_level_velocity_min": 5.661215958813912}, "time_this_iter_s": 35.791481256484985, "num_metric_batches_dropped": 0, "iterations_since_restore": 3, "node_ip": "10.138.0.2", "pid": 56259, "hostname": "flow-main", "info": {"update_time_ms": 779.62, "sample_time_ms": 23191.753, "num_steps_trained": 340949, "num_steps_sampled": 340949, "load_time_ms": 25.876, "grad_time_ms": 23287.48, "default": {"entropy": 1.3978997468948364, "vf_explained_var": 0.830746591091156, "kl": 0.010166962631046772, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007686895783990622, "vf_loss": 3.070607900619507, "cur_kl_coeff": 0.20000004768371582, "total_loss": 3.0649538040161133}}, "episode_len_mean": 700.0, "episode_reward_mean": 315.7136693013027, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "clip_actions": false, "monitor": false, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "vf_loss_coeff": 1.0, "sgd_minibatch_size": 128, "input_evaluation": null, "observation_filter": "NoFilter", "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 1.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82c50>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82b70>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82dd8>", "on_sample_end": null}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "collect_metrics_timeout": 180, "clip_rewards": null, "lr": 0.0005, "num_cpus_for_driver": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "sample_async": false, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "conv_activation": "relu", "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 476.29355378704355, "policy_reward_mean": {}, "time_total_s": 142.4884386062622, "training_iteration": 3, "episodes_total": 150, "timesteps_since_restore": 340949, "timesteps_this_iter": 110573, "episode_reward_min": 181.82749293704427, "experiment_id": "144c0940cfac45f7849c4cc8d8836bea", "timestamp": 1556372751, "episodes_this_iter": 52, "done": false, "date": "2019-04-27_13-45-51"}
{"time_since_restore": 178.66980648040771, "timesteps_total": 450093, "custom_metrics": {"outflow_rate_max": 832.974869101729, "outflow_rate_mean": 681.9505268728767, "cost2_mean": -39.31729378988318, "cost2_min": -53.28294393659503, "cost1_max": 304.05353478229347, "system_level_velocity_max": 11.700789293447162, "outflow_rate_min": 446.1850675620933, "cost1_min": 170.8450214798048, "cost2_max": -29.840045455590428, "system_level_velocity_mean": 9.300990505163954, "cost1_mean": 241.94202382710284, "system_level_velocity_min": 6.533345997009416}, "time_this_iter_s": 36.18136787414551, "num_metric_batches_dropped": 0, "iterations_since_restore": 4, "node_ip": "10.138.0.2", "pid": 56259, "hostname": "flow-main", "info": {"update_time_ms": 587.417, "sample_time_ms": 21032.187, "num_steps_trained": 450093, "num_steps_sampled": 450093, "load_time_ms": 22.456, "grad_time_ms": 22816.999, "default": {"entropy": 1.37541663646698, "vf_explained_var": 0.7374544143676758, "kl": 0.007816271856427193, "cur_lr": 0.0005000000237487257, "policy_loss": -0.005014937836676836, "vf_loss": 6.3711256980896, "cur_kl_coeff": 0.20000003278255463, "total_loss": 6.367673873901367}}, "episode_len_mean": 700.0, "episode_reward_mean": 446.892333318794, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "clip_actions": false, "monitor": false, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "vf_loss_coeff": 1.0, "sgd_minibatch_size": 128, "input_evaluation": null, "observation_filter": "NoFilter", "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 1.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da762b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da76358>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da769e8>", "on_sample_end": null}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "collect_metrics_timeout": 180, "clip_rewards": null, "lr": 0.0005, "num_cpus_for_driver": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "sample_async": false, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "conv_activation": "relu", "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 578.6782172490391, "policy_reward_mean": {}, "time_total_s": 178.66980648040771, "training_iteration": 4, "episodes_total": 211, "timesteps_since_restore": 450093, "timesteps_this_iter": 109144, "episode_reward_min": 193.8442960057724, "experiment_id": "144c0940cfac45f7849c4cc8d8836bea", "timestamp": 1556372787, "episodes_this_iter": 61, "done": false, "date": "2019-04-27_13-46-27"}
{"time_since_restore": 215.57798528671265, "timesteps_total": 562964, "custom_metrics": {"outflow_rate_max": 832.974869101729, "outflow_rate_mean": 756.2323020787037, "cost2_mean": -39.92944075282223, "cost2_min": -46.64399895828024, "cost1_max": 304.05353478229347, "system_level_velocity_max": 11.700789293447162, "outflow_rate_min": 544.779279953724, "cost1_min": 189.347803235752, "cost2_max": -32.88907738855686, "system_level_velocity_mean": 10.126380282076239, "cost1_mean": 265.61243505241606, "system_level_velocity_min": 7.201797244238041}, "time_this_iter_s": 36.90817880630493, "num_metric_batches_dropped": 0, "iterations_since_restore": 5, "node_ip": "10.138.0.2", "pid": 56259, "hostname": "flow-main", "info": {"update_time_ms": 471.843, "sample_time_ms": 19757.959, "num_steps_trained": 562964, "num_steps_sampled": 562964, "load_time_ms": 19.91, "grad_time_ms": 22658.478, "default": {"entropy": 1.3567434549331665, "vf_explained_var": 0.7159886360168457, "kl": 0.005847293883562088, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0029773106798529625, "vf_loss": 7.964840412139893, "cur_kl_coeff": 0.20000003278255463, "total_loss": 7.9630327224731445}}, "episode_len_mean": 700.0, "episode_reward_mean": 562.6126557224837, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "clip_actions": false, "monitor": false, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "vf_loss_coeff": 1.0, "sgd_minibatch_size": 128, "input_evaluation": null, "observation_filter": "NoFilter", "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 1.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82898>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da827f0>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82f98>", "on_sample_end": null}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "collect_metrics_timeout": 180, "clip_rewards": null, "lr": 0.0005, "num_cpus_for_driver": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "sample_async": false, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "conv_activation": "relu", "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 670.0994961073845, "policy_reward_mean": {}, "time_total_s": 215.57798528671265, "training_iteration": 5, "episodes_total": 267, "timesteps_since_restore": 562964, "timesteps_this_iter": 112871, "episode_reward_min": 395.65953882780275, "experiment_id": "144c0940cfac45f7849c4cc8d8836bea", "timestamp": 1556372824, "episodes_this_iter": 56, "done": false, "date": "2019-04-27_13-47-04"}
{"time_since_restore": 252.87440252304077, "timesteps_total": 678795, "custom_metrics": {"outflow_rate_max": 854.9110227042247, "outflow_rate_mean": 784.5380828418972, "cost2_mean": -38.450038063227865, "cost2_min": -47.49611610470848, "cost1_max": 309.0826907801419, "system_level_velocity_max": 11.888632192158347, "outflow_rate_min": 621.5198784443999, "cost1_min": 200.4170222076303, "cost2_max": -31.72948501177791, "system_level_velocity_mean": 10.139440860161372, "cost1_mean": 267.8510529038052, "system_level_velocity_min": 7.5648579351562}, "time_this_iter_s": 37.296417236328125, "num_metric_batches_dropped": 0, "iterations_since_restore": 6, "node_ip": "10.138.0.2", "pid": 56259, "hostname": "flow-main", "info": {"update_time_ms": 394.988, "sample_time_ms": 18902.957, "num_steps_trained": 678795, "num_steps_sampled": 678795, "load_time_ms": 18.528, "grad_time_ms": 22624.932, "default": {"entropy": 1.3477834463119507, "vf_explained_var": 0.6966565847396851, "kl": 0.004739662632346153, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0018168993992730975, "vf_loss": 7.709871292114258, "cur_kl_coeff": 0.20000001788139343, "total_loss": 7.7090020179748535}}, "episode_len_mean": 700.0, "episode_reward_mean": 632.8469616564729, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "clip_actions": false, "monitor": false, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "vf_loss_coeff": 1.0, "sgd_minibatch_size": 128, "input_evaluation": null, "observation_filter": "NoFilter", "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 1.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da76e48>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da766d8>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da761d0>", "on_sample_end": null}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "collect_metrics_timeout": 180, "clip_rewards": null, "lr": 0.0005, "num_cpus_for_driver": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "sample_async": false, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "conv_activation": "relu", "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 676.8353041716299, "policy_reward_mean": {}, "time_total_s": 252.87440252304077, "training_iteration": 6, "episodes_total": 323, "timesteps_since_restore": 678795, "timesteps_this_iter": 115831, "episode_reward_min": 516.5470848155301, "experiment_id": "144c0940cfac45f7849c4cc8d8836bea", "timestamp": 1556372861, "episodes_this_iter": 56, "done": false, "date": "2019-04-27_13-47-41"}
{"time_since_restore": 291.7586090564728, "timesteps_total": 795939, "custom_metrics": {"outflow_rate_max": 854.9110227042247, "outflow_rate_mean": 784.2910480336083, "cost2_mean": -36.4201212640385, "cost2_min": -47.49611610470848, "cost1_max": 309.0826907801419, "system_level_velocity_max": 11.888632192158347, "outflow_rate_min": 635.5245321688776, "cost1_min": 208.11761506123776, "cost2_max": -31.72948501177791, "system_level_velocity_mean": 9.936513522029067, "cost1_mean": 263.1291610244467, "system_level_velocity_min": 7.600108028793411}, "time_this_iter_s": 38.88420653343201, "num_metric_batches_dropped": 0, "iterations_since_restore": 7, "node_ip": "10.138.0.2", "pid": 56259, "hostname": "flow-main", "info": {"update_time_ms": 340.147, "sample_time_ms": 18277.157, "num_steps_trained": 795939, "num_steps_sampled": 795939, "load_time_ms": 17.588, "grad_time_ms": 22839.373, "default": {"entropy": 1.3419109582901, "vf_explained_var": 0.7284291982650757, "kl": 0.006447180639952421, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0018065585754811764, "vf_loss": 7.368480682373047, "cur_kl_coeff": 0.10000001639127731, "total_loss": 7.367318630218506}}, "episode_len_mean": 700.0, "episode_reward_mean": 650.147661822798, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "clip_actions": false, "monitor": false, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "vf_loss_coeff": 1.0, "sgd_minibatch_size": 128, "input_evaluation": null, "observation_filter": "NoFilter", "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 1.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82a90>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82be0>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82dd8>", "on_sample_end": null}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "collect_metrics_timeout": 180, "clip_rewards": null, "lr": 0.0005, "num_cpus_for_driver": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "sample_async": false, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "conv_activation": "relu", "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 689.4867838171417, "policy_reward_mean": {}, "time_total_s": 291.7586090564728, "training_iteration": 7, "episodes_total": 369, "timesteps_since_restore": 795939, "timesteps_this_iter": 117144, "episode_reward_min": 560.3418481506849, "experiment_id": "144c0940cfac45f7849c4cc8d8836bea", "timestamp": 1556372900, "episodes_this_iter": 46, "done": false, "date": "2019-04-27_13-48-20"}
{"time_since_restore": 329.84662079811096, "timesteps_total": 912002, "custom_metrics": {"outflow_rate_max": 828.3330566956387, "outflow_rate_mean": 779.8475777694975, "cost2_mean": -34.193901967393714, "cost2_min": -42.024218602265165, "cost1_max": 292.1430334753031, "system_level_velocity_max": 11.12491333492826, "outflow_rate_min": 627.2208343139798, "cost1_min": 183.69177528976974, "cost2_max": -29.130333471170704, "system_level_velocity_mean": 9.829629524973228, "cost1_mean": 260.42538014968, "system_level_velocity_min": 6.865294088939407}, "time_this_iter_s": 38.088011741638184, "num_metric_batches_dropped": 0, "iterations_since_restore": 8, "node_ip": "10.138.0.2", "pid": 56259, "hostname": "flow-main", "info": {"update_time_ms": 298.948, "sample_time_ms": 17846.277, "num_steps_trained": 912002, "num_steps_sampled": 912002, "load_time_ms": 16.9, "grad_time_ms": 22862.359, "default": {"entropy": 1.3361304998397827, "vf_explained_var": 0.7330991625785828, "kl": 0.00627680029720068, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0019082839135080576, "vf_loss": 8.465876579284668, "cur_kl_coeff": 0.10000002384185791, "total_loss": 8.464595794677734}}, "episode_len_mean": 700.0, "episode_reward_mean": 652.9064477593085, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "clip_actions": false, "monitor": false, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "vf_loss_coeff": 1.0, "sgd_minibatch_size": 128, "input_evaluation": null, "observation_filter": "NoFilter", "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 1.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da76d68>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da76c18>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da76ef0>", "on_sample_end": null}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "collect_metrics_timeout": 180, "clip_rewards": null, "lr": 0.0005, "num_cpus_for_driver": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "sample_async": false, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "conv_activation": "relu", "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 707.4041457839656, "policy_reward_mean": {}, "time_total_s": 329.84662079811096, "training_iteration": 8, "episodes_total": 422, "timesteps_since_restore": 912002, "timesteps_this_iter": 116063, "episode_reward_min": 552.2164847503594, "experiment_id": "144c0940cfac45f7849c4cc8d8836bea", "timestamp": 1556372938, "episodes_this_iter": 53, "done": false, "date": "2019-04-27_13-48-58"}
{"time_since_restore": 368.76517271995544, "timesteps_total": 1026926, "custom_metrics": {"outflow_rate_max": 836.1637263397233, "outflow_rate_mean": 779.2901007125249, "cost2_mean": -31.598203143200443, "cost2_min": -37.73310346287308, "cost1_max": 306.4864223336874, "system_level_velocity_max": 17.053642030057055, "outflow_rate_min": 501.62470491789117, "cost1_min": 20.842157375351743, "cost2_max": -13.861470905478743, "system_level_velocity_mean": 9.973674711624582, "cost1_mean": 260.31741978071756, "system_level_velocity_min": 6.865294088939407}, "time_this_iter_s": 38.91855192184448, "num_metric_batches_dropped": 0, "iterations_since_restore": 9, "node_ip": "10.138.0.2", "pid": 56259, "hostname": "flow-main", "info": {"update_time_ms": 267.415, "sample_time_ms": 17666.635, "num_steps_trained": 1026926, "num_steps_sampled": 1026926, "load_time_ms": 16.145, "grad_time_ms": 22816.817, "default": {"entropy": 1.3461949825286865, "vf_explained_var": 0.6749823093414307, "kl": 0.004911224357783794, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0007320251315832138, "vf_loss": 10.366751670837402, "cur_kl_coeff": 0.10000001639127731, "total_loss": 10.366510391235352}}, "episode_len_mean": 693.35, "episode_reward_mean": 660.730823906615, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "clip_actions": false, "monitor": false, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "vf_loss_coeff": 1.0, "sgd_minibatch_size": 128, "input_evaluation": null, "observation_filter": "NoFilter", "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 1.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82c50>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82f60>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82dd8>", "on_sample_end": null}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "collect_metrics_timeout": 180, "clip_rewards": null, "lr": 0.0005, "num_cpus_for_driver": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "sample_async": false, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "conv_activation": "relu", "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 707.4041457839656, "policy_reward_mean": {}, "time_total_s": 368.76517271995544, "training_iteration": 9, "episodes_total": 482, "timesteps_since_restore": 1026926, "timesteps_this_iter": 114924, "episode_reward_min": 20.87616320925238, "experiment_id": "144c0940cfac45f7849c4cc8d8836bea", "timestamp": 1556372977, "episodes_this_iter": 60, "done": false, "date": "2019-04-27_13-49-37"}
{"time_since_restore": 404.67675042152405, "timesteps_total": 1138077, "custom_metrics": {"outflow_rate_max": 857.2244141894541, "outflow_rate_mean": 781.1957660561212, "cost2_mean": -29.56929677419241, "cost2_min": -37.07908038083602, "cost1_max": 329.810830782478, "system_level_velocity_max": 17.053642030057055, "outflow_rate_min": 501.62470491789117, "cost1_min": 20.842157375351743, "cost2_max": -13.861470905478743, "system_level_velocity_mean": 10.067127717332305, "cost1_mean": 263.3907287976643, "system_level_velocity_min": 6.5845293498716195}, "time_this_iter_s": 35.9115777015686, "num_metric_batches_dropped": 0, "iterations_since_restore": 10, "node_ip": "10.138.0.2", "pid": 56259, "hostname": "flow-main", "info": {"update_time_ms": 241.759, "sample_time_ms": 17296.599, "num_steps_trained": 1138077, "num_steps_sampled": 1138077, "load_time_ms": 15.484, "grad_time_ms": 22709.92, "default": {"entropy": 1.3338544368743896, "vf_explained_var": 0.6670114398002625, "kl": 0.007001849357038736, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0010622487170621753, "vf_loss": 11.047362327575684, "cur_kl_coeff": 0.05000000447034836, "total_loss": 11.046649932861328}}, "episode_len_mean": 693.35, "episode_reward_mean": 673.2241694127978, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "clip_actions": false, "monitor": false, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "vf_loss_coeff": 1.0, "sgd_minibatch_size": 128, "input_evaluation": null, "observation_filter": "NoFilter", "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 1.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da702e8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da76f28>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad8940>", "on_sample_end": null}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "collect_metrics_timeout": 180, "clip_rewards": null, "lr": 0.0005, "num_cpus_for_driver": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "sample_async": false, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "conv_activation": "relu", "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 713.0534138631239, "policy_reward_mean": {}, "time_total_s": 404.67675042152405, "training_iteration": 10, "episodes_total": 537, "timesteps_since_restore": 1138077, "timesteps_this_iter": 111151, "episode_reward_min": 20.87616320925238, "experiment_id": "144c0940cfac45f7849c4cc8d8836bea", "timestamp": 1556373013, "episodes_this_iter": 55, "done": false, "date": "2019-04-27_13-50-13"}
{"time_since_restore": 440.02303290367126, "timesteps_total": 1248514, "custom_metrics": {"outflow_rate_max": 875.7229074031965, "outflow_rate_mean": 793.5905958448695, "cost2_mean": -27.730685260630864, "cost2_min": -32.06944663371295, "cost1_max": 340.94694919194956, "system_level_velocity_max": 13.044421530559035, "outflow_rate_min": 620.5610884905047, "cost1_min": 178.40667117823415, "cost2_max": -24.377729875548788, "system_level_velocity_mean": 10.342683376932264, "cost1_mean": 274.93749269712737, "system_level_velocity_min": 6.5845293498716195}, "time_this_iter_s": 35.34628248214722, "num_metric_batches_dropped": 0, "iterations_since_restore": 11, "node_ip": "10.138.0.2", "pid": 56259, "hostname": "flow-main", "info": {"update_time_ms": 11.048, "sample_time_ms": 14568.39, "num_steps_trained": 1248514, "num_steps_sampled": 1248514, "load_time_ms": 10.364, "grad_time_ms": 22312.248, "default": {"entropy": 1.3288475275039673, "vf_explained_var": 0.5741785168647766, "kl": 0.008088458329439163, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0017372173024341464, "vf_loss": 12.673291206359863, "cur_kl_coeff": 0.05000000819563866, "total_loss": 12.671958923339844}}, "episode_len_mean": 700.0, "episode_reward_mean": 692.4554969717221, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "clip_actions": false, "monitor": false, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "vf_loss_coeff": 1.0, "sgd_minibatch_size": 128, "input_evaluation": null, "observation_filter": "NoFilter", "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 1.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82eb8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82dd8>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82358>", "on_sample_end": null}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "collect_metrics_timeout": 180, "clip_rewards": null, "lr": 0.0005, "num_cpus_for_driver": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "sample_async": false, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "conv_activation": "relu", "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 720.414179877452, "policy_reward_mean": {}, "time_total_s": 440.02303290367126, "training_iteration": 11, "episodes_total": 597, "timesteps_since_restore": 1248514, "timesteps_this_iter": 110437, "episode_reward_min": 611.4840643065593, "experiment_id": "144c0940cfac45f7849c4cc8d8836bea", "timestamp": 1556373049, "episodes_this_iter": 60, "done": false, "date": "2019-04-27_13-50-49"}
{"time_since_restore": 475.5499131679535, "timesteps_total": 1357964, "custom_metrics": {"outflow_rate_max": 899.8765442245856, "outflow_rate_mean": 805.9181694938401, "cost2_mean": -26.162411608725858, "cost2_min": -30.663318571863186, "cost1_max": 348.6970605259355, "system_level_velocity_max": 13.134319962790082, "outflow_rate_min": 704.7355032190119, "cost1_min": 225.7164725296999, "cost2_max": -22.18500255651154, "system_level_velocity_mean": 10.712573062936196, "cost1_mean": 285.0068580333337, "system_level_velocity_min": 8.375933930110365}, "time_this_iter_s": 35.52688026428223, "num_metric_batches_dropped": 0, "iterations_since_restore": 12, "node_ip": "10.138.0.2", "pid": 56259, "hostname": "flow-main", "info": {"update_time_ms": 11.025, "sample_time_ms": 14532.05, "num_steps_trained": 1357964, "num_steps_sampled": 1357964, "load_time_ms": 10.104, "grad_time_ms": 22135.559, "default": {"entropy": 1.33837890625, "vf_explained_var": 0.5154277086257935, "kl": 0.0074236770160496235, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0016636758809909225, "vf_loss": 13.623885154724121, "cur_kl_coeff": 0.05000000819563866, "total_loss": 13.622593879699707}}, "episode_len_mean": 700.0, "episode_reward_mean": 703.1249515147449, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "clip_actions": false, "monitor": false, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "vf_loss_coeff": 1.0, "sgd_minibatch_size": 128, "input_evaluation": null, "observation_filter": "NoFilter", "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 1.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da70eb8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da702e8>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dabab38>", "on_sample_end": null}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "collect_metrics_timeout": 180, "clip_rewards": null, "lr": 0.0005, "num_cpus_for_driver": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "sample_async": false, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "conv_activation": "relu", "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 760.4127252717624, "policy_reward_mean": {}, "time_total_s": 475.5499131679535, "training_iteration": 12, "episodes_total": 657, "timesteps_since_restore": 1357964, "timesteps_this_iter": 109450, "episode_reward_min": 640.1465516887677, "experiment_id": "144c0940cfac45f7849c4cc8d8836bea", "timestamp": 1556373084, "episodes_this_iter": 60, "done": false, "date": "2019-04-27_13-51-24"}
{"time_since_restore": 511.4740493297577, "timesteps_total": 1466539, "custom_metrics": {"outflow_rate_max": 899.8765442245856, "outflow_rate_mean": 812.084851607286, "cost2_mean": -24.477904349175652, "cost2_min": -28.63019696457534, "cost1_max": 362.28600475567885, "system_level_velocity_max": 13.922760433132567, "outflow_rate_min": 741.9518896421686, "cost1_min": 250.3530871434468, "cost2_max": -20.65468461112189, "system_level_velocity_mean": 11.005182988218719, "cost1_mean": 292.63626042198973, "system_level_velocity_min": 9.429766994472775}, "time_this_iter_s": 35.9241361618042, "num_metric_batches_dropped": 0, "iterations_since_restore": 13, "node_ip": "10.138.0.2", "pid": 56259, "hostname": "flow-main", "info": {"update_time_ms": 10.988, "sample_time_ms": 14605.717, "num_steps_trained": 1466539, "num_steps_sampled": 1466539, "load_time_ms": 10.364, "grad_time_ms": 22072.043, "default": {"entropy": 1.3284037113189697, "vf_explained_var": 0.47778066992759705, "kl": 0.005302538629621267, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00043717489461414516, "vf_loss": 14.468732833862305, "cur_kl_coeff": 0.05000000447034836, "total_loss": 14.468561172485352}}, "episode_len_mean": 700.0, "episode_reward_mean": 709.9754675396201, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "clip_actions": false, "monitor": false, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "vf_loss_coeff": 1.0, "sgd_minibatch_size": 128, "input_evaluation": null, "observation_filter": "NoFilter", "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 1.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82dd8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82390>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da828d0>", "on_sample_end": null}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "collect_metrics_timeout": 180, "clip_rewards": null, "lr": 0.0005, "num_cpus_for_driver": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "sample_async": false, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "conv_activation": "relu", "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 760.4127252717624, "policy_reward_mean": {}, "time_total_s": 511.4740493297577, "training_iteration": 13, "episodes_total": 718, "timesteps_since_restore": 1466539, "timesteps_this_iter": 108575, "episode_reward_min": 653.0503793320554, "experiment_id": "144c0940cfac45f7849c4cc8d8836bea", "timestamp": 1556373120, "episodes_this_iter": 61, "done": false, "date": "2019-04-27_13-52-00"}
{"time_since_restore": 545.7120954990387, "timesteps_total": 1574639, "custom_metrics": {"outflow_rate_max": 911.228378872232, "outflow_rate_mean": 813.6197429998331, "cost2_mean": -23.028023455525773, "cost2_min": -26.56863573838715, "cost1_max": 371.1672885275585, "system_level_velocity_max": 14.624974848591531, "outflow_rate_min": 764.5486758657714, "cost1_min": 256.1080278752345, "cost2_max": -19.766992378255758, "system_level_velocity_mean": 11.280504651761843, "cost1_mean": 299.17242877226715, "system_level_velocity_min": 9.429766994472775}, "time_this_iter_s": 34.238046169281006, "num_metric_batches_dropped": 0, "iterations_since_restore": 14, "node_ip": "10.138.0.2", "pid": 56259, "hostname": "flow-main", "info": {"update_time_ms": 11.033, "sample_time_ms": 14529.176, "num_steps_trained": 1574639, "num_steps_sampled": 1574639, "load_time_ms": 10.277, "grad_time_ms": 21954.057, "default": {"entropy": 1.3180062770843506, "vf_explained_var": 0.4344153106212616, "kl": 0.006492265500128269, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0009051918750628829, "vf_loss": 15.37315559387207, "cur_kl_coeff": 0.05000000447034836, "total_loss": 15.372574806213379}}, "episode_len_mean": 700.0, "episode_reward_mean": 713.9051814997663, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "clip_actions": false, "monitor": false, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "vf_loss_coeff": 1.0, "sgd_minibatch_size": 128, "input_evaluation": null, "observation_filter": "NoFilter", "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 1.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82d30>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad1b00>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82048>", "on_sample_end": null}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "collect_metrics_timeout": 180, "clip_rewards": null, "lr": 0.0005, "num_cpus_for_driver": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "sample_async": false, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "conv_activation": "relu", "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 795.1158493344052, "policy_reward_mean": {}, "time_total_s": 545.7120954990387, "training_iteration": 14, "episodes_total": 778, "timesteps_since_restore": 1574639, "timesteps_this_iter": 108100, "episode_reward_min": 680.8798403438428, "experiment_id": "144c0940cfac45f7849c4cc8d8836bea", "timestamp": 1556373155, "episodes_this_iter": 60, "done": false, "date": "2019-04-27_13-52-35"}
{"time_since_restore": 580.4499702453613, "timesteps_total": 1683689, "custom_metrics": {"outflow_rate_max": 925.9256625888329, "outflow_rate_mean": 813.5253565597158, "cost2_mean": -22.114235519626277, "cost2_min": -25.977296197566023, "cost1_max": 368.78336098922296, "system_level_velocity_max": 14.510048168522777, "outflow_rate_min": 764.1298259146205, "cost1_min": 264.0623170046391, "cost2_max": -19.277951074072142, "system_level_velocity_mean": 11.142991221287472, "cost1_mean": 295.95455955625926, "system_level_velocity_min": 9.77211731512448}, "time_this_iter_s": 34.73787474632263, "num_metric_batches_dropped": 0, "iterations_since_restore": 15, "node_ip": "10.138.0.2", "pid": 56259, "hostname": "flow-main", "info": {"update_time_ms": 11.1, "sample_time_ms": 14447.483, "num_steps_trained": 1683689, "num_steps_sampled": 1683689, "load_time_ms": 10.08, "grad_time_ms": 21818.165, "default": {"entropy": 1.325245976448059, "vf_explained_var": 0.39560171961784363, "kl": 0.007325952872633934, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0012623730581253767, "vf_loss": 15.753606796264648, "cur_kl_coeff": 0.05000000819563866, "total_loss": 15.752710342407227}}, "episode_len_mean": 700.0, "episode_reward_mean": 717.3482353055449, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "clip_actions": false, "monitor": false, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "vf_loss_coeff": 1.0, "sgd_minibatch_size": 128, "input_evaluation": null, "observation_filter": "NoFilter", "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 1.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da823c8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82390>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82dd8>", "on_sample_end": null}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "collect_metrics_timeout": 180, "clip_rewards": null, "lr": 0.0005, "num_cpus_for_driver": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "sample_async": false, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "conv_activation": "relu", "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 795.1158493344052, "policy_reward_mean": {}, "time_total_s": 580.4499702453613, "training_iteration": 15, "episodes_total": 838, "timesteps_since_restore": 1683689, "timesteps_this_iter": 109050, "episode_reward_min": 684.4654043854928, "experiment_id": "144c0940cfac45f7849c4cc8d8836bea", "timestamp": 1556373189, "episodes_this_iter": 60, "done": false, "date": "2019-04-27_13-53-09"}
{"time_since_restore": 616.5186121463776, "timesteps_total": 1793505, "custom_metrics": {"outflow_rate_max": 934.7005151083595, "outflow_rate_mean": 820.4196891139072, "cost2_mean": -21.535107242866843, "cost2_min": -25.018101667905597, "cost1_max": 380.8078644893956, "system_level_velocity_max": 14.815335860781461, "outflow_rate_min": 764.1298259146205, "cost1_min": 264.0623170046391, "cost2_max": -19.035010507828176, "system_level_velocity_mean": 11.037710475109929, "cost1_mean": 293.6381947295027, "system_level_velocity_min": 9.77211731512448}, "time_this_iter_s": 36.068641901016235, "num_metric_batches_dropped": 0, "iterations_since_restore": 16, "node_ip": "10.138.0.2", "pid": 56259, "hostname": "flow-main", "info": {"update_time_ms": 11.133, "sample_time_ms": 14399.873, "num_steps_trained": 1793505, "num_steps_sampled": 1793505, "load_time_ms": 9.906, "grad_time_ms": 21741.117, "default": {"entropy": 1.3071937561035156, "vf_explained_var": 0.41955894231796265, "kl": 0.006779888644814491, "cur_lr": 0.0005000000237487257, "policy_loss": -0.000608757371082902, "vf_loss": 17.329931259155273, "cur_kl_coeff": 0.05000000819563866, "total_loss": 17.329660415649414}}, "episode_len_mean": 700.0, "episode_reward_mean": 724.9532897228514, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "clip_actions": false, "monitor": false, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "vf_loss_coeff": 1.0, "sgd_minibatch_size": 128, "input_evaluation": null, "observation_filter": "NoFilter", "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 1.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da821d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da827f0>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82048>", "on_sample_end": null}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "collect_metrics_timeout": 180, "clip_rewards": null, "lr": 0.0005, "num_cpus_for_driver": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "sample_async": false, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "conv_activation": "relu", "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 817.4613981731968, "policy_reward_mean": {}, "time_total_s": 616.5186121463776, "training_iteration": 16, "episodes_total": 898, "timesteps_since_restore": 1793505, "timesteps_this_iter": 109816, "episode_reward_min": 690.4468954244838, "experiment_id": "144c0940cfac45f7849c4cc8d8836bea", "timestamp": 1556373225, "episodes_this_iter": 60, "done": false, "date": "2019-04-27_13-53-45"}
{"time_since_restore": 653.9078390598297, "timesteps_total": 1904850, "custom_metrics": {"outflow_rate_max": 949.3488908370184, "outflow_rate_mean": 822.6867351135727, "cost2_mean": -21.102189687848934, "cost2_min": -23.98587376751208, "cost1_max": 381.97159154039247, "system_level_velocity_max": 14.869712853962447, "outflow_rate_min": 779.5552655790561, "cost1_min": 257.42694465248155, "cost2_max": -18.521840615220633, "system_level_velocity_mean": 10.847360407190035, "cost1_mean": 289.0562726207043, "system_level_velocity_min": 9.559962929925545}, "time_this_iter_s": 37.38922691345215, "num_metric_batches_dropped": 0, "iterations_since_restore": 17, "node_ip": "10.138.0.2", "pid": 56259, "hostname": "flow-main", "info": {"update_time_ms": 11.228, "sample_time_ms": 14478.536, "num_steps_trained": 1904850, "num_steps_sampled": 1904850, "load_time_ms": 9.8, "grad_time_ms": 21516.156, "default": {"entropy": 1.3122154474258423, "vf_explained_var": 0.3649882674217224, "kl": 0.007055813912302256, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0001465707755414769, "vf_loss": 18.236663818359375, "cur_kl_coeff": 0.05000000447034836, "total_loss": 18.23686981201172}}, "episode_len_mean": 700.0, "episode_reward_mean": 730.9697769649297, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "clip_actions": false, "monitor": false, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "vf_loss_coeff": 1.0, "sgd_minibatch_size": 128, "input_evaluation": null, "observation_filter": "NoFilter", "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 1.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82550>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82390>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da823c8>", "on_sample_end": null}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "collect_metrics_timeout": 180, "clip_rewards": null, "lr": 0.0005, "num_cpus_for_driver": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "sample_async": false, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "conv_activation": "relu", "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 817.7319661789184, "policy_reward_mean": {}, "time_total_s": 653.9078390598297, "training_iteration": 17, "episodes_total": 960, "timesteps_since_restore": 1904850, "timesteps_this_iter": 111345, "episode_reward_min": 704.9802599634875, "experiment_id": "144c0940cfac45f7849c4cc8d8836bea", "timestamp": 1556373263, "episodes_this_iter": 62, "done": false, "date": "2019-04-27_13-54-23"}
{"time_since_restore": 690.8960721492767, "timesteps_total": 2018201, "custom_metrics": {"outflow_rate_max": 970.6326381562408, "outflow_rate_mean": 823.736685906039, "cost2_mean": -20.936695060782373, "cost2_min": -23.499307004969086, "cost1_max": 382.4141407164493, "system_level_velocity_max": 14.616145703994283, "outflow_rate_min": 779.5552655790561, "cost1_min": 257.42694465248155, "cost2_max": -18.0276788954922, "system_level_velocity_mean": 10.590256935119797, "cost1_mean": 282.588268110211, "system_level_velocity_min": 9.559962929925545}, "time_this_iter_s": 36.98823308944702, "num_metric_batches_dropped": 0, "iterations_since_restore": 18, "node_ip": "10.138.0.2", "pid": 56259, "hostname": "flow-main", "info": {"update_time_ms": 11.293, "sample_time_ms": 14434.558, "num_steps_trained": 2018201, "num_steps_sampled": 2018201, "load_time_ms": 9.713, "grad_time_ms": 21450.2, "default": {"entropy": 1.3009960651397705, "vf_explained_var": 0.48295360803604126, "kl": 0.008680957369506359, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0006753656198270619, "vf_loss": 15.092541694641113, "cur_kl_coeff": 0.05000000819563866, "total_loss": 15.092301368713379}}, "episode_len_mean": 700.0, "episode_reward_mean": 735.9930443658586, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "clip_actions": false, "monitor": false, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "vf_loss_coeff": 1.0, "sgd_minibatch_size": 128, "input_evaluation": null, "observation_filter": "NoFilter", "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 1.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82ef0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82048>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da822b0>", "on_sample_end": null}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "collect_metrics_timeout": 180, "clip_rewards": null, "lr": 0.0005, "num_cpus_for_driver": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "sample_async": false, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "conv_activation": "relu", "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 847.7369881999861, "policy_reward_mean": {}, "time_total_s": 690.8960721492767, "training_iteration": 18, "episodes_total": 1010, "timesteps_since_restore": 2018201, "timesteps_this_iter": 113351, "episode_reward_min": 715.849538735959, "experiment_id": "144c0940cfac45f7849c4cc8d8836bea", "timestamp": 1556373300, "episodes_this_iter": 50, "done": false, "date": "2019-04-27_13-55-00"}
{"time_since_restore": 725.1300256252289, "timesteps_total": 2130605, "custom_metrics": {"outflow_rate_max": 987.037152418293, "outflow_rate_mean": 830.758892576261, "cost2_mean": -20.62446849224578, "cost2_min": -22.92726441113802, "cost1_max": 390.3479824271881, "system_level_velocity_max": 14.89605137339448, "outflow_rate_min": 799.140995112766, "cost1_min": 253.84024312769193, "cost2_max": -18.0276788954922, "system_level_velocity_mean": 10.523664918104593, "cost1_mean": 280.68677602345343, "system_level_velocity_min": 9.410634298043268}, "time_this_iter_s": 34.23395347595215, "num_metric_batches_dropped": 0, "iterations_since_restore": 19, "node_ip": "10.138.0.2", "pid": 56259, "hostname": "flow-main", "info": {"update_time_ms": 10.834, "sample_time_ms": 14250.912, "num_steps_trained": 2130605, "num_steps_sampled": 2130605, "load_time_ms": 9.68, "grad_time_ms": 21165.683, "default": {"entropy": 1.3007965087890625, "vf_explained_var": 0.5254669785499573, "kl": 0.007004002574831247, "cur_lr": 0.0005000000237487257, "policy_loss": -7.099659706000239e-05, "vf_loss": 17.067440032958984, "cur_kl_coeff": 0.05000000447034836, "total_loss": 17.067718505859375}}, "episode_len_mean": 700.0, "episode_reward_mean": 740.6409960638573, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "clip_actions": false, "monitor": false, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "vf_loss_coeff": 1.0, "sgd_minibatch_size": 128, "input_evaluation": null, "observation_filter": "NoFilter", "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 1.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82c50>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82550>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82898>", "on_sample_end": null}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "collect_metrics_timeout": 180, "clip_rewards": null, "lr": 0.0005, "num_cpus_for_driver": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "sample_async": false, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "conv_activation": "relu", "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 847.7369881999861, "policy_reward_mean": {}, "time_total_s": 725.1300256252289, "training_iteration": 19, "episodes_total": 1068, "timesteps_since_restore": 2130605, "timesteps_this_iter": 112404, "episode_reward_min": 718.2509273071682, "experiment_id": "144c0940cfac45f7849c4cc8d8836bea", "timestamp": 1556373334, "episodes_this_iter": 58, "done": false, "date": "2019-04-27_13-55-34"}
{"time_since_restore": 758.8548395633698, "timesteps_total": 2241449, "custom_metrics": {"outflow_rate_max": 974.2534736409744, "outflow_rate_mean": 828.9785522465821, "cost2_mean": -20.154566278763756, "cost2_min": -22.80911615170242, "cost1_max": 380.1554458306217, "system_level_velocity_max": 14.54130769666447, "outflow_rate_min": 793.8003495248234, "cost1_min": 253.84024312769193, "cost2_max": -17.83143755245633, "system_level_velocity_mean": 10.555092473759242, "cost1_mean": 282.05053268272644, "system_level_velocity_min": 9.410634298043268}, "time_this_iter_s": 33.72481393814087, "num_metric_batches_dropped": 0, "iterations_since_restore": 20, "node_ip": "10.138.0.2", "pid": 56259, "hostname": "flow-main", "info": {"update_time_ms": 10.828, "sample_time_ms": 14265.918, "num_steps_trained": 2241449, "num_steps_sampled": 2241449, "load_time_ms": 9.76, "grad_time_ms": 20931.532, "default": {"entropy": 1.2955496311187744, "vf_explained_var": 0.4595217704772949, "kl": 0.007527326233685017, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00028445100178942084, "vf_loss": 18.545108795166016, "cur_kl_coeff": 0.05000000819563866, "total_loss": 18.545202255249023}}, "episode_len_mean": 700.0, "episode_reward_mean": 742.1955032535266, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "clip_actions": false, "monitor": false, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "vf_loss_coeff": 1.0, "sgd_minibatch_size": 128, "input_evaluation": null, "observation_filter": "NoFilter", "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 1.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82048>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82b00>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82e10>", "on_sample_end": null}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "collect_metrics_timeout": 180, "clip_rewards": null, "lr": 0.0005, "num_cpus_for_driver": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "sample_async": false, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "conv_activation": "relu", "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 846.8262693405393, "policy_reward_mean": {}, "time_total_s": 758.8548395633698, "training_iteration": 20, "episodes_total": 1128, "timesteps_since_restore": 2241449, "timesteps_this_iter": 110844, "episode_reward_min": 718.2509273071682, "experiment_id": "144c0940cfac45f7849c4cc8d8836bea", "timestamp": 1556373368, "episodes_this_iter": 60, "done": false, "date": "2019-04-27_13-56-08"}
{"time_since_restore": 796.6525187492371, "timesteps_total": 2353255, "custom_metrics": {"outflow_rate_max": 963.0500845325282, "outflow_rate_mean": 831.0932113999444, "cost2_mean": -19.581334304370138, "cost2_min": -22.80911615170242, "cost1_max": 387.36334409819995, "system_level_velocity_max": 14.823444751260427, "outflow_rate_min": 802.9231268772047, "cost1_min": 258.8030430421451, "cost2_max": -17.119157174161337, "system_level_velocity_mean": 10.73394168512561, "cost1_mean": 286.54419323927254, "system_level_velocity_min": 9.551287268732844}, "time_this_iter_s": 37.79767918586731, "num_metric_batches_dropped": 0, "iterations_since_restore": 21, "node_ip": "10.138.0.2", "pid": 56259, "hostname": "flow-main", "info": {"update_time_ms": 10.997, "sample_time_ms": 14365.073, "num_steps_trained": 2353255, "num_steps_sampled": 2353255, "load_time_ms": 9.938, "grad_time_ms": 21062.876, "default": {"entropy": 1.2798346281051636, "vf_explained_var": 0.5064280033111572, "kl": 0.006749765947461128, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0005487839807756245, "vf_loss": 19.107418060302734, "cur_kl_coeff": 0.05000000447034836, "total_loss": 19.10720443725586}}, "episode_len_mean": 700.0, "episode_reward_mean": 745.0715475280232, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "clip_actions": false, "monitor": false, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "vf_loss_coeff": 1.0, "sgd_minibatch_size": 128, "input_evaluation": null, "observation_filter": "NoFilter", "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 1.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82f98>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82470>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82518>", "on_sample_end": null}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "collect_metrics_timeout": 180, "clip_rewards": null, "lr": 0.0005, "num_cpus_for_driver": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "sample_async": false, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "conv_activation": "relu", "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 833.2316174848794, "policy_reward_mean": {}, "time_total_s": 796.6525187492371, "training_iteration": 21, "episodes_total": 1189, "timesteps_since_restore": 2353255, "timesteps_this_iter": 111806, "episode_reward_min": 721.6954609757069, "experiment_id": "144c0940cfac45f7849c4cc8d8836bea", "timestamp": 1556373406, "episodes_this_iter": 61, "done": false, "date": "2019-04-27_13-56-46"}
{"time_since_restore": 832.3541824817657, "timesteps_total": 2463750, "custom_metrics": {"outflow_rate_max": 963.0500845325282, "outflow_rate_mean": 832.230422203485, "cost2_mean": -19.00558428225713, "cost2_min": -22.524602232188645, "cost1_max": 387.36334409819995, "system_level_velocity_max": 14.823444751260427, "outflow_rate_min": 793.7420955009093, "cost1_min": 256.96132016069396, "cost2_max": -16.066011306011266, "system_level_velocity_mean": 10.88523010253466, "cost1_mean": 289.52737691278037, "system_level_velocity_min": 9.54133650703826}, "time_this_iter_s": 35.70166373252869, "num_metric_batches_dropped": 0, "iterations_since_restore": 22, "node_ip": "10.138.0.2", "pid": 56259, "hostname": "flow-main", "info": {"update_time_ms": 11.005, "sample_time_ms": 14373.294, "num_steps_trained": 2463750, "num_steps_sampled": 2463750, "load_time_ms": 9.824, "grad_time_ms": 21073.092, "default": {"entropy": 1.2648168802261353, "vf_explained_var": 0.48171719908714294, "kl": 0.00570194236934185, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0004678552213590592, "vf_loss": 19.667648315429688, "cur_kl_coeff": 0.050000011920928955, "total_loss": 19.66746711730957}}, "episode_len_mean": 700.0, "episode_reward_mean": 745.4306839508894, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "clip_actions": false, "monitor": false, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "vf_loss_coeff": 1.0, "sgd_minibatch_size": 128, "input_evaluation": null, "observation_filter": "NoFilter", "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 1.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82a58>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82b00>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82048>", "on_sample_end": null}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "collect_metrics_timeout": 180, "clip_rewards": null, "lr": 0.0005, "num_cpus_for_driver": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "sample_async": false, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "conv_activation": "relu", "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 847.1855377954372, "policy_reward_mean": {}, "time_total_s": 832.3541824817657, "training_iteration": 22, "episodes_total": 1249, "timesteps_since_restore": 2463750, "timesteps_this_iter": 110495, "episode_reward_min": 720.1099292272431, "experiment_id": "144c0940cfac45f7849c4cc8d8836bea", "timestamp": 1556373441, "episodes_this_iter": 60, "done": false, "date": "2019-04-27_13-57-21"}
{"time_since_restore": 867.7052779197693, "timesteps_total": 2575020, "custom_metrics": {"outflow_rate_max": 968.1005695891482, "outflow_rate_mean": 835.4081487271355, "cost2_mean": -18.881898950188337, "cost2_min": -21.54519502990339, "cost1_max": 385.22110337692726, "system_level_velocity_max": 14.858192113856598, "outflow_rate_min": 793.7420955009093, "cost1_min": 256.96132016069396, "cost2_max": -16.066011306011266, "system_level_velocity_mean": 10.937373851949184, "cost1_mean": 291.23082483850465, "system_level_velocity_min": 9.486201712533651}, "time_this_iter_s": 35.35109543800354, "num_metric_batches_dropped": 0, "iterations_since_restore": 23, "node_ip": "10.138.0.2", "pid": 56259, "hostname": "flow-main", "info": {"update_time_ms": 11.061, "sample_time_ms": 14380.939, "num_steps_trained": 2575020, "num_steps_sampled": 2575020, "load_time_ms": 9.832, "grad_time_ms": 21007.688, "default": {"entropy": 1.2614365816116333, "vf_explained_var": 0.5136420130729675, "kl": 0.007173676043748856, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0007584653212688863, "vf_loss": 20.036354064941406, "cur_kl_coeff": 0.05000000447034836, "total_loss": 20.035951614379883}}, "episode_len_mean": 700.0, "episode_reward_mean": 750.8874497427503, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "clip_actions": false, "monitor": false, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "vf_loss_coeff": 1.0, "sgd_minibatch_size": 128, "input_evaluation": null, "observation_filter": "NoFilter", "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 1.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82390>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82dd8>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82d30>", "on_sample_end": null}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "collect_metrics_timeout": 180, "clip_rewards": null, "lr": 0.0005, "num_cpus_for_driver": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "sample_async": false, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "conv_activation": "relu", "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 853.5347883961149, "policy_reward_mean": {}, "time_total_s": 867.7052779197693, "training_iteration": 23, "episodes_total": 1309, "timesteps_since_restore": 2575020, "timesteps_this_iter": 111270, "episode_reward_min": 720.1099292272431, "experiment_id": "144c0940cfac45f7849c4cc8d8836bea", "timestamp": 1556373477, "episodes_this_iter": 60, "done": false, "date": "2019-04-27_13-57-57"}
{"time_since_restore": 904.1451404094696, "timesteps_total": 2687101, "custom_metrics": {"outflow_rate_max": 973.6555528851206, "outflow_rate_mean": 832.7713912011708, "cost2_mean": -18.737834463430474, "cost2_min": -20.888754120059122, "cost1_max": 395.9172877950865, "system_level_velocity_max": 15.394395441023997, "outflow_rate_min": 797.8509121038358, "cost1_min": 257.05598484219547, "cost2_max": -16.72767377044108, "system_level_velocity_mean": 10.809879976802106, "cost1_mean": 287.7349226884376, "system_level_velocity_min": 9.486201712533651}, "time_this_iter_s": 36.43986248970032, "num_metric_batches_dropped": 0, "iterations_since_restore": 24, "node_ip": "10.138.0.2", "pid": 56259, "hostname": "flow-main", "info": {"update_time_ms": 11.043, "sample_time_ms": 14436.916, "num_steps_trained": 2687101, "num_steps_sampled": 2687101, "load_time_ms": 9.856, "grad_time_ms": 21170.308, "default": {"entropy": 1.268674612045288, "vf_explained_var": 0.5363312363624573, "kl": 0.0077168820425868034, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0009711634484119713, "vf_loss": 18.221675872802734, "cur_kl_coeff": 0.05000000819563866, "total_loss": 18.221088409423828}}, "episode_len_mean": 700.0, "episode_reward_mean": 746.3148614171018, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "clip_actions": false, "monitor": false, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "vf_loss_coeff": 1.0, "sgd_minibatch_size": 128, "input_evaluation": null, "observation_filter": "NoFilter", "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 1.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82b00>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82eb8>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da826a0>", "on_sample_end": null}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "collect_metrics_timeout": 180, "clip_rewards": null, "lr": 0.0005, "num_cpus_for_driver": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "sample_async": false, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "conv_activation": "relu", "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 834.5047768404521, "policy_reward_mean": {}, "time_total_s": 904.1451404094696, "training_iteration": 24, "episodes_total": 1366, "timesteps_since_restore": 2687101, "timesteps_this_iter": 112081, "episode_reward_min": 721.0733660513027, "experiment_id": "144c0940cfac45f7849c4cc8d8836bea", "timestamp": 1556373513, "episodes_this_iter": 57, "done": false, "date": "2019-04-27_13-58-33"}
{"time_since_restore": 939.655788898468, "timesteps_total": 2795426, "custom_metrics": {"outflow_rate_max": 968.5597878679256, "outflow_rate_mean": 831.3910811817632, "cost2_mean": -18.30814022329741, "cost2_min": -20.396065965241416, "cost1_max": 393.6524294171946, "system_level_velocity_max": 15.242862566592354, "outflow_rate_min": 800.868845718568, "cost1_min": 264.577590208929, "cost2_max": -16.257161360012496, "system_level_velocity_mean": 11.007505965161686, "cost1_mean": 292.29466907672855, "system_level_velocity_min": 9.894067580645062}, "time_this_iter_s": 35.51064848899841, "num_metric_batches_dropped": 0, "iterations_since_restore": 25, "node_ip": "10.138.0.2", "pid": 56259, "hostname": "flow-main", "info": {"update_time_ms": 11.371, "sample_time_ms": 14435.771, "num_steps_trained": 2795426, "num_steps_sampled": 2795426, "load_time_ms": 10.054, "grad_time_ms": 21248.364, "default": {"entropy": 1.2678583860397339, "vf_explained_var": 0.3768799304962158, "kl": 0.006667353678494692, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0004600259999278933, "vf_loss": 22.036771774291992, "cur_kl_coeff": 0.05000000819563866, "total_loss": 22.036645889282227}}, "episode_len_mean": 700.0, "episode_reward_mean": 742.4581609622586, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "clip_actions": false, "monitor": false, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "vf_loss_coeff": 1.0, "sgd_minibatch_size": 128, "input_evaluation": null, "observation_filter": "NoFilter", "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 1.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82d30>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82630>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82da0>", "on_sample_end": null}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "collect_metrics_timeout": 180, "clip_rewards": null, "lr": 0.0005, "num_cpus_for_driver": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "sample_async": false, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "conv_activation": "relu", "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 828.6250720170511, "policy_reward_mean": {}, "time_total_s": 939.655788898468, "training_iteration": 25, "episodes_total": 1426, "timesteps_since_restore": 2795426, "timesteps_this_iter": 108325, "episode_reward_min": 715.016277977194, "experiment_id": "144c0940cfac45f7849c4cc8d8836bea", "timestamp": 1556373549, "episodes_this_iter": 60, "done": false, "date": "2019-04-27_13-59-09"}
{"time_since_restore": 974.7596101760864, "timesteps_total": 2903251, "custom_metrics": {"outflow_rate_max": 968.5597878679256, "outflow_rate_mean": 835.3089140230642, "cost2_mean": -18.08573169699002, "cost2_min": -20.07041402965569, "cost1_max": 393.6524294171946, "system_level_velocity_max": 15.242862566592354, "outflow_rate_min": 796.9967934476093, "cost1_min": 267.47692264163743, "cost2_max": -15.755245444929617, "system_level_velocity_mean": 11.47527033999816, "cost1_mean": 303.3448746234107, "system_level_velocity_min": 9.98082039943141}, "time_this_iter_s": 35.10382127761841, "num_metric_batches_dropped": 0, "iterations_since_restore": 26, "node_ip": "10.138.0.2", "pid": 56259, "hostname": "flow-main", "info": {"update_time_ms": 11.311, "sample_time_ms": 14391.875, "num_steps_trained": 2903251, "num_steps_sampled": 2903251, "load_time_ms": 10.007, "grad_time_ms": 21196.925, "default": {"entropy": 1.2619976997375488, "vf_explained_var": 0.3328247368335724, "kl": 0.00759323313832283, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0009735580533742905, "vf_loss": 22.813344955444336, "cur_kl_coeff": 0.05000000819563866, "total_loss": 22.8127498626709}}, "episode_len_mean": 699.67, "episode_reward_mean": 740.7342608051923, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "clip_actions": false, "monitor": false, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "vf_loss_coeff": 1.0, "sgd_minibatch_size": 128, "input_evaluation": null, "observation_filter": "NoFilter", "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 1.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82b00>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82978>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82ef0>", "on_sample_end": null}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "collect_metrics_timeout": 180, "clip_rewards": null, "lr": 0.0005, "num_cpus_for_driver": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "sample_async": false, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "conv_activation": "relu", "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 828.6250720170511, "policy_reward_mean": {}, "time_total_s": 974.7596101760864, "training_iteration": 26, "episodes_total": 1486, "timesteps_since_restore": 2903251, "timesteps_this_iter": 107825, "episode_reward_min": 707.1261669602324, "experiment_id": "144c0940cfac45f7849c4cc8d8836bea", "timestamp": 1556373584, "episodes_this_iter": 60, "done": false, "date": "2019-04-27_13-59-44"}
{"time_since_restore": 1007.9472651481628, "timesteps_total": 3008767, "custom_metrics": {"outflow_rate_max": 935.3254520369366, "outflow_rate_mean": 831.5129299138075, "cost2_mean": -18.161959387967006, "cost2_min": -21.147510380910795, "cost1_max": 396.3875616804809, "system_level_velocity_max": 15.430368644877898, "outflow_rate_min": 795.7723847995225, "cost1_min": 275.67760426783707, "cost2_max": -15.954859087224964, "system_level_velocity_mean": 11.830252566411694, "cost1_mean": 311.729244714845, "system_level_velocity_min": 10.34455866237234}, "time_this_iter_s": 33.187654972076416, "num_metric_batches_dropped": 0, "iterations_since_restore": 27, "node_ip": "10.138.0.2", "pid": 56259, "hostname": "flow-main", "info": {"update_time_ms": 11.383, "sample_time_ms": 14281.447, "num_steps_trained": 3008767, "num_steps_sampled": 3008767, "load_time_ms": 10.111, "grad_time_ms": 20884.976, "default": {"entropy": 1.2547420263290405, "vf_explained_var": 0.20173101127147675, "kl": 0.006823580712080002, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0003971298283431679, "vf_loss": 25.01214599609375, "cur_kl_coeff": 0.05000000447034836, "total_loss": 25.012088775634766}}, "episode_len_mean": 699.67, "episode_reward_mean": 735.3372056021336, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "clip_actions": false, "monitor": false, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "vf_loss_coeff": 1.0, "sgd_minibatch_size": 128, "input_evaluation": null, "observation_filter": "NoFilter", "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 1.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82c18>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82208>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da824e0>", "on_sample_end": null}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "collect_metrics_timeout": 180, "clip_rewards": null, "lr": 0.0005, "num_cpus_for_driver": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "sample_async": false, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "conv_activation": "relu", "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 811.0795522596276, "policy_reward_mean": {}, "time_total_s": 1007.9472651481628, "training_iteration": 27, "episodes_total": 1548, "timesteps_since_restore": 3008767, "timesteps_this_iter": 105516, "episode_reward_min": 704.5430803436451, "experiment_id": "144c0940cfac45f7849c4cc8d8836bea", "timestamp": 1556373617, "episodes_this_iter": 62, "done": false, "date": "2019-04-27_14-00-17"}
{"time_since_restore": 1042.158835887909, "timesteps_total": 3114637, "custom_metrics": {"outflow_rate_max": 912.6494772175387, "outflow_rate_mean": 831.7858855704052, "cost2_mean": -18.149114625736228, "cost2_min": -22.233346875993202, "cost1_max": 396.3875616804809, "system_level_velocity_max": 15.430368644877898, "outflow_rate_min": 797.1727720569081, "cost1_min": 278.62717882091306, "cost2_max": -14.487119831092041, "system_level_velocity_mean": 12.233415256448835, "cost1_mean": 321.9597978880549, "system_level_velocity_min": 10.436436314609146}, "time_this_iter_s": 34.211570739746094, "num_metric_batches_dropped": 0, "iterations_since_restore": 28, "node_ip": "10.138.0.2", "pid": 56259, "hostname": "flow-main", "info": {"update_time_ms": 11.217, "sample_time_ms": 14151.649, "num_steps_trained": 3114637, "num_steps_sampled": 3114637, "load_time_ms": 9.845, "grad_time_ms": 20737.964, "default": {"entropy": 1.2424049377441406, "vf_explained_var": 0.1715439260005951, "kl": 0.00884927622973919, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0009851427748799324, "vf_loss": 23.781972885131836, "cur_kl_coeff": 0.05000000819563866, "total_loss": 23.781429290771484}}, "episode_len_mean": 700.0, "episode_reward_mean": 737.4272885857187, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "clip_actions": false, "monitor": false, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "vf_loss_coeff": 1.0, "sgd_minibatch_size": 128, "input_evaluation": null, "observation_filter": "NoFilter", "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 1.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82400>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82fd0>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82358>", "on_sample_end": null}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "collect_metrics_timeout": 180, "clip_rewards": null, "lr": 0.0005, "num_cpus_for_driver": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "sample_async": false, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "conv_activation": "relu", "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 799.2701974559886, "policy_reward_mean": {}, "time_total_s": 1042.158835887909, "training_iteration": 28, "episodes_total": 1608, "timesteps_since_restore": 3114637, "timesteps_this_iter": 105870, "episode_reward_min": 706.8810999134278, "experiment_id": "144c0940cfac45f7849c4cc8d8836bea", "timestamp": 1556373651, "episodes_this_iter": 60, "done": false, "date": "2019-04-27_14-00-51"}
{"time_since_restore": 1075.1386082172394, "timesteps_total": 3220225, "custom_metrics": {"outflow_rate_max": 920.7219380717626, "outflow_rate_mean": 828.815353950603, "cost2_mean": -17.856179384098933, "cost2_min": -22.233346875993202, "cost1_max": 396.39512309963465, "system_level_velocity_max": 15.599338461311373, "outflow_rate_min": 795.8305891321055, "cost1_min": 281.7122856836868, "cost2_max": -15.669666642194358, "system_level_velocity_mean": 12.18951176955689, "cost1_mean": 320.52468027670847, "system_level_velocity_min": 10.570271640674216}, "time_this_iter_s": 32.979772329330444, "num_metric_batches_dropped": 0, "iterations_since_restore": 29, "node_ip": "10.138.0.2", "pid": 56259, "hostname": "flow-main", "info": {"update_time_ms": 11.303, "sample_time_ms": 14026.027, "num_steps_trained": 3220225, "num_steps_sampled": 3220225, "load_time_ms": 9.938, "grad_time_ms": 20738.72, "default": {"entropy": 1.2401423454284668, "vf_explained_var": 0.16169901192188263, "kl": 0.007393095176666975, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0006792307831346989, "vf_loss": 24.584606170654297, "cur_kl_coeff": 0.05000000447034836, "total_loss": 24.58429718017578}}, "episode_len_mean": 700.0, "episode_reward_mean": 733.4581983186913, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "clip_actions": false, "monitor": false, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "vf_loss_coeff": 1.0, "sgd_minibatch_size": 128, "input_evaluation": null, "observation_filter": "NoFilter", "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 1.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82240>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82f60>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da761d0>", "on_sample_end": null}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "collect_metrics_timeout": 180, "clip_rewards": null, "lr": 0.0005, "num_cpus_for_driver": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "sample_async": false, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "conv_activation": "relu", "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 800.128023119213, "policy_reward_mean": {}, "time_total_s": 1075.1386082172394, "training_iteration": 29, "episodes_total": 1668, "timesteps_since_restore": 3220225, "timesteps_this_iter": 105588, "episode_reward_min": 694.9277522488072, "experiment_id": "144c0940cfac45f7849c4cc8d8836bea", "timestamp": 1556373684, "episodes_this_iter": 60, "done": false, "date": "2019-04-27_14-01-24"}
{"time_since_restore": 1108.5278820991516, "timesteps_total": 3327697, "custom_metrics": {"outflow_rate_max": 935.8927420801003, "outflow_rate_mean": 828.1742002143756, "cost2_mean": -17.95712504830562, "cost2_min": -21.224017393313208, "cost1_max": 396.39512309963465, "system_level_velocity_max": 15.599338461311373, "outflow_rate_min": 795.8305891321055, "cost1_min": 276.99360943867737, "cost2_max": -15.715283574494848, "system_level_velocity_mean": 12.090268912519369, "cost1_mean": 318.0405310338605, "system_level_velocity_min": 10.381448059954062}, "time_this_iter_s": 33.38927388191223, "num_metric_batches_dropped": 0, "iterations_since_restore": 30, "node_ip": "10.138.0.2", "pid": 56259, "hostname": "flow-main", "info": {"update_time_ms": 11.229, "sample_time_ms": 13947.903, "num_steps_trained": 3327697, "num_steps_sampled": 3327697, "load_time_ms": 9.857, "grad_time_ms": 20780.544, "default": {"entropy": 1.2228726148605347, "vf_explained_var": 0.16158424317836761, "kl": 0.008762571960687637, "cur_lr": 0.0005000000237487257, "policy_loss": -0.001465091947466135, "vf_loss": 23.104520797729492, "cur_kl_coeff": 0.05000000819563866, "total_loss": 23.10349464416504}}, "episode_len_mean": 700.0, "episode_reward_mean": 731.7457553933824, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "clip_actions": false, "monitor": false, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "vf_loss_coeff": 1.0, "sgd_minibatch_size": 128, "input_evaluation": null, "observation_filter": "NoFilter", "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 1.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82048>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82320>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82be0>", "on_sample_end": null}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "collect_metrics_timeout": 180, "clip_rewards": null, "lr": 0.0005, "num_cpus_for_driver": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "sample_async": false, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "conv_activation": "relu", "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 806.7270234469646, "policy_reward_mean": {}, "time_total_s": 1108.5278820991516, "training_iteration": 30, "episodes_total": 1728, "timesteps_since_restore": 3327697, "timesteps_this_iter": 107472, "episode_reward_min": 694.9277522488072, "experiment_id": "144c0940cfac45f7849c4cc8d8836bea", "timestamp": 1556373718, "episodes_this_iter": 60, "done": false, "date": "2019-04-27_14-01-58"}
{"time_since_restore": 1143.4900357723236, "timesteps_total": 3435840, "custom_metrics": {"outflow_rate_max": 979.7504773018111, "outflow_rate_mean": 832.4255807787366, "cost2_mean": -18.01838284395784, "cost2_min": -19.991580312545626, "cost1_max": 403.5042120391813, "system_level_velocity_max": 15.72786523465563, "outflow_rate_min": 794.1036073011812, "cost1_min": 215.4937501443422, "cost2_max": -13.860384437545822, "system_level_velocity_mean": 11.891610202491423, "cost1_mean": 312.33744489102554, "system_level_velocity_min": 10.381448059954062}, "time_this_iter_s": 34.962153673172, "num_metric_batches_dropped": 0, "iterations_since_restore": 31, "node_ip": "10.138.0.2", "pid": 56259, "hostname": "flow-main", "info": {"update_time_ms": 11.194, "sample_time_ms": 13904.639, "num_steps_trained": 3435840, "num_steps_sampled": 3435840, "load_time_ms": 9.988, "grad_time_ms": 20551.582, "default": {"entropy": 1.2202340364456177, "vf_explained_var": 0.20333579182624817, "kl": 0.011785199865698814, "cur_lr": 0.0005000000237487257, "policy_loss": -0.001577880117110908, "vf_loss": 24.703702926635742, "cur_kl_coeff": 0.05000000447034836, "total_loss": 24.702714920043945}}, "episode_len_mean": 696.87, "episode_reward_mean": 731.9797196296278, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "clip_actions": false, "monitor": false, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "vf_loss_coeff": 1.0, "sgd_minibatch_size": 128, "input_evaluation": null, "observation_filter": "NoFilter", "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 1.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da70470>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da70e80>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da70eb8>", "on_sample_end": null}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "collect_metrics_timeout": 180, "clip_rewards": null, "lr": 0.0005, "num_cpus_for_driver": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "sample_async": false, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "conv_activation": "relu", "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 806.7270234469646, "policy_reward_mean": {}, "time_total_s": 1143.4900357723236, "training_iteration": 31, "episodes_total": 1792, "timesteps_since_restore": 3435840, "timesteps_this_iter": 108143, "episode_reward_min": 464.66058344735467, "experiment_id": "144c0940cfac45f7849c4cc8d8836bea", "timestamp": 1556373753, "episodes_this_iter": 64, "done": false, "date": "2019-04-27_14-02-33"}
{"time_since_restore": 1177.4656827449799, "timesteps_total": 3543641, "custom_metrics": {"outflow_rate_max": 979.7504773018111, "outflow_rate_mean": 837.2142102869406, "cost2_mean": -18.115112456725118, "cost2_min": -21.107425504050703, "cost1_max": 408.5552655282501, "system_level_velocity_max": 15.821596617606145, "outflow_rate_min": 794.1036073011812, "cost1_min": 215.4937501443422, "cost2_max": -13.860384437545822, "system_level_velocity_mean": 11.72634899957138, "cost1_mean": 308.4601347060536, "system_level_velocity_min": 10.425540523313945}, "time_this_iter_s": 33.97564697265625, "num_metric_batches_dropped": 0, "iterations_since_restore": 32, "node_ip": "10.138.0.2", "pid": 56259, "hostname": "flow-main", "info": {"update_time_ms": 11.229, "sample_time_ms": 14006.951, "num_steps_trained": 3543641, "num_steps_sampled": 3543641, "load_time_ms": 9.912, "grad_time_ms": 20274.706, "default": {"entropy": 1.2175328731536865, "vf_explained_var": 0.25557243824005127, "kl": 0.009098303504288197, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0009656246984377503, "vf_loss": 25.93903350830078, "cur_kl_coeff": 0.05000000819563866, "total_loss": 25.938526153564453}}, "episode_len_mean": 696.87, "episode_reward_mean": 736.8580583233816, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "clip_actions": false, "monitor": false, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "vf_loss_coeff": 1.0, "sgd_minibatch_size": 128, "input_evaluation": null, "observation_filter": "NoFilter", "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 1.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da76e48>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da76cc0>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da76358>", "on_sample_end": null}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "collect_metrics_timeout": 180, "clip_rewards": null, "lr": 0.0005, "num_cpus_for_driver": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "sample_async": false, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "conv_activation": "relu", "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 845.0865425797981, "policy_reward_mean": {}, "time_total_s": 1177.4656827449799, "training_iteration": 32, "episodes_total": 1858, "timesteps_since_restore": 3543641, "timesteps_this_iter": 107801, "episode_reward_min": 464.66058344735467, "experiment_id": "144c0940cfac45f7849c4cc8d8836bea", "timestamp": 1556373787, "episodes_this_iter": 66, "done": false, "date": "2019-04-27_14-03-07"}
{"time_since_restore": 1214.9556028842926, "timesteps_total": 3654119, "custom_metrics": {"outflow_rate_max": 977.8491571774615, "outflow_rate_mean": 838.0077701176717, "cost2_mean": -18.375218726691383, "cost2_min": -21.107425504050703, "cost1_max": 408.5552655282501, "system_level_velocity_max": 15.821596617606145, "outflow_rate_min": 798.5656163495511, "cost1_min": 275.27812136272144, "cost2_max": -16.281122307478928, "system_level_velocity_mean": 11.542408696889296, "cost1_mean": 305.84191182580525, "system_level_velocity_min": 10.306182080345177}, "time_this_iter_s": 37.489920139312744, "num_metric_batches_dropped": 0, "iterations_since_restore": 33, "node_ip": "10.138.0.2", "pid": 56259, "hostname": "flow-main", "info": {"update_time_ms": 11.215, "sample_time_ms": 14077.395, "num_steps_trained": 3654119, "num_steps_sampled": 3654119, "load_time_ms": 10.132, "grad_time_ms": 20417.951, "default": {"entropy": 1.2174241542816162, "vf_explained_var": 0.3593810200691223, "kl": 0.009367824532091618, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0014064860297366977, "vf_loss": 24.43729591369629, "cur_kl_coeff": 0.050000011920928955, "total_loss": 24.436359405517578}}, "episode_len_mean": 700.0, "episode_reward_mean": 741.0347794749647, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "clip_actions": false, "monitor": false, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "vf_loss_coeff": 1.0, "sgd_minibatch_size": 128, "input_evaluation": null, "observation_filter": "NoFilter", "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 1.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dabab38>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82940>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da873c8>", "on_sample_end": null}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "collect_metrics_timeout": 180, "clip_rewards": null, "lr": 0.0005, "num_cpus_for_driver": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "sample_async": false, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "conv_activation": "relu", "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 845.0865425797981, "policy_reward_mean": {}, "time_total_s": 1214.9556028842926, "training_iteration": 33, "episodes_total": 1920, "timesteps_since_restore": 3654119, "timesteps_this_iter": 110478, "episode_reward_min": 701.1494928989691, "experiment_id": "144c0940cfac45f7849c4cc8d8836bea", "timestamp": 1556373824, "episodes_this_iter": 62, "done": false, "date": "2019-04-27_14-03-44"}
{"time_since_restore": 1252.5161514282227, "timesteps_total": 3763902, "custom_metrics": {"outflow_rate_max": 985.0073210432615, "outflow_rate_mean": 836.6971627052133, "cost2_mean": -18.373012720236662, "cost2_min": -21.33165005582302, "cost1_max": 402.12346313218296, "system_level_velocity_max": 15.41177587361855, "outflow_rate_min": 749.6745490640425, "cost1_min": 196.91257045225706, "cost2_max": -15.05943911568246, "system_level_velocity_mean": 11.358522514571854, "cost1_mean": 299.8862866436127, "system_level_velocity_min": 10.019703794232212}, "time_this_iter_s": 37.560548543930054, "num_metric_batches_dropped": 0, "iterations_since_restore": 34, "node_ip": "10.138.0.2", "pid": 56259, "hostname": "flow-main", "info": {"update_time_ms": 11.416, "sample_time_ms": 14142.739, "num_steps_trained": 3763902, "num_steps_sampled": 3763902, "load_time_ms": 9.589, "grad_time_ms": 20466.214, "default": {"entropy": 1.217699408531189, "vf_explained_var": 0.45091861486434937, "kl": 0.008640360087156296, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0015241149812936783, "vf_loss": 24.878042221069336, "cur_kl_coeff": 0.05000000819563866, "total_loss": 24.876951217651367}}, "episode_len_mean": 696.87, "episode_reward_mean": 741.5051742768244, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "clip_actions": false, "monitor": false, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "vf_loss_coeff": 1.0, "sgd_minibatch_size": 128, "input_evaluation": null, "observation_filter": "NoFilter", "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 1.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da70e80>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da70160>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da872e8>", "on_sample_end": null}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "collect_metrics_timeout": 180, "clip_rewards": null, "lr": 0.0005, "num_cpus_for_driver": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "sample_async": false, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "conv_activation": "relu", "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 851.3802736337316, "policy_reward_mean": {}, "time_total_s": 1252.5161514282227, "training_iteration": 34, "episodes_total": 1984, "timesteps_since_restore": 3763902, "timesteps_this_iter": 109783, "episode_reward_min": 454.4412234846934, "experiment_id": "144c0940cfac45f7849c4cc8d8836bea", "timestamp": 1556373862, "episodes_this_iter": 64, "done": false, "date": "2019-04-27_14-04-22"}
{"time_since_restore": 1289.2515442371368, "timesteps_total": 3874120, "custom_metrics": {"outflow_rate_max": 969.9774570478916, "outflow_rate_mean": 837.6484641498982, "cost2_mean": -18.34713566055102, "cost2_min": -20.532182274552603, "cost1_max": 395.28502283282387, "system_level_velocity_max": 15.286192106301225, "outflow_rate_min": 749.6745490640425, "cost1_min": 196.91257045225706, "cost2_max": -15.05943911568246, "system_level_velocity_mean": 11.215709474953385, "cost1_mean": 296.71850479314725, "system_level_velocity_min": 9.949277719427895}, "time_this_iter_s": 36.735392808914185, "num_metric_batches_dropped": 0, "iterations_since_restore": 35, "node_ip": "10.138.0.2", "pid": 56259, "hostname": "flow-main", "info": {"update_time_ms": 11.296, "sample_time_ms": 14288.292, "num_steps_trained": 3874120, "num_steps_sampled": 3874120, "load_time_ms": 9.67, "grad_time_ms": 20442.849, "default": {"entropy": 1.2204663753509521, "vf_explained_var": 0.44879966974258423, "kl": 0.007758846506476402, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0004000563931185752, "vf_loss": 25.74525260925293, "cur_kl_coeff": 0.05000000819563866, "total_loss": 25.745241165161133}}, "episode_len_mean": 696.87, "episode_reward_mean": 747.8362878120934, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "clip_actions": false, "monitor": false, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "vf_loss_coeff": 1.0, "sgd_minibatch_size": 128, "input_evaluation": null, "observation_filter": "NoFilter", "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 1.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da87240>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da87ba8>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da87160>", "on_sample_end": null}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "collect_metrics_timeout": 180, "clip_rewards": null, "lr": 0.0005, "num_cpus_for_driver": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "sample_async": false, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "conv_activation": "relu", "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 860.8731347684844, "policy_reward_mean": {}, "time_total_s": 1289.2515442371368, "training_iteration": 35, "episodes_total": 2049, "timesteps_since_restore": 3874120, "timesteps_this_iter": 110218, "episode_reward_min": 454.4412234846934, "experiment_id": "144c0940cfac45f7849c4cc8d8836bea", "timestamp": 1556373899, "episodes_this_iter": 65, "done": false, "date": "2019-04-27_14-04-59"}
{"time_since_restore": 1326.1075284481049, "timesteps_total": 3983773, "custom_metrics": {"outflow_rate_max": 971.1565863602743, "outflow_rate_mean": 842.9949377634531, "cost2_mean": -18.156461966085523, "cost2_min": -20.532182274552603, "cost1_max": 407.17438357516926, "system_level_velocity_max": 15.901994054662833, "outflow_rate_min": 799.1889231805512, "cost1_min": 266.00775293803395, "cost2_max": -14.967353468977228, "system_level_velocity_mean": 11.355436610374666, "cost1_mean": 301.84490658793203, "system_level_velocity_min": 9.94568915413141}, "time_this_iter_s": 36.85598421096802, "num_metric_batches_dropped": 0, "iterations_since_restore": 36, "node_ip": "10.138.0.2", "pid": 56259, "hostname": "flow-main", "info": {"update_time_ms": 11.27, "sample_time_ms": 14415.214, "num_steps_trained": 3983773, "num_steps_sampled": 3983773, "load_time_ms": 9.723, "grad_time_ms": 20489.71, "default": {"entropy": 1.2110158205032349, "vf_explained_var": 0.5088720321655273, "kl": 0.008495251648128033, "cur_lr": 0.0005000000237487257, "policy_loss": -0.001059454632923007, "vf_loss": 24.167354583740234, "cur_kl_coeff": 0.05000000447034836, "total_loss": 24.166717529296875}}, "episode_len_mean": 700.0, "episode_reward_mean": 758.0841681894486, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "clip_actions": false, "monitor": false, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "vf_loss_coeff": 1.0, "sgd_minibatch_size": 128, "input_evaluation": null, "observation_filter": "NoFilter", "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 1.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da87128>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da87208>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da870b8>", "on_sample_end": null}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "collect_metrics_timeout": 180, "clip_rewards": null, "lr": 0.0005, "num_cpus_for_driver": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "sample_async": false, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "conv_activation": "relu", "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 860.8731347684844, "policy_reward_mean": {}, "time_total_s": 1326.1075284481049, "training_iteration": 36, "episodes_total": 2111, "timesteps_since_restore": 3983773, "timesteps_this_iter": 109653, "episode_reward_min": 718.1354546491493, "experiment_id": "144c0940cfac45f7849c4cc8d8836bea", "timestamp": 1556373936, "episodes_this_iter": 62, "done": false, "date": "2019-04-27_14-05-36"}
{"time_since_restore": 1361.2614464759827, "timesteps_total": 4094029, "custom_metrics": {"outflow_rate_max": 956.0054891858799, "outflow_rate_mean": 833.0991514633325, "cost2_mean": -17.762298079065417, "cost2_min": -19.95340608943264, "cost1_max": 371.53238074704063, "system_level_velocity_max": 14.001376130668097, "outflow_rate_min": 799.1889231805512, "cost1_min": 266.00775293803395, "cost2_max": -14.562365516205976, "system_level_velocity_mean": 11.021402889353935, "cost1_mean": 293.31105654371305, "system_level_velocity_min": 9.94568915413141}, "time_this_iter_s": 35.15391802787781, "num_metric_batches_dropped": 0, "iterations_since_restore": 37, "node_ip": "10.138.0.2", "pid": 56259, "hostname": "flow-main", "info": {"update_time_ms": 11.276, "sample_time_ms": 14385.91, "num_steps_trained": 4094029, "num_steps_sampled": 4094029, "load_time_ms": 9.379, "grad_time_ms": 20715.311, "default": {"entropy": 1.212693214416504, "vf_explained_var": 0.5437914133071899, "kl": 0.00817225780338049, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0011007505236193538, "vf_loss": 22.19758415222168, "cur_kl_coeff": 0.05000000819563866, "total_loss": 22.19689178466797}}, "episode_len_mean": 700.0, "episode_reward_mean": 748.6559656947921, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "clip_actions": false, "monitor": false, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "vf_loss_coeff": 1.0, "sgd_minibatch_size": 128, "input_evaluation": null, "observation_filter": "NoFilter", "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 1.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82f28>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da820f0>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82940>", "on_sample_end": null}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "collect_metrics_timeout": 180, "clip_rewards": null, "lr": 0.0005, "num_cpus_for_driver": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "sample_async": false, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "conv_activation": "relu", "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 850.1150583734359, "policy_reward_mean": {}, "time_total_s": 1361.2614464759827, "training_iteration": 37, "episodes_total": 2171, "timesteps_since_restore": 4094029, "timesteps_this_iter": 110256, "episode_reward_min": 721.4144090154645, "experiment_id": "144c0940cfac45f7849c4cc8d8836bea", "timestamp": 1556373971, "episodes_this_iter": 60, "done": false, "date": "2019-04-27_14-06-11"}
{"time_since_restore": 1396.742877483368, "timesteps_total": 4203760, "custom_metrics": {"outflow_rate_max": 975.8891613486708, "outflow_rate_mean": 835.2143994061074, "cost2_mean": -17.808839032324617, "cost2_min": -19.95340608943264, "cost1_max": 391.3418516154528, "system_level_velocity_max": 15.150742735015223, "outflow_rate_min": 800.7090527084877, "cost1_min": 266.25048937655265, "cost2_max": -14.349224786012664, "system_level_velocity_mean": 11.073277747820683, "cost1_mean": 294.9868249338458, "system_level_velocity_min": 9.98628323733246}, "time_this_iter_s": 35.481431007385254, "num_metric_batches_dropped": 0, "iterations_since_restore": 38, "node_ip": "10.138.0.2", "pid": 56259, "hostname": "flow-main", "info": {"update_time_ms": 11.384, "sample_time_ms": 14543.725, "num_steps_trained": 4203760, "num_steps_sampled": 4203760, "load_time_ms": 9.462, "grad_time_ms": 20683.59, "default": {"entropy": 1.2069705724716187, "vf_explained_var": 0.47783783078193665, "kl": 0.008235563524067402, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0010613362537696958, "vf_loss": 25.23110008239746, "cur_kl_coeff": 0.05000000819563866, "total_loss": 25.230449676513672}}, "episode_len_mean": 700.0, "episode_reward_mean": 749.8520253162591, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "clip_actions": false, "monitor": false, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "vf_loss_coeff": 1.0, "sgd_minibatch_size": 128, "input_evaluation": null, "observation_filter": "NoFilter", "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 1.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad1b00>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82208>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da6b748>", "on_sample_end": null}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "collect_metrics_timeout": 180, "clip_rewards": null, "lr": 0.0005, "num_cpus_for_driver": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "sample_async": false, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "conv_activation": "relu", "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 845.1036201708802, "policy_reward_mean": {}, "time_total_s": 1396.742877483368, "training_iteration": 38, "episodes_total": 2232, "timesteps_since_restore": 4203760, "timesteps_this_iter": 109731, "episode_reward_min": 718.4640112528763, "experiment_id": "144c0940cfac45f7849c4cc8d8836bea", "timestamp": 1556374006, "episodes_this_iter": 61, "done": false, "date": "2019-04-27_14-06-46"}
{"time_since_restore": 1432.306783914566, "timesteps_total": 4313140, "custom_metrics": {"outflow_rate_max": 975.8891613486708, "outflow_rate_mean": 836.5715013962392, "cost2_mean": -17.788414104163483, "cost2_min": -19.566161127104184, "cost1_max": 391.3418516154528, "system_level_velocity_max": 15.150742735015223, "outflow_rate_min": 804.9600610957871, "cost1_min": 263.54910384738685, "cost2_max": -15.810991749653411, "system_level_velocity_mean": 11.030372842650554, "cost1_mean": 293.72360875136064, "system_level_velocity_min": 9.783002237004577}, "time_this_iter_s": 35.56390643119812, "num_metric_batches_dropped": 0, "iterations_since_restore": 39, "node_ip": "10.138.0.2", "pid": 56259, "hostname": "flow-main", "info": {"update_time_ms": 11.353, "sample_time_ms": 14621.852, "num_steps_trained": 4313140, "num_steps_sampled": 4313140, "load_time_ms": 9.333, "grad_time_ms": 20863.66, "default": {"entropy": 1.2015289068222046, "vf_explained_var": 0.48815321922302246, "kl": 0.007270182017236948, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0009289374575018883, "vf_loss": 24.763328552246094, "cur_kl_coeff": 0.05000000447034836, "total_loss": 24.76276206970215}}, "episode_len_mean": 700.0, "episode_reward_mean": 748.6924303485008, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "clip_actions": false, "monitor": false, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "vf_loss_coeff": 1.0, "sgd_minibatch_size": 128, "input_evaluation": null, "observation_filter": "NoFilter", "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 1.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da762e8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da767f0>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da76c18>", "on_sample_end": null}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "collect_metrics_timeout": 180, "clip_rewards": null, "lr": 0.0005, "num_cpus_for_driver": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "sample_async": false, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "conv_activation": "relu", "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 855.9348029912617, "policy_reward_mean": {}, "time_total_s": 1432.306783914566, "training_iteration": 39, "episodes_total": 2292, "timesteps_since_restore": 4313140, "timesteps_this_iter": 109380, "episode_reward_min": 718.4640112528763, "experiment_id": "144c0940cfac45f7849c4cc8d8836bea", "timestamp": 1556374042, "episodes_this_iter": 60, "done": false, "date": "2019-04-27_14-07-22"}
{"time_since_restore": 1467.9314737319946, "timesteps_total": 4423240, "custom_metrics": {"outflow_rate_max": 973.5600343975656, "outflow_rate_mean": 836.2714868254968, "cost2_mean": -17.691189903870985, "cost2_min": -20.15807219129657, "cost1_max": 386.0810949508523, "system_level_velocity_max": 14.81488887320532, "outflow_rate_min": 805.384772177936, "cost1_min": 261.8896871872385, "cost2_max": -15.673810603374495, "system_level_velocity_mean": 10.97648171769978, "cost1_mean": 292.43325584906535, "system_level_velocity_min": 9.716176298648461}, "time_this_iter_s": 35.62468981742859, "num_metric_batches_dropped": 0, "iterations_since_restore": 40, "node_ip": "10.138.0.2", "pid": 56259, "hostname": "flow-main", "info": {"update_time_ms": 11.693, "sample_time_ms": 14698.92, "num_steps_trained": 4423240, "num_steps_sampled": 4423240, "load_time_ms": 9.434, "grad_time_ms": 21009.488, "default": {"entropy": 1.2012367248535156, "vf_explained_var": 0.49030065536499023, "kl": 0.008128498680889606, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0007385814096778631, "vf_loss": 24.526355743408203, "cur_kl_coeff": 0.05000000819563866, "total_loss": 24.526023864746094}}, "episode_len_mean": 700.0, "episode_reward_mean": 750.3801373532306, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "clip_actions": false, "monitor": false, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "vf_loss_coeff": 1.0, "sgd_minibatch_size": 128, "input_evaluation": null, "observation_filter": "NoFilter", "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 1.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da872e8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82710>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da87e80>", "on_sample_end": null}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "collect_metrics_timeout": 180, "clip_rewards": null, "lr": 0.0005, "num_cpus_for_driver": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "sample_async": false, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "conv_activation": "relu", "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 855.9348029912617, "policy_reward_mean": {}, "time_total_s": 1467.9314737319946, "training_iteration": 40, "episodes_total": 2352, "timesteps_since_restore": 4423240, "timesteps_this_iter": 110100, "episode_reward_min": 722.7545298020972, "experiment_id": "144c0940cfac45f7849c4cc8d8836bea", "timestamp": 1556374077, "episodes_this_iter": 60, "done": false, "date": "2019-04-27_14-07-57"}
{"time_since_restore": 1502.7397689819336, "timesteps_total": 4532396, "custom_metrics": {"outflow_rate_max": 973.5600343975656, "outflow_rate_mean": 829.2894942103753, "cost2_mean": -17.618013840261156, "cost2_min": -20.15807219129657, "cost1_max": 384.2558748334744, "system_level_velocity_max": 14.683121812587414, "outflow_rate_min": 801.9022859265825, "cost1_min": 261.8896871872385, "cost2_max": -15.293875335206064, "system_level_velocity_mean": 10.907397325139316, "cost1_mean": 290.5383578093049, "system_level_velocity_min": 9.716176298648461}, "time_this_iter_s": 34.808295249938965, "num_metric_batches_dropped": 0, "iterations_since_restore": 41, "node_ip": "10.138.0.2", "pid": 56259, "hostname": "flow-main", "info": {"update_time_ms": 11.723, "sample_time_ms": 14594.922, "num_steps_trained": 4532396, "num_steps_sampled": 4532396, "load_time_ms": 9.261, "grad_time_ms": 21098.233, "default": {"entropy": 1.19371497631073, "vf_explained_var": 0.44279786944389343, "kl": 0.00889541581273079, "cur_lr": 0.0005000000237487257, "policy_loss": -0.001039476366713643, "vf_loss": 24.578968048095703, "cur_kl_coeff": 0.05000000819563866, "total_loss": 24.5783748626709}}, "episode_len_mean": 700.0, "episode_reward_mean": 744.4176269893395, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "clip_actions": false, "monitor": false, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "vf_loss_coeff": 1.0, "sgd_minibatch_size": 128, "input_evaluation": null, "observation_filter": "NoFilter", "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 1.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82550>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82a20>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dabab38>", "on_sample_end": null}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "collect_metrics_timeout": 180, "clip_rewards": null, "lr": 0.0005, "num_cpus_for_driver": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "sample_async": false, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "conv_activation": "relu", "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 843.0101969549276, "policy_reward_mean": {}, "time_total_s": 1502.7397689819336, "training_iteration": 41, "episodes_total": 2412, "timesteps_since_restore": 4532396, "timesteps_this_iter": 109156, "episode_reward_min": 714.6989908939618, "experiment_id": "144c0940cfac45f7849c4cc8d8836bea", "timestamp": 1556374112, "episodes_this_iter": 60, "done": false, "date": "2019-04-27_14-08-32"}
{"time_since_restore": 1538.6495826244354, "timesteps_total": 4642121, "custom_metrics": {"outflow_rate_max": 956.4324714984258, "outflow_rate_mean": 831.0595897482215, "cost2_mean": -17.577477153141, "cost2_min": -19.508354906211835, "cost1_max": 378.88448991559505, "system_level_velocity_max": 14.353174003201664, "outflow_rate_min": 801.9022859265825, "cost1_min": 267.1311194172546, "cost2_max": -15.201048367304395, "system_level_velocity_mean": 11.06225570961061, "cost1_mean": 294.2941245731405, "system_level_velocity_min": 10.018375730231044}, "time_this_iter_s": 35.90981364250183, "num_metric_batches_dropped": 0, "iterations_since_restore": 42, "node_ip": "10.138.0.2", "pid": 56259, "hostname": "flow-main", "info": {"update_time_ms": 11.809, "sample_time_ms": 14500.753, "num_steps_trained": 4642121, "num_steps_sampled": 4642121, "load_time_ms": 9.659, "grad_time_ms": 21384.52, "default": {"entropy": 1.1863819360733032, "vf_explained_var": 0.4740310609340668, "kl": 0.007887252606451511, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0007217503734864295, "vf_loss": 24.287771224975586, "cur_kl_coeff": 0.05000000819563866, "total_loss": 24.287445068359375}}, "episode_len_mean": 700.0, "episode_reward_mean": 746.5193571589703, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "clip_actions": false, "monitor": false, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "vf_loss_coeff": 1.0, "sgd_minibatch_size": 128, "input_evaluation": null, "observation_filter": "NoFilter", "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 1.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da87b70>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da87dd8>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da87e80>", "on_sample_end": null}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "collect_metrics_timeout": 180, "clip_rewards": null, "lr": 0.0005, "num_cpus_for_driver": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "sample_async": false, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "conv_activation": "relu", "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 843.0101969549276, "policy_reward_mean": {}, "time_total_s": 1538.6495826244354, "training_iteration": 42, "episodes_total": 2472, "timesteps_since_restore": 4642121, "timesteps_this_iter": 109725, "episode_reward_min": 714.6989908939618, "experiment_id": "144c0940cfac45f7849c4cc8d8836bea", "timestamp": 1556374148, "episodes_this_iter": 60, "done": false, "date": "2019-04-27_14-09-08"}
{"time_since_restore": 1575.148647069931, "timesteps_total": 4753570, "custom_metrics": {"outflow_rate_max": 926.3873635409878, "outflow_rate_mean": 828.4048755175922, "cost2_mean": -17.760739423037755, "cost2_min": -20.247876571847247, "cost1_max": 370.74377752786376, "system_level_velocity_max": 14.009282030191397, "outflow_rate_min": 802.492950932428, "cost1_min": 264.154773492825, "cost2_max": -15.095373949099717, "system_level_velocity_mean": 10.82513725548967, "cost1_mean": 288.4707043141549, "system_level_velocity_min": 9.86897844982105}, "time_this_iter_s": 36.499064445495605, "num_metric_batches_dropped": 0, "iterations_since_restore": 43, "node_ip": "10.138.0.2", "pid": 56259, "hostname": "flow-main", "info": {"update_time_ms": 11.91, "sample_time_ms": 14462.294, "num_steps_trained": 4753570, "num_steps_sampled": 4753570, "load_time_ms": 9.289, "grad_time_ms": 21324.282, "default": {"entropy": 1.1960420608520508, "vf_explained_var": 0.5338712334632874, "kl": 0.008107240311801434, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0006202119402587414, "vf_loss": 22.776113510131836, "cur_kl_coeff": 0.05000000819563866, "total_loss": 22.775897979736328}}, "episode_len_mean": 700.0, "episode_reward_mean": 745.4069970703188, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "clip_actions": false, "monitor": false, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "vf_loss_coeff": 1.0, "sgd_minibatch_size": 128, "input_evaluation": null, "observation_filter": "NoFilter", "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 1.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da87208>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82518>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da87160>", "on_sample_end": null}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "collect_metrics_timeout": 180, "clip_rewards": null, "lr": 0.0005, "num_cpus_for_driver": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "sample_async": false, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "conv_activation": "relu", "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 832.7050784096677, "policy_reward_mean": {}, "time_total_s": 1575.148647069931, "training_iteration": 43, "episodes_total": 2529, "timesteps_since_restore": 4753570, "timesteps_this_iter": 111449, "episode_reward_min": 723.6932362989188, "experiment_id": "144c0940cfac45f7849c4cc8d8836bea", "timestamp": 1556374185, "episodes_this_iter": 57, "done": false, "date": "2019-04-27_14-09-45"}
{"time_since_restore": 1611.1180410385132, "timesteps_total": 4864894, "custom_metrics": {"outflow_rate_max": 950.5188886890684, "outflow_rate_mean": 832.0034273862868, "cost2_mean": -17.66463683946329, "cost2_min": -20.247876571847247, "cost1_max": 379.17833943955793, "system_level_velocity_max": 14.293106925506471, "outflow_rate_min": 804.3676309390803, "cost1_min": 266.3080333804043, "cost2_max": -15.095373949099717, "system_level_velocity_mean": 10.745775797887028, "cost1_mean": 286.4442537120806, "system_level_velocity_min": 9.819752182929562}, "time_this_iter_s": 35.96939396858215, "num_metric_batches_dropped": 0, "iterations_since_restore": 44, "node_ip": "10.138.0.2", "pid": 56259, "hostname": "flow-main", "info": {"update_time_ms": 11.745, "sample_time_ms": 14381.707, "num_steps_trained": 4864894, "num_steps_sampled": 4864894, "load_time_ms": 9.454, "grad_time_ms": 21247.54, "default": {"entropy": 1.1866205930709839, "vf_explained_var": 0.5358783006668091, "kl": 0.00795793067663908, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0007498277118429542, "vf_loss": 24.295337677001953, "cur_kl_coeff": 0.05000000447034836, "total_loss": 24.294984817504883}}, "episode_len_mean": 700.0, "episode_reward_mean": 748.2838068788261, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "clip_actions": false, "monitor": false, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "vf_loss_coeff": 1.0, "sgd_minibatch_size": 128, "input_evaluation": null, "observation_filter": "NoFilter", "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 1.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da871d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da87e80>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da87c18>", "on_sample_end": null}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "collect_metrics_timeout": 180, "clip_rewards": null, "lr": 0.0005, "num_cpus_for_driver": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "sample_async": false, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "conv_activation": "relu", "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 860.0320788037302, "policy_reward_mean": {}, "time_total_s": 1611.1180410385132, "training_iteration": 44, "episodes_total": 2586, "timesteps_since_restore": 4864894, "timesteps_this_iter": 111324, "episode_reward_min": 719.5992665742979, "experiment_id": "144c0940cfac45f7849c4cc8d8836bea", "timestamp": 1556374221, "episodes_this_iter": 57, "done": false, "date": "2019-04-27_14-10-21"}
{"time_since_restore": 1646.3175873756409, "timesteps_total": 4976148, "custom_metrics": {"outflow_rate_max": 950.5188886890684, "outflow_rate_mean": 837.665616451286, "cost2_mean": -17.46611828669643, "cost2_min": -19.207257024522026, "cost1_max": 379.17833943955793, "system_level_velocity_max": 14.293106925506471, "outflow_rate_min": 806.6355906140752, "cost1_min": 263.25624525304164, "cost2_max": -14.676166416706645, "system_level_velocity_mean": 10.85691057884931, "cost1_mean": 289.27194024505087, "system_level_velocity_min": 9.719850462723109}, "time_this_iter_s": 35.199546337127686, "num_metric_batches_dropped": 0, "iterations_since_restore": 45, "node_ip": "10.138.0.2", "pid": 56259, "hostname": "flow-main", "info": {"update_time_ms": 11.49, "sample_time_ms": 14262.68, "num_steps_trained": 4976148, "num_steps_sampled": 4976148, "load_time_ms": 9.213, "grad_time_ms": 21213.105, "default": {"entropy": 1.1747876405715942, "vf_explained_var": 0.5552141070365906, "kl": 0.008772164583206177, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00016860521282069385, "vf_loss": 22.37386131286621, "cur_kl_coeff": 0.05000000447034836, "total_loss": 22.37413215637207}}, "episode_len_mean": 700.0, "episode_reward_mean": 752.8920503320005, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "clip_actions": false, "monitor": false, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "vf_loss_coeff": 1.0, "sgd_minibatch_size": 128, "input_evaluation": null, "observation_filter": "NoFilter", "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 1.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da87f28>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da870b8>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da87160>", "on_sample_end": null}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "collect_metrics_timeout": 180, "clip_rewards": null, "lr": 0.0005, "num_cpus_for_driver": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "sample_async": false, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "conv_activation": "relu", "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 860.0320788037302, "policy_reward_mean": {}, "time_total_s": 1646.3175873756409, "training_iteration": 45, "episodes_total": 2641, "timesteps_since_restore": 4976148, "timesteps_this_iter": 111254, "episode_reward_min": 719.5992665742979, "experiment_id": "144c0940cfac45f7849c4cc8d8836bea", "timestamp": 1556374256, "episodes_this_iter": 55, "done": false, "date": "2019-04-27_14-10-56"}
{"time_since_restore": 1680.4183506965637, "timesteps_total": 5086195, "custom_metrics": {"outflow_rate_max": 963.2170829628292, "outflow_rate_mean": 832.9846074865137, "cost2_mean": -17.240979436211695, "cost2_min": -19.207257024522026, "cost1_max": 385.07307107072404, "system_level_velocity_max": 14.577991429666817, "outflow_rate_min": 804.0777282506307, "cost1_min": 263.25624525304164, "cost2_max": -15.022434780820486, "system_level_velocity_mean": 10.767826527330312, "cost1_mean": 286.88823403953154, "system_level_velocity_min": 9.719850462723109}, "time_this_iter_s": 34.10076332092285, "num_metric_batches_dropped": 0, "iterations_since_restore": 46, "node_ip": "10.138.0.2", "pid": 56259, "hostname": "flow-main", "info": {"update_time_ms": 11.796, "sample_time_ms": 14180.831, "num_steps_trained": 5086195, "num_steps_sampled": 5086195, "load_time_ms": 9.112, "grad_time_ms": 21018.923, "default": {"entropy": 1.1763314008712769, "vf_explained_var": 0.5300823450088501, "kl": 0.007248201873153448, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0003282135003246367, "vf_loss": 24.476276397705078, "cur_kl_coeff": 0.05000000447034836, "total_loss": 24.47631072998047}}, "episode_len_mean": 700.0, "episode_reward_mean": 747.7927606563637, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "clip_actions": false, "monitor": false, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "vf_loss_coeff": 1.0, "sgd_minibatch_size": 128, "input_evaluation": null, "observation_filter": "NoFilter", "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 1.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da87e80>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da876d8>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da87828>", "on_sample_end": null}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "collect_metrics_timeout": 180, "clip_rewards": null, "lr": 0.0005, "num_cpus_for_driver": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "sample_async": false, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "conv_activation": "relu", "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 846.2712459477494, "policy_reward_mean": {}, "time_total_s": 1680.4183506965637, "training_iteration": 46, "episodes_total": 2701, "timesteps_since_restore": 5086195, "timesteps_this_iter": 110047, "episode_reward_min": 717.4629864885534, "experiment_id": "144c0940cfac45f7849c4cc8d8836bea", "timestamp": 1556374290, "episodes_this_iter": 60, "done": false, "date": "2019-04-27_14-11-30"}
{"time_since_restore": 1716.1747815608978, "timesteps_total": 5196310, "custom_metrics": {"outflow_rate_max": 963.2170829628292, "outflow_rate_mean": 834.0535423118894, "cost2_mean": -17.090407438146524, "cost2_min": -19.446031408096296, "cost1_max": 385.07307107072404, "system_level_velocity_max": 14.577991429666817, "outflow_rate_min": 804.0777282506307, "cost1_min": 262.98776565557716, "cost2_max": -15.022434780820486, "system_level_velocity_mean": 10.78960797128452, "cost1_mean": 287.3305707276617, "system_level_velocity_min": 9.744023411113556}, "time_this_iter_s": 35.756430864334106, "num_metric_batches_dropped": 0, "iterations_since_restore": 47, "node_ip": "10.138.0.2", "pid": 56259, "hostname": "flow-main", "info": {"update_time_ms": 11.748, "sample_time_ms": 14207.503, "num_steps_trained": 5196310, "num_steps_sampled": 5196310, "load_time_ms": 9.06, "grad_time_ms": 21051.959, "default": {"entropy": 1.1857800483703613, "vf_explained_var": 0.5215040445327759, "kl": 0.00797500740736723, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0006978692254051566, "vf_loss": 25.277673721313477, "cur_kl_coeff": 0.05000000819563866, "total_loss": 25.277376174926758}}, "episode_len_mean": 700.0, "episode_reward_mean": 748.6543264615298, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "clip_actions": false, "monitor": false, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "vf_loss_coeff": 1.0, "sgd_minibatch_size": 128, "input_evaluation": null, "observation_filter": "NoFilter", "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 1.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da87da0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da87160>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da87cf8>", "on_sample_end": null}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "collect_metrics_timeout": 180, "clip_rewards": null, "lr": 0.0005, "num_cpus_for_driver": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "sample_async": false, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "conv_activation": "relu", "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 846.2712459477494, "policy_reward_mean": {}, "time_total_s": 1716.1747815608978, "training_iteration": 47, "episodes_total": 2761, "timesteps_since_restore": 5196310, "timesteps_this_iter": 110115, "episode_reward_min": 716.1864206634979, "experiment_id": "144c0940cfac45f7849c4cc8d8836bea", "timestamp": 1556374326, "episodes_this_iter": 60, "done": false, "date": "2019-04-27_14-12-06"}
{"time_since_restore": 1751.1706664562225, "timesteps_total": 5306337, "custom_metrics": {"outflow_rate_max": 912.6707158775799, "outflow_rate_mean": 831.4122122289821, "cost2_mean": -17.14075516617746, "cost2_min": -19.567163382233055, "cost1_max": 349.4042091468343, "system_level_velocity_max": 13.130788099918947, "outflow_rate_min": 794.8688763847784, "cost1_min": 262.04722185592834, "cost2_max": -15.383744597989521, "system_level_velocity_mean": 10.751240076118187, "cost1_mean": 286.4280420646626, "system_level_velocity_min": 9.731224577476205}, "time_this_iter_s": 34.99588489532471, "num_metric_batches_dropped": 0, "iterations_since_restore": 48, "node_ip": "10.138.0.2", "pid": 56259, "hostname": "flow-main", "info": {"update_time_ms": 11.771, "sample_time_ms": 14153.679, "num_steps_trained": 5306337, "num_steps_sampled": 5306337, "load_time_ms": 8.721, "grad_time_ms": 21057.916, "default": {"entropy": 1.1851357221603394, "vf_explained_var": 0.4920864701271057, "kl": 0.007508511189371347, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0007342246826738119, "vf_loss": 25.61834716796875, "cur_kl_coeff": 0.05000000447034836, "total_loss": 25.617990493774414}}, "episode_len_mean": 700.0, "episode_reward_mean": 745.3337871520853, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "clip_actions": false, "monitor": false, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "vf_loss_coeff": 1.0, "sgd_minibatch_size": 128, "input_evaluation": null, "observation_filter": "NoFilter", "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 1.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da87ba8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da876d8>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da87e80>", "on_sample_end": null}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "collect_metrics_timeout": 180, "clip_rewards": null, "lr": 0.0005, "num_cpus_for_driver": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "sample_async": false, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "conv_activation": "relu", "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 845.6422524115902, "policy_reward_mean": {}, "time_total_s": 1751.1706664562225, "training_iteration": 48, "episodes_total": 2821, "timesteps_since_restore": 5306337, "timesteps_this_iter": 110027, "episode_reward_min": 717.145308182828, "experiment_id": "144c0940cfac45f7849c4cc8d8836bea", "timestamp": 1556374361, "episodes_this_iter": 60, "done": false, "date": "2019-04-27_14-12-41"}
{"time_since_restore": 1785.1185777187347, "timesteps_total": 5415362, "custom_metrics": {"outflow_rate_max": 926.6505005796485, "outflow_rate_mean": 833.1085854874348, "cost2_mean": -17.451100443222227, "cost2_min": -20.200188422105096, "cost1_max": 358.0224146783336, "system_level_velocity_max": 13.491324168097645, "outflow_rate_min": 803.442646678487, "cost1_min": 263.71490383943274, "cost2_max": -15.321794644181947, "system_level_velocity_mean": 10.865222557219504, "cost1_mean": 289.78122334294886, "system_level_velocity_min": 9.833025553438107}, "time_this_iter_s": 33.94791126251221, "num_metric_batches_dropped": 0, "iterations_since_restore": 49, "node_ip": "10.138.0.2", "pid": 56259, "hostname": "flow-main", "info": {"update_time_ms": 11.728, "sample_time_ms": 14180.009, "num_steps_trained": 5415362, "num_steps_sampled": 5415362, "load_time_ms": 8.682, "grad_time_ms": 20869.746, "default": {"entropy": 1.1658804416656494, "vf_explained_var": 0.4584942162036896, "kl": 0.008756625466048717, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0011133418884128332, "vf_loss": 25.352445602416992, "cur_kl_coeff": 0.05000000819563866, "total_loss": 25.351768493652344}}, "episode_len_mean": 700.0, "episode_reward_mean": 746.4650331257363, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "clip_actions": false, "monitor": false, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "vf_loss_coeff": 1.0, "sgd_minibatch_size": 128, "input_evaluation": null, "observation_filter": "NoFilter", "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 1.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da87160>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da87c88>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da87c50>", "on_sample_end": null}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "collect_metrics_timeout": 180, "clip_rewards": null, "lr": 0.0005, "num_cpus_for_driver": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "sample_async": false, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "conv_activation": "relu", "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 844.261600589934, "policy_reward_mean": {}, "time_total_s": 1785.1185777187347, "training_iteration": 49, "episodes_total": 2881, "timesteps_since_restore": 5415362, "timesteps_this_iter": 109025, "episode_reward_min": 716.5770166245275, "experiment_id": "144c0940cfac45f7849c4cc8d8836bea", "timestamp": 1556374395, "episodes_this_iter": 60, "done": false, "date": "2019-04-27_14-13-15"}
{"time_since_restore": 1819.3376069068909, "timesteps_total": 5523839, "custom_metrics": {"outflow_rate_max": 952.6520128918428, "outflow_rate_mean": 831.6417683558449, "cost2_mean": -17.269789923539108, "cost2_min": -20.200188422105096, "cost1_max": 377.95143613109633, "system_level_velocity_max": 14.414837791131719, "outflow_rate_min": 789.5622514008566, "cost1_min": 265.08113735044884, "cost2_max": -15.321794644181947, "system_level_velocity_mean": 10.943979346969861, "cost1_mean": 291.68160808515825, "system_level_velocity_min": 9.879953526942543}, "time_this_iter_s": 34.21902918815613, "num_metric_batches_dropped": 0, "iterations_since_restore": 50, "node_ip": "10.138.0.2", "pid": 56259, "hostname": "flow-main", "info": {"update_time_ms": 11.801, "sample_time_ms": 14156.519, "num_steps_trained": 5523839, "num_steps_sampled": 5523839, "load_time_ms": 8.506, "grad_time_ms": 20755.348, "default": {"entropy": 1.1563258171081543, "vf_explained_var": 0.4364011585712433, "kl": 0.00902247242629528, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0007953481399454176, "vf_loss": 24.968080520629883, "cur_kl_coeff": 0.05000000819563866, "total_loss": 24.967735290527344}}, "episode_len_mean": 700.0, "episode_reward_mean": 746.9877336337278, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "clip_actions": false, "monitor": false, "num_workers": 60, "log_level": "INFO", "lambda": 0.97, "vf_loss_coeff": 1.0, "sgd_minibatch_size": 128, "input_evaluation": null, "observation_filter": "NoFilter", "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 1.0, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da87ac8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da876d8>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da87ba8>", "on_sample_end": null}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "collect_metrics_timeout": 180, "clip_rewards": null, "lr": 0.0005, "num_cpus_for_driver": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "sample_async": false, "sample_batch_size": 200, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "model": {"squash_to_range": false, "conv_activation": "relu", "dim": 84, "conv_filters": null, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "episode_reward_max": 843.0486660353117, "policy_reward_mean": {}, "time_total_s": 1819.3376069068909, "training_iteration": 50, "episodes_total": 2941, "timesteps_since_restore": 5523839, "timesteps_this_iter": 108477, "episode_reward_min": 715.8158276555316, "experiment_id": "144c0940cfac45f7849c4cc8d8836bea", "timestamp": 1556374429, "episodes_this_iter": 60, "done": true, "date": "2019-04-27_14-13-49"}
