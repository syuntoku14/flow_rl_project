{"num_metric_batches_dropped": 0, "episode_reward_min": 5099.085843359266, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33562e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3356358>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3356470>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 1, "date": "2019-04-30_02-26-17", "timesteps_total": 122041, "episodes_total": 13, "hostname": "flow-main", "info": {"num_steps_trained": 122041, "grad_time_ms": 26307.781, "load_time_ms": 65.687, "update_time_ms": 450.652, "default": {"entropy": 1.4180684089660645, "cur_kl_coeff": 0.20000003278255463, "total_loss": 394.44708251953125, "vf_loss": 394.44720458984375, "policy_loss": -0.0004079977225046605, "kl": 0.001626520068384707, "vf_explained_var": 0.473376601934433, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 122041, "sample_time_ms": 14186.926}, "custom_metrics": {"cost2_min": -55.964324932827374, "system_level_velocity_mean": 7.816750488914533, "outflow_rate_max": 701.0752270117499, "outflow_rate_min": 543.5255111921289, "system_level_velocity_min": 7.075681047295517, "outflow_rate_mean": 615.4126349608256, "cost2_max": -29.63972687775772, "cost2_mean": -43.6352420989288, "cost1_min": 177.28253872692375, "cost1_mean": 201.0150412011534, "system_level_velocity_max": 8.484738737065149, "cost1_max": 219.88436931321212}, "episode_len_mean": 700.0, "time_total_s": 41.26318359375, "pid": 48556, "episodes_this_iter": 13, "episode_reward_max": 7066.84283367141, "timesteps_since_restore": 122041, "node_ip": "10.138.0.2", "timestamp": 1556591177, "policy_reward_mean": {}, "episode_reward_mean": 6139.05283486795, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 122041, "time_this_iter_s": 41.26318359375, "training_iteration": 1, "time_since_restore": 41.26318359375, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 102.03937384721996, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f6d8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f860>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331ff28>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 2, "date": "2019-04-30_02-26-56", "timesteps_total": 241046, "episodes_total": 81, "hostname": "flow-main", "info": {"num_steps_trained": 241046, "grad_time_ms": 24785.142, "load_time_ms": 40.009, "update_time_ms": 230.73, "default": {"entropy": 1.4289114475250244, "cur_kl_coeff": 0.10000001639127731, "total_loss": 508.19537353515625, "vf_loss": 508.1971740722656, "policy_loss": -0.0023573264479637146, "kl": 0.00503294263035059, "vf_explained_var": 0.570927619934082, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 241046, "sample_time_ms": 14880.994}, "custom_metrics": {"cost2_min": -96.19528093798125, "system_level_velocity_mean": 7.714873005392478, "outflow_rate_max": 749.711440518318, "outflow_rate_min": 220.72718076999718, "system_level_velocity_min": 2.2980775890222382, "outflow_rate_mean": 585.8062192040576, "cost2_max": -14.257523780627295, "cost2_mean": -52.41375080894323, "cost1_min": 12.221203745766138, "cost1_mean": 188.76371467177918, "system_level_velocity_max": 17.762426343269148, "cost1_max": 230.8011188098751}, "episode_len_mean": 683.3827160493827, "time_total_s": 80.34537529945374, "pid": 48556, "episodes_this_iter": 68, "episode_reward_max": 10947.878322017394, "timesteps_since_restore": 241046, "node_ip": "10.138.0.2", "timestamp": 1556591216, "policy_reward_mean": {}, "episode_reward_mean": 6934.910919057614, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 119005, "time_this_iter_s": 39.082191705703735, "training_iteration": 2, "time_since_restore": 80.34537529945374, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 102.03937384721996, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331feb8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331fa90>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f470>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 3, "date": "2019-04-30_02-27-34", "timesteps_total": 349077, "episodes_total": 137, "hostname": "flow-main", "info": {"num_steps_trained": 349077, "grad_time_ms": 24044.049, "load_time_ms": 31.617, "update_time_ms": 157.279, "default": {"entropy": 1.4257786273956299, "cur_kl_coeff": 0.10000002384185791, "total_loss": 447.8653259277344, "vf_loss": 447.8681640625, "policy_loss": -0.003523692023009062, "kl": 0.006939535494893789, "vf_explained_var": 0.7362084984779358, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 349077, "sample_time_ms": 14753.826}, "custom_metrics": {"cost2_min": -86.82814872597626, "system_level_velocity_mean": 7.61921524666952, "outflow_rate_max": 829.6853114381303, "outflow_rate_min": 256.3975075432102, "system_level_velocity_min": 2.2908691159017347, "outflow_rate_mean": 585.2338842243058, "cost2_max": -14.257523780627295, "cost2_mean": -49.92315311163495, "cost1_min": 12.221203745766138, "cost1_mean": 187.9634281565254, "system_level_velocity_max": 17.762426343269148, "cost1_max": 270.4462667762322}, "episode_len_mean": 686.54, "time_total_s": 117.60536694526672, "pid": 48556, "episodes_this_iter": 56, "episode_reward_max": 10482.735156258186, "timesteps_since_restore": 349077, "node_ip": "10.138.0.2", "timestamp": 1556591254, "policy_reward_mean": {}, "episode_reward_mean": 6917.005231913583, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 108031, "time_this_iter_s": 37.25999164581299, "training_iteration": 3, "time_since_restore": 117.60536694526672, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 4271.765402451336, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f5f8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f438>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f7f0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 4, "date": "2019-04-30_02-28-11", "timesteps_total": 460477, "episodes_total": 201, "hostname": "flow-main", "info": {"num_steps_trained": 460477, "grad_time_ms": 23647.55, "load_time_ms": 27.276, "update_time_ms": 121.123, "default": {"entropy": 1.418216586112976, "cur_kl_coeff": 0.10000001639127731, "total_loss": 469.7626647949219, "vf_loss": 469.7669677734375, "policy_loss": -0.005073144566267729, "kl": 0.007841103710234165, "vf_explained_var": 0.7469083666801453, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 460477, "sample_time_ms": 14702.711}, "custom_metrics": {"cost2_min": -75.53645772541809, "system_level_velocity_mean": 7.5664962960943045, "outflow_rate_max": 829.6853114381303, "outflow_rate_min": 295.9843950132758, "system_level_velocity_min": 2.7396120888892974, "outflow_rate_mean": 575.865134943204, "cost2_max": -25.4559329750011, "cost2_mean": -39.33093000079315, "cost1_min": 71.085786619265, "cost1_mean": 193.60185109586547, "system_level_velocity_max": 10.459857349067438, "cost1_max": 270.4462667762322}, "episode_len_mean": 700.0, "time_total_s": 154.83919262886047, "pid": 48556, "episodes_this_iter": 64, "episode_reward_max": 10482.735156258186, "timesteps_since_restore": 460477, "node_ip": "10.138.0.2", "timestamp": 1556591291, "policy_reward_mean": {}, "episode_reward_mean": 5999.255863077729, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 111400, "time_this_iter_s": 37.23382568359375, "training_iteration": 4, "time_since_restore": 154.83919262886047, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3782.970903368726, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f320>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331fa90>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f518>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 5, "date": "2019-04-30_02-28-48", "timesteps_total": 573073, "episodes_total": 255, "hostname": "flow-main", "info": {"num_steps_trained": 573073, "grad_time_ms": 23496.904, "load_time_ms": 24.635, "update_time_ms": 99.163, "default": {"entropy": 1.414210319519043, "cur_kl_coeff": 0.10000000894069672, "total_loss": 417.5099792480469, "vf_loss": 417.51544189453125, "policy_loss": -0.00647450378164649, "kl": 0.010245350189507008, "vf_explained_var": 0.8335136771202087, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 573073, "sample_time_ms": 14600.55}, "custom_metrics": {"cost2_min": -62.446314790929165, "system_level_velocity_mean": 7.020442021078383, "outflow_rate_max": 687.2739257518574, "outflow_rate_min": 246.16788678072095, "system_level_velocity_min": 2.200028084400573, "outflow_rate_mean": 520.0812584747538, "cost2_max": -21.260988413952283, "cost2_mean": -34.39101585729758, "cost1_min": 57.039656293498105, "cost1_mean": 179.1368119547625, "system_level_velocity_max": 9.38823756742311, "cost1_max": 236.37190777800055}, "episode_len_mean": 700.0, "time_total_s": 192.14526414871216, "pid": 48556, "episodes_this_iter": 54, "episode_reward_max": 8258.832388536495, "timesteps_since_restore": 573073, "node_ip": "10.138.0.2", "timestamp": 1556591328, "policy_reward_mean": {}, "episode_reward_mean": 5375.899199021623, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 112596, "time_this_iter_s": 37.306071519851685, "training_iteration": 5, "time_since_restore": 192.14526414871216, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3842.0115817791907, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f9e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f860>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331ff28>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 6, "date": "2019-04-30_02-29-26", "timesteps_total": 687657, "episodes_total": 317, "hostname": "flow-main", "info": {"num_steps_trained": 687657, "grad_time_ms": 23276.734, "load_time_ms": 22.893, "update_time_ms": 84.338, "default": {"entropy": 1.4100391864776611, "cur_kl_coeff": 0.10000001639127731, "total_loss": 500.6690673828125, "vf_loss": 500.6751403808594, "policy_loss": -0.007636907044798136, "kl": 0.015663256868720055, "vf_explained_var": 0.7978379130363464, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 687657, "sample_time_ms": 14665.24}, "custom_metrics": {"cost2_min": -62.446314790929165, "system_level_velocity_mean": 6.541162322352091, "outflow_rate_max": 633.5559638405842, "outflow_rate_min": 246.16788678072095, "system_level_velocity_min": 2.1348494567621046, "outflow_rate_mean": 495.3651107580687, "cost2_max": -21.260988413952283, "cost2_mean": -36.09929128655621, "cost1_min": 54.762327880564314, "cost1_mean": 167.89315130792255, "system_level_velocity_max": 9.070671699509338, "cost1_max": 232.74634841095593}, "episode_len_mean": 700.0, "time_total_s": 229.53586602210999, "pid": 48556, "episodes_this_iter": 62, "episode_reward_max": 8662.264081173093, "timesteps_since_restore": 687657, "node_ip": "10.138.0.2", "timestamp": 1556591366, "policy_reward_mean": {}, "episode_reward_mean": 5520.205197706136, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 114584, "time_this_iter_s": 37.39060187339783, "training_iteration": 6, "time_since_restore": 229.53586602210999, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3919.0342178523815, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3340d30>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331a080>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3340ef0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 7, "date": "2019-04-30_02-30-07", "timesteps_total": 805701, "episodes_total": 371, "hostname": "flow-main", "info": {"num_steps_trained": 805701, "grad_time_ms": 23489.006, "load_time_ms": 21.496, "update_time_ms": 73.828, "default": {"entropy": 1.4035711288452148, "cur_kl_coeff": 0.10000001639127731, "total_loss": 493.4342346191406, "vf_loss": 493.441162109375, "policy_loss": -0.00844479352235794, "kl": 0.015560944564640522, "vf_explained_var": 0.8191801309585571, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 805701, "sample_time_ms": 14896.857}, "custom_metrics": {"cost2_min": -91.78107755030172, "system_level_velocity_mean": 6.4789312505819545, "outflow_rate_max": 639.4427326172653, "outflow_rate_min": 268.615081305956, "system_level_velocity_min": 2.1348494567621046, "outflow_rate_mean": 502.43257568054963, "cost2_max": -21.465831760126825, "cost2_mean": -40.16612168645644, "cost1_min": 54.762327880564314, "cost1_mean": 166.9651649275803, "system_level_velocity_max": 9.070671699509338, "cost1_max": 232.74634841095593}, "episode_len_mean": 700.0, "time_total_s": 270.79894280433655, "pid": 48556, "episodes_this_iter": 54, "episode_reward_max": 9376.662617641823, "timesteps_since_restore": 805701, "node_ip": "10.138.0.2", "timestamp": 1556591407, "policy_reward_mean": {}, "episode_reward_mean": 5910.659267227375, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 118044, "time_this_iter_s": 41.26307678222656, "training_iteration": 7, "time_since_restore": 270.79894280433655, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 4198.217955247783, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331fcf8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f4a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331fcc0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 8, "date": "2019-04-30_02-30-46", "timesteps_total": 924043, "episodes_total": 421, "hostname": "flow-main", "info": {"num_steps_trained": 924043, "grad_time_ms": 23584.27, "load_time_ms": 21.034, "update_time_ms": 65.885, "default": {"entropy": 1.3897321224212646, "cur_kl_coeff": 0.10000001639127731, "total_loss": 541.1514282226562, "vf_loss": 541.15771484375, "policy_loss": -0.007715152110904455, "kl": 0.01352616399526596, "vf_explained_var": 0.7997248768806458, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 924043, "sample_time_ms": 14864.406}, "custom_metrics": {"cost2_min": -91.78107755030172, "system_level_velocity_mean": 6.588889552601356, "outflow_rate_max": 682.4798275477362, "outflow_rate_min": 367.1487177125033, "system_level_velocity_min": 4.351985308923023, "outflow_rate_mean": 521.6046405340849, "cost2_max": -24.56827973344148, "cost2_mean": -47.17871157551138, "cost1_min": 115.99733706601381, "cost1_mean": 170.94285140885262, "system_level_velocity_max": 8.88123419135516, "cost1_max": 233.43942675349234}, "episode_len_mean": 700.0, "time_total_s": 309.9078116416931, "pid": 48556, "episodes_this_iter": 50, "episode_reward_max": 9376.662617641823, "timesteps_since_restore": 924043, "node_ip": "10.138.0.2", "timestamp": 1556591446, "policy_reward_mean": {}, "episode_reward_mean": 6583.529331408507, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 118342, "time_this_iter_s": 39.10886883735657, "training_iteration": 8, "time_since_restore": 309.9078116416931, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 4127.619312767534, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33053c8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a337f940>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331fe10>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 9, "date": "2019-04-30_02-31-28", "timesteps_total": 1042826, "episodes_total": 470, "hostname": "flow-main", "info": {"num_steps_trained": 1042826, "grad_time_ms": 23753.967, "load_time_ms": 20.342, "update_time_ms": 59.769, "default": {"entropy": 1.393991231918335, "cur_kl_coeff": 0.10000001639127731, "total_loss": 501.5699157714844, "vf_loss": 501.57733154296875, "policy_loss": -0.009197874926030636, "kl": 0.017648501321673393, "vf_explained_var": 0.7933048009872437, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 1042826, "sample_time_ms": 14990.851}, "custom_metrics": {"cost2_min": -96.5656384153704, "system_level_velocity_mean": 6.53948628101686, "outflow_rate_max": 771.2120489739957, "outflow_rate_min": 353.1737470555749, "system_level_velocity_min": 2.766014023681145, "outflow_rate_mean": 550.9556083175556, "cost2_max": -24.56827973344148, "cost2_mean": -53.59273217365005, "cost1_min": 70.9948901599834, "cost1_mean": 170.70306238752363, "system_level_velocity_max": 9.537468723295724, "cost1_max": 257.9685515990211}, "episode_len_mean": 700.0, "time_total_s": 351.26990842819214, "pid": 48556, "episodes_this_iter": 49, "episode_reward_max": 10362.194628427489, "timesteps_since_restore": 1042826, "node_ip": "10.138.0.2", "timestamp": 1556591488, "policy_reward_mean": {}, "episode_reward_mean": 7192.188673400227, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 118783, "time_this_iter_s": 41.36209678649902, "training_iteration": 9, "time_since_restore": 351.26990842819214, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 4127.619312767534, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f6d8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f748>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f080>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 10, "date": "2019-04-30_02-32-09", "timesteps_total": 1163794, "episodes_total": 516, "hostname": "flow-main", "info": {"num_steps_trained": 1163794, "grad_time_ms": 23955.295, "load_time_ms": 20.86, "update_time_ms": 54.839, "default": {"entropy": 1.402931809425354, "cur_kl_coeff": 0.10000001639127731, "total_loss": 577.1609497070312, "vf_loss": 577.1691284179688, "policy_loss": -0.010264546610414982, "kl": 0.020721066743135452, "vf_explained_var": 0.7724406719207764, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 1163794, "sample_time_ms": 15006.562}, "custom_metrics": {"cost2_min": -144.8458067244254, "system_level_velocity_mean": 6.414942389222858, "outflow_rate_max": 771.2120489739957, "outflow_rate_min": 353.1737470555749, "system_level_velocity_min": 2.766014023681145, "outflow_rate_mean": 569.4133403152277, "cost2_max": -26.452870159643048, "cost2_mean": -58.172012753541324, "cost1_min": 70.9948901599834, "cost1_mean": 168.29338884292753, "system_level_velocity_max": 9.537468723295724, "cost1_max": 257.9685515990211}, "episode_len_mean": 700.0, "time_total_s": 392.41018533706665, "pid": 48556, "episodes_this_iter": 46, "episode_reward_max": 10895.42278716403, "timesteps_since_restore": 1163794, "node_ip": "10.138.0.2", "timestamp": 1556591529, "policy_reward_mean": {}, "episode_reward_mean": 7473.425659168922, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 120968, "time_this_iter_s": 41.14027690887451, "training_iteration": 10, "time_since_restore": 392.41018533706665, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 388.146063101201, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f0b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331fa90>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331ff98>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 11, "date": "2019-04-30_02-32-50", "timesteps_total": 1283710, "episodes_total": 572, "hostname": "flow-main", "info": {"num_steps_trained": 1283710, "grad_time_ms": 23878.008, "load_time_ms": 15.677, "update_time_ms": 10.74, "default": {"entropy": 1.412845492362976, "cur_kl_coeff": 0.14999999105930328, "total_loss": 700.7684326171875, "vf_loss": 700.7757568359375, "policy_loss": -0.010025005787611008, "kl": 0.0176997110247612, "vf_explained_var": 0.7463800311088562, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 1283710, "sample_time_ms": 15097.079}, "custom_metrics": {"cost2_min": -144.8458067244254, "system_level_velocity_mean": 6.787894478908968, "outflow_rate_max": 824.2011441593911, "outflow_rate_min": 404.18300670858093, "system_level_velocity_min": 4.247627055979728, "outflow_rate_mean": 605.6764043241008, "cost2_max": -14.12822322772267, "cost2_mean": -68.85137457297387, "cost1_min": 30.06954238306741, "cost1_mean": 174.80357496350592, "system_level_velocity_max": 16.495369605358018, "cost1_max": 249.82022787167674}, "episode_len_mean": 693.51, "time_total_s": 433.2577064037323, "pid": 48556, "episodes_this_iter": 56, "episode_reward_max": 13134.028070209379, "timesteps_since_restore": 1283710, "node_ip": "10.138.0.2", "timestamp": 1556591570, "policy_reward_mean": {}, "episode_reward_mean": 8176.480838191604, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 119916, "time_this_iter_s": 40.84752106666565, "training_iteration": 11, "time_since_restore": 433.2577064037323, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 388.146063101201, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f828>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f978>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331fcc0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 12, "date": "2019-04-30_02-33-32", "timesteps_total": 1408535, "episodes_total": 617, "hostname": "flow-main", "info": {"num_steps_trained": 1408535, "grad_time_ms": 24135.322, "load_time_ms": 16.683, "update_time_ms": 10.667, "default": {"entropy": 1.4068478345870972, "cur_kl_coeff": 0.15000000596046448, "total_loss": 595.1160278320312, "vf_loss": 595.122802734375, "policy_loss": -0.009452137164771557, "kl": 0.01734672673046589, "vf_explained_var": 0.7931874394416809, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 1408535, "sample_time_ms": 15118.966}, "custom_metrics": {"cost2_min": -192.2322806351905, "system_level_velocity_mean": 6.817608146444527, "outflow_rate_max": 860.4574840659724, "outflow_rate_min": 364.36900902372315, "system_level_velocity_min": 3.575641629128731, "outflow_rate_mean": 607.7424337752999, "cost2_max": -14.12822322772267, "cost2_mean": -73.31448292656756, "cost1_min": 30.06954238306741, "cost1_mean": 175.665559306336, "system_level_velocity_max": 16.495369605358018, "cost1_max": 249.82022787167674}, "episode_len_mean": 693.51, "time_total_s": 475.1427824497223, "pid": 48556, "episodes_this_iter": 45, "episode_reward_max": 13426.466961277816, "timesteps_since_restore": 1408535, "node_ip": "10.138.0.2", "timestamp": 1556591612, "policy_reward_mean": {}, "episode_reward_mean": 8386.501840108984, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 124825, "time_this_iter_s": 41.88507604598999, "training_iteration": 12, "time_since_restore": 475.1427824497223, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 4648.282435754317, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331ff98>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f400>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331fa90>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 13, "date": "2019-04-30_02-34-13", "timesteps_total": 1532488, "episodes_total": 665, "hostname": "flow-main", "info": {"num_steps_trained": 1532488, "grad_time_ms": 24334.737, "load_time_ms": 17.569, "update_time_ms": 10.797, "default": {"entropy": 1.406333327293396, "cur_kl_coeff": 0.14999999105930328, "total_loss": 744.5011596679688, "vf_loss": 744.5079956054688, "policy_loss": -0.0096718929708004, "kl": 0.0187330711632967, "vf_explained_var": 0.7689645290374756, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 1532488, "sample_time_ms": 15282.808}, "custom_metrics": {"cost2_min": -201.67257787746715, "system_level_velocity_mean": 6.747133901881377, "outflow_rate_max": 873.0935017132391, "outflow_rate_min": 150.86889694907117, "system_level_velocity_min": 2.706101113495495, "outflow_rate_mean": 611.2928385741544, "cost2_max": -26.315838379451606, "cost2_mean": -80.5606167859928, "cost1_min": 68.0956399621143, "cost1_mean": 177.95070856380596, "system_level_velocity_max": 9.573105910739892, "cost1_max": 253.2907625756697}, "episode_len_mean": 700.0, "time_total_s": 516.075160741806, "pid": 48556, "episodes_this_iter": 48, "episode_reward_max": 15405.806949966242, "timesteps_since_restore": 1532488, "node_ip": "10.138.0.2", "timestamp": 1556591653, "policy_reward_mean": {}, "episode_reward_mean": 8806.178565338998, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 123953, "time_this_iter_s": 40.93237829208374, "training_iteration": 13, "time_since_restore": 516.075160741806, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 4648.282435754317, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f080>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f0f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f390>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 14, "date": "2019-04-30_02-34-53", "timesteps_total": 1653747, "episodes_total": 715, "hostname": "flow-main", "info": {"num_steps_trained": 1653747, "grad_time_ms": 24540.748, "load_time_ms": 19.235, "update_time_ms": 11.71, "default": {"entropy": 1.4191317558288574, "cur_kl_coeff": 0.15000000596046448, "total_loss": 810.6110229492188, "vf_loss": 810.61962890625, "policy_loss": -0.011605164967477322, "kl": 0.019991684705018997, "vf_explained_var": 0.7729970216751099, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 1653747, "sample_time_ms": 15380.546}, "custom_metrics": {"cost2_min": -201.67257787746715, "system_level_velocity_mean": 7.054944149533338, "outflow_rate_max": 873.0935017132391, "outflow_rate_min": 150.86889694907117, "system_level_velocity_min": 2.706101113495495, "outflow_rate_mean": 637.9176294813922, "cost2_max": -27.17846945588471, "cost2_mean": -84.28130685570264, "cost1_min": 68.0956399621143, "cost1_mean": 186.23805881052058, "system_level_velocity_max": 9.90659261611624, "cost1_max": 260.78669130441193}, "episode_len_mean": 700.0, "time_total_s": 556.4106318950653, "pid": 48556, "episodes_this_iter": 50, "episode_reward_max": 15405.806949966242, "timesteps_since_restore": 1653747, "node_ip": "10.138.0.2", "timestamp": 1556591693, "policy_reward_mean": {}, "episode_reward_mean": 9299.225053391645, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 121259, "time_this_iter_s": 40.33547115325928, "training_iteration": 14, "time_since_restore": 556.4106318950653, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 5012.891361393419, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f630>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331fa20>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331ff98>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 15, "date": "2019-04-30_02-35-35", "timesteps_total": 1778592, "episodes_total": 761, "hostname": "flow-main", "info": {"num_steps_trained": 1778592, "grad_time_ms": 24842.69, "load_time_ms": 19.287, "update_time_ms": 11.642, "default": {"entropy": 1.409916877746582, "cur_kl_coeff": 0.15000000596046448, "total_loss": 749.4000854492188, "vf_loss": 749.408203125, "policy_loss": -0.011098283343017101, "kl": 0.019818710163235664, "vf_explained_var": 0.8147217631340027, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 1778592, "sample_time_ms": 15490.667}, "custom_metrics": {"cost2_min": -175.60983694225078, "system_level_velocity_mean": 7.3290579871792545, "outflow_rate_max": 909.7423039859268, "outflow_rate_min": 335.1818284953829, "system_level_velocity_min": 4.065823653843329, "outflow_rate_mean": 645.9775638843948, "cost2_max": -28.257683293866705, "cost2_mean": -78.40370576752271, "cost1_min": 104.89929599853107, "cost1_mean": 193.2775416767682, "system_level_velocity_max": 9.90659261611624, "cost1_max": 260.78669130441193}, "episode_len_mean": 700.0, "time_total_s": 597.8791337013245, "pid": 48556, "episodes_this_iter": 46, "episode_reward_max": 14722.513806353769, "timesteps_since_restore": 1778592, "node_ip": "10.138.0.2", "timestamp": 1556591735, "policy_reward_mean": {}, "episode_reward_mean": 9020.382176254083, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 124845, "time_this_iter_s": 41.468501806259155, "training_iteration": 15, "time_since_restore": 597.8791337013245, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 5456.73381444733, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f978>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f860>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f898>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 16, "date": "2019-04-30_02-36-15", "timesteps_total": 1902357, "episodes_total": 816, "hostname": "flow-main", "info": {"num_steps_trained": 1902357, "grad_time_ms": 25065.445, "load_time_ms": 19.33, "update_time_ms": 11.759, "default": {"entropy": 1.4012763500213623, "cur_kl_coeff": 0.14999999105930328, "total_loss": 1004.5731201171875, "vf_loss": 1004.5814208984375, "policy_loss": -0.011094748973846436, "kl": 0.019157536327838898, "vf_explained_var": 0.7748945355415344, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 1902357, "sample_time_ms": 15558.317}, "custom_metrics": {"cost2_min": -184.76858198210638, "system_level_velocity_mean": 7.368674909240275, "outflow_rate_max": 925.4383239577573, "outflow_rate_min": 360.2792172361219, "system_level_velocity_min": 2.8370192182266996, "outflow_rate_mean": 666.2064682576647, "cost2_max": -28.257683293866705, "cost2_mean": -89.55247176100818, "cost1_min": 72.61333513777359, "cost1_mean": 194.45111184552962, "system_level_velocity_max": 10.3391990736928, "cost1_max": 272.67680063681723}, "episode_len_mean": 700.0, "time_total_s": 638.1696498394012, "pid": 48556, "episodes_this_iter": 55, "episode_reward_max": 14897.703311982978, "timesteps_since_restore": 1902357, "node_ip": "10.138.0.2", "timestamp": 1556591775, "policy_reward_mean": {}, "episode_reward_mean": 9726.70444236204, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 123765, "time_this_iter_s": 40.29051613807678, "training_iteration": 16, "time_since_restore": 638.1696498394012, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 5806.823967822348, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331aba8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331a470>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331aac8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 17, "date": "2019-04-30_02-36-56", "timesteps_total": 2026927, "episodes_total": 858, "hostname": "flow-main", "info": {"num_steps_trained": 2026927, "grad_time_ms": 25107.305, "load_time_ms": 20.282, "update_time_ms": 11.629, "default": {"entropy": 1.407099723815918, "cur_kl_coeff": 0.14999999105930328, "total_loss": 839.6134643554688, "vf_loss": 839.6211547851562, "policy_loss": -0.010458127595484257, "kl": 0.018585219979286194, "vf_explained_var": 0.7937043309211731, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 2026927, "sample_time_ms": 15437.84}, "custom_metrics": {"cost2_min": -184.76858198210638, "system_level_velocity_mean": 7.304809957757986, "outflow_rate_max": 936.0504001511249, "outflow_rate_min": 387.1592505334651, "system_level_velocity_min": 2.8370192182266996, "outflow_rate_mean": 676.853356384455, "cost2_max": -31.364428371117995, "cost2_mean": -95.21590607023863, "cost1_min": 72.61333513777359, "cost1_mean": 192.9373891215485, "system_level_velocity_max": 10.3391990736928, "cost1_max": 272.67680063681723}, "episode_len_mean": 700.0, "time_total_s": 678.6644337177277, "pid": 48556, "episodes_this_iter": 42, "episode_reward_max": 14897.703311982978, "timesteps_since_restore": 2026927, "node_ip": "10.138.0.2", "timestamp": 1556591816, "policy_reward_mean": {}, "episode_reward_mean": 10013.715134517546, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 124570, "time_this_iter_s": 40.494783878326416, "training_iteration": 17, "time_since_restore": 678.6644337177277, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 6181.720038100415, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f6d8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331fac8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f9e8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 18, "date": "2019-04-30_02-37-36", "timesteps_total": 2148538, "episodes_total": 906, "hostname": "flow-main", "info": {"num_steps_trained": 2148538, "grad_time_ms": 25187.473, "load_time_ms": 19.641, "update_time_ms": 12.883, "default": {"entropy": 1.436768651008606, "cur_kl_coeff": 0.15000000596046448, "total_loss": 877.2117309570312, "vf_loss": 877.2207641601562, "policy_loss": -0.01218529511243105, "kl": 0.02074264921247959, "vf_explained_var": 0.8377354145050049, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 2148538, "sample_time_ms": 15475.915}, "custom_metrics": {"cost2_min": -182.41945645595007, "system_level_velocity_mean": 7.307547301926235, "outflow_rate_max": 947.5854955429817, "outflow_rate_min": 420.21296865407635, "system_level_velocity_min": 3.5819852421053797, "outflow_rate_mean": 675.6711157764319, "cost2_max": -31.95256432459491, "cost2_mean": -91.07605396323146, "cost1_min": 90.5021705589055, "cost1_mean": 193.1209031839265, "system_level_velocity_max": 10.1742808980556, "cost1_max": 272.67680063681723}, "episode_len_mean": 700.0, "time_total_s": 719.0003087520599, "pid": 48556, "episodes_this_iter": 48, "episode_reward_max": 14806.070730483334, "timesteps_since_restore": 2148538, "node_ip": "10.138.0.2", "timestamp": 1556591856, "policy_reward_mean": {}, "episode_reward_mean": 9735.984911476817, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 121611, "time_this_iter_s": 40.335875034332275, "training_iteration": 18, "time_since_restore": 719.0003087520599, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 5728.624020915232, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331aba8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331a0f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331acf8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 19, "date": "2019-04-30_02-38-16", "timesteps_total": 2272927, "episodes_total": 957, "hostname": "flow-main", "info": {"num_steps_trained": 2272927, "grad_time_ms": 25064.277, "load_time_ms": 20.235, "update_time_ms": 13.005, "default": {"entropy": 1.4408516883850098, "cur_kl_coeff": 0.22499997913837433, "total_loss": 897.5406494140625, "vf_loss": 897.547607421875, "policy_loss": -0.010217875242233276, "kl": 0.014823641628026962, "vf_explained_var": 0.7794073820114136, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 2272927, "sample_time_ms": 15413.987}, "custom_metrics": {"cost2_min": -199.88231591339905, "system_level_velocity_mean": 7.078992020561727, "outflow_rate_max": 947.5854955429817, "outflow_rate_min": 392.0306634115361, "system_level_velocity_min": 2.997606977183189, "outflow_rate_mean": 657.2552486568494, "cost2_max": -31.01752268313525, "cost2_mean": -83.91608042921983, "cost1_min": 76.68255425961479, "cost1_mean": 186.5286223038988, "system_level_velocity_max": 10.132166209577344, "cost1_max": 271.06218542870204}, "episode_len_mean": 700.0, "time_total_s": 758.5202565193176, "pid": 48556, "episodes_this_iter": 51, "episode_reward_max": 14363.55893409443, "timesteps_since_restore": 2272927, "node_ip": "10.138.0.2", "timestamp": 1556591896, "policy_reward_mean": {}, "episode_reward_mean": 9464.781078237356, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 124389, "time_this_iter_s": 39.51994776725769, "training_iteration": 19, "time_since_restore": 758.5202565193176, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 5111.604294952919, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331ffd0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f828>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f470>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 20, "date": "2019-04-30_02-38-57", "timesteps_total": 2395665, "episodes_total": 1003, "hostname": "flow-main", "info": {"num_steps_trained": 2395665, "grad_time_ms": 25075.228, "load_time_ms": 19.555, "update_time_ms": 12.918, "default": {"entropy": 1.4363552331924438, "cur_kl_coeff": 0.22499996423721313, "total_loss": 660.3002319335938, "vf_loss": 660.3081665039062, "policy_loss": -0.011575086042284966, "kl": 0.016018372029066086, "vf_explained_var": 0.85885089635849, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 2395665, "sample_time_ms": 15425.307}, "custom_metrics": {"cost2_min": -199.88231591339905, "system_level_velocity_mean": 6.983714301764812, "outflow_rate_max": 934.9693959904861, "outflow_rate_min": 392.0306634115361, "system_level_velocity_min": 2.997606977183189, "outflow_rate_mean": 645.8280969385665, "cost2_max": -31.01752268313525, "cost2_mean": -79.60063118239913, "cost1_min": 76.68255425961479, "cost1_mean": 183.49122286007142, "system_level_velocity_max": 10.132166209577344, "cost1_max": 271.06218542870204}, "episode_len_mean": 700.0, "time_total_s": 799.93767619133, "pid": 48556, "episodes_this_iter": 46, "episode_reward_max": 14363.55893409443, "timesteps_since_restore": 2395665, "node_ip": "10.138.0.2", "timestamp": 1556591937, "policy_reward_mean": {}, "episode_reward_mean": 9354.69570907359, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 122738, "time_this_iter_s": 41.41741967201233, "training_iteration": 20, "time_since_restore": 799.93767619133, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 5111.604294952919, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f048>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331fa90>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f7b8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 21, "date": "2019-04-30_02-39-39", "timesteps_total": 2519683, "episodes_total": 1055, "hostname": "flow-main", "info": {"num_steps_trained": 2519683, "grad_time_ms": 25058.992, "load_time_ms": 20.087, "update_time_ms": 13.111, "default": {"entropy": 1.4433703422546387, "cur_kl_coeff": 0.22499996423721313, "total_loss": 960.0401611328125, "vf_loss": 960.0480346679688, "policy_loss": -0.011661581695079803, "kl": 0.016614282503724098, "vf_explained_var": 0.7840971946716309, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 2519683, "sample_time_ms": 15491.582}, "custom_metrics": {"cost2_min": -150.22685721311814, "system_level_velocity_mean": 7.088207278753317, "outflow_rate_max": 894.3913229539726, "outflow_rate_min": 427.2694024641914, "system_level_velocity_min": 4.638020216267181, "outflow_rate_mean": 660.3542618411833, "cost2_max": -33.836847607565154, "cost2_mean": -82.40350858752014, "cost1_min": 121.28550769189363, "cost1_mean": 186.75969702010363, "system_level_velocity_max": 9.46527552166698, "cost1_max": 252.93249070456895}, "episode_len_mean": 700.0, "time_total_s": 841.2910723686218, "pid": 48556, "episodes_this_iter": 52, "episode_reward_max": 14236.189676754831, "timesteps_since_restore": 2519683, "node_ip": "10.138.0.2", "timestamp": 1556591979, "policy_reward_mean": {}, "episode_reward_mean": 9694.564811244698, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 124018, "time_this_iter_s": 41.35339617729187, "training_iteration": 21, "time_since_restore": 841.2910723686218, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 5049.639836909128, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f4e0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f2b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f518>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 22, "date": "2019-04-30_02-40-18", "timesteps_total": 2641615, "episodes_total": 1098, "hostname": "flow-main", "info": {"num_steps_trained": 2641615, "grad_time_ms": 24935.687, "load_time_ms": 19.471, "update_time_ms": 13.174, "default": {"entropy": 1.4479738473892212, "cur_kl_coeff": 0.22499996423721313, "total_loss": 793.6732177734375, "vf_loss": 793.6810913085938, "policy_loss": -0.011551931500434875, "kl": 0.016395259648561478, "vf_explained_var": 0.8405066132545471, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 2641615, "sample_time_ms": 15356.446}, "custom_metrics": {"cost2_min": -150.22685721311814, "system_level_velocity_mean": 7.115112937721385, "outflow_rate_max": 912.0111292516599, "outflow_rate_min": 333.0384545189425, "system_level_velocity_min": 2.51267612514694, "outflow_rate_mean": 646.7077971471233, "cost2_max": -33.836847607565154, "cost2_mean": -78.5183168665614, "cost1_min": 63.589819643740476, "cost1_mean": 187.3076314893812, "system_level_velocity_max": 10.059331553352541, "cost1_max": 265.9224569313557}, "episode_len_mean": 700.0, "time_total_s": 880.5584762096405, "pid": 48556, "episodes_this_iter": 43, "episode_reward_max": 14236.189676754831, "timesteps_since_restore": 2641615, "node_ip": "10.138.0.2", "timestamp": 1556592018, "policy_reward_mean": {}, "episode_reward_mean": 9314.139793408856, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 121932, "time_this_iter_s": 39.26740384101868, "training_iteration": 22, "time_since_restore": 880.5584762096405, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 5049.639836909128, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f588>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f048>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f630>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 23, "date": "2019-04-30_02-41-01", "timesteps_total": 2769983, "episodes_total": 1143, "hostname": "flow-main", "info": {"num_steps_trained": 2769983, "grad_time_ms": 25185.292, "load_time_ms": 19.748, "update_time_ms": 13.002, "default": {"entropy": 1.4496910572052002, "cur_kl_coeff": 0.22499997913837433, "total_loss": 779.9652099609375, "vf_loss": 779.97216796875, "policy_loss": -0.010637003928422928, "kl": 0.016302431002259254, "vf_explained_var": 0.8189730048179626, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 2769983, "sample_time_ms": 15348.186}, "custom_metrics": {"cost2_min": -150.22685721311814, "system_level_velocity_mean": 7.116881454732695, "outflow_rate_max": 912.0111292516599, "outflow_rate_min": 333.0384545189425, "system_level_velocity_min": 2.51267612514694, "outflow_rate_mean": 643.3706293693084, "cost2_max": -35.093920498795214, "cost2_mean": -77.26162842230778, "cost1_min": 63.589819643740476, "cost1_mean": 186.9053745502987, "system_level_velocity_max": 10.117524354598109, "cost1_max": 269.33429558940463}, "episode_len_mean": 700.0, "time_total_s": 923.914972782135, "pid": 48556, "episodes_this_iter": 45, "episode_reward_max": 13910.667878313536, "timesteps_since_restore": 2769983, "node_ip": "10.138.0.2", "timestamp": 1556592061, "policy_reward_mean": {}, "episode_reward_mean": 9286.501124032982, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 128368, "time_this_iter_s": 43.35649657249451, "training_iteration": 23, "time_since_restore": 923.914972782135, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 306.8856564367951, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f9e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f860>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331fcf8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 24, "date": "2019-04-30_02-41-44", "timesteps_total": 2894758, "episodes_total": 1193, "hostname": "flow-main", "info": {"num_steps_trained": 2894758, "grad_time_ms": 25460.063, "load_time_ms": 19.155, "update_time_ms": 11.943, "default": {"entropy": 1.4523086547851562, "cur_kl_coeff": 0.22499997913837433, "total_loss": 948.3640747070312, "vf_loss": 948.3719482421875, "policy_loss": -0.011358489282429218, "kl": 0.015592425130307674, "vf_explained_var": 0.8095927238464355, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 2894758, "sample_time_ms": 15337.057}, "custom_metrics": {"cost2_min": -161.8320037322972, "system_level_velocity_mean": 7.026878377280281, "outflow_rate_max": 859.4765976110073, "outflow_rate_min": 398.4588496945306, "system_level_velocity_min": 4.450074097886326, "outflow_rate_mean": 639.147161065364, "cost2_max": -24.64323351240364, "cost2_mean": -81.3823340275109, "cost1_min": 27.188001233085654, "cost1_mean": 180.30344651333746, "system_level_velocity_max": 17.607368623857806, "cost1_max": 269.33429558940463}, "episode_len_mean": 693.41, "time_total_s": 966.8834936618805, "pid": 48556, "episodes_this_iter": 50, "episode_reward_max": 13910.667878313536, "timesteps_since_restore": 2894758, "node_ip": "10.138.0.2", "timestamp": 1556592104, "policy_reward_mean": {}, "episode_reward_mean": 9492.502151536246, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 124775, "time_this_iter_s": 42.96852087974548, "training_iteration": 24, "time_since_restore": 966.8834936618805, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 306.8856564367951, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331fa58>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f048>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f668>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 25, "date": "2019-04-30_02-42-27", "timesteps_total": 3022634, "episodes_total": 1242, "hostname": "flow-main", "info": {"num_steps_trained": 3022634, "grad_time_ms": 25567.307, "load_time_ms": 20.087, "update_time_ms": 11.928, "default": {"entropy": 1.4355032444000244, "cur_kl_coeff": 0.22499996423721313, "total_loss": 1092.730712890625, "vf_loss": 1092.738525390625, "policy_loss": -0.011817019432783127, "kl": 0.017356181517243385, "vf_explained_var": 0.7620722651481628, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 3022634, "sample_time_ms": 15373.282}, "custom_metrics": {"cost2_min": -173.69177860217417, "system_level_velocity_mean": 7.032115461978971, "outflow_rate_max": 899.4862901000982, "outflow_rate_min": 297.79729524766805, "system_level_velocity_min": 2.2700434592841545, "outflow_rate_mean": 642.273325169106, "cost2_max": -24.64323351240364, "cost2_mean": -87.51123892369428, "cost1_min": 27.188001233085654, "cost1_mean": 180.38417147384197, "system_level_velocity_max": 17.607368623857806, "cost1_max": 259.4164731790696}, "episode_len_mean": 693.41, "time_total_s": 1009.7623932361603, "pid": 48556, "episodes_this_iter": 49, "episode_reward_max": 13786.980534268445, "timesteps_since_restore": 3022634, "node_ip": "10.138.0.2", "timestamp": 1556592147, "policy_reward_mean": {}, "episode_reward_mean": 9615.261715416576, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 127876, "time_this_iter_s": 42.878899574279785, "training_iteration": 25, "time_since_restore": 1009.7623932361603, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 5723.34883801729, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f2b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f898>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331ffd0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 26, "date": "2019-04-30_02-43-11", "timesteps_total": 3149677, "episodes_total": 1289, "hostname": "flow-main", "info": {"num_steps_trained": 3149677, "grad_time_ms": 25828.047, "load_time_ms": 20.976, "update_time_ms": 11.864, "default": {"entropy": 1.4536772966384888, "cur_kl_coeff": 0.22499996423721313, "total_loss": 1003.4967041015625, "vf_loss": 1003.5050048828125, "policy_loss": -0.012279781512916088, "kl": 0.017786351963877678, "vf_explained_var": 0.7757946252822876, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 3149677, "sample_time_ms": 15420.026}, "custom_metrics": {"cost2_min": -173.69177860217417, "system_level_velocity_mean": 7.070596343200188, "outflow_rate_max": 908.321806986175, "outflow_rate_min": 297.79729524766805, "system_level_velocity_min": 2.2700434592841545, "outflow_rate_mean": 653.2482938774226, "cost2_max": -37.74359650226791, "cost2_mean": -90.53954753625437, "cost1_min": 57.58846403454486, "cost1_mean": 185.77152398296258, "system_level_velocity_max": 9.824758580390494, "cost1_max": 263.39721897543757}, "episode_len_mean": 700.0, "time_total_s": 1053.1542749404907, "pid": 48556, "episodes_this_iter": 47, "episode_reward_max": 14908.141626057419, "timesteps_since_restore": 3149677, "node_ip": "10.138.0.2", "timestamp": 1556592191, "policy_reward_mean": {}, "episode_reward_mean": 9939.421330086281, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 127043, "time_this_iter_s": 43.391881704330444, "training_iteration": 26, "time_since_restore": 1053.1542749404907, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 5935.626274679599, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33265f8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33265c0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326630>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 27, "date": "2019-04-30_02-43-53", "timesteps_total": 3276339, "episodes_total": 1335, "hostname": "flow-main", "info": {"num_steps_trained": 3276339, "grad_time_ms": 25921.919, "load_time_ms": 20.013, "update_time_ms": 11.954, "default": {"entropy": 1.4569231271743774, "cur_kl_coeff": 0.22499997913837433, "total_loss": 1061.5682373046875, "vf_loss": 1061.5758056640625, "policy_loss": -0.011577105149626732, "kl": 0.01755584590137005, "vf_explained_var": 0.783848226070404, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 3276339, "sample_time_ms": 15509.788}, "custom_metrics": {"cost2_min": -173.81960927229053, "system_level_velocity_mean": 7.194832869330267, "outflow_rate_max": 925.9158538938291, "outflow_rate_min": 395.82391790711404, "system_level_velocity_min": 4.5317522155755485, "outflow_rate_mean": 671.0166105185839, "cost2_max": -37.74359650226791, "cost2_mean": -95.93976973600503, "cost1_min": 118.35313559688588, "cost1_mean": 189.66189925770925, "system_level_velocity_max": 10.077136002724503, "cost1_max": 271.2663981391233}, "episode_len_mean": 700.0, "time_total_s": 1095.4874658584595, "pid": 48556, "episodes_this_iter": 46, "episode_reward_max": 14908.141626057419, "timesteps_since_restore": 3276339, "node_ip": "10.138.0.2", "timestamp": 1556592233, "policy_reward_mean": {}, "episode_reward_mean": 10325.63258321898, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 126662, "time_this_iter_s": 42.33319091796875, "training_iteration": 27, "time_since_restore": 1095.4874658584595, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 5770.977351347076, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331fac8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f5c0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f860>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 28, "date": "2019-04-30_02-44-35", "timesteps_total": 3404519, "episodes_total": 1378, "hostname": "flow-main", "info": {"num_steps_trained": 3404519, "grad_time_ms": 25968.489, "load_time_ms": 21.383, "update_time_ms": 10.79, "default": {"entropy": 1.444649577140808, "cur_kl_coeff": 0.22499997913837433, "total_loss": 873.4434204101562, "vf_loss": 873.4512939453125, "policy_loss": -0.011543049477040768, "kl": 0.01626555249094963, "vf_explained_var": 0.8326035737991333, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 3404519, "sample_time_ms": 15560.905}, "custom_metrics": {"cost2_min": -173.81960927229053, "system_level_velocity_mean": 7.364430279511145, "outflow_rate_max": 925.9158538938291, "outflow_rate_min": 395.82391790711404, "system_level_velocity_min": 4.5317522155755485, "outflow_rate_mean": 680.9892183754464, "cost2_max": -39.05851249450863, "cost2_mean": -96.73715671488648, "cost1_min": 118.35313559688588, "cost1_mean": 194.41782232849218, "system_level_velocity_max": 10.488679731779603, "cost1_max": 283.3418499979366}, "episode_len_mean": 700.0, "time_total_s": 1136.8198974132538, "pid": 48556, "episodes_this_iter": 43, "episode_reward_max": 14797.540977020808, "timesteps_since_restore": 3404519, "node_ip": "10.138.0.2", "timestamp": 1556592275, "policy_reward_mean": {}, "episode_reward_mean": 10352.791731081814, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 128180, "time_this_iter_s": 41.33243155479431, "training_iteration": 28, "time_since_restore": 1136.8198974132538, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 5770.977351347076, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326b70>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326978>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326908>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 29, "date": "2019-04-30_02-45-17", "timesteps_total": 3533570, "episodes_total": 1426, "hostname": "flow-main", "info": {"num_steps_trained": 3533570, "grad_time_ms": 26234.945, "load_time_ms": 21.889, "update_time_ms": 12.048, "default": {"entropy": 1.4853291511535645, "cur_kl_coeff": 0.22499996423721313, "total_loss": 1037.626708984375, "vf_loss": 1037.6346435546875, "policy_loss": -0.011865844950079918, "kl": 0.01741650328040123, "vf_explained_var": 0.8080094456672668, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 3533570, "sample_time_ms": 15550.543}, "custom_metrics": {"cost2_min": -172.02347860550725, "system_level_velocity_mean": 7.3562625242033475, "outflow_rate_max": 925.9158538938291, "outflow_rate_min": 368.21609830567706, "system_level_velocity_min": 4.598281144394831, "outflow_rate_mean": 674.879419368465, "cost2_max": -39.05851249450863, "cost2_mean": -93.403538132399, "cost1_min": 120.93449120347434, "cost1_mean": 193.9930533178177, "system_level_velocity_max": 10.488679731779603, "cost1_max": 283.3418499979366}, "episode_len_mean": 700.0, "time_total_s": 1178.938007593155, "pid": 48556, "episodes_this_iter": 48, "episode_reward_max": 14797.540977020808, "timesteps_since_restore": 3533570, "node_ip": "10.138.0.2", "timestamp": 1556592317, "policy_reward_mean": {}, "episode_reward_mean": 10388.84661282252, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 129051, "time_this_iter_s": 42.11811017990112, "training_iteration": 29, "time_since_restore": 1178.938007593155, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 6615.037218674853, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f320>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f5f8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f0f0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 30, "date": "2019-04-30_02-46-02", "timesteps_total": 3665374, "episodes_total": 1469, "hostname": "flow-main", "info": {"num_steps_trained": 3665374, "grad_time_ms": 26489.311, "load_time_ms": 21.626, "update_time_ms": 12.203, "default": {"entropy": 1.4697037935256958, "cur_kl_coeff": 0.22499996423721313, "total_loss": 953.6580200195312, "vf_loss": 953.666015625, "policy_loss": -0.012039563618600368, "kl": 0.018286341801285744, "vf_explained_var": 0.8031473159790039, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 3665374, "sample_time_ms": 15664.946}, "custom_metrics": {"cost2_min": -163.98894078907074, "system_level_velocity_mean": 7.180534302177758, "outflow_rate_max": 940.9061942290568, "outflow_rate_min": 368.21609830567706, "system_level_velocity_min": 3.6353805399584656, "outflow_rate_mean": 662.2333347814, "cost2_max": -43.969407408233174, "cost2_mean": -93.3687141928008, "cost1_min": 92.76457345040461, "cost1_mean": 189.34780887885867, "system_level_velocity_max": 10.387539083764558, "cost1_max": 273.7888368293696}, "episode_len_mean": 700.0, "time_total_s": 1224.04367685318, "pid": 48556, "episodes_this_iter": 43, "episode_reward_max": 14119.667886141571, "timesteps_since_restore": 3665374, "node_ip": "10.138.0.2", "timestamp": 1556592362, "policy_reward_mean": {}, "episode_reward_mean": 10477.642747669644, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 131804, "time_this_iter_s": 45.105669260025024, "training_iteration": 30, "time_since_restore": 1224.04367685318, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 7027.819284114839, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326048>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326080>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326630>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 31, "date": "2019-04-30_02-46-43", "timesteps_total": 3792523, "episodes_total": 1515, "hostname": "flow-main", "info": {"num_steps_trained": 3792523, "grad_time_ms": 26553.03, "load_time_ms": 22.418, "update_time_ms": 12.276, "default": {"entropy": 1.5082707405090332, "cur_kl_coeff": 0.22499997913837433, "total_loss": 967.5904541015625, "vf_loss": 967.60009765625, "policy_loss": -0.013990117236971855, "kl": 0.019562093541026115, "vf_explained_var": 0.8259515166282654, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 3792523, "sample_time_ms": 15597.577}, "custom_metrics": {"cost2_min": -171.74681290684788, "system_level_velocity_mean": 7.126961702595922, "outflow_rate_max": 963.2185282667454, "outflow_rate_min": 368.21609830567706, "system_level_velocity_min": 3.6353805399584656, "outflow_rate_mean": 657.0993030680169, "cost2_max": -50.30586371889308, "cost2_mean": -94.48537804626636, "cost1_min": 92.76457345040461, "cost1_mean": 187.94889387282703, "system_level_velocity_max": 10.387539083764558, "cost1_max": 273.7888368293696}, "episode_len_mean": 700.0, "time_total_s": 1265.4344742298126, "pid": 48556, "episodes_this_iter": 46, "episode_reward_max": 14119.667886141571, "timesteps_since_restore": 3792523, "node_ip": "10.138.0.2", "timestamp": 1556592403, "policy_reward_mean": {}, "episode_reward_mean": 10384.113216236572, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 127149, "time_this_iter_s": 41.39079737663269, "training_iteration": 31, "time_since_restore": 1265.4344742298126, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 7294.653148401701, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3340e10>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331fc18>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33269b0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 32, "date": "2019-04-30_02-47-27", "timesteps_total": 3921326, "episodes_total": 1562, "hostname": "flow-main", "info": {"num_steps_trained": 3921326, "grad_time_ms": 26879.053, "load_time_ms": 23.233, "update_time_ms": 12.315, "default": {"entropy": 1.5159295797348022, "cur_kl_coeff": 0.22499997913837433, "total_loss": 860.7568969726562, "vf_loss": 860.7655029296875, "policy_loss": -0.012647529132664204, "kl": 0.017806461080908775, "vf_explained_var": 0.8664002418518066, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 3921326, "sample_time_ms": 15702.893}, "custom_metrics": {"cost2_min": -171.74681290684788, "system_level_velocity_mean": 7.357864220087348, "outflow_rate_max": 963.2185282667454, "outflow_rate_min": 374.0048757649061, "system_level_velocity_min": 3.727612908550821, "outflow_rate_mean": 667.7945240487819, "cost2_max": -46.599519293433886, "cost2_mean": -92.370486522433, "cost1_min": 94.95356974839757, "cost1_mean": 193.6813764783557, "system_level_velocity_max": 10.245551029678307, "cost1_max": 274.37567543684577}, "episode_len_mean": 700.0, "time_total_s": 1309.0872235298157, "pid": 48556, "episodes_this_iter": 47, "episode_reward_max": 13823.904661013734, "timesteps_since_restore": 3921326, "node_ip": "10.138.0.2", "timestamp": 1556592447, "policy_reward_mean": {}, "episode_reward_mean": 10358.976013160212, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 128803, "time_this_iter_s": 43.65274930000305, "training_iteration": 32, "time_since_restore": 1309.0872235298157, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 5525.54684680785, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33266d8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326668>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326908>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 33, "date": "2019-04-30_02-48-11", "timesteps_total": 4046233, "episodes_total": 1607, "hostname": "flow-main", "info": {"num_steps_trained": 4046233, "grad_time_ms": 26967.306, "load_time_ms": 22.658, "update_time_ms": 12.494, "default": {"entropy": 1.5055028200149536, "cur_kl_coeff": 0.22499996423721313, "total_loss": 1118.1148681640625, "vf_loss": 1118.1229248046875, "policy_loss": -0.011903257109224796, "kl": 0.017350254580378532, "vf_explained_var": 0.8206759095191956, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 4046233, "sample_time_ms": 15630.863}, "custom_metrics": {"cost2_min": -159.07325575012607, "system_level_velocity_mean": 7.77345244479851, "outflow_rate_max": 974.7644111778725, "outflow_rate_min": 212.08471362157522, "system_level_velocity_min": 2.92415576388114, "outflow_rate_mean": 702.0267885652373, "cost2_max": -46.599519293433886, "cost2_mean": -94.67910012478087, "cost1_min": 74.11811282130562, "cost1_mean": 204.93926651208412, "system_level_velocity_max": 12.16701230630632, "cost1_max": 324.49182628903634}, "episode_len_mean": 700.0, "time_total_s": 1352.6218056678772, "pid": 48556, "episodes_this_iter": 45, "episode_reward_max": 14362.006758761281, "timesteps_since_restore": 4046233, "node_ip": "10.138.0.2", "timestamp": 1556592491, "policy_reward_mean": {}, "episode_reward_mean": 10680.841399543371, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 124907, "time_this_iter_s": 43.53458213806152, "training_iteration": 33, "time_since_restore": 1352.6218056678772, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 5525.54684680785, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326a58>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33268d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326d68>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 34, "date": "2019-04-30_02-48-52", "timesteps_total": 4173299, "episodes_total": 1658, "hostname": "flow-main", "info": {"num_steps_trained": 4173299, "grad_time_ms": 26729.416, "load_time_ms": 21.488, "update_time_ms": 13.686, "default": {"entropy": 1.530866265296936, "cur_kl_coeff": 0.22499996423721313, "total_loss": 1196.0919189453125, "vf_loss": 1196.1005859375, "policy_loss": -0.012791718356311321, "kl": 0.018018703907728195, "vf_explained_var": 0.7835179567337036, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 4173299, "sample_time_ms": 15645.146}, "custom_metrics": {"cost2_min": -166.75312999130682, "system_level_velocity_mean": 7.914627422396223, "outflow_rate_max": 974.7644111778725, "outflow_rate_min": 212.08471362157522, "system_level_velocity_min": 2.92415576388114, "outflow_rate_mean": 719.3290576352003, "cost2_max": -46.77834044317669, "cost2_mean": -98.90297972043196, "cost1_min": 74.11811282130562, "cost1_mean": 208.91476439990345, "system_level_velocity_max": 12.20467844578317, "cost1_max": 324.49182628903634}, "episode_len_mean": 700.0, "time_total_s": 1393.3442597389221, "pid": 48556, "episodes_this_iter": 51, "episode_reward_max": 14525.507588713446, "timesteps_since_restore": 4173299, "node_ip": "10.138.0.2", "timestamp": 1556592532, "policy_reward_mean": {}, "episode_reward_mean": 10784.7655707728, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 127066, "time_this_iter_s": 40.72245407104492, "training_iteration": 34, "time_since_restore": 1393.3442597389221, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 6456.890497689228, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326630>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326940>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326c18>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 35, "date": "2019-04-30_02-49-32", "timesteps_total": 4297265, "episodes_total": 1706, "hostname": "flow-main", "info": {"num_steps_trained": 4297265, "grad_time_ms": 26551.755, "load_time_ms": 20.404, "update_time_ms": 13.86, "default": {"entropy": 1.5203900337219238, "cur_kl_coeff": 0.22499996423721313, "total_loss": 1170.392333984375, "vf_loss": 1170.4031982421875, "policy_loss": -0.015372873283922672, "kl": 0.020085105672478676, "vf_explained_var": 0.7693251967430115, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 4297265, "sample_time_ms": 15602.007}, "custom_metrics": {"cost2_min": -166.75312999130682, "system_level_velocity_mean": 7.807470135388561, "outflow_rate_max": 955.2901181065929, "outflow_rate_min": 380.56542446978335, "system_level_velocity_min": 3.6111174218812203, "outflow_rate_mean": 712.2653891405921, "cost2_max": -45.4748172597793, "cost2_mean": -94.17267472856491, "cost1_min": 93.8744194627931, "cost1_mean": 205.7946653076043, "system_level_velocity_max": 12.20467844578317, "cost1_max": 323.7382372254564}, "episode_len_mean": 700.0, "time_total_s": 1434.0515298843384, "pid": 48556, "episodes_this_iter": 48, "episode_reward_max": 14525.507588713446, "timesteps_since_restore": 4297265, "node_ip": "10.138.0.2", "timestamp": 1556592572, "policy_reward_mean": {}, "episode_reward_mean": 10458.19478248413, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 123966, "time_this_iter_s": 40.70727014541626, "training_iteration": 35, "time_since_restore": 1434.0515298843384, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 6456.890497689228, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326198>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326f98>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326d68>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 36, "date": "2019-04-30_02-50-13", "timesteps_total": 4422433, "episodes_total": 1749, "hostname": "flow-main", "info": {"num_steps_trained": 4422433, "grad_time_ms": 26384.852, "load_time_ms": 20.355, "update_time_ms": 13.943, "default": {"entropy": 1.5277929306030273, "cur_kl_coeff": 0.33750003576278687, "total_loss": 1075.90966796875, "vf_loss": 1075.9176025390625, "policy_loss": -0.013331415131688118, "kl": 0.01560445036739111, "vf_explained_var": 0.7509815096855164, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 4422433, "sample_time_ms": 15486.699}, "custom_metrics": {"cost2_min": -140.79669421694558, "system_level_velocity_mean": 8.2103393838343, "outflow_rate_max": 944.337578967395, "outflow_rate_min": 436.2997594171206, "system_level_velocity_min": 4.5923686596081135, "outflow_rate_mean": 740.1829725958737, "cost2_max": -45.4748172597793, "cost2_mean": -92.97290488052559, "cost1_min": 118.43957797186998, "cost1_mean": 216.81249265594707, "system_level_velocity_max": 12.505857683396373, "cost1_max": 337.3869890772286}, "episode_len_mean": 700.0, "time_total_s": 1474.6436605453491, "pid": 48556, "episodes_this_iter": 43, "episode_reward_max": 14058.425866489148, "timesteps_since_restore": 4422433, "node_ip": "10.138.0.2", "timestamp": 1556592613, "policy_reward_mean": {}, "episode_reward_mean": 10551.004754115373, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 125168, "time_this_iter_s": 40.59213066101074, "training_iteration": 36, "time_since_restore": 1474.6436605453491, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 6805.609782099798, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33265f8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33264a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326048>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 37, "date": "2019-04-30_02-50-55", "timesteps_total": 4545719, "episodes_total": 1799, "hostname": "flow-main", "info": {"num_steps_trained": 4545719, "grad_time_ms": 26399.713, "load_time_ms": 20.15, "update_time_ms": 13.874, "default": {"entropy": 1.553938865661621, "cur_kl_coeff": 0.33750006556510925, "total_loss": 1182.0670166015625, "vf_loss": 1182.074951171875, "policy_loss": -0.012926649302244186, "kl": 0.014855499379336834, "vf_explained_var": 0.7470775246620178, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 4545719, "sample_time_ms": 15444.198}, "custom_metrics": {"cost2_min": -140.79669421694558, "system_level_velocity_mean": 8.000703030179126, "outflow_rate_max": 944.337578967395, "outflow_rate_min": 384.9325262840039, "system_level_velocity_min": 3.489857734113217, "outflow_rate_mean": 721.0994700542684, "cost2_max": -51.52726565134259, "cost2_mean": -92.18958005349273, "cost1_min": 87.9494349830702, "cost1_mean": 211.05624165505023, "system_level_velocity_max": 12.505857683396373, "cost1_max": 337.3869890772286}, "episode_len_mean": 700.0, "time_total_s": 1516.6886577606201, "pid": 48556, "episodes_this_iter": 50, "episode_reward_max": 13461.25455736945, "timesteps_since_restore": 4545719, "node_ip": "10.138.0.2", "timestamp": 1556592655, "policy_reward_mean": {}, "episode_reward_mean": 10401.945474519496, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 123286, "time_this_iter_s": 42.044997215270996, "training_iteration": 37, "time_since_restore": 1516.6886577606201, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 6465.768564249649, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f898>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f470>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f978>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 38, "date": "2019-04-30_02-51-37", "timesteps_total": 4672250, "episodes_total": 1846, "hostname": "flow-main", "info": {"num_steps_trained": 4672250, "grad_time_ms": 26510.574, "load_time_ms": 18.877, "update_time_ms": 13.873, "default": {"entropy": 1.5479652881622314, "cur_kl_coeff": 0.33750006556510925, "total_loss": 1189.52294921875, "vf_loss": 1189.5299072265625, "policy_loss": -0.012366561219096184, "kl": 0.015725014731287956, "vf_explained_var": 0.7353780269622803, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 4672250, "sample_time_ms": 15397.887}, "custom_metrics": {"cost2_min": -138.65027389479872, "system_level_velocity_mean": 8.060180269306246, "outflow_rate_max": 949.9936464766196, "outflow_rate_min": 384.9325262840039, "system_level_velocity_min": 3.489857734113217, "outflow_rate_mean": 722.6792545320765, "cost2_max": -47.8353553610202, "cost2_mean": -92.23132792186134, "cost1_min": 87.9494349830702, "cost1_mean": 212.62882736739783, "system_level_velocity_max": 11.566766832830188, "cost1_max": 310.477439291215}, "episode_len_mean": 700.0, "time_total_s": 1558.6442875862122, "pid": 48556, "episodes_this_iter": 47, "episode_reward_max": 14709.376164119925, "timesteps_since_restore": 4672250, "node_ip": "10.138.0.2", "timestamp": 1556592697, "policy_reward_mean": {}, "episode_reward_mean": 10441.528450426138, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 126531, "time_this_iter_s": 41.95562982559204, "training_iteration": 38, "time_since_restore": 1558.6442875862122, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 6465.768564249649, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33265c0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326cc0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33264e0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 39, "date": "2019-04-30_02-52-19", "timesteps_total": 4796561, "episodes_total": 1897, "hostname": "flow-main", "info": {"num_steps_trained": 4796561, "grad_time_ms": 26474.553, "load_time_ms": 17.906, "update_time_ms": 12.535, "default": {"entropy": 1.538632869720459, "cur_kl_coeff": 0.33750006556510925, "total_loss": 1423.0836181640625, "vf_loss": 1423.0919189453125, "policy_loss": -0.013347356580197811, "kl": 0.015279893763363361, "vf_explained_var": 0.7149008512496948, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 4796561, "sample_time_ms": 15432.828}, "custom_metrics": {"cost2_min": -144.50721931416734, "system_level_velocity_mean": 8.371180387813673, "outflow_rate_max": 954.044955126886, "outflow_rate_min": 446.75882959811236, "system_level_velocity_min": 3.882454589484205, "outflow_rate_mean": 748.522151415331, "cost2_max": -47.8353553610202, "cost2_mean": -98.00533473216679, "cost1_min": 100.52309931941852, "cost1_mean": 221.1619781726259, "system_level_velocity_max": 11.632957296523482, "cost1_max": 310.477439291215}, "episode_len_mean": 700.0, "time_total_s": 1600.684368133545, "pid": 48556, "episodes_this_iter": 51, "episode_reward_max": 14709.376164119925, "timesteps_since_restore": 4796561, "node_ip": "10.138.0.2", "timestamp": 1556592739, "policy_reward_mean": {}, "episode_reward_mean": 10903.313331777937, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 124311, "time_this_iter_s": 42.040080547332764, "training_iteration": 39, "time_since_restore": 1600.684368133545, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 6906.09753366803, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f470>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f978>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331fc50>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 40, "date": "2019-04-30_02-53-01", "timesteps_total": 4921930, "episodes_total": 1946, "hostname": "flow-main", "info": {"num_steps_trained": 4921930, "grad_time_ms": 26268.721, "load_time_ms": 17.524, "update_time_ms": 13.663, "default": {"entropy": 1.5390419960021973, "cur_kl_coeff": 0.33750003576278687, "total_loss": 1301.22802734375, "vf_loss": 1301.2371826171875, "policy_loss": -0.0150087745860219, "kl": 0.01669577695429325, "vf_explained_var": 0.711686372756958, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 4921930, "sample_time_ms": 15329.82}, "custom_metrics": {"cost2_min": -155.939067467256, "system_level_velocity_mean": 8.263623547726555, "outflow_rate_max": 965.4864439417547, "outflow_rate_min": 446.75882959811236, "system_level_velocity_min": 3.882454589484205, "outflow_rate_mean": 752.003233349869, "cost2_max": -50.527748359030326, "cost2_mean": -102.46042750462765, "cost1_min": 100.52309931941852, "cost1_mean": 218.46117567015884, "system_level_velocity_max": 11.632957296523482, "cost1_max": 310.2031381706612}, "episode_len_mean": 700.0, "time_total_s": 1642.7039895057678, "pid": 48556, "episodes_this_iter": 49, "episode_reward_max": 14350.218479840212, "timesteps_since_restore": 4921930, "node_ip": "10.138.0.2", "timestamp": 1556592781, "policy_reward_mean": {}, "episode_reward_mean": 10980.447601206855, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 125369, "time_this_iter_s": 42.0196213722229, "training_iteration": 40, "time_since_restore": 1642.7039895057678, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 6906.09753366803, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33262e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326358>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326c88>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 41, "date": "2019-04-30_02-53-43", "timesteps_total": 5048448, "episodes_total": 1988, "hostname": "flow-main", "info": {"num_steps_trained": 5048448, "grad_time_ms": 26223.676, "load_time_ms": 16.215, "update_time_ms": 13.636, "default": {"entropy": 1.5537340641021729, "cur_kl_coeff": 0.33750006556510925, "total_loss": 1031.077880859375, "vf_loss": 1031.0870361328125, "policy_loss": -0.014408557675778866, "kl": 0.01566612534224987, "vf_explained_var": 0.7466140985488892, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 5048448, "sample_time_ms": 15447.713}, "custom_metrics": {"cost2_min": -155.939067467256, "system_level_velocity_mean": 8.095822488811859, "outflow_rate_max": 965.4864439417547, "outflow_rate_min": 488.96197700244306, "system_level_velocity_min": 4.889576565172882, "outflow_rate_mean": 735.0058642844181, "cost2_max": -50.527748359030326, "cost2_mean": -101.27624033423822, "cost1_min": 126.44879977584081, "cost1_mean": 213.94749255189316, "system_level_velocity_max": 11.212345488555048, "cost1_max": 299.10449011211654}, "episode_len_mean": 700.0, "time_total_s": 1684.7556109428406, "pid": 48556, "episodes_this_iter": 42, "episode_reward_max": 14505.209574123763, "timesteps_since_restore": 5048448, "node_ip": "10.138.0.2", "timestamp": 1556592823, "policy_reward_mean": {}, "episode_reward_mean": 10751.839277424908, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 126518, "time_this_iter_s": 42.051621437072754, "training_iteration": 41, "time_since_restore": 1684.7556109428406, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 6243.564342664792, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326e48>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326eb8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326400>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 42, "date": "2019-04-30_02-54-25", "timesteps_total": 5175066, "episodes_total": 2037, "hostname": "flow-main", "info": {"num_steps_trained": 5175066, "grad_time_ms": 25972.424, "load_time_ms": 16.001, "update_time_ms": 13.615, "default": {"entropy": 1.5476152896881104, "cur_kl_coeff": 0.33750003576278687, "total_loss": 1207.0277099609375, "vf_loss": 1207.0362548828125, "policy_loss": -0.013773988001048565, "kl": 0.015590350143611431, "vf_explained_var": 0.7628598213195801, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 5175066, "sample_time_ms": 15474.431}, "custom_metrics": {"cost2_min": -142.4556591250996, "system_level_velocity_mean": 7.821635595003678, "outflow_rate_max": 913.9354846151872, "outflow_rate_min": 305.988254165699, "system_level_velocity_min": 3.0980885287747832, "outflow_rate_mean": 696.8495343813047, "cost2_max": -50.50577825733066, "cost2_mean": -95.58003452613269, "cost1_min": 80.51067058620316, "cost1_mean": 206.20672571743867, "system_level_velocity_max": 11.991191696723744, "cost1_max": 311.22095824883877}, "episode_len_mean": 700.0, "time_total_s": 1726.1155965328217, "pid": 48556, "episodes_this_iter": 49, "episode_reward_max": 14505.209574123763, "timesteps_since_restore": 5175066, "node_ip": "10.138.0.2", "timestamp": 1556592865, "policy_reward_mean": {}, "episode_reward_mean": 10283.484756653383, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 126618, "time_this_iter_s": 41.35998558998108, "training_iteration": 42, "time_since_restore": 1726.1155965328217, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 6243.564342664792, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326ef0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326a20>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326940>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 43, "date": "2019-04-30_02-55-07", "timesteps_total": 5298186, "episodes_total": 2088, "hostname": "flow-main", "info": {"num_steps_trained": 5298186, "grad_time_ms": 25760.458, "load_time_ms": 16.003, "update_time_ms": 13.377, "default": {"entropy": 1.5801758766174316, "cur_kl_coeff": 0.33750006556510925, "total_loss": 1332.916015625, "vf_loss": 1332.92431640625, "policy_loss": -0.013523327186703682, "kl": 0.015645671635866165, "vf_explained_var": 0.7271502614021301, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 5298186, "sample_time_ms": 15513.746}, "custom_metrics": {"cost2_min": -172.29083711564283, "system_level_velocity_mean": 7.788161362761708, "outflow_rate_max": 969.3751490567038, "outflow_rate_min": 305.988254165699, "system_level_velocity_min": 3.0980885287747832, "outflow_rate_mean": 696.0902134732186, "cost2_max": -40.07696969068908, "cost2_mean": -93.78393719452022, "cost1_min": 80.51067058620316, "cost1_mean": 205.56009817952494, "system_level_velocity_max": 12.396989973401958, "cost1_max": 331.44777817986056}, "episode_len_mean": 700.0, "time_total_s": 1767.9303317070007, "pid": 48556, "episodes_this_iter": 51, "episode_reward_max": 13900.65996888567, "timesteps_since_restore": 5298186, "node_ip": "10.138.0.2", "timestamp": 1556592907, "policy_reward_mean": {}, "episode_reward_mean": 10221.020110169491, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 123120, "time_this_iter_s": 41.81473517417908, "training_iteration": 43, "time_since_restore": 1767.9303317070007, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 6313.715512164198, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326668>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326438>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33269b0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 44, "date": "2019-04-30_02-55-50", "timesteps_total": 5424689, "episodes_total": 2134, "hostname": "flow-main", "info": {"num_steps_trained": 5424689, "grad_time_ms": 26021.162, "load_time_ms": 15.873, "update_time_ms": 12.165, "default": {"entropy": 1.5730555057525635, "cur_kl_coeff": 0.33750006556510925, "total_loss": 1054.96923828125, "vf_loss": 1054.9781494140625, "policy_loss": -0.014079542830586433, "kl": 0.015568040311336517, "vf_explained_var": 0.7794237732887268, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 5424689, "sample_time_ms": 15507.181}, "custom_metrics": {"cost2_min": -172.29083711564283, "system_level_velocity_mean": 7.889883632114058, "outflow_rate_max": 969.3751490567038, "outflow_rate_min": 454.55845379849336, "system_level_velocity_min": 4.675014364439369, "outflow_rate_mean": 702.9077181939737, "cost2_max": -37.86873680679076, "cost2_mean": -89.0544975910684, "cost1_min": 122.44315710488567, "cost1_mean": 208.32723405029407, "system_level_velocity_max": 12.396989973401958, "cost1_max": 331.44777817986056}, "episode_len_mean": 700.0, "time_total_s": 1811.1674981117249, "pid": 48556, "episodes_this_iter": 46, "episode_reward_max": 13133.170777567495, "timesteps_since_restore": 5424689, "node_ip": "10.138.0.2", "timestamp": 1556592950, "policy_reward_mean": {}, "episode_reward_mean": 10159.64335419686, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 126503, "time_this_iter_s": 43.23716640472412, "training_iteration": 44, "time_since_restore": 1811.1674981117249, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 5885.70184481642, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326908>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326208>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33264e0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 45, "date": "2019-04-30_02-56-30", "timesteps_total": 5547305, "episodes_total": 2182, "hostname": "flow-main", "info": {"num_steps_trained": 5547305, "grad_time_ms": 25933.624, "load_time_ms": 16.563, "update_time_ms": 12.083, "default": {"entropy": 1.5685359239578247, "cur_kl_coeff": 0.33750006556510925, "total_loss": 1263.136962890625, "vf_loss": 1263.14599609375, "policy_loss": -0.01451039407402277, "kl": 0.016393428668379784, "vf_explained_var": 0.7513668537139893, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 5547305, "sample_time_ms": 15478.975}, "custom_metrics": {"cost2_min": -134.5959785870733, "system_level_velocity_mean": 7.917864488778442, "outflow_rate_max": 950.1036478845526, "outflow_rate_min": 332.8663273252263, "system_level_velocity_min": 3.2014317171173303, "outflow_rate_mean": 703.568580138441, "cost2_max": -28.55679624833801, "cost2_mean": -87.24538125397359, "cost1_min": 82.274942813195, "cost1_mean": 209.0687136512319, "system_level_velocity_max": 12.396989973401958, "cost1_max": 331.44777817986056}, "episode_len_mean": 700.0, "time_total_s": 1850.707520723343, "pid": 48556, "episodes_this_iter": 48, "episode_reward_max": 13100.79555663104, "timesteps_since_restore": 5547305, "node_ip": "10.138.0.2", "timestamp": 1556592990, "policy_reward_mean": {}, "episode_reward_mean": 10107.703922226612, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 122616, "time_this_iter_s": 39.54002261161804, "training_iteration": 45, "time_since_restore": 1850.707520723343, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 5885.70184481642, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f320>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f6a0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331fcf8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 46, "date": "2019-04-30_02-57-11", "timesteps_total": 5669695, "episodes_total": 2232, "hostname": "flow-main", "info": {"num_steps_trained": 5669695, "grad_time_ms": 25982.839, "load_time_ms": 15.978, "update_time_ms": 11.937, "default": {"entropy": 1.5709419250488281, "cur_kl_coeff": 0.33750009536743164, "total_loss": 1369.7672119140625, "vf_loss": 1369.77587890625, "policy_loss": -0.014178141951560974, "kl": 0.016373082995414734, "vf_explained_var": 0.7644619941711426, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 5669695, "sample_time_ms": 15504.358}, "custom_metrics": {"cost2_min": -136.92294745691922, "system_level_velocity_mean": 8.308018579510849, "outflow_rate_max": 962.5330384003555, "outflow_rate_min": 332.8663273252263, "system_level_velocity_min": 3.2014317171173303, "outflow_rate_mean": 730.6554554039957, "cost2_max": -28.55679624833801, "cost2_mean": -90.5254109904104, "cost1_min": 82.274942813195, "cost1_mean": 219.87578266271206, "system_level_velocity_max": 12.31822643211191, "cost1_max": 327.1399776913096}, "episode_len_mean": 700.0, "time_total_s": 1892.016300201416, "pid": 48556, "episodes_this_iter": 50, "episode_reward_max": 16018.115664753748, "timesteps_since_restore": 5669695, "node_ip": "10.138.0.2", "timestamp": 1556593031, "policy_reward_mean": {}, "episode_reward_mean": 10259.50338910259, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 122390, "time_this_iter_s": 41.30877947807312, "training_iteration": 46, "time_since_restore": 1892.016300201416, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 6941.314150841389, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326c88>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326a20>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326940>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 47, "date": "2019-04-30_02-57-52", "timesteps_total": 5791849, "episodes_total": 2282, "hostname": "flow-main", "info": {"num_steps_trained": 5791849, "grad_time_ms": 25873.645, "load_time_ms": 16.005, "update_time_ms": 11.962, "default": {"entropy": 1.5662884712219238, "cur_kl_coeff": 0.33750006556510925, "total_loss": 1315.6650390625, "vf_loss": 1315.675048828125, "policy_loss": -0.015536240302026272, "kl": 0.01634875126183033, "vf_explained_var": 0.7238488793373108, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 5791849, "sample_time_ms": 15525.309}, "custom_metrics": {"cost2_min": -141.89176001224936, "system_level_velocity_mean": 8.618803864137826, "outflow_rate_max": 962.5330384003555, "outflow_rate_min": 428.92142060789473, "system_level_velocity_min": 3.718382247968045, "outflow_rate_mean": 738.7073977849773, "cost2_max": -33.663276931546676, "cost2_mean": -91.58470239553868, "cost1_min": 94.86717026646434, "cost1_mean": 228.014922812013, "system_level_velocity_max": 12.551859461602087, "cost1_max": 329.43588620773954}, "episode_len_mean": 700.0, "time_total_s": 1933.2149875164032, "pid": 48556, "episodes_this_iter": 50, "episode_reward_max": 16018.115664753748, "timesteps_since_restore": 5791849, "node_ip": "10.138.0.2", "timestamp": 1556593072, "policy_reward_mean": {}, "episode_reward_mean": 10241.91332006128, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 122154, "time_this_iter_s": 41.19868731498718, "training_iteration": 47, "time_since_restore": 1933.2149875164032, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 4283.404236084383, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f390>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331fc18>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331fc50>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 48, "date": "2019-04-30_02-58-35", "timesteps_total": 5912434, "episodes_total": 2331, "hostname": "flow-main", "info": {"num_steps_trained": 5912434, "grad_time_ms": 25832.64, "load_time_ms": 15.891, "update_time_ms": 11.903, "default": {"entropy": 1.582045555114746, "cur_kl_coeff": 0.33750009536743164, "total_loss": 1341.3680419921875, "vf_loss": 1341.3768310546875, "policy_loss": -0.014060374349355698, "kl": 0.01600254885852337, "vf_explained_var": 0.7295217514038086, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 5912434, "sample_time_ms": 15599.598}, "custom_metrics": {"cost2_min": -141.89176001224936, "system_level_velocity_mean": 8.462834422942281, "outflow_rate_max": 943.3354692515642, "outflow_rate_min": 428.92142060789473, "system_level_velocity_min": 3.718382247968045, "outflow_rate_mean": 724.9429376124067, "cost2_max": -33.663276931546676, "cost2_mean": -90.33485390038697, "cost1_min": 94.86717026646434, "cost1_mean": 223.60360707472088, "system_level_velocity_max": 13.060701571743486, "cost1_max": 340.8893127675653}, "episode_len_mean": 700.0, "time_total_s": 1975.4954035282135, "pid": 48556, "episodes_this_iter": 49, "episode_reward_max": 14513.039591446395, "timesteps_since_restore": 5912434, "node_ip": "10.138.0.2", "timestamp": 1556593115, "policy_reward_mean": {}, "episode_reward_mean": 10169.267290602558, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 120585, "time_this_iter_s": 42.2804160118103, "training_iteration": 48, "time_since_restore": 1975.4954035282135, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 4283.404236084383, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326320>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326630>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326390>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 49, "date": "2019-04-30_02-59-16", "timesteps_total": 6036159, "episodes_total": 2381, "hostname": "flow-main", "info": {"num_steps_trained": 6036159, "grad_time_ms": 25744.288, "load_time_ms": 15.872, "update_time_ms": 11.957, "default": {"entropy": 1.5931816101074219, "cur_kl_coeff": 0.33750009536743164, "total_loss": 1320.3670654296875, "vf_loss": 1320.3759765625, "policy_loss": -0.014685600996017456, "kl": 0.016657285392284393, "vf_explained_var": 0.7865572571754456, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 6036159, "sample_time_ms": 15621.423}, "custom_metrics": {"cost2_min": -137.6795545580506, "system_level_velocity_mean": 8.639786719474149, "outflow_rate_max": 962.751463212275, "outflow_rate_min": 452.16445526176346, "system_level_velocity_min": 4.440379459109513, "outflow_rate_mean": 738.8578445255476, "cost2_max": -36.496764884609114, "cost2_mean": -88.49012354951078, "cost1_min": 117.36104049649875, "cost1_mean": 228.46621028321744, "system_level_velocity_max": 13.060701571743486, "cost1_max": 340.8893127675653}, "episode_len_mean": 700.0, "time_total_s": 2016.8933176994324, "pid": 48556, "episodes_this_iter": 50, "episode_reward_max": 13906.145050106084, "timesteps_since_restore": 6036159, "node_ip": "10.138.0.2", "timestamp": 1556593156, "policy_reward_mean": {}, "episode_reward_mean": 10153.283566658989, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 123725, "time_this_iter_s": 41.39791417121887, "training_iteration": 49, "time_since_restore": 2016.8933176994324, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 6904.951818551692, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326e80>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33262b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33261d0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 50, "date": "2019-04-30_02-59-57", "timesteps_total": 6157237, "episodes_total": 2430, "hostname": "flow-main", "info": {"num_steps_trained": 6157237, "grad_time_ms": 25650.268, "load_time_ms": 15.851, "update_time_ms": 10.733, "default": {"entropy": 1.5861705541610718, "cur_kl_coeff": 0.33750006556510925, "total_loss": 1222.77685546875, "vf_loss": 1222.78662109375, "policy_loss": -0.015243859961628914, "kl": 0.016071466729044914, "vf_explained_var": 0.7589083313941956, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 6157237, "sample_time_ms": 15659.266}, "custom_metrics": {"cost2_min": -144.14738495016735, "system_level_velocity_mean": 8.655371990915604, "outflow_rate_max": 1035.6174175145634, "outflow_rate_min": 430.08606248125494, "system_level_velocity_min": 3.748275218679799, "outflow_rate_mean": 747.0969478431626, "cost2_max": -27.974583777397925, "cost2_mean": -87.67915420356688, "cost1_min": 97.01902746921144, "cost1_mean": 229.19175057051015, "system_level_velocity_max": 12.684755815650052, "cost1_max": 340.77876427792535}, "episode_len_mean": 700.0, "time_total_s": 2058.292334794998, "pid": 48556, "episodes_this_iter": 49, "episode_reward_max": 13814.206388542132, "timesteps_since_restore": 6157237, "node_ip": "10.138.0.2", "timestamp": 1556593197, "policy_reward_mean": {}, "episode_reward_mean": 10184.851166298902, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 121078, "time_this_iter_s": 41.399017095565796, "training_iteration": 50, "time_since_restore": 2058.292334794998, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 5312.839733288011, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33264e0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326b70>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 51, "date": "2019-04-30_03-00-37", "timesteps_total": 6275945, "episodes_total": 2483, "hostname": "flow-main", "info": {"num_steps_trained": 6275945, "grad_time_ms": 25567.013, "load_time_ms": 15.552, "update_time_ms": 10.602, "default": {"entropy": 1.5849056243896484, "cur_kl_coeff": 0.33750006556510925, "total_loss": 1508.5989990234375, "vf_loss": 1508.608642578125, "policy_loss": -0.015546959824860096, "kl": 0.01726389303803444, "vf_explained_var": 0.6847363114356995, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 6275945, "sample_time_ms": 15528.066}, "custom_metrics": {"cost2_min": -158.22564642233215, "system_level_velocity_mean": 8.45315102532824, "outflow_rate_max": 1035.6174175145634, "outflow_rate_min": 430.08606248125494, "system_level_velocity_min": 3.748275218679799, "outflow_rate_mean": 737.3055621884932, "cost2_max": -25.705471947897244, "cost2_mean": -87.26204992081415, "cost1_min": 97.01902746921144, "cost1_mean": 223.78249534908866, "system_level_velocity_max": 11.72492482083703, "cost1_max": 312.32075824628964}, "episode_len_mean": 700.0, "time_total_s": 2098.193281888962, "pid": 48556, "episodes_this_iter": 53, "episode_reward_max": 15114.83656075861, "timesteps_since_restore": 6275945, "node_ip": "10.138.0.2", "timestamp": 1556593237, "policy_reward_mean": {}, "episode_reward_mean": 10237.853495066332, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 118708, "time_this_iter_s": 39.90094709396362, "training_iteration": 51, "time_since_restore": 2098.193281888962, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 4865.338435297442, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332ec18>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e1d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e048>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 52, "date": "2019-04-30_03-01-19", "timesteps_total": 6394235, "episodes_total": 2537, "hostname": "flow-main", "info": {"num_steps_trained": 6394235, "grad_time_ms": 25606.685, "load_time_ms": 14.22, "update_time_ms": 10.672, "default": {"entropy": 1.5837947130203247, "cur_kl_coeff": 0.33750006556510925, "total_loss": 1441.9388427734375, "vf_loss": 1441.9483642578125, "policy_loss": -0.015124980360269547, "kl": 0.016541188582777977, "vf_explained_var": 0.7025905251502991, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 6394235, "sample_time_ms": 15527.651}, "custom_metrics": {"cost2_min": -158.22564642233215, "system_level_velocity_mean": 8.900169581852298, "outflow_rate_max": 958.9565472106095, "outflow_rate_min": 498.9515818302947, "system_level_velocity_min": 4.424182946172351, "outflow_rate_mean": 750.3649322667302, "cost2_max": -25.705471947897244, "cost2_mean": -82.88944720176531, "cost1_min": 116.97792569222061, "cost1_mean": 235.11589818962355, "system_level_velocity_max": 11.787312320396852, "cost1_max": 313.5766069576697}, "episode_len_mean": 700.0, "time_total_s": 2139.9245462417603, "pid": 48556, "episodes_this_iter": 54, "episode_reward_max": 15114.83656075861, "timesteps_since_restore": 6394235, "node_ip": "10.138.0.2", "timestamp": 1556593279, "policy_reward_mean": {}, "episode_reward_mean": 10071.216985603422, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 118290, "time_this_iter_s": 41.73126435279846, "training_iteration": 52, "time_since_restore": 2139.9245462417603, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 4865.338435297442, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331fac8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f860>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f898>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 53, "date": "2019-04-30_03-02-00", "timesteps_total": 6513768, "episodes_total": 2586, "hostname": "flow-main", "info": {"num_steps_trained": 6513768, "grad_time_ms": 25513.375, "load_time_ms": 14.443, "update_time_ms": 10.829, "default": {"entropy": 1.595637559890747, "cur_kl_coeff": 0.33750006556510925, "total_loss": 1323.9571533203125, "vf_loss": 1323.9652099609375, "policy_loss": -0.013593561016023159, "kl": 0.016666006296873093, "vf_explained_var": 0.7014145851135254, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 6513768, "sample_time_ms": 15556.263}, "custom_metrics": {"cost2_min": -125.67061113106935, "system_level_velocity_mean": 9.281375711376578, "outflow_rate_max": 941.4917777522527, "outflow_rate_min": 588.3116658039288, "system_level_velocity_min": 5.104536604812924, "outflow_rate_mean": 762.2511697753549, "cost2_max": -29.28705094497065, "cost2_mean": -77.6299486290351, "cost1_min": 135.62860820867346, "cost1_mean": 245.09292255169467, "system_level_velocity_max": 11.787312320396852, "cost1_max": 314.20049068617107}, "episode_len_mean": 700.0, "time_total_s": 2181.05818939209, "pid": 48556, "episodes_this_iter": 49, "episode_reward_max": 13844.696288596, "timesteps_since_restore": 6513768, "node_ip": "10.138.0.2", "timestamp": 1556593320, "policy_reward_mean": {}, "episode_reward_mean": 9764.816278676124, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 119533, "time_this_iter_s": 41.13364315032959, "training_iteration": 53, "time_since_restore": 2181.05818939209, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 6177.05241478564, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326390>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33264e0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326780>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 54, "date": "2019-04-30_03-02-42", "timesteps_total": 6633986, "episodes_total": 2640, "hostname": "flow-main", "info": {"num_steps_trained": 6633986, "grad_time_ms": 25292.867, "load_time_ms": 14.393, "update_time_ms": 10.697, "default": {"entropy": 1.6113123893737793, "cur_kl_coeff": 0.33750006556510925, "total_loss": 1575.888671875, "vf_loss": 1575.8988037109375, "policy_loss": -0.01607939973473549, "kl": 0.017766073346138, "vf_explained_var": 0.6839951872825623, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 6633986, "sample_time_ms": 15636.05}, "custom_metrics": {"cost2_min": -149.12270255099293, "system_level_velocity_mean": 9.047687045015707, "outflow_rate_max": 945.9635948473285, "outflow_rate_min": 522.2941166639041, "system_level_velocity_min": 5.104536604812924, "outflow_rate_mean": 752.8818386116887, "cost2_max": -33.429974231350855, "cost2_mean": -81.48322253496484, "cost1_min": 135.62860820867346, "cost1_mean": 239.01470252820076, "system_level_velocity_max": 12.589546189120652, "cost1_max": 325.2488325296632}, "episode_len_mean": 700.0, "time_total_s": 2222.8940558433533, "pid": 48556, "episodes_this_iter": 54, "episode_reward_max": 13541.980321226749, "timesteps_since_restore": 6633986, "node_ip": "10.138.0.2", "timestamp": 1556593362, "policy_reward_mean": {}, "episode_reward_mean": 9828.021887275618, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 120218, "time_this_iter_s": 41.83586645126343, "training_iteration": 54, "time_since_restore": 2222.8940558433533, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 5751.064401595914, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e400>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331aba8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332ea20>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 55, "date": "2019-04-30_03-03-20", "timesteps_total": 6751453, "episodes_total": 2688, "hostname": "flow-main", "info": {"num_steps_trained": 6751453, "grad_time_ms": 25179.518, "load_time_ms": 13.481, "update_time_ms": 10.686, "default": {"entropy": 1.6187602281570435, "cur_kl_coeff": 0.33750006556510925, "total_loss": 1359.97314453125, "vf_loss": 1359.982421875, "policy_loss": -0.01476852223277092, "kl": 0.016414161771535873, "vf_explained_var": 0.6581333875656128, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 6751453, "sample_time_ms": 15596.699}, "custom_metrics": {"cost2_min": -149.12270255099293, "system_level_velocity_mean": 8.93047440401621, "outflow_rate_max": 945.9635948473285, "outflow_rate_min": 522.2941166639041, "system_level_velocity_min": 5.054016371080796, "outflow_rate_mean": 749.1106334449787, "cost2_max": -32.673421624229384, "cost2_mean": -80.39910935359796, "cost1_min": 130.82775284582982, "cost1_mean": 235.39568303178464, "system_level_velocity_max": 12.589546189120652, "cost1_max": 325.2488325296632}, "episode_len_mean": 700.0, "time_total_s": 2260.8994314670563, "pid": 48556, "episodes_this_iter": 48, "episode_reward_max": 13541.980321226749, "timesteps_since_restore": 6751453, "node_ip": "10.138.0.2", "timestamp": 1556593400, "policy_reward_mean": {}, "episode_reward_mean": 9757.641151385642, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 117467, "time_this_iter_s": 38.005375623703, "training_iteration": 55, "time_since_restore": 2260.8994314670563, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 5482.173848799684, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33264a8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326438>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326b70>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 56, "date": "2019-04-30_03-04-00", "timesteps_total": 6870539, "episodes_total": 2744, "hostname": "flow-main", "info": {"num_steps_trained": 6870539, "grad_time_ms": 24978.788, "load_time_ms": 12.957, "update_time_ms": 10.847, "default": {"entropy": 1.6019352674484253, "cur_kl_coeff": 0.33750006556510925, "total_loss": 1538.322021484375, "vf_loss": 1538.3316650390625, "policy_loss": -0.01558772288262844, "kl": 0.017752643674612045, "vf_explained_var": 0.6594544649124146, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 6870539, "sample_time_ms": 15660.349}, "custom_metrics": {"cost2_min": -168.22080231705576, "system_level_velocity_mean": 9.044965720554751, "outflow_rate_max": 973.6899088828208, "outflow_rate_min": 566.462404921628, "system_level_velocity_min": 5.054016371080796, "outflow_rate_mean": 770.2825802422016, "cost2_max": -32.12712166499456, "cost2_mean": -81.71757961990123, "cost1_min": 130.82775284582982, "cost1_mean": 238.94646965021485, "system_level_velocity_max": 13.687846280035329, "cost1_max": 356.16284127932977}, "episode_len_mean": 700.0, "time_total_s": 2300.856303215027, "pid": 48556, "episodes_this_iter": 56, "episode_reward_max": 14401.806082201378, "timesteps_since_restore": 6870539, "node_ip": "10.138.0.2", "timestamp": 1556593440, "policy_reward_mean": {}, "episode_reward_mean": 9899.911737412014, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 119086, "time_this_iter_s": 39.95687174797058, "training_iteration": 56, "time_since_restore": 2300.856303215027, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 344.03476832741904, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326128>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326588>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326630>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 57, "date": "2019-04-30_03-04-42", "timesteps_total": 6989921, "episodes_total": 2798, "hostname": "flow-main", "info": {"num_steps_trained": 6989921, "grad_time_ms": 24973.731, "load_time_ms": 13.012, "update_time_ms": 10.971, "default": {"entropy": 1.6327601671218872, "cur_kl_coeff": 0.33750009536743164, "total_loss": 1511.0560302734375, "vf_loss": 1511.065185546875, "policy_loss": -0.015207557007670403, "kl": 0.017900904640555382, "vf_explained_var": 0.6790452003479004, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 6989921, "sample_time_ms": 15702.735}, "custom_metrics": {"cost2_min": -157.6889107908247, "system_level_velocity_mean": 9.195226009606674, "outflow_rate_max": 946.7177565799252, "outflow_rate_min": 510.492346311543, "system_level_velocity_min": 5.665378094414265, "outflow_rate_mean": 759.2717472413243, "cost2_max": -15.712330692161323, "cost2_mean": -79.79577030227671, "cost1_min": 28.1411481789771, "cost1_mean": 238.70154680102624, "system_level_velocity_max": 17.002240701903794, "cost1_max": 330.2884757442767}, "episode_len_mean": 693.47, "time_total_s": 2342.4241230487823, "pid": 48556, "episodes_this_iter": 54, "episode_reward_max": 14401.806082201378, "timesteps_since_restore": 6989921, "node_ip": "10.138.0.2", "timestamp": 1556593482, "policy_reward_mean": {}, "episode_reward_mean": 9701.248664259962, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 119382, "time_this_iter_s": 41.56781983375549, "training_iteration": 57, "time_since_restore": 2342.4241230487823, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 344.03476832741904, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331ab38>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331a4a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331a0f0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 58, "date": "2019-04-30_03-05-22", "timesteps_total": 7111877, "episodes_total": 2847, "hostname": "flow-main", "info": {"num_steps_trained": 7111877, "grad_time_ms": 24755.739, "load_time_ms": 14.193, "update_time_ms": 11.084, "default": {"entropy": 1.6397879123687744, "cur_kl_coeff": 0.33750006556510925, "total_loss": 1421.7576904296875, "vf_loss": 1421.7674560546875, "policy_loss": -0.015764039009809494, "kl": 0.01787995547056198, "vf_explained_var": 0.6931043863296509, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 7111877, "sample_time_ms": 15662.819}, "custom_metrics": {"cost2_min": -161.3952038728304, "system_level_velocity_mean": 9.156240766534673, "outflow_rate_max": 1009.6538810369477, "outflow_rate_min": 510.492346311543, "system_level_velocity_min": 5.665378094414265, "outflow_rate_mean": 749.1683902264481, "cost2_max": -15.712330692161323, "cost2_mean": -80.24897998957569, "cost1_min": 28.1411481789771, "cost1_mean": 237.3520037038451, "system_level_velocity_max": 17.002240701903794, "cost1_max": 336.60270679221367}, "episode_len_mean": 693.47, "time_total_s": 2382.1209433078766, "pid": 48556, "episodes_this_iter": 49, "episode_reward_max": 15681.15390650642, "timesteps_since_restore": 7111877, "node_ip": "10.138.0.2", "timestamp": 1556593522, "policy_reward_mean": {}, "episode_reward_mean": 9717.904568731487, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 121956, "time_this_iter_s": 39.69682025909424, "training_iteration": 58, "time_since_restore": 2382.1209433078766, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 5922.691742621838, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33265f8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326320>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326240>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 59, "date": "2019-04-30_03-06-03", "timesteps_total": 7231154, "episodes_total": 2904, "hostname": "flow-main", "info": {"num_steps_trained": 7231154, "grad_time_ms": 24700.472, "load_time_ms": 14.201, "update_time_ms": 11.08, "default": {"entropy": 1.6380765438079834, "cur_kl_coeff": 0.33750009536743164, "total_loss": 1648.628662109375, "vf_loss": 1648.6375732421875, "policy_loss": -0.015136870555579662, "kl": 0.017699135467410088, "vf_explained_var": 0.6360194087028503, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 7231154, "sample_time_ms": 15676.078}, "custom_metrics": {"cost2_min": -164.83809683499854, "system_level_velocity_mean": 8.8132284650416, "outflow_rate_max": 1009.6538810369477, "outflow_rate_min": 374.7840928271882, "system_level_velocity_min": 4.030643497498238, "outflow_rate_mean": 742.9393865767776, "cost2_max": -30.20005970474699, "cost2_mean": -85.79751578487569, "cost1_min": 105.79826725746857, "cost1_mean": 232.59128194745387, "system_level_velocity_max": 12.617694399702554, "cost1_max": 336.60270679221367}, "episode_len_mean": 700.0, "time_total_s": 2423.0784952640533, "pid": 48556, "episodes_this_iter": 57, "episode_reward_max": 15681.15390650642, "timesteps_since_restore": 7231154, "node_ip": "10.138.0.2", "timestamp": 1556593563, "policy_reward_mean": {}, "episode_reward_mean": 10035.759359420254, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 119277, "time_this_iter_s": 40.95755195617676, "training_iteration": 59, "time_since_restore": 2423.0784952640533, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 5271.370169497318, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331a630>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331a8d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331a0f0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 60, "date": "2019-04-30_03-06-43", "timesteps_total": 7350158, "episodes_total": 2951, "hostname": "flow-main", "info": {"num_steps_trained": 7350158, "grad_time_ms": 24689.218, "load_time_ms": 13.89, "update_time_ms": 11.196, "default": {"entropy": 1.6471924781799316, "cur_kl_coeff": 0.33750006556510925, "total_loss": 1325.07080078125, "vf_loss": 1325.0804443359375, "policy_loss": -0.015444464981555939, "kl": 0.017219088971614838, "vf_explained_var": 0.669759213924408, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 7350158, "sample_time_ms": 15596.043}, "custom_metrics": {"cost2_min": -162.860748170958, "system_level_velocity_mean": 9.242099681855452, "outflow_rate_max": 936.8321182880104, "outflow_rate_min": 374.7840928271882, "system_level_velocity_min": 4.030643497498238, "outflow_rate_mean": 752.0434046530085, "cost2_max": -27.09747421005358, "cost2_mean": -81.4418216817584, "cost1_min": 105.79826725746857, "cost1_mean": 243.5184104150072, "system_level_velocity_max": 12.18170469224407, "cost1_max": 322.4354619288657}, "episode_len_mean": 700.0, "time_total_s": 2463.572781562805, "pid": 48556, "episodes_this_iter": 47, "episode_reward_max": 14604.069624182104, "timesteps_since_restore": 7350158, "node_ip": "10.138.0.2", "timestamp": 1556593603, "policy_reward_mean": {}, "episode_reward_mean": 9701.379292868338, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 119004, "time_this_iter_s": 40.49428629875183, "training_iteration": 60, "time_since_restore": 2463.572781562805, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 5196.630127675842, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33263c8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33266d8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326588>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 61, "date": "2019-04-30_03-07-25", "timesteps_total": 7469797, "episodes_total": 3005, "hostname": "flow-main", "info": {"num_steps_trained": 7469797, "grad_time_ms": 24758.106, "load_time_ms": 13.881, "update_time_ms": 11.166, "default": {"entropy": 1.6490883827209473, "cur_kl_coeff": 0.33750009536743164, "total_loss": 1502.7919921875, "vf_loss": 1502.80078125, "policy_loss": -0.014389515854418278, "kl": 0.01687430404126644, "vf_explained_var": 0.6485483050346375, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 7469797, "sample_time_ms": 15729.744}, "custom_metrics": {"cost2_min": -162.860748170958, "system_level_velocity_mean": 9.336116654817182, "outflow_rate_max": 936.8321182880104, "outflow_rate_min": 335.5821969352195, "system_level_velocity_min": 3.6189695024601876, "outflow_rate_mean": 744.4145408961734, "cost2_max": -20.474543704114012, "cost2_mean": -78.90245218030007, "cost1_min": 94.98085301507649, "cost1_mean": 245.68626865990416, "system_level_velocity_max": 13.135016129417203, "cost1_max": 336.9278583708998}, "episode_len_mean": 700.0, "time_total_s": 2505.5304832458496, "pid": 48556, "episodes_this_iter": 54, "episode_reward_max": 14690.588398251026, "timesteps_since_restore": 7469797, "node_ip": "10.138.0.2", "timestamp": 1556593645, "policy_reward_mean": {}, "episode_reward_mean": 9456.53487775569, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 119639, "time_this_iter_s": 41.957701683044434, "training_iteration": 61, "time_since_restore": 2505.5304832458496, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 5129.852233669805, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f860>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331fa58>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331ff98>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 62, "date": "2019-04-30_03-08-07", "timesteps_total": 7589333, "episodes_total": 3056, "hostname": "flow-main", "info": {"num_steps_trained": 7589333, "grad_time_ms": 24700.923, "load_time_ms": 14.833, "update_time_ms": 11.201, "default": {"entropy": 1.6491506099700928, "cur_kl_coeff": 0.33750006556510925, "total_loss": 1300.6436767578125, "vf_loss": 1300.653076171875, "policy_loss": -0.015460268594324589, "kl": 0.017440857365727425, "vf_explained_var": 0.6830288767814636, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 7589333, "sample_time_ms": 15789.362}, "custom_metrics": {"cost2_min": -144.70207600368488, "system_level_velocity_mean": 8.753548782375674, "outflow_rate_max": 930.6532437462492, "outflow_rate_min": 335.5821969352195, "system_level_velocity_min": 3.6189695024601876, "outflow_rate_mean": 707.2428735276158, "cost2_max": -20.474543704114012, "cost2_mean": -74.47248040288211, "cost1_min": 94.98085301507649, "cost1_mean": 229.63465230339443, "system_level_velocity_max": 13.135016129417203, "cost1_max": 336.9278583708998}, "episode_len_mean": 700.0, "time_total_s": 2547.3281242847443, "pid": 48556, "episodes_this_iter": 51, "episode_reward_max": 15180.14058293182, "timesteps_since_restore": 7589333, "node_ip": "10.138.0.2", "timestamp": 1556593687, "policy_reward_mean": {}, "episode_reward_mean": 9180.375192035033, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 119536, "time_this_iter_s": 41.79764103889465, "training_iteration": 62, "time_since_restore": 2547.3281242847443, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 5129.852233669805, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f978>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f240>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331a4a8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 63, "date": "2019-04-30_03-08-50", "timesteps_total": 7705535, "episodes_total": 3114, "hostname": "flow-main", "info": {"num_steps_trained": 7705535, "grad_time_ms": 24861.957, "load_time_ms": 13.535, "update_time_ms": 11.088, "default": {"entropy": 1.703710675239563, "cur_kl_coeff": 0.33750006556510925, "total_loss": 1492.4666748046875, "vf_loss": 1492.4764404296875, "policy_loss": -0.01550301257520914, "kl": 0.016994541510939598, "vf_explained_var": 0.6565946936607361, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 7705535, "sample_time_ms": 15759.233}, "custom_metrics": {"cost2_min": -144.70207600368488, "system_level_velocity_mean": 8.681167791945875, "outflow_rate_max": 926.7380659627996, "outflow_rate_min": 425.7943446062851, "system_level_velocity_min": 4.965322075189745, "outflow_rate_mean": 702.7436658429211, "cost2_max": -20.8184754273569, "cost2_mean": -73.68882039453965, "cost1_min": 129.19219328613391, "cost1_mean": 227.42830376031534, "system_level_velocity_max": 12.080610577358085, "cost1_max": 309.11199889178187}, "episode_len_mean": 700.0, "time_total_s": 2589.7542033195496, "pid": 48556, "episodes_this_iter": 58, "episode_reward_max": 15180.14058293182, "timesteps_since_restore": 7705535, "node_ip": "10.138.0.2", "timestamp": 1556593730, "policy_reward_mean": {}, "episode_reward_mean": 9053.16019560584, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 116202, "time_this_iter_s": 42.4260790348053, "training_iteration": 63, "time_since_restore": 2589.7542033195496, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 4255.79360020812, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326a20>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326ef0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326588>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 64, "date": "2019-04-30_03-09-29", "timesteps_total": 7823893, "episodes_total": 3168, "hostname": "flow-main", "info": {"num_steps_trained": 7823893, "grad_time_ms": 24718.733, "load_time_ms": 13.531, "update_time_ms": 11.176, "default": {"entropy": 1.7007631063461304, "cur_kl_coeff": 0.33750006556510925, "total_loss": 1473.158203125, "vf_loss": 1473.1673583984375, "policy_loss": -0.015070279128849506, "kl": 0.01731855608522892, "vf_explained_var": 0.6353306770324707, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 7823893, "sample_time_ms": 15670.161}, "custom_metrics": {"cost2_min": -160.62130962580233, "system_level_velocity_mean": 8.799186408840027, "outflow_rate_max": 943.9799148957513, "outflow_rate_min": 425.7943446062851, "system_level_velocity_min": 4.887622769016229, "outflow_rate_mean": 708.1889914175822, "cost2_max": -20.8184754273569, "cost2_mean": -72.43719173551014, "cost1_min": 128.16642311585943, "cost1_mean": 230.654356192213, "system_level_velocity_max": 13.133123724077844, "cost1_max": 338.5886930405885}, "episode_len_mean": 700.0, "time_total_s": 2629.232850551605, "pid": 48556, "episodes_this_iter": 54, "episode_reward_max": 14385.743004844971, "timesteps_since_restore": 7823893, "node_ip": "10.138.0.2", "timestamp": 1556593769, "policy_reward_mean": {}, "episode_reward_mean": 8849.64046460089, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 118358, "time_this_iter_s": 39.478647232055664, "training_iteration": 64, "time_since_restore": 2629.232850551605, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 4255.79360020812, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331ff98>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f860>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332eef0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 65, "date": "2019-04-30_03-10-09", "timesteps_total": 7939475, "episodes_total": 3224, "hostname": "flow-main", "info": {"num_steps_trained": 7939475, "grad_time_ms": 24818.031, "load_time_ms": 13.514, "update_time_ms": 11.201, "default": {"entropy": 1.7237608432769775, "cur_kl_coeff": 0.33750006556510925, "total_loss": 1464.4046630859375, "vf_loss": 1464.4146728515625, "policy_loss": -0.01593133434653282, "kl": 0.01776372641324997, "vf_explained_var": 0.6478385329246521, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 7939475, "sample_time_ms": 15752.793}, "custom_metrics": {"cost2_min": -160.62130962580233, "system_level_velocity_mean": 9.003385148096163, "outflow_rate_max": 943.9799148957513, "outflow_rate_min": 409.37905241001454, "system_level_velocity_min": 4.604016906968631, "outflow_rate_mean": 716.4886878225807, "cost2_max": -22.67921141346178, "cost2_mean": -70.91019923300463, "cost1_min": 119.69494451038773, "cost1_mean": 235.76413483242192, "system_level_velocity_max": 13.133123724077844, "cost1_max": 338.5886930405885}, "episode_len_mean": 700.0, "time_total_s": 2669.0484960079193, "pid": 48556, "episodes_this_iter": 56, "episode_reward_max": 14189.411050203935, "timesteps_since_restore": 7939475, "node_ip": "10.138.0.2", "timestamp": 1556593809, "policy_reward_mean": {}, "episode_reward_mean": 8820.19807269519, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 115582, "time_this_iter_s": 39.81564545631409, "training_iteration": 65, "time_since_restore": 2669.0484960079193, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3196.14599926724, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332eac8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331a8d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e550>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 66, "date": "2019-04-30_03-10-51", "timesteps_total": 8060724, "episodes_total": 3280, "hostname": "flow-main", "info": {"num_steps_trained": 8060724, "grad_time_ms": 24988.476, "load_time_ms": 13.637, "update_time_ms": 11.012, "default": {"entropy": 1.6998463869094849, "cur_kl_coeff": 0.33750006556510925, "total_loss": 1422.992919921875, "vf_loss": 1423.0023193359375, "policy_loss": -0.015249977819621563, "kl": 0.017007282003760338, "vf_explained_var": 0.6116572022438049, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 8060724, "sample_time_ms": 15763.279}, "custom_metrics": {"cost2_min": -169.11997490245358, "system_level_velocity_mean": 9.251980262369502, "outflow_rate_max": 967.4021559919012, "outflow_rate_min": 409.37905241001454, "system_level_velocity_min": 4.943297597984097, "outflow_rate_mean": 721.7182372662455, "cost2_max": -14.1272246434894, "cost2_mean": -70.36239073047619, "cost1_min": 128.1795767030168, "cost1_mean": 241.928102137203, "system_level_velocity_max": 12.630466408203327, "cost1_max": 334.53739783900505}, "episode_len_mean": 700.0, "time_total_s": 2710.8199248313904, "pid": 48556, "episodes_this_iter": 56, "episode_reward_max": 14340.845878681183, "timesteps_since_restore": 8060724, "node_ip": "10.138.0.2", "timestamp": 1556593851, "policy_reward_mean": {}, "episode_reward_mean": 8824.361181166387, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 121249, "time_this_iter_s": 41.77142882347107, "training_iteration": 66, "time_since_restore": 2710.8199248313904, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 326.37304085781267, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e748>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332efd0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 67, "date": "2019-04-30_03-11-33", "timesteps_total": 8181100, "episodes_total": 3329, "hostname": "flow-main", "info": {"num_steps_trained": 8181100, "grad_time_ms": 25069.906, "load_time_ms": 14.744, "update_time_ms": 11.025, "default": {"entropy": 1.7071948051452637, "cur_kl_coeff": 0.33750006556510925, "total_loss": 1409.102294921875, "vf_loss": 1409.1119384765625, "policy_loss": -0.01572011224925518, "kl": 0.017769156023859978, "vf_explained_var": 0.6063700318336487, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 8181100, "sample_time_ms": 15689.616}, "custom_metrics": {"cost2_min": -169.11997490245358, "system_level_velocity_mean": 9.194976559059347, "outflow_rate_max": 967.4021559919012, "outflow_rate_min": 422.3941408806781, "system_level_velocity_min": 4.943297597984097, "outflow_rate_mean": 723.0336650713767, "cost2_max": -14.1272246434894, "cost2_mean": -73.89592144287181, "cost1_min": 27.49237227002871, "cost1_mean": 236.5091468379834, "system_level_velocity_max": 16.876923539771465, "cost1_max": 334.53739783900505}, "episode_len_mean": 693.47, "time_total_s": 2752.500409603119, "pid": 48556, "episodes_this_iter": 49, "episode_reward_max": 14812.769410510215, "timesteps_since_restore": 8181100, "node_ip": "10.138.0.2", "timestamp": 1556593893, "policy_reward_mean": {}, "episode_reward_mean": 9030.850322954677, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 120376, "time_this_iter_s": 41.680484771728516, "training_iteration": 67, "time_since_restore": 2752.500409603119, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 326.37304085781267, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e278>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e0f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e940>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 68, "date": "2019-04-30_03-12-12", "timesteps_total": 8299460, "episodes_total": 3383, "hostname": "flow-main", "info": {"num_steps_trained": 8299460, "grad_time_ms": 25073.084, "load_time_ms": 14.029, "update_time_ms": 10.91, "default": {"entropy": 1.734055519104004, "cur_kl_coeff": 0.33750006556510925, "total_loss": 1503.507080078125, "vf_loss": 1503.5166015625, "policy_loss": -0.015696775168180466, "kl": 0.01774796098470688, "vf_explained_var": 0.5726968050003052, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 8299460, "sample_time_ms": 15684.609}, "custom_metrics": {"cost2_min": -163.94948184139568, "system_level_velocity_mean": 9.072443566994231, "outflow_rate_max": 976.6374182709014, "outflow_rate_min": 458.9745863549364, "system_level_velocity_min": 4.840329590335685, "outflow_rate_mean": 730.3350115024191, "cost2_max": -14.218407426740688, "cost2_mean": -78.4197714570482, "cost1_min": 27.49237227002871, "cost1_mean": 233.78331411725242, "system_level_velocity_max": 16.876923539771465, "cost1_max": 345.6458472947199}, "episode_len_mean": 693.47, "time_total_s": 2792.159046649933, "pid": 48556, "episodes_this_iter": 54, "episode_reward_max": 13934.582453922107, "timesteps_since_restore": 8299460, "node_ip": "10.138.0.2", "timestamp": 1556593932, "policy_reward_mean": {}, "episode_reward_mean": 9262.92851426592, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 118360, "time_this_iter_s": 39.658637046813965, "training_iteration": 68, "time_since_restore": 2792.159046649933, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 4200.39851163502, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331fb00>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f978>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f0b8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 69, "date": "2019-04-30_03-12-54", "timesteps_total": 8413728, "episodes_total": 3437, "hostname": "flow-main", "info": {"num_steps_trained": 8413728, "grad_time_ms": 25031.653, "load_time_ms": 13.606, "update_time_ms": 10.764, "default": {"entropy": 1.7516828775405884, "cur_kl_coeff": 0.33750006556510925, "total_loss": 1432.9141845703125, "vf_loss": 1432.924560546875, "policy_loss": -0.01652117818593979, "kl": 0.018269985914230347, "vf_explained_var": 0.6190443634986877, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 8413728, "sample_time_ms": 15730.229}, "custom_metrics": {"cost2_min": -163.94948184139568, "system_level_velocity_mean": 9.09884062061366, "outflow_rate_max": 976.6374182709014, "outflow_rate_min": 458.9745863549364, "system_level_velocity_min": 4.840329590335685, "outflow_rate_mean": 725.3883139011425, "cost2_max": -20.5918676539481, "cost2_mean": -77.73462981098527, "cost1_min": 126.75149845755999, "cost1_mean": 238.1011634522132, "system_level_velocity_max": 12.845857589057259, "cost1_max": 345.6458472947199}, "episode_len_mean": 700.0, "time_total_s": 2833.180395126343, "pid": 48556, "episodes_this_iter": 54, "episode_reward_max": 13934.582453922107, "timesteps_since_restore": 8413728, "node_ip": "10.138.0.2", "timestamp": 1556593974, "policy_reward_mean": {}, "episode_reward_mean": 9138.479549339178, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 114268, "time_this_iter_s": 41.02134847640991, "training_iteration": 69, "time_since_restore": 2833.180395126343, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 4200.39851163502, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331a710>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331a4a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331aef0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 70, "date": "2019-04-30_03-13-33", "timesteps_total": 8530962, "episodes_total": 3496, "hostname": "flow-main", "info": {"num_steps_trained": 8530962, "grad_time_ms": 24895.695, "load_time_ms": 13.833, "update_time_ms": 10.705, "default": {"entropy": 1.7730638980865479, "cur_kl_coeff": 0.33750006556510925, "total_loss": 1387.30517578125, "vf_loss": 1387.3157958984375, "policy_loss": -0.016999058425426483, "kl": 0.018705924972891808, "vf_explained_var": 0.6091517806053162, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 8530962, "sample_time_ms": 15776.152}, "custom_metrics": {"cost2_min": -141.38341138019246, "system_level_velocity_mean": 9.109995680924131, "outflow_rate_max": 906.7949586002417, "outflow_rate_min": 461.80075078446714, "system_level_velocity_min": 5.717812313690038, "outflow_rate_mean": 706.4208411748295, "cost2_max": -20.5918676539481, "cost2_mean": -67.31413269951625, "cost1_min": 148.04119946343926, "cost1_mean": 237.33620251416357, "system_level_velocity_max": 12.087170539908797, "cost1_max": 315.2037747715981}, "episode_len_mean": 700.0, "time_total_s": 2872.7675161361694, "pid": 48556, "episodes_this_iter": 59, "episode_reward_max": 13735.707072403105, "timesteps_since_restore": 8530962, "node_ip": "10.138.0.2", "timestamp": 1556594013, "policy_reward_mean": {}, "episode_reward_mean": 8379.832042968914, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 117234, "time_this_iter_s": 39.58712100982666, "training_iteration": 70, "time_since_restore": 2872.7675161361694, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 4513.97877856658, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331fb70>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f438>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f518>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 71, "date": "2019-04-30_03-14-14", "timesteps_total": 8647985, "episodes_total": 3548, "hostname": "flow-main", "info": {"num_steps_trained": 8647985, "grad_time_ms": 24881.066, "load_time_ms": 13.947, "update_time_ms": 10.818, "default": {"entropy": 1.7465111017227173, "cur_kl_coeff": 0.33750006556510925, "total_loss": 1430.1224365234375, "vf_loss": 1430.1318359375, "policy_loss": -0.015538270585238934, "kl": 0.01798129267990589, "vf_explained_var": 0.6585277318954468, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 8647985, "sample_time_ms": 15697.004}, "custom_metrics": {"cost2_min": -148.2394121899343, "system_level_velocity_mean": 9.014595117988282, "outflow_rate_max": 965.0159290168842, "outflow_rate_min": 435.1322432519003, "system_level_velocity_min": 5.650991193639697, "outflow_rate_mean": 711.1048523316894, "cost2_max": -20.651089059298783, "cost2_mean": -69.53168490457178, "cost1_min": 147.81561466700052, "cost1_mean": 235.66018416923347, "system_level_velocity_max": 12.087170539908797, "cost1_max": 315.2037747715981}, "episode_len_mean": 700.0, "time_total_s": 2913.7834515571594, "pid": 48556, "episodes_this_iter": 52, "episode_reward_max": 13264.888391054521, "timesteps_since_restore": 8647985, "node_ip": "10.138.0.2", "timestamp": 1556594054, "policy_reward_mean": {}, "episode_reward_mean": 8597.985077616726, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 117023, "time_this_iter_s": 41.01593542098999, "training_iteration": 71, "time_since_restore": 2913.7834515571594, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 4374.465206365348, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33264e0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326c88>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33111d0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 72, "date": "2019-04-30_03-14-55", "timesteps_total": 8764691, "episodes_total": 3607, "hostname": "flow-main", "info": {"num_steps_trained": 8764691, "grad_time_ms": 24832.17, "load_time_ms": 13.133, "update_time_ms": 10.582, "default": {"entropy": 1.7794992923736572, "cur_kl_coeff": 0.33750009536743164, "total_loss": 1484.097412109375, "vf_loss": 1484.1075439453125, "policy_loss": -0.01598096825182438, "kl": 0.018039105460047722, "vf_explained_var": 0.6230781078338623, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 8764691, "sample_time_ms": 15648.268}, "custom_metrics": {"cost2_min": -148.2394121899343, "system_level_velocity_mean": 9.046037081684121, "outflow_rate_max": 965.0159290168842, "outflow_rate_min": 435.1322432519003, "system_level_velocity_min": 5.650991193639697, "outflow_rate_mean": 723.3574867614265, "cost2_max": -20.54070800925067, "cost2_mean": -73.54852819611673, "cost1_min": 147.81561466700052, "cost1_mean": 236.91953033555896, "system_level_velocity_max": 12.330094604225946, "cost1_max": 317.46993419772883}, "episode_len_mean": 700.0, "time_total_s": 2954.6020455360413, "pid": 48556, "episodes_this_iter": 59, "episode_reward_max": 13264.888391054521, "timesteps_since_restore": 8764691, "node_ip": "10.138.0.2", "timestamp": 1556594095, "policy_reward_mean": {}, "episode_reward_mean": 9075.052821181207, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 116706, "time_this_iter_s": 40.818593978881836, "training_iteration": 72, "time_since_restore": 2954.6020455360413, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 4079.8344410032933, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3340e10>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331acc0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332ee10>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 73, "date": "2019-04-30_03-15-33", "timesteps_total": 8878143, "episodes_total": 3662, "hostname": "flow-main", "info": {"num_steps_trained": 8878143, "grad_time_ms": 24487.524, "load_time_ms": 13.118, "update_time_ms": 10.788, "default": {"entropy": 1.78459632396698, "cur_kl_coeff": 0.33750006556510925, "total_loss": 1369.0677490234375, "vf_loss": 1369.077880859375, "policy_loss": -0.016324760392308235, "kl": 0.018458016216754913, "vf_explained_var": 0.6033260226249695, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 8878143, "sample_time_ms": 15550.244}, "custom_metrics": {"cost2_min": -135.91709224521853, "system_level_velocity_mean": 9.139287103102907, "outflow_rate_max": 916.4424430270382, "outflow_rate_min": 419.16774220088126, "system_level_velocity_min": 5.508980057826088, "outflow_rate_mean": 710.5312611878776, "cost2_max": -19.046570096744468, "cost2_mean": -67.79195087109197, "cost1_min": 141.25157786663755, "cost1_mean": 238.1864733941649, "system_level_velocity_max": 12.660144402346429, "cost1_max": 321.5570859808421}, "episode_len_mean": 700.0, "time_total_s": 2992.5955743789673, "pid": 48556, "episodes_this_iter": 55, "episode_reward_max": 14056.36800820899, "timesteps_since_restore": 8878143, "node_ip": "10.138.0.2", "timestamp": 1556594133, "policy_reward_mean": {}, "episode_reward_mean": 8591.383559110227, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 113452, "time_this_iter_s": 37.993528842926025, "training_iteration": 73, "time_since_restore": 2992.5955743789673, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3764.1270846195275, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e550>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f438>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332ee48>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 74, "date": "2019-04-30_03-16-15", "timesteps_total": 8997119, "episodes_total": 3717, "hostname": "flow-main", "info": {"num_steps_trained": 8997119, "grad_time_ms": 24655.741, "load_time_ms": 14.134, "update_time_ms": 10.816, "default": {"entropy": 1.7851375341415405, "cur_kl_coeff": 0.33750006556510925, "total_loss": 1520.7545166015625, "vf_loss": 1520.764404296875, "policy_loss": -0.015903383493423462, "kl": 0.018305068835616112, "vf_explained_var": 0.5806950330734253, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 8997119, "sample_time_ms": 15590.693}, "custom_metrics": {"cost2_min": -139.10535281727968, "system_level_velocity_mean": 9.106891980236641, "outflow_rate_max": 931.8239157760328, "outflow_rate_min": 419.16774220088126, "system_level_velocity_min": 5.508980057826088, "outflow_rate_mean": 705.9182386839434, "cost2_max": -13.916283341104815, "cost2_mean": -67.76207813275201, "cost1_min": 141.25157786663755, "cost1_mean": 237.52710969696545, "system_level_velocity_max": 12.660144402346429, "cost1_max": 326.3580194573416}, "episode_len_mean": 700.0, "time_total_s": 3034.1974568367004, "pid": 48556, "episodes_this_iter": 55, "episode_reward_max": 14056.36800820899, "timesteps_since_restore": 8997119, "node_ip": "10.138.0.2", "timestamp": 1556594175, "policy_reward_mean": {}, "episode_reward_mean": 8465.991058887137, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 118976, "time_this_iter_s": 41.601882457733154, "training_iteration": 74, "time_since_restore": 3034.1974568367004, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3764.1270846195275, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332efd0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332eef0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e748>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 75, "date": "2019-04-30_03-16-56", "timesteps_total": 9113122, "episodes_total": 3775, "hostname": "flow-main", "info": {"num_steps_trained": 9113122, "grad_time_ms": 24784.992, "load_time_ms": 14.268, "update_time_ms": 10.694, "default": {"entropy": 1.8034896850585938, "cur_kl_coeff": 0.33750009536743164, "total_loss": 1551.4022216796875, "vf_loss": 1551.4129638671875, "policy_loss": -0.017393438145518303, "kl": 0.01987162046134472, "vf_explained_var": 0.616104781627655, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 9113122, "sample_time_ms": 15582.523}, "custom_metrics": {"cost2_min": -139.10535281727968, "system_level_velocity_mean": 9.277537820151316, "outflow_rate_max": 931.8239157760328, "outflow_rate_min": 451.56995764442144, "system_level_velocity_min": 4.64023100961857, "outflow_rate_mean": 709.6594327187813, "cost2_max": -13.916283341104815, "cost2_mean": -66.51258796647632, "cost1_min": 119.780676743702, "cost1_mean": 241.71395307070858, "system_level_velocity_max": 12.959615331668052, "cost1_max": 342.9081802224707}, "episode_len_mean": 700.0, "time_total_s": 3075.2073912620544, "pid": 48556, "episodes_this_iter": 58, "episode_reward_max": 13622.205810848372, "timesteps_since_restore": 9113122, "node_ip": "10.138.0.2", "timestamp": 1556594216, "policy_reward_mean": {}, "episode_reward_mean": 8529.493084055739, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 116003, "time_this_iter_s": 41.009934425354004, "training_iteration": 75, "time_since_restore": 3075.2073912620544, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3992.339871522768, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f0f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326c50>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f7b8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 76, "date": "2019-04-30_03-17-38", "timesteps_total": 9229556, "episodes_total": 3829, "hostname": "flow-main", "info": {"num_steps_trained": 9229556, "grad_time_ms": 24806.596, "load_time_ms": 14.285, "update_time_ms": 10.788, "default": {"entropy": 1.7773915529251099, "cur_kl_coeff": 0.33750003576278687, "total_loss": 1485.791015625, "vf_loss": 1485.8009033203125, "policy_loss": -0.016606556251645088, "kl": 0.01971738040447235, "vf_explained_var": 0.6213394999504089, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 9229556, "sample_time_ms": 15535.3}, "custom_metrics": {"cost2_min": -144.84903777759928, "system_level_velocity_mean": 9.251214244992116, "outflow_rate_max": 936.6569545847797, "outflow_rate_min": 451.56995764442144, "system_level_velocity_min": 4.64023100961857, "outflow_rate_mean": 712.3503289265982, "cost2_max": -19.197586910099353, "cost2_mean": -70.30709896236027, "cost1_min": 119.780676743702, "cost1_mean": 240.1480254759745, "system_level_velocity_max": 14.946400779412736, "cost1_max": 382.66982939219565}, "episode_len_mean": 697.53, "time_total_s": 3116.701379776001, "pid": 48556, "episodes_this_iter": 54, "episode_reward_max": 13689.284769624688, "timesteps_since_restore": 9229556, "node_ip": "10.138.0.2", "timestamp": 1556594258, "policy_reward_mean": {}, "episode_reward_mean": 8781.018877180208, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 116434, "time_this_iter_s": 41.49398851394653, "training_iteration": 76, "time_since_restore": 3116.701379776001, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3414.834353732554, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e3c8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e630>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e860>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 77, "date": "2019-04-30_03-18-20", "timesteps_total": 9346395, "episodes_total": 3887, "hostname": "flow-main", "info": {"num_steps_trained": 9346395, "grad_time_ms": 24715.039, "load_time_ms": 13.325, "update_time_ms": 10.719, "default": {"entropy": 1.7737289667129517, "cur_kl_coeff": 0.33750006556510925, "total_loss": 1464.92724609375, "vf_loss": 1464.9376220703125, "policy_loss": -0.016873396933078766, "kl": 0.019170433282852173, "vf_explained_var": 0.6197431683540344, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 9346395, "sample_time_ms": 15655.717}, "custom_metrics": {"cost2_min": -164.5017506421762, "system_level_velocity_mean": 9.423557060061208, "outflow_rate_max": 946.6286557471396, "outflow_rate_min": 445.66896765148323, "system_level_velocity_min": 4.11539956477026, "outflow_rate_mean": 714.469263264014, "cost2_max": -18.508473163091203, "cost2_mean": -68.8588026972938, "cost1_min": 104.35702679866995, "cost1_mean": 245.19053197467096, "system_level_velocity_max": 14.946400779412736, "cost1_max": 382.66982939219565}, "episode_len_mean": 697.53, "time_total_s": 3158.6217699050903, "pid": 48556, "episodes_this_iter": 58, "episode_reward_max": 13935.78542755467, "timesteps_since_restore": 9346395, "node_ip": "10.138.0.2", "timestamp": 1556594300, "policy_reward_mean": {}, "episode_reward_mean": 8597.133777197289, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 116839, "time_this_iter_s": 41.920390129089355, "training_iteration": 77, "time_since_restore": 3158.6217699050903, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3414.834353732554, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33268d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326e48>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326f28>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 78, "date": "2019-04-30_03-19-01", "timesteps_total": 9461590, "episodes_total": 3939, "hostname": "flow-main", "info": {"num_steps_trained": 9461590, "grad_time_ms": 24867.445, "load_time_ms": 12.919, "update_time_ms": 10.622, "default": {"entropy": 1.789236068725586, "cur_kl_coeff": 0.33750003576278687, "total_loss": 1377.099365234375, "vf_loss": 1377.109130859375, "policy_loss": -0.016272736713290215, "kl": 0.019103795289993286, "vf_explained_var": 0.6255058646202087, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 9461590, "sample_time_ms": 15700.578}, "custom_metrics": {"cost2_min": -164.5017506421762, "system_level_velocity_mean": 9.458807718146245, "outflow_rate_max": 946.6286557471396, "outflow_rate_min": 445.66896765148323, "system_level_velocity_min": 4.11539956477026, "outflow_rate_mean": 695.9592311582246, "cost2_max": -16.240520155682415, "cost2_mean": -64.25583240937291, "cost1_min": 104.35702679866995, "cost1_mean": 245.914590297732, "system_level_velocity_max": 12.815201795660583, "cost1_max": 333.279309774788}, "episode_len_mean": 700.0, "time_total_s": 3200.243089914322, "pid": 48556, "episodes_this_iter": 52, "episode_reward_max": 13935.78542755467, "timesteps_since_restore": 9461590, "node_ip": "10.138.0.2", "timestamp": 1556594341, "policy_reward_mean": {}, "episode_reward_mean": 8248.474002941788, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 115195, "time_this_iter_s": 41.62132000923157, "training_iteration": 78, "time_since_restore": 3200.243089914322, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 370.3212977063921, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332eac8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332ed68>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e3c8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 79, "date": "2019-04-30_03-19-40", "timesteps_total": 9576881, "episodes_total": 3993, "hostname": "flow-main", "info": {"num_steps_trained": 9576881, "grad_time_ms": 24787.944, "load_time_ms": 13.076, "update_time_ms": 10.635, "default": {"entropy": 1.7836953401565552, "cur_kl_coeff": 0.33750006556510925, "total_loss": 1426.1961669921875, "vf_loss": 1426.2049560546875, "policy_loss": -0.015223943628370762, "kl": 0.018783725798130035, "vf_explained_var": 0.6301810145378113, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 9576881, "sample_time_ms": 15584.936}, "custom_metrics": {"cost2_min": -145.01330540260466, "system_level_velocity_mean": 9.503038734415318, "outflow_rate_max": 939.6740568640523, "outflow_rate_min": 500.19646850473595, "system_level_velocity_min": 5.5673122281930185, "outflow_rate_mean": 709.496186760629, "cost2_max": -14.212233883676316, "cost2_mean": -67.81446152332299, "cost1_min": 29.49988022819075, "cost1_mean": 242.88118991069481, "system_level_velocity_max": 17.019522703858442, "cost1_max": 370.9906456503179}, "episode_len_mean": 693.49, "time_total_s": 3239.313359975815, "pid": 48556, "episodes_this_iter": 54, "episode_reward_max": 14142.895066526471, "timesteps_since_restore": 9576881, "node_ip": "10.138.0.2", "timestamp": 1556594380, "policy_reward_mean": {}, "episode_reward_mean": 8456.421955205116, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 115291, "time_this_iter_s": 39.07027006149292, "training_iteration": 79, "time_since_restore": 3239.313359975815, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 370.3212977063921, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f7f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331ffd0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f828>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 80, "date": "2019-04-30_03-20-21", "timesteps_total": 9694450, "episodes_total": 4051, "hostname": "flow-main", "info": {"num_steps_trained": 9694450, "grad_time_ms": 24851.025, "load_time_ms": 13.186, "update_time_ms": 10.662, "default": {"entropy": 1.8388869762420654, "cur_kl_coeff": 0.33750006556510925, "total_loss": 1667.3717041015625, "vf_loss": 1667.38232421875, "policy_loss": -0.01684189774096012, "kl": 0.01825660467147827, "vf_explained_var": 0.6056393384933472, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 9694450, "sample_time_ms": 15629.298}, "custom_metrics": {"cost2_min": -149.02183734586697, "system_level_velocity_mean": 9.184954310892413, "outflow_rate_max": 943.5798442560701, "outflow_rate_min": 480.96816432974254, "system_level_velocity_min": 5.5673122281930185, "outflow_rate_mean": 693.2174499156454, "cost2_max": -13.319560266489052, "cost2_mean": -65.66265758002197, "cost1_min": 29.49988022819075, "cost1_mean": 234.8992041901891, "system_level_velocity_max": 17.019522703858442, "cost1_max": 370.9906456503179}, "episode_len_mean": 693.49, "time_total_s": 3279.9646079540253, "pid": 48556, "episodes_this_iter": 58, "episode_reward_max": 13614.728215647512, "timesteps_since_restore": 9694450, "node_ip": "10.138.0.2", "timestamp": 1556594421, "policy_reward_mean": {}, "episode_reward_mean": 8309.568103852322, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 117569, "time_this_iter_s": 40.65124797821045, "training_iteration": 80, "time_since_restore": 3279.9646079540253, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3317.5461852785666, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e080>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332eac8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e630>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 81, "date": "2019-04-30_03-21-02", "timesteps_total": 9813230, "episodes_total": 4106, "hostname": "flow-main", "info": {"num_steps_trained": 9813230, "grad_time_ms": 24821.837, "load_time_ms": 13.538, "update_time_ms": 10.539, "default": {"entropy": 1.8664121627807617, "cur_kl_coeff": 0.33750006556510925, "total_loss": 1325.801513671875, "vf_loss": 1325.8092041015625, "policy_loss": -0.014146381057798862, "kl": 0.0189994964748621, "vf_explained_var": 0.6786790490150452, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 9813230, "sample_time_ms": 15601.835}, "custom_metrics": {"cost2_min": -149.02183734586697, "system_level_velocity_mean": 8.978240202337703, "outflow_rate_max": 897.2569372576579, "outflow_rate_min": 381.18378950695484, "system_level_velocity_min": 5.551040695143713, "outflow_rate_mean": 659.8636470512449, "cost2_max": -16.525815292830554, "cost2_mean": -59.48248376274077, "cost1_min": 140.29144533026104, "cost1_mean": 232.97364918805613, "system_level_velocity_max": 12.293631897256008, "cost1_max": 320.18241601872865}, "episode_len_mean": 700.0, "time_total_s": 3320.437677383423, "pid": 48556, "episodes_this_iter": 55, "episode_reward_max": 13894.921344489196, "timesteps_since_restore": 9813230, "node_ip": "10.138.0.2", "timestamp": 1556594462, "policy_reward_mean": {}, "episode_reward_mean": 7772.942593448418, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 118780, "time_this_iter_s": 40.47306942939758, "training_iteration": 81, "time_since_restore": 3320.437677383423, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3196.4959989814292, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f128>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331ff28>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f0f0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 82, "date": "2019-04-30_03-21-41", "timesteps_total": 9927206, "episodes_total": 4168, "hostname": "flow-main", "info": {"num_steps_trained": 9927206, "grad_time_ms": 24758.115, "load_time_ms": 13.382, "update_time_ms": 10.636, "default": {"entropy": 1.887898564338684, "cur_kl_coeff": 0.33750006556510925, "total_loss": 1419.8712158203125, "vf_loss": 1419.8812255859375, "policy_loss": -0.016841303557157516, "kl": 0.02036781795322895, "vf_explained_var": 0.6893957257270813, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 9927206, "sample_time_ms": 15529.945}, "custom_metrics": {"cost2_min": -141.6890726914865, "system_level_velocity_mean": 8.544380634095301, "outflow_rate_max": 894.2770363131655, "outflow_rate_min": 381.18378950695484, "system_level_velocity_min": 4.3900084345128665, "outflow_rate_mean": 629.616639686193, "cost2_max": -14.14959956848641, "cost2_mean": -57.569645000671706, "cost1_min": 114.65754600702468, "cost1_mean": 221.57435346747206, "system_level_velocity_max": 12.293631897256008, "cost1_max": 320.18241601872865}, "episode_len_mean": 700.0, "time_total_s": 3359.8927817344666, "pid": 48556, "episodes_this_iter": 62, "episode_reward_max": 13894.921344489196, "timesteps_since_restore": 9927206, "node_ip": "10.138.0.2", "timestamp": 1556594501, "policy_reward_mean": {}, "episode_reward_mean": 7405.6250504001355, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 113976, "time_this_iter_s": 39.4551043510437, "training_iteration": 82, "time_since_restore": 3359.8927817344666, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 264.1227253835974, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e3c8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e668>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e2b0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 83, "date": "2019-04-30_03-22-22", "timesteps_total": 10047173, "episodes_total": 4220, "hostname": "flow-main", "info": {"num_steps_trained": 10047173, "grad_time_ms": 24986.434, "load_time_ms": 13.629, "update_time_ms": 10.7, "default": {"entropy": 1.8591418266296387, "cur_kl_coeff": 0.5062499046325684, "total_loss": 1107.9315185546875, "vf_loss": 1107.938720703125, "policy_loss": -0.014435485936701298, "kl": 0.01436457596719265, "vf_explained_var": 0.7176929116249084, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 10047173, "sample_time_ms": 15617.63}, "custom_metrics": {"cost2_min": -143.12626757140322, "system_level_velocity_mean": 8.606293880073185, "outflow_rate_max": 880.8647206811148, "outflow_rate_min": 270.4665982354523, "system_level_velocity_min": 3.6711617768714873, "outflow_rate_mean": 635.2134593262751, "cost2_max": -14.14959956848641, "cost2_mean": -57.109491820551774, "cost1_min": 23.560181343931767, "cost1_mean": 219.0515407341657, "system_level_velocity_max": 16.66274556102744, "cost1_max": 327.18174369910093}, "episode_len_mean": 693.39, "time_total_s": 3401.062611103058, "pid": 48556, "episodes_this_iter": 52, "episode_reward_max": 13425.997040011334, "timesteps_since_restore": 10047173, "node_ip": "10.138.0.2", "timestamp": 1556594542, "policy_reward_mean": {}, "episode_reward_mean": 7401.028483235145, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 119967, "time_this_iter_s": 41.16982936859131, "training_iteration": 83, "time_since_restore": 3401.062611103058, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3400.671709377984, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f588>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f828>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f438>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 84, "date": "2019-04-30_03-23-02", "timesteps_total": 10161872, "episodes_total": 4276, "hostname": "flow-main", "info": {"num_steps_trained": 10161872, "grad_time_ms": 24878.796, "load_time_ms": 12.628, "update_time_ms": 10.699, "default": {"entropy": 1.8618032932281494, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1323.7879638671875, "vf_loss": 1323.7960205078125, "policy_loss": -0.015249555930495262, "kl": 0.014081656001508236, "vf_explained_var": 0.6901259422302246, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 10161872, "sample_time_ms": 15530.213}, "custom_metrics": {"cost2_min": -136.44902147690198, "system_level_velocity_mean": 8.716495405646778, "outflow_rate_max": 889.3378774225665, "outflow_rate_min": 270.4665982354523, "system_level_velocity_min": 3.6711617768714873, "outflow_rate_mean": 647.2522257884289, "cost2_max": -14.998406015760612, "cost2_mean": -59.523487154875546, "cost1_min": 93.48859166630938, "cost1_mean": 226.29926861071232, "system_level_velocity_max": 13.119450445400055, "cost1_max": 339.09913984045636}, "episode_len_mean": 700.0, "time_total_s": 3440.6848068237305, "pid": 48556, "episodes_this_iter": 56, "episode_reward_max": 13446.919402347603, "timesteps_since_restore": 10161872, "node_ip": "10.138.0.2", "timestamp": 1556594582, "policy_reward_mean": {}, "episode_reward_mean": 7682.800295167113, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 114699, "time_this_iter_s": 39.62219572067261, "training_iteration": 84, "time_since_restore": 3440.6848068237305, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3256.8571632008943, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332ed68>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332eb70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e0f0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 85, "date": "2019-04-30_03-23-41", "timesteps_total": 10277673, "episodes_total": 4336, "hostname": "flow-main", "info": {"num_steps_trained": 10277673, "grad_time_ms": 24723.122, "load_time_ms": 13.642, "update_time_ms": 10.717, "default": {"entropy": 1.9139455556869507, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1213.4879150390625, "vf_loss": 1213.4954833984375, "policy_loss": -0.014520271681249142, "kl": 0.013964081183075905, "vf_explained_var": 0.744347333908081, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 10277673, "sample_time_ms": 15512.777}, "custom_metrics": {"cost2_min": -134.3384483387287, "system_level_velocity_mean": 8.912295005607698, "outflow_rate_max": 930.9750718145606, "outflow_rate_min": 378.80997350996444, "system_level_velocity_min": 4.06502471782708, "outflow_rate_mean": 649.0701537170874, "cost2_max": -17.036999593869407, "cost2_mean": -57.55722310415699, "cost1_min": 103.57088219330194, "cost1_mean": 231.03153846681252, "system_level_velocity_max": 13.700404171396372, "cost1_max": 348.97876402035104}, "episode_len_mean": 700.0, "time_total_s": 3479.986064195633, "pid": 48556, "episodes_this_iter": 60, "episode_reward_max": 13554.622088429687, "timesteps_since_restore": 10277673, "node_ip": "10.138.0.2", "timestamp": 1556594621, "policy_reward_mean": {}, "episode_reward_mean": 7478.5722595075495, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 115801, "time_this_iter_s": 39.301257371902466, "training_iteration": 85, "time_since_restore": 3479.986064195633, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 2936.4093111794305, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a337feb8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f358>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e390>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 86, "date": "2019-04-30_03-24-21", "timesteps_total": 10390768, "episodes_total": 4393, "hostname": "flow-main", "info": {"num_steps_trained": 10390768, "grad_time_ms": 24598.359, "load_time_ms": 13.418, "update_time_ms": 10.767, "default": {"entropy": 1.957196593284607, "cur_kl_coeff": 0.5062499046325684, "total_loss": 1016.056396484375, "vf_loss": 1016.0648803710938, "policy_loss": -0.015797607600688934, "kl": 0.014398838393390179, "vf_explained_var": 0.7843140363693237, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 10390768, "sample_time_ms": 15429.691}, "custom_metrics": {"cost2_min": -162.90957107713567, "system_level_velocity_mean": 8.9919269380801, "outflow_rate_max": 930.9750718145606, "outflow_rate_min": 355.68022099711897, "system_level_velocity_min": 3.3085144528794403, "outflow_rate_mean": 625.6820229130021, "cost2_max": -16.281426292142932, "cost2_mean": -49.71477609110357, "cost1_min": 85.08876272402301, "cost1_mean": 232.05841384129195, "system_level_velocity_max": 13.700404171396372, "cost1_max": 348.97876402035104}, "episode_len_mean": 700.0, "time_total_s": 3519.372629880905, "pid": 48556, "episodes_this_iter": 57, "episode_reward_max": 13554.622088429687, "timesteps_since_restore": 10390768, "node_ip": "10.138.0.2", "timestamp": 1556594661, "policy_reward_mean": {}, "episode_reward_mean": 6734.485498901155, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 113095, "time_this_iter_s": 39.38656568527222, "training_iteration": 86, "time_since_restore": 3519.372629880905, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3311.0720750870264, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e2b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e860>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e160>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 87, "date": "2019-04-30_03-25-00", "timesteps_total": 10503666, "episodes_total": 4457, "hostname": "flow-main", "info": {"num_steps_trained": 10503666, "grad_time_ms": 24467.534, "load_time_ms": 13.137, "update_time_ms": 10.757, "default": {"entropy": 1.9050548076629639, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1245.1910400390625, "vf_loss": 1245.1988525390625, "policy_loss": -0.014765062369406223, "kl": 0.013539598323404789, "vf_explained_var": 0.718524158000946, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 10503666, "sample_time_ms": 15257.695}, "custom_metrics": {"cost2_min": -183.39463183222108, "system_level_velocity_mean": 9.06973939363543, "outflow_rate_max": 872.6254318780504, "outflow_rate_min": 355.68022099711897, "system_level_velocity_min": 4.351946130994139, "outflow_rate_mean": 636.0810370594884, "cost2_max": -17.457650295804243, "cost2_mean": -48.705657867029565, "cost1_min": 115.28404800358248, "cost1_mean": 234.39398597265335, "system_level_velocity_max": 13.61675322176757, "cost1_max": 356.053946902358}, "episode_len_mean": 700.0, "time_total_s": 3558.2459325790405, "pid": 48556, "episodes_this_iter": 64, "episode_reward_max": 12480.870054151783, "timesteps_since_restore": 10503666, "node_ip": "10.138.0.2", "timestamp": 1556594700, "policy_reward_mean": {}, "episode_reward_mean": 6858.181467004731, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 112898, "time_this_iter_s": 38.873302698135376, "training_iteration": 87, "time_since_restore": 3558.2459325790405, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 134.07164006102025, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332eda0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e0b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e9b0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 88, "date": "2019-04-30_03-25-39", "timesteps_total": 10614583, "episodes_total": 4519, "hostname": "flow-main", "info": {"num_steps_trained": 10614583, "grad_time_ms": 24285.441, "load_time_ms": 12.927, "update_time_ms": 11.164, "default": {"entropy": 1.8837966918945312, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1279.64111328125, "vf_loss": 1279.6480712890625, "policy_loss": -0.014126917347311974, "kl": 0.014369986951351166, "vf_explained_var": 0.6926223039627075, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 10614583, "sample_time_ms": 15230.05}, "custom_metrics": {"cost2_min": -183.39463183222108, "system_level_velocity_mean": 9.440760539420404, "outflow_rate_max": 890.0707508468084, "outflow_rate_min": 380.08427598610285, "system_level_velocity_min": 4.442839388261691, "outflow_rate_mean": 662.490194495071, "cost2_max": -13.218092559215345, "cost2_mean": -52.745401859820184, "cost1_min": 11.487704309087748, "cost1_mean": 240.22807412278016, "system_level_velocity_max": 16.488458064103245, "cost1_max": 356.053946902358}, "episode_len_mean": 693.18, "time_total_s": 3597.769031524658, "pid": 48556, "episodes_this_iter": 62, "episode_reward_max": 13685.870959433045, "timesteps_since_restore": 10614583, "node_ip": "10.138.0.2", "timestamp": 1556594739, "policy_reward_mean": {}, "episode_reward_mean": 7018.778212099516, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 110917, "time_this_iter_s": 39.523098945617676, "training_iteration": 88, "time_since_restore": 3597.769031524658, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 134.07164006102025, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e160>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e0f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e860>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 89, "date": "2019-04-30_03-26-19", "timesteps_total": 10727151, "episodes_total": 4578, "hostname": "flow-main", "info": {"num_steps_trained": 10727151, "grad_time_ms": 24301.619, "load_time_ms": 12.681, "update_time_ms": 11.234, "default": {"entropy": 1.8737208843231201, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1262.7420654296875, "vf_loss": 1262.749755859375, "policy_loss": -0.014968103729188442, "kl": 0.014332687482237816, "vf_explained_var": 0.742823600769043, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 10727151, "sample_time_ms": 15253.274}, "custom_metrics": {"cost2_min": -168.57534869751782, "system_level_velocity_mean": 9.533376059610951, "outflow_rate_max": 890.0707508468084, "outflow_rate_min": 380.8238789507643, "system_level_velocity_min": 4.0930231537811155, "outflow_rate_mean": 673.3589912573657, "cost2_max": -13.218092559215345, "cost2_mean": -53.681871332112316, "cost1_min": 11.487704309087748, "cost1_mean": 242.94290927867704, "system_level_velocity_max": 16.488458064103245, "cost1_max": 351.31505699595334}, "episode_len_mean": 693.18, "time_total_s": 3637.2297174930573, "pid": 48556, "episodes_this_iter": 59, "episode_reward_max": 13685.870959433045, "timesteps_since_restore": 10727151, "node_ip": "10.138.0.2", "timestamp": 1556594779, "policy_reward_mean": {}, "episode_reward_mean": 7197.263193484105, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 112568, "time_this_iter_s": 39.46068596839905, "training_iteration": 89, "time_since_restore": 3637.2297174930573, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3058.1063909939276, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e668>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e8d0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 90, "date": "2019-04-30_03-26-59", "timesteps_total": 10839199, "episodes_total": 4641, "hostname": "flow-main", "info": {"num_steps_trained": 10839199, "grad_time_ms": 24300.188, "load_time_ms": 12.476, "update_time_ms": 11.116, "default": {"entropy": 1.906500220298767, "cur_kl_coeff": 0.5062499046325684, "total_loss": 1366.2607421875, "vf_loss": 1366.268310546875, "policy_loss": -0.015104863792657852, "kl": 0.015157320536673069, "vf_explained_var": 0.7091454863548279, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 10839199, "sample_time_ms": 15202.332}, "custom_metrics": {"cost2_min": -163.2737649257393, "system_level_velocity_mean": 9.611400335101301, "outflow_rate_max": 945.4524634293065, "outflow_rate_min": 380.8238789507643, "system_level_velocity_min": 5.0396961184668125, "outflow_rate_mean": 666.5702533342817, "cost2_max": -15.677314731097633, "cost2_mean": -49.02943335551409, "cost1_min": 131.38325062520317, "cost1_mean": 248.64502890996218, "system_level_velocity_max": 13.794627571179273, "cost1_max": 351.31505699595334}, "episode_len_mean": 700.0, "time_total_s": 3677.361661195755, "pid": 48556, "episodes_this_iter": 63, "episode_reward_max": 13467.160492543464, "timesteps_since_restore": 10839199, "node_ip": "10.138.0.2", "timestamp": 1556594819, "policy_reward_mean": {}, "episode_reward_mean": 6987.004543151104, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 112048, "time_this_iter_s": 40.131943702697754, "training_iteration": 90, "time_since_restore": 3677.361661195755, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3058.1063909939276, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332ebe0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e0f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e198>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 91, "date": "2019-04-30_03-27-39", "timesteps_total": 10952065, "episodes_total": 4703, "hostname": "flow-main", "info": {"num_steps_trained": 10952065, "grad_time_ms": 24230.643, "load_time_ms": 12.14, "update_time_ms": 11.213, "default": {"entropy": 1.9502172470092773, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1207.4498291015625, "vf_loss": 1207.4573974609375, "policy_loss": -0.014697874896228313, "kl": 0.01385688129812479, "vf_explained_var": 0.749349057674408, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 10952065, "sample_time_ms": 15240.329}, "custom_metrics": {"cost2_min": -137.14849560684743, "system_level_velocity_mean": 9.655042337803794, "outflow_rate_max": 926.9560461272472, "outflow_rate_min": 369.69603507395937, "system_level_velocity_min": 4.760250069155062, "outflow_rate_mean": 652.7089624543213, "cost2_max": -15.251445536643034, "cost2_mean": -46.260746706450185, "cost1_min": 121.79621284268464, "cost1_mean": 249.65787235589053, "system_level_velocity_max": 13.291738290943243, "cost1_max": 332.74946919536126}, "episode_len_mean": 700.0, "time_total_s": 3717.4639208316803, "pid": 48556, "episodes_this_iter": 62, "episode_reward_max": 14186.661139609056, "timesteps_since_restore": 10952065, "node_ip": "10.138.0.2", "timestamp": 1556594859, "policy_reward_mean": {}, "episode_reward_mean": 6690.571231133663, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 112866, "time_this_iter_s": 40.10225963592529, "training_iteration": 91, "time_since_restore": 3717.4639208316803, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3296.7166650182644, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e8d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e9b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e390>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 92, "date": "2019-04-30_03-28-19", "timesteps_total": 11062869, "episodes_total": 4765, "hostname": "flow-main", "info": {"num_steps_trained": 11062869, "grad_time_ms": 24174.552, "load_time_ms": 12.532, "update_time_ms": 11.292, "default": {"entropy": 1.9585819244384766, "cur_kl_coeff": 0.5062499046325684, "total_loss": 1224.2691650390625, "vf_loss": 1224.2774658203125, "policy_loss": -0.01570090837776661, "kl": 0.014837067574262619, "vf_explained_var": 0.7274568676948547, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 11062869, "sample_time_ms": 15305.298}, "custom_metrics": {"cost2_min": -140.55004928485107, "system_level_velocity_mean": 9.475493355776344, "outflow_rate_max": 917.0293635814953, "outflow_rate_min": 369.69603507395937, "system_level_velocity_min": 4.760250069155062, "outflow_rate_mean": 639.5129036538411, "cost2_max": -15.9190178362347, "cost2_mean": -48.18462672135326, "cost1_min": 121.79621284268464, "cost1_mean": 245.0757342280095, "system_level_velocity_max": 12.804543535096808, "cost1_max": 326.7692070778018}, "episode_len_mean": 700.0, "time_total_s": 3756.993738889694, "pid": 48556, "episodes_this_iter": 62, "episode_reward_max": 14186.661139609056, "timesteps_since_restore": 11062869, "node_ip": "10.138.0.2", "timestamp": 1556594899, "policy_reward_mean": {}, "episode_reward_mean": 6605.272988061082, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 110804, "time_this_iter_s": 39.529818058013916, "training_iteration": 92, "time_since_restore": 3756.993738889694, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3187.6626499227295, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332ebe0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332ee80>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e7f0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 93, "date": "2019-04-30_03-28-58", "timesteps_total": 11175352, "episodes_total": 4823, "hostname": "flow-main", "info": {"num_steps_trained": 11175352, "grad_time_ms": 23998.272, "load_time_ms": 12.819, "update_time_ms": 11.066, "default": {"entropy": 1.9320107698440552, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1159.24560546875, "vf_loss": 1159.2545166015625, "policy_loss": -0.016260789707303047, "kl": 0.01465725339949131, "vf_explained_var": 0.7687198519706726, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 11175352, "sample_time_ms": 15251.465}, "custom_metrics": {"cost2_min": -133.89678858893737, "system_level_velocity_mean": 9.28688508597085, "outflow_rate_max": 926.4908787240898, "outflow_rate_min": 400.5906664183206, "system_level_velocity_min": 4.545272105285558, "outflow_rate_mean": 636.9111602215751, "cost2_max": -14.622358846916416, "cost2_mean": -48.31573008611113, "cost1_min": 116.76631823118973, "cost1_mean": 239.53071920973628, "system_level_velocity_max": 14.30406894322663, "cost1_max": 367.2746724257904}, "episode_len_mean": 700.0, "time_total_s": 3795.851138114929, "pid": 48556, "episodes_this_iter": 58, "episode_reward_max": 13263.944577948625, "timesteps_since_restore": 11175352, "node_ip": "10.138.0.2", "timestamp": 1556594938, "policy_reward_mean": {}, "episode_reward_mean": 6683.6337830473085, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 112483, "time_this_iter_s": 38.857399225234985, "training_iteration": 93, "time_since_restore": 3795.851138114929, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 356.9137751731035, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e438>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e9b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332ec18>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 94, "date": "2019-04-30_03-29-37", "timesteps_total": 11284573, "episodes_total": 4889, "hostname": "flow-main", "info": {"num_steps_trained": 11284573, "grad_time_ms": 23958.799, "load_time_ms": 13.006, "update_time_ms": 11.245, "default": {"entropy": 1.9968446493148804, "cur_kl_coeff": 0.5062499046325684, "total_loss": 1219.0374755859375, "vf_loss": 1219.046630859375, "policy_loss": -0.016651835292577744, "kl": 0.014839047566056252, "vf_explained_var": 0.7385306358337402, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 11284573, "sample_time_ms": 15300.336}, "custom_metrics": {"cost2_min": -133.89678858893737, "system_level_velocity_mean": 9.596765555195509, "outflow_rate_max": 926.4908787240898, "outflow_rate_min": 374.3398685334873, "system_level_velocity_min": 4.3719986999001375, "outflow_rate_mean": 620.4177191469774, "cost2_max": -10.850671454070756, "cost2_mean": -44.014653949188315, "cost1_min": 26.89763439366313, "cost1_mean": 244.07835129807026, "system_level_velocity_max": 17.343532272517052, "cost1_max": 367.2746724257904}, "episode_len_mean": 693.45, "time_total_s": 3835.555522918701, "pid": 48556, "episodes_this_iter": 66, "episode_reward_max": 13017.762054602885, "timesteps_since_restore": 11284573, "node_ip": "10.138.0.2", "timestamp": 1556594977, "policy_reward_mean": {}, "episode_reward_mean": 6126.960319706864, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 109221, "time_this_iter_s": 39.70438480377197, "training_iteration": 94, "time_since_restore": 3835.555522918701, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 2969.864160783899, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332ebe0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e470>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332ed30>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 95, "date": "2019-04-30_03-30-16", "timesteps_total": 11396108, "episodes_total": 4952, "hostname": "flow-main", "info": {"num_steps_trained": 11396108, "grad_time_ms": 23907.684, "load_time_ms": 12.051, "update_time_ms": 11.275, "default": {"entropy": 1.9400198459625244, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1150.2906494140625, "vf_loss": 1150.2984619140625, "policy_loss": -0.015583734959363937, "kl": 0.015313886106014252, "vf_explained_var": 0.7685068845748901, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 11396108, "sample_time_ms": 15296.47}, "custom_metrics": {"cost2_min": -135.73238863969488, "system_level_velocity_mean": 9.726877472871818, "outflow_rate_max": 923.9623162472578, "outflow_rate_min": 374.3398685334873, "system_level_velocity_min": 4.3719986999001375, "outflow_rate_mean": 641.4002356279099, "cost2_max": -14.842587415218071, "cost2_mean": -45.669659424455475, "cost1_min": 112.78709692312356, "cost1_mean": 251.60504856808774, "system_level_velocity_max": 13.927533639097668, "cost1_max": 356.4698213277539}, "episode_len_mean": 700.0, "time_total_s": 3874.3003766536713, "pid": 48556, "episodes_this_iter": 63, "episode_reward_max": 12920.290006246541, "timesteps_since_restore": 11396108, "node_ip": "10.138.0.2", "timestamp": 1556595016, "policy_reward_mean": {}, "episode_reward_mean": 6320.337653443017, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 111535, "time_this_iter_s": 38.74485373497009, "training_iteration": 95, "time_since_restore": 3874.3003766536713, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 2969.864160783899, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e438>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332ec88>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 96, "date": "2019-04-30_03-30-55", "timesteps_total": 11506727, "episodes_total": 5015, "hostname": "flow-main", "info": {"num_steps_trained": 11506727, "grad_time_ms": 23806.725, "load_time_ms": 12.007, "update_time_ms": 11.131, "default": {"entropy": 1.9788250923156738, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1263.2850341796875, "vf_loss": 1263.2928466796875, "policy_loss": -0.0146612748503685, "kl": 0.013922267593443394, "vf_explained_var": 0.7519378662109375, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 11506727, "sample_time_ms": 15321.372}, "custom_metrics": {"cost2_min": -141.05830072411948, "system_level_velocity_mean": 9.695068103939779, "outflow_rate_max": 915.0986101601534, "outflow_rate_min": 391.0820113970814, "system_level_velocity_min": 5.347236352815858, "outflow_rate_mean": 660.6625962177603, "cost2_max": -17.187569606187722, "cost2_mean": -52.46504091236931, "cost1_min": 140.7385597795659, "cost1_mean": 251.31250205787845, "system_level_velocity_max": 13.783695618838538, "cost1_max": 354.8637603292951}, "episode_len_mean": 700.0, "time_total_s": 3912.922674894333, "pid": 48556, "episodes_this_iter": 63, "episode_reward_max": 13242.021340383197, "timesteps_since_restore": 11506727, "node_ip": "10.138.0.2", "timestamp": 1556595055, "policy_reward_mean": {}, "episode_reward_mean": 6830.738898916326, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 110619, "time_this_iter_s": 38.62229824066162, "training_iteration": 96, "time_since_restore": 3912.922674894333, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3183.4912087513762, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332ed68>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e518>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e588>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 97, "date": "2019-04-30_03-31-31", "timesteps_total": 11613969, "episodes_total": 5079, "hostname": "flow-main", "info": {"num_steps_trained": 11613969, "grad_time_ms": 23513.476, "load_time_ms": 12.14, "update_time_ms": 11.207, "default": {"entropy": 1.9948549270629883, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1259.69677734375, "vf_loss": 1259.704345703125, "policy_loss": -0.014742966741323471, "kl": 0.014239632524549961, "vf_explained_var": 0.7155583500862122, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 11613969, "sample_time_ms": 15296.389}, "custom_metrics": {"cost2_min": -163.84248372457915, "system_level_velocity_mean": 9.450595401520733, "outflow_rate_max": 889.3895010582481, "outflow_rate_min": 278.8364708525904, "system_level_velocity_min": 2.7997483586250995, "outflow_rate_mean": 652.8324001547154, "cost2_max": -17.609523371689487, "cost2_mean": -51.24171880652531, "cost1_min": 71.33699289863083, "cost1_mean": 245.3509183448607, "system_level_velocity_max": 13.91902262497773, "cost1_max": 356.90023678524875}, "episode_len_mean": 700.0, "time_total_s": 3948.605000257492, "pid": 48556, "episodes_this_iter": 64, "episode_reward_max": 13815.551264023996, "timesteps_since_restore": 11613969, "node_ip": "10.138.0.2", "timestamp": 1556595091, "policy_reward_mean": {}, "episode_reward_mean": 6798.5688050854615, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 107242, "time_this_iter_s": 35.68232536315918, "training_iteration": 97, "time_since_restore": 3948.605000257492, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3097.892529295974, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e438>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e5f8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e780>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 98, "date": "2019-04-30_03-32-07", "timesteps_total": 11722447, "episodes_total": 5153, "hostname": "flow-main", "info": {"num_steps_trained": 11722447, "grad_time_ms": 23216.215, "load_time_ms": 12.253, "update_time_ms": 10.975, "default": {"entropy": 2.0573761463165283, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1267.702880859375, "vf_loss": 1267.7119140625, "policy_loss": -0.0159419234842062, "kl": 0.01390896737575531, "vf_explained_var": 0.7411424517631531, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 11722447, "sample_time_ms": 15274.308}, "custom_metrics": {"cost2_min": -147.67532884979235, "system_level_velocity_mean": 9.72171154987274, "outflow_rate_max": 927.4325816631765, "outflow_rate_min": 399.14967240653596, "system_level_velocity_min": 4.771663935648623, "outflow_rate_mean": 634.8610995695709, "cost2_max": -12.410493939743406, "cost2_mean": -41.34041951157515, "cost1_min": 124.05991469573632, "cost1_mean": 251.31930383546535, "system_level_velocity_max": 13.1683223014197, "cost1_max": 335.35220469391186}, "episode_len_mean": 700.0, "time_total_s": 3984.924920320511, "pid": 48556, "episodes_this_iter": 74, "episode_reward_max": 12820.9736281933, "timesteps_since_restore": 11722447, "node_ip": "10.138.0.2", "timestamp": 1556595127, "policy_reward_mean": {}, "episode_reward_mean": 5929.821977509419, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 108478, "time_this_iter_s": 36.3199200630188, "training_iteration": 98, "time_since_restore": 3984.924920320511, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3097.892529295974, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e470>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332ebe0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e3c8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 99, "date": "2019-04-30_03-32-45", "timesteps_total": 11830869, "episodes_total": 5217, "hostname": "flow-main", "info": {"num_steps_trained": 11830869, "grad_time_ms": 23052.839, "load_time_ms": 11.699, "update_time_ms": 10.947, "default": {"entropy": 2.0491538047790527, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1088.0867919921875, "vf_loss": 1088.0955810546875, "policy_loss": -0.01593238301575184, "kl": 0.014053348451852798, "vf_explained_var": 0.7794502377510071, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 11830869, "sample_time_ms": 15254.282}, "custom_metrics": {"cost2_min": -124.03661540323719, "system_level_velocity_mean": 9.7635395258122, "outflow_rate_max": 875.4990806786067, "outflow_rate_min": 392.84445177859885, "system_level_velocity_min": 3.7059914822943787, "outflow_rate_mean": 615.9632450223951, "cost2_max": -12.016171289640393, "cost2_mean": -36.264816025257595, "cost1_min": 95.09229247226777, "cost1_mean": 252.71631944445576, "system_level_velocity_max": 13.44320340030179, "cost1_max": 348.2920981457513}, "episode_len_mean": 700.0, "time_total_s": 4022.51478266716, "pid": 48556, "episodes_this_iter": 64, "episode_reward_max": 13372.21389416863, "timesteps_since_restore": 11830869, "node_ip": "10.138.0.2", "timestamp": 1556595165, "policy_reward_mean": {}, "episode_reward_mean": 5561.847824036764, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 108422, "time_this_iter_s": 37.58986234664917, "training_iteration": 99, "time_since_restore": 4022.51478266716, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3197.5085524347173, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332eda0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e208>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e320>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 100, "date": "2019-04-30_03-33-20", "timesteps_total": 11937773, "episodes_total": 5283, "hostname": "flow-main", "info": {"num_steps_trained": 11937773, "grad_time_ms": 22660.119, "load_time_ms": 11.651, "update_time_ms": 11.225, "default": {"entropy": 2.0164403915405273, "cur_kl_coeff": 0.5062499046325684, "total_loss": 1408.931640625, "vf_loss": 1408.939208984375, "policy_loss": -0.015035001561045647, "kl": 0.014362234622240067, "vf_explained_var": 0.7039487361907959, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 11937773, "sample_time_ms": 15160.475}, "custom_metrics": {"cost2_min": -189.80444324141934, "system_level_velocity_mean": 9.823298735854923, "outflow_rate_max": 971.8639253615112, "outflow_rate_min": 376.5315067687334, "system_level_velocity_min": 5.271654989923231, "outflow_rate_mean": 624.0572662386974, "cost2_max": -13.075330124273993, "cost2_mean": -40.03203187843021, "cost1_min": 132.17883018706766, "cost1_mean": 253.32154859849214, "system_level_velocity_max": 13.121875520905295, "cost1_max": 342.5291020592748}, "episode_len_mean": 700.0, "time_total_s": 4057.800523042679, "pid": 48556, "episodes_this_iter": 66, "episode_reward_max": 13372.21389416863, "timesteps_since_restore": 11937773, "node_ip": "10.138.0.2", "timestamp": 1556595200, "policy_reward_mean": {}, "episode_reward_mean": 5776.163304306371, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 106904, "time_this_iter_s": 35.2857403755188, "training_iteration": 100, "time_since_restore": 4057.800523042679, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3197.5085524347173, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332eb38>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332ea20>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332ee10>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 101, "date": "2019-04-30_03-33-56", "timesteps_total": 12044565, "episodes_total": 5356, "hostname": "flow-main", "info": {"num_steps_trained": 12044565, "grad_time_ms": 22278.318, "load_time_ms": 11.44, "update_time_ms": 11.213, "default": {"entropy": 2.036709785461426, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1219.3271484375, "vf_loss": 1219.3355712890625, "policy_loss": -0.015683818608522415, "kl": 0.01427872758358717, "vf_explained_var": 0.7535078525543213, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 12044565, "sample_time_ms": 15099.09}, "custom_metrics": {"cost2_min": -164.64277973562358, "system_level_velocity_mean": 10.309158358195695, "outflow_rate_max": 898.6616041008937, "outflow_rate_min": 376.5315067687334, "system_level_velocity_min": 5.771725854942715, "outflow_rate_mean": 647.8671920592905, "cost2_max": -13.075330124273993, "cost2_mean": -38.065863568275574, "cost1_min": 151.64544975203734, "cost1_mean": 266.1378061484336, "system_level_velocity_max": 13.811567120062332, "cost1_max": 356.49041219817855}, "episode_len_mean": 700.0, "time_total_s": 4093.485836982727, "pid": 48556, "episodes_this_iter": 73, "episode_reward_max": 13610.70134995837, "timesteps_since_restore": 12044565, "node_ip": "10.138.0.2", "timestamp": 1556595236, "policy_reward_mean": {}, "episode_reward_mean": 5750.649742478499, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 106792, "time_this_iter_s": 35.68531394004822, "training_iteration": 101, "time_since_restore": 4093.485836982727, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3266.0852648409805, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e0f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332ec50>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332ecf8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 102, "date": "2019-04-30_03-34-32", "timesteps_total": 12149705, "episodes_total": 5424, "hostname": "flow-main", "info": {"num_steps_trained": 12149705, "grad_time_ms": 22020.765, "load_time_ms": 10.888, "update_time_ms": 11.203, "default": {"entropy": 2.0363388061523438, "cur_kl_coeff": 0.5062499046325684, "total_loss": 1233.0823974609375, "vf_loss": 1233.0916748046875, "policy_loss": -0.016503622755408287, "kl": 0.014201601035892963, "vf_explained_var": 0.7102493047714233, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 12149705, "sample_time_ms": 14990.08}, "custom_metrics": {"cost2_min": -145.58859117298317, "system_level_velocity_mean": 10.549354654945684, "outflow_rate_max": 942.0790667781532, "outflow_rate_min": 398.123859003338, "system_level_velocity_min": 5.771725854942715, "outflow_rate_mean": 646.0895738429188, "cost2_max": -13.936609727617583, "cost2_mean": -36.00236931563526, "cost1_min": 152.7635413631895, "cost1_mean": 272.09898470400503, "system_level_velocity_max": 13.811567120062332, "cost1_max": 356.49041219817855}, "episode_len_mean": 700.0, "time_total_s": 4129.329920053482, "pid": 48556, "episodes_this_iter": 68, "episode_reward_max": 13248.436170969413, "timesteps_since_restore": 12149705, "node_ip": "10.138.0.2", "timestamp": 1556595272, "policy_reward_mean": {}, "episode_reward_mean": 5574.337529147255, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 105140, "time_this_iter_s": 35.844083070755005, "training_iteration": 102, "time_since_restore": 4129.329920053482, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3180.018965367977, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e710>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e748>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e908>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 103, "date": "2019-04-30_03-35-08", "timesteps_total": 12252878, "episodes_total": 5499, "hostname": "flow-main", "info": {"num_steps_trained": 12252878, "grad_time_ms": 21800.965, "load_time_ms": 11.755, "update_time_ms": 11.707, "default": {"entropy": 2.065868377685547, "cur_kl_coeff": 0.5062499046325684, "total_loss": 1508.606201171875, "vf_loss": 1508.6141357421875, "policy_loss": -0.015037361532449722, "kl": 0.013872640207409859, "vf_explained_var": 0.6194082498550415, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 12252878, "sample_time_ms": 14901.407}, "custom_metrics": {"cost2_min": -149.62266481873738, "system_level_velocity_mean": 10.484580328590928, "outflow_rate_max": 942.0790667781532, "outflow_rate_min": 465.91746472916054, "system_level_velocity_min": 5.367095654298717, "outflow_rate_mean": 658.0952279003981, "cost2_max": -14.402302229281716, "cost2_mean": -37.3143783869972, "cost1_min": 140.2858767124713, "cost1_mean": 271.868627025636, "system_level_velocity_max": 13.761429366331244, "cost1_max": 354.9627232966565}, "episode_len_mean": 700.0, "time_total_s": 4165.127789258957, "pid": 48556, "episodes_this_iter": 75, "episode_reward_max": 12513.72757285457, "timesteps_since_restore": 12252878, "node_ip": "10.138.0.2", "timestamp": 1556595308, "policy_reward_mean": {}, "episode_reward_mean": 5858.93169000195, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 103173, "time_this_iter_s": 35.79786920547485, "training_iteration": 103, "time_since_restore": 4165.127789258957, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3557.7882979708534, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332ecf8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332efd0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332ec50>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 104, "date": "2019-04-30_03-35-44", "timesteps_total": 12357823, "episodes_total": 5568, "hostname": "flow-main", "info": {"num_steps_trained": 12357823, "grad_time_ms": 21577.245, "load_time_ms": 11.467, "update_time_ms": 11.608, "default": {"entropy": 2.0109879970550537, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1479.4420166015625, "vf_loss": 1479.451416015625, "policy_loss": -0.017278291285037994, "kl": 0.01525183953344822, "vf_explained_var": 0.6284111738204956, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 12357823, "sample_time_ms": 14815.425}, "custom_metrics": {"cost2_min": -167.5708980000538, "system_level_velocity_mean": 10.847810288676737, "outflow_rate_max": 960.3962847922642, "outflow_rate_min": 451.888122415903, "system_level_velocity_min": 4.175483868189658, "outflow_rate_mean": 657.3840945554313, "cost2_max": -14.568555856528041, "cost2_mean": -34.521516800836, "cost1_min": 109.99691479785831, "cost1_mean": 280.53478474464265, "system_level_velocity_max": 14.458347078498017, "cost1_max": 371.1254154055367}, "episode_len_mean": 700.0, "time_total_s": 4201.726543426514, "pid": 48556, "episodes_this_iter": 69, "episode_reward_max": 13768.692179635114, "timesteps_since_restore": 12357823, "node_ip": "10.138.0.2", "timestamp": 1556595344, "policy_reward_mean": {}, "episode_reward_mean": 5719.838774017982, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 104945, "time_this_iter_s": 36.59875416755676, "training_iteration": 104, "time_since_restore": 4201.726543426514, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3218.115130124552, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e908>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332ee10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e748>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 105, "date": "2019-04-30_03-36-20", "timesteps_total": 12462009, "episodes_total": 5645, "hostname": "flow-main", "info": {"num_steps_trained": 12462009, "grad_time_ms": 21322.798, "load_time_ms": 11.204, "update_time_ms": 11.719, "default": {"entropy": 2.0241167545318604, "cur_kl_coeff": 0.5062499046325684, "total_loss": 1521.731201171875, "vf_loss": 1521.7392578125, "policy_loss": -0.015595951117575169, "kl": 0.015001182444393635, "vf_explained_var": 0.6175200939178467, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 12462009, "sample_time_ms": 14796.956}, "custom_metrics": {"cost2_min": -167.5708980000538, "system_level_velocity_mean": 11.280350357650988, "outflow_rate_max": 960.3962847922642, "outflow_rate_min": 451.888122415903, "system_level_velocity_min": 6.773727022991475, "outflow_rate_mean": 664.6169483277106, "cost2_max": -14.404729225448733, "cost2_mean": -34.50614495563811, "cost1_min": 171.46501047210478, "cost1_mean": 290.89978605954667, "system_level_velocity_max": 14.458347078498017, "cost1_max": 371.1254154055367}, "episode_len_mean": 700.0, "time_total_s": 4237.695731639862, "pid": 48556, "episodes_this_iter": 77, "episode_reward_max": 13768.692179635114, "timesteps_since_restore": 12462009, "node_ip": "10.138.0.2", "timestamp": 1556595380, "policy_reward_mean": {}, "episode_reward_mean": 5615.390302917166, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 104186, "time_this_iter_s": 35.96918821334839, "training_iteration": 105, "time_since_restore": 4237.695731639862, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3104.043385835292, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e198>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332efd0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332edd8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 106, "date": "2019-04-30_03-36-57", "timesteps_total": 12568552, "episodes_total": 5709, "hostname": "flow-main", "info": {"num_steps_trained": 12568552, "grad_time_ms": 21149.946, "load_time_ms": 11.111, "update_time_ms": 11.703, "default": {"entropy": 1.9827929735183716, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1490.8114013671875, "vf_loss": 1490.818603515625, "policy_loss": -0.015097304247319698, "kl": 0.015345520339906216, "vf_explained_var": 0.6422971487045288, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 12568552, "sample_time_ms": 14770.471}, "custom_metrics": {"cost2_min": -144.93122076995823, "system_level_velocity_mean": 11.021929732880363, "outflow_rate_max": 950.5842441057074, "outflow_rate_min": 465.5831122253, "system_level_velocity_min": 6.130112811913284, "outflow_rate_mean": 674.3827037231441, "cost2_max": -15.215301402969297, "cost2_mean": -38.88586347371835, "cost1_min": 154.4673915779358, "cost1_mean": 284.8951099677263, "system_level_velocity_max": 14.433631160462747, "cost1_max": 370.428027093343}, "episode_len_mean": 700.0, "time_total_s": 4274.319669961929, "pid": 48556, "episodes_this_iter": 64, "episode_reward_max": 13241.187501243736, "timesteps_since_restore": 12568552, "node_ip": "10.138.0.2", "timestamp": 1556595417, "policy_reward_mean": {}, "episode_reward_mean": 5993.581985798143, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 106543, "time_this_iter_s": 36.62393832206726, "training_iteration": 106, "time_since_restore": 4274.319669961929, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3104.043385835292, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332eef0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332ee10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332ed68>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 107, "date": "2019-04-30_03-37-37", "timesteps_total": 12674624, "episodes_total": 5781, "hostname": "flow-main", "info": {"num_steps_trained": 12674624, "grad_time_ms": 21333.465, "load_time_ms": 11.112, "update_time_ms": 11.625, "default": {"entropy": 2.047381639480591, "cur_kl_coeff": 0.5062499046325684, "total_loss": 1486.40771484375, "vf_loss": 1486.4163818359375, "policy_loss": -0.015973156318068504, "kl": 0.014747034758329391, "vf_explained_var": 0.5912981033325195, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 12674624, "sample_time_ms": 14998.795}, "custom_metrics": {"cost2_min": -138.27462038327712, "system_level_velocity_mean": 10.767815416347398, "outflow_rate_max": 915.8756187612562, "outflow_rate_min": 457.39107104300905, "system_level_velocity_min": 5.018104474619771, "outflow_rate_mean": 664.8474291913876, "cost2_max": -15.215301402969297, "cost2_mean": -40.918801827321865, "cost1_min": 130.31637312418314, "cost1_mean": 277.60970266783255, "system_level_velocity_max": 14.844736592797418, "cost1_max": 381.1830083473924}, "episode_len_mean": 700.0, "time_total_s": 4314.133392333984, "pid": 48556, "episodes_this_iter": 72, "episode_reward_max": 12962.956503225587, "timesteps_since_restore": 12674624, "node_ip": "10.138.0.2", "timestamp": 1556595457, "policy_reward_mean": {}, "episode_reward_mean": 6077.894911431732, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 106072, "time_this_iter_s": 39.813722372055054, "training_iteration": 107, "time_since_restore": 4314.133392333984, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3128.6794519518294, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e198>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e470>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e828>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 108, "date": "2019-04-30_03-38-14", "timesteps_total": 12776990, "episodes_total": 5859, "hostname": "flow-main", "info": {"num_steps_trained": 12776990, "grad_time_ms": 21390.112, "load_time_ms": 11.13, "update_time_ms": 11.525, "default": {"entropy": 2.0852160453796387, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1443.7274169921875, "vf_loss": 1443.7371826171875, "policy_loss": -0.016851138323545456, "kl": 0.014327554032206535, "vf_explained_var": 0.6497587561607361, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 12776990, "sample_time_ms": 14993.499}, "custom_metrics": {"cost2_min": -137.01883882175656, "system_level_velocity_mean": 10.867779753043795, "outflow_rate_max": 923.9624636839354, "outflow_rate_min": 492.1548639590425, "system_level_velocity_min": 6.336349167701683, "outflow_rate_mean": 664.1168321692523, "cost2_max": -13.918952019854986, "cost2_mean": -37.60584566413665, "cost1_min": 161.2553982857577, "cost1_mean": 280.2977803064503, "system_level_velocity_max": 14.844736592797418, "cost1_max": 381.1830083473924}, "episode_len_mean": 700.0, "time_total_s": 4350.9869911670685, "pid": 48556, "episodes_this_iter": 78, "episode_reward_max": 13635.10796880677, "timesteps_since_restore": 12776990, "node_ip": "10.138.0.2", "timestamp": 1556595494, "policy_reward_mean": {}, "episode_reward_mean": 5804.983973001937, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 102366, "time_this_iter_s": 36.853598833084106, "training_iteration": 108, "time_since_restore": 4350.9869911670685, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3128.6794519518294, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332eb38>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332eb70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e400>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 109, "date": "2019-04-30_03-38-49", "timesteps_total": 12879534, "episodes_total": 5928, "hostname": "flow-main", "info": {"num_steps_trained": 12879534, "grad_time_ms": 21228.474, "load_time_ms": 11.588, "update_time_ms": 11.501, "default": {"entropy": 2.1004650592803955, "cur_kl_coeff": 0.5062499046325684, "total_loss": 1418.2840576171875, "vf_loss": 1418.2913818359375, "policy_loss": -0.014404192566871643, "kl": 0.014012393541634083, "vf_explained_var": 0.6209157705307007, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 12879534, "sample_time_ms": 14915.085}, "custom_metrics": {"cost2_min": -127.51864541156468, "system_level_velocity_mean": 10.986926097073649, "outflow_rate_max": 919.8100200486282, "outflow_rate_min": 496.4315179784659, "system_level_velocity_min": 6.86148864665342, "outflow_rate_mean": 649.286251933552, "cost2_max": -14.25316067866061, "cost2_mean": -32.75653414289865, "cost1_min": 176.69300642393307, "cost1_mean": 283.40559760718054, "system_level_velocity_max": 14.411451924650443, "cost1_max": 369.18186163833803}, "episode_len_mean": 700.0, "time_total_s": 4386.202697753906, "pid": 48556, "episodes_this_iter": 69, "episode_reward_max": 13431.048505021863, "timesteps_since_restore": 12879534, "node_ip": "10.138.0.2", "timestamp": 1556595529, "policy_reward_mean": {}, "episode_reward_mean": 5330.4907164418055, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 102544, "time_this_iter_s": 35.21570658683777, "training_iteration": 109, "time_since_restore": 4386.202697753906, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3191.896417663971, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326c50>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326b70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326f28>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 110, "date": "2019-04-30_03-39-23", "timesteps_total": 12981997, "episodes_total": 6007, "hostname": "flow-main", "info": {"num_steps_trained": 12981997, "grad_time_ms": 21080.427, "load_time_ms": 11.54, "update_time_ms": 11.654, "default": {"entropy": 2.1317129135131836, "cur_kl_coeff": 0.5062499046325684, "total_loss": 1532.17578125, "vf_loss": 1532.1842041015625, "policy_loss": -0.01563834398984909, "kl": 0.014194219373166561, "vf_explained_var": 0.5812137126922607, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 12981997, "sample_time_ms": 14965.97}, "custom_metrics": {"cost2_min": -128.2946119412497, "system_level_velocity_mean": 10.925320979339158, "outflow_rate_max": 900.3971752994528, "outflow_rate_min": 441.2630982848252, "system_level_velocity_min": 6.181031359092112, "outflow_rate_mean": 644.8851245001316, "cost2_max": -14.745165513156444, "cost2_mean": -30.89243498846955, "cost1_min": 158.36903283467615, "cost1_mean": 280.4507667174852, "system_level_velocity_max": 14.388382564501807, "cost1_max": 370.61677516421906}, "episode_len_mean": 700.0, "time_total_s": 4420.485458374023, "pid": 48556, "episodes_this_iter": 79, "episode_reward_max": 11910.837774367516, "timesteps_since_restore": 12981997, "node_ip": "10.138.0.2", "timestamp": 1556595563, "policy_reward_mean": {}, "episode_reward_mean": 5181.750517474957, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 102463, "time_this_iter_s": 34.28276062011719, "training_iteration": 110, "time_since_restore": 4420.485458374023, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3191.896417663971, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326978>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326eb8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326dd8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 111, "date": "2019-04-30_03-39-59", "timesteps_total": 13086006, "episodes_total": 6081, "hostname": "flow-main", "info": {"num_steps_trained": 13086006, "grad_time_ms": 21107.099, "load_time_ms": 11.568, "update_time_ms": 11.628, "default": {"entropy": 2.1058907508850098, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1392.9293212890625, "vf_loss": 1392.9376220703125, "policy_loss": -0.01567181758582592, "kl": 0.014585703611373901, "vf_explained_var": 0.6673226356506348, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 13086006, "sample_time_ms": 14947.858}, "custom_metrics": {"cost2_min": -167.75534544213915, "system_level_velocity_mean": 11.067385188802316, "outflow_rate_max": 915.9977066062621, "outflow_rate_min": 230.64408565169828, "system_level_velocity_min": 2.275365408266292, "outflow_rate_mean": 643.1877623207057, "cost2_max": -15.602773989351384, "cost2_mean": -32.88723445245467, "cost1_min": 58.45253553212355, "cost1_mean": 284.73282918679575, "system_level_velocity_max": 14.149197685248279, "cost1_max": 358.571400006282}, "episode_len_mean": 700.0, "time_total_s": 4456.227781295776, "pid": 48556, "episodes_this_iter": 74, "episode_reward_max": 14039.648741246641, "timesteps_since_restore": 13086006, "node_ip": "10.138.0.2", "timestamp": 1556595599, "policy_reward_mean": {}, "episode_reward_mean": 5271.197515411993, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 104009, "time_this_iter_s": 35.74232292175293, "training_iteration": 111, "time_since_restore": 4456.227781295776, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3194.0489687893864, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332ef98>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e198>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332eb00>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 112, "date": "2019-04-30_03-40-34", "timesteps_total": 13188739, "episodes_total": 6154, "hostname": "flow-main", "info": {"num_steps_trained": 13188739, "grad_time_ms": 21066.404, "load_time_ms": 11.649, "update_time_ms": 11.579, "default": {"entropy": 2.0924484729766846, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1305.703125, "vf_loss": 1305.7098388671875, "policy_loss": -0.013230973854660988, "kl": 0.013184932991862297, "vf_explained_var": 0.6033545732498169, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 13188739, "sample_time_ms": 14907.874}, "custom_metrics": {"cost2_min": -159.96282376393168, "system_level_velocity_mean": 11.18453978607932, "outflow_rate_max": 918.2164514706284, "outflow_rate_min": 401.31254537553144, "system_level_velocity_min": 4.546052530920426, "outflow_rate_mean": 641.1519472258422, "cost2_max": -12.926568654452256, "cost2_mean": -31.657497905387324, "cost1_min": 115.20887817031866, "cost1_mean": 288.1041702820063, "system_level_velocity_max": 15.175882723550947, "cost1_max": 393.2064722053862}, "episode_len_mean": 700.0, "time_total_s": 4491.276178359985, "pid": 48556, "episodes_this_iter": 73, "episode_reward_max": 13055.20293228953, "timesteps_since_restore": 13188739, "node_ip": "10.138.0.2", "timestamp": 1556595634, "policy_reward_mean": {}, "episode_reward_mean": 5175.494733772994, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 102733, "time_this_iter_s": 35.048397064208984, "training_iteration": 112, "time_since_restore": 4491.276178359985, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 305.474961653013, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326f28>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f048>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 113, "date": "2019-04-30_03-41-09", "timesteps_total": 13289349, "episodes_total": 6233, "hostname": "flow-main", "info": {"num_steps_trained": 13289349, "grad_time_ms": 20932.192, "load_time_ms": 10.218, "update_time_ms": 11.231, "default": {"entropy": 2.1445229053497314, "cur_kl_coeff": 0.5062499046325684, "total_loss": 1508.6563720703125, "vf_loss": 1508.6650390625, "policy_loss": -0.01589490845799446, "kl": 0.014373155310750008, "vf_explained_var": 0.5436650514602661, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 13289349, "sample_time_ms": 14945.665}, "custom_metrics": {"cost2_min": -159.96282376393168, "system_level_velocity_mean": 11.205438189861532, "outflow_rate_max": 901.6295204598149, "outflow_rate_min": 458.7186325435036, "system_level_velocity_min": 5.901835912918033, "outflow_rate_mean": 641.9834246825748, "cost2_max": -13.444548934904336, "cost2_mean": -30.537149331535417, "cost1_min": 24.649598219503414, "cost1_mean": 280.9110690800505, "system_level_velocity_max": 16.692375488656666, "cost1_max": 359.5771579786284}, "episode_len_mean": 686.89, "time_total_s": 4526.061632156372, "pid": 48556, "episodes_this_iter": 79, "episode_reward_max": 13055.20293228953, "timesteps_since_restore": 13289349, "node_ip": "10.138.0.2", "timestamp": 1556595669, "policy_reward_mean": {}, "episode_reward_mean": 5093.200589426116, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 100610, "time_this_iter_s": 34.78545379638672, "training_iteration": 113, "time_since_restore": 4526.061632156372, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 305.474961653013, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332ebe0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e550>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332ecc0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 114, "date": "2019-04-30_03-41-46", "timesteps_total": 13391389, "episodes_total": 6311, "hostname": "flow-main", "info": {"num_steps_trained": 13391389, "grad_time_ms": 20982.461, "load_time_ms": 10.64, "update_time_ms": 11.145, "default": {"entropy": 2.12874698638916, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1406.6900634765625, "vf_loss": 1406.69921875, "policy_loss": -0.016560988500714302, "kl": 0.01491822674870491, "vf_explained_var": 0.5257896780967712, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 13391389, "sample_time_ms": 14939.317}, "custom_metrics": {"cost2_min": -138.88363887266485, "system_level_velocity_mean": 11.550826409954677, "outflow_rate_max": 772.53169014805, "outflow_rate_min": 511.53350831561323, "system_level_velocity_min": 5.217118221796828, "outflow_rate_mean": 624.2448254757467, "cost2_max": -13.6310781681336, "cost2_mean": -26.7405334273745, "cost1_min": 24.649598219503414, "cost1_mean": 293.2780455273068, "system_level_velocity_max": 16.692375488656666, "cost1_max": 392.9124880558508}, "episode_len_mean": 693.43, "time_total_s": 4563.130784749985, "pid": 48556, "episodes_this_iter": 78, "episode_reward_max": 9234.606708228574, "timesteps_since_restore": 13391389, "node_ip": "10.138.0.2", "timestamp": 1556595706, "policy_reward_mean": {}, "episode_reward_mean": 4698.139858722355, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 102040, "time_this_iter_s": 37.06915259361267, "training_iteration": 114, "time_since_restore": 4563.130784749985, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3424.4055294055192, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331fcc0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331acc0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331fda0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 115, "date": "2019-04-30_03-42-24", "timesteps_total": 13496471, "episodes_total": 6380, "hostname": "flow-main", "info": {"num_steps_trained": 13496471, "grad_time_ms": 21151.663, "load_time_ms": 10.888, "update_time_ms": 11.105, "default": {"entropy": 2.10600209236145, "cur_kl_coeff": 0.5062499046325684, "total_loss": 1256.1529541015625, "vf_loss": 1256.1617431640625, "policy_loss": -0.015838829800486565, "kl": 0.014094468206167221, "vf_explained_var": 0.5550959706306458, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 13496471, "sample_time_ms": 14916.18}, "custom_metrics": {"cost2_min": -138.88363887266485, "system_level_velocity_mean": 11.214709017360912, "outflow_rate_max": 853.8787597530551, "outflow_rate_min": 490.6412402511502, "system_level_velocity_min": 5.217118221796828, "outflow_rate_mean": 641.3485265167584, "cost2_max": -13.520556598022953, "cost2_mean": -30.11480096388793, "cost1_min": 135.02015360388307, "cost1_mean": 288.4850437987409, "system_level_velocity_max": 13.96027366966363, "cost1_max": 359.9495063189546}, "episode_len_mean": 700.0, "time_total_s": 4600.582373857498, "pid": 48556, "episodes_this_iter": 69, "episode_reward_max": 11717.254803539607, "timesteps_since_restore": 13496471, "node_ip": "10.138.0.2", "timestamp": 1556595744, "policy_reward_mean": {}, "episode_reward_mean": 5163.652328455979, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 105082, "time_this_iter_s": 37.45158910751343, "training_iteration": 115, "time_since_restore": 4600.582373857498, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3329.6546702572878, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e0f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332ef98>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e710>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 116, "date": "2019-04-30_03-43-01", "timesteps_total": 13599910, "episodes_total": 6455, "hostname": "flow-main", "info": {"num_steps_trained": 13599910, "grad_time_ms": 21092.428, "load_time_ms": 10.948, "update_time_ms": 11.252, "default": {"entropy": 2.106781244277954, "cur_kl_coeff": 0.5062499046325684, "total_loss": 1367.383056640625, "vf_loss": 1367.391845703125, "policy_loss": -0.016277624294161797, "kl": 0.01472528837621212, "vf_explained_var": 0.5922893285751343, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 13599910, "sample_time_ms": 14986.283}, "custom_metrics": {"cost2_min": -119.05908102010076, "system_level_velocity_mean": 10.64238178361257, "outflow_rate_max": 843.3680089879399, "outflow_rate_min": 340.0436837699, "system_level_velocity_min": 3.453441386145987, "outflow_rate_mean": 638.999318085824, "cost2_max": -13.520556598022953, "cost2_mean": -35.88802022455191, "cost1_min": 88.8029250043312, "cost1_mean": 274.0678455756126, "system_level_velocity_max": 14.172012132030739, "cost1_max": 364.53193592808015}, "episode_len_mean": 700.0, "time_total_s": 4637.32822561264, "pid": 48556, "episodes_this_iter": 75, "episode_reward_max": 11615.270134412165, "timesteps_since_restore": 13599910, "node_ip": "10.138.0.2", "timestamp": 1556595781, "policy_reward_mean": {}, "episode_reward_mean": 5526.3947782011455, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 103439, "time_this_iter_s": 36.74585175514221, "training_iteration": 116, "time_since_restore": 4637.32822561264, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 194.2672650759674, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a337feb8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e588>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326978>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 117, "date": "2019-04-30_03-43-37", "timesteps_total": 13702676, "episodes_total": 6531, "hostname": "flow-main", "info": {"num_steps_trained": 13702676, "grad_time_ms": 20957.556, "load_time_ms": 10.804, "update_time_ms": 11.273, "default": {"entropy": 2.190892219543457, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1318.8135986328125, "vf_loss": 1318.8221435546875, "policy_loss": -0.015593853779137135, "kl": 0.013715431094169617, "vf_explained_var": 0.5634170770645142, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 13702676, "sample_time_ms": 14746.802}, "custom_metrics": {"cost2_min": -97.06200183306736, "system_level_velocity_mean": 10.981928231651635, "outflow_rate_max": 780.9646433244083, "outflow_rate_min": 404.50888043984776, "system_level_velocity_min": 5.041772951904185, "outflow_rate_mean": 623.0181658883691, "cost2_max": -13.419509328105182, "cost2_mean": -29.57423353407127, "cost1_min": 18.087284897838085, "cost1_mean": 277.79000419541046, "system_level_velocity_max": 16.879105622891313, "cost1_max": 363.26153378299045}, "episode_len_mean": 693.29, "time_total_s": 4673.377321720123, "pid": 48556, "episodes_this_iter": 76, "episode_reward_max": 11053.866924934648, "timesteps_since_restore": 13702676, "node_ip": "10.138.0.2", "timestamp": 1556595817, "policy_reward_mean": {}, "episode_reward_mean": 4971.0865116746245, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 102766, "time_this_iter_s": 36.04909610748291, "training_iteration": 117, "time_since_restore": 4673.377321720123, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3159.440627266903, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326160>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326f98>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326c50>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 118, "date": "2019-04-30_03-44-13", "timesteps_total": 13805592, "episodes_total": 6608, "hostname": "flow-main", "info": {"num_steps_trained": 13805592, "grad_time_ms": 20919.601, "load_time_ms": 10.703, "update_time_ms": 11.307, "default": {"entropy": 2.1632542610168457, "cur_kl_coeff": 0.5062499046325684, "total_loss": 1441.6619873046875, "vf_loss": 1441.6697998046875, "policy_loss": -0.01484436821192503, "kl": 0.013858779333531857, "vf_explained_var": 0.5634266138076782, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 13805592, "sample_time_ms": 14751.986}, "custom_metrics": {"cost2_min": -108.54356123780714, "system_level_velocity_mean": 10.8072761891212, "outflow_rate_max": 835.0821351649396, "outflow_rate_min": 468.67160972755033, "system_level_velocity_min": 4.69984667734596, "outflow_rate_mean": 616.4454183167152, "cost2_max": -13.596921906423143, "cost2_mean": -27.94708564844258, "cost1_min": 121.9352100096685, "cost1_mean": 278.2050949463309, "system_level_velocity_max": 15.134277036993678, "cost1_max": 383.68237895285426}, "episode_len_mean": 700.0, "time_total_s": 4709.902492284775, "pid": 48556, "episodes_this_iter": 77, "episode_reward_max": 12410.535594893168, "timesteps_since_restore": 13805592, "node_ip": "10.138.0.2", "timestamp": 1556595853, "policy_reward_mean": {}, "episode_reward_mean": 4917.599494875362, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 102916, "time_this_iter_s": 36.52517056465149, "training_iteration": 118, "time_since_restore": 4709.902492284775, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3113.078224422916, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e518>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e898>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e588>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 119, "date": "2019-04-30_03-44-50", "timesteps_total": 13908601, "episodes_total": 6686, "hostname": "flow-main", "info": {"num_steps_trained": 13908601, "grad_time_ms": 21082.274, "load_time_ms": 10.334, "update_time_ms": 11.595, "default": {"entropy": 2.178736448287964, "cur_kl_coeff": 0.5062499046325684, "total_loss": 1364.283447265625, "vf_loss": 1364.2918701171875, "policy_loss": -0.016071313992142677, "kl": 0.015014031901955605, "vf_explained_var": 0.5445756316184998, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 13908601, "sample_time_ms": 14743.101}, "custom_metrics": {"cost2_min": -98.95850401100691, "system_level_velocity_mean": 11.090618068350237, "outflow_rate_max": 881.3844724212476, "outflow_rate_min": 455.30303500676735, "system_level_velocity_min": 6.911466917624039, "outflow_rate_mean": 627.8497110106787, "cost2_max": -13.596921906423143, "cost2_mean": -29.052388291935596, "cost1_min": 171.58507160768667, "cost1_mean": 285.25462906746105, "system_level_velocity_max": 14.165512247564152, "cost1_max": 363.72112485617976}, "episode_len_mean": 700.0, "time_total_s": 4746.680203437805, "pid": 48556, "episodes_this_iter": 78, "episode_reward_max": 12270.845866216285, "timesteps_since_restore": 13908601, "node_ip": "10.138.0.2", "timestamp": 1556595890, "policy_reward_mean": {}, "episode_reward_mean": 4957.657559281853, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 103009, "time_this_iter_s": 36.777711153030396, "training_iteration": 119, "time_since_restore": 4746.680203437805, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3258.7759708328495, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332efd0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e0f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332ecc0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 120, "date": "2019-04-30_03-45-26", "timesteps_total": 14008722, "episodes_total": 6756, "hostname": "flow-main", "info": {"num_steps_trained": 14008722, "grad_time_ms": 21234.035, "load_time_ms": 10.645, "update_time_ms": 11.593, "default": {"entropy": 2.1932566165924072, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1339.6383056640625, "vf_loss": 1339.6470947265625, "policy_loss": -0.01592337340116501, "kl": 0.01404627040028572, "vf_explained_var": 0.5178755521774292, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 14008722, "sample_time_ms": 14780.325}, "custom_metrics": {"cost2_min": -98.95850401100691, "system_level_velocity_mean": 11.106733493409752, "outflow_rate_max": 824.7259719621949, "outflow_rate_min": 455.30303500676735, "system_level_velocity_min": 5.472019734072197, "outflow_rate_mean": 621.4484201181219, "cost2_max": -13.968645590855253, "cost2_mean": -28.815303026017123, "cost1_min": 142.91244470761237, "cost1_mean": 285.6808036204542, "system_level_velocity_max": 14.72421639672955, "cost1_max": 381.98944398596996}, "episode_len_mean": 700.0, "time_total_s": 4782.869885444641, "pid": 48556, "episodes_this_iter": 70, "episode_reward_max": 12270.845866216285, "timesteps_since_restore": 14008722, "node_ip": "10.138.0.2", "timestamp": 1556595926, "policy_reward_mean": {}, "episode_reward_mean": 4887.133988059259, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 100121, "time_this_iter_s": 36.18968200683594, "training_iteration": 120, "time_since_restore": 4782.869885444641, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3249.379498701629, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331fa20>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f9e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f080>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 121, "date": "2019-04-30_03-46-03", "timesteps_total": 14110710, "episodes_total": 6837, "hostname": "flow-main", "info": {"num_steps_trained": 14110710, "grad_time_ms": 21267.488, "load_time_ms": 10.51, "update_time_ms": 11.741, "default": {"entropy": 2.2054858207702637, "cur_kl_coeff": 0.5062499046325684, "total_loss": 1315.3564453125, "vf_loss": 1315.364990234375, "policy_loss": -0.015597815625369549, "kl": 0.014197662472724915, "vf_explained_var": 0.5627233386039734, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 14110710, "sample_time_ms": 14815.83}, "custom_metrics": {"cost2_min": -79.24155689586502, "system_level_velocity_mean": 11.266209698126461, "outflow_rate_max": 854.3822540320973, "outflow_rate_min": 450.0688478923403, "system_level_velocity_min": 5.977409456736241, "outflow_rate_mean": 623.635433421667, "cost2_max": -13.968645590855253, "cost2_mean": -27.03646424060034, "cost1_min": 153.98893704335546, "cost1_mean": 289.06411606230677, "system_level_velocity_max": 15.264941982962855, "cost1_max": 389.8423532829079}, "episode_len_mean": 700.0, "time_total_s": 4819.308928489685, "pid": 48556, "episodes_this_iter": 81, "episode_reward_max": 11298.436235251102, "timesteps_since_restore": 14110710, "node_ip": "10.138.0.2", "timestamp": 1556595963, "policy_reward_mean": {}, "episode_reward_mean": 4704.125083355271, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 101988, "time_this_iter_s": 36.439043045043945, "training_iteration": 121, "time_since_restore": 4819.308928489685, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3126.902669954958, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326c50>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326748>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326048>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 122, "date": "2019-04-30_03-46-39", "timesteps_total": 14211724, "episodes_total": 6918, "hostname": "flow-main", "info": {"num_steps_trained": 14211724, "grad_time_ms": 21293.719, "load_time_ms": 10.771, "update_time_ms": 11.765, "default": {"entropy": 2.183698892593384, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1453.5006103515625, "vf_loss": 1453.5091552734375, "policy_loss": -0.015401149168610573, "kl": 0.013647912070155144, "vf_explained_var": 0.5538278222084045, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 14211724, "sample_time_ms": 14898.956}, "custom_metrics": {"cost2_min": -102.00178105757372, "system_level_velocity_mean": 11.15945963085441, "outflow_rate_max": 865.1960143388926, "outflow_rate_min": 433.3311763621276, "system_level_velocity_min": 5.823134728220735, "outflow_rate_mean": 623.536851490614, "cost2_max": -12.476547761713146, "cost2_mean": -28.59904371275345, "cost1_min": 149.63860477415173, "cost1_mean": 287.04898967794145, "system_level_velocity_max": 14.963960177596023, "cost1_max": 372.59896330758966}, "episode_len_mean": 700.0, "time_total_s": 4855.456388950348, "pid": 48556, "episodes_this_iter": 81, "episode_reward_max": 11326.844233577285, "timesteps_since_restore": 14211724, "node_ip": "10.138.0.2", "timestamp": 1556595999, "policy_reward_mean": {}, "episode_reward_mean": 4756.091254861976, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 101014, "time_this_iter_s": 36.14746046066284, "training_iteration": 122, "time_since_restore": 4855.456388950348, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3103.2003269601214, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f080>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331fa90>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f9e8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 123, "date": "2019-04-30_03-47-15", "timesteps_total": 14311631, "episodes_total": 6998, "hostname": "flow-main", "info": {"num_steps_trained": 14311631, "grad_time_ms": 21368.806, "load_time_ms": 10.881, "update_time_ms": 11.739, "default": {"entropy": 2.2178258895874023, "cur_kl_coeff": 0.5062499046325684, "total_loss": 1447.586181640625, "vf_loss": 1447.5948486328125, "policy_loss": -0.01577976904809475, "kl": 0.013728305697441101, "vf_explained_var": 0.4751606583595276, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 14311631, "sample_time_ms": 14882.495}, "custom_metrics": {"cost2_min": -102.24305823619798, "system_level_velocity_mean": 11.349814341308747, "outflow_rate_max": 932.6163865913851, "outflow_rate_min": 433.3311763621276, "system_level_velocity_min": 5.547366649679419, "outflow_rate_mean": 627.7937429658313, "cost2_max": -11.812470775033526, "cost2_mean": -27.56767196580048, "cost1_min": 140.46398440810577, "cost1_mean": 292.08334086440397, "system_level_velocity_max": 15.736769115898719, "cost1_max": 393.793657817124}, "episode_len_mean": 700.0, "time_total_s": 4890.843868255615, "pid": 48556, "episodes_this_iter": 80, "episode_reward_max": 9430.162931741444, "timesteps_since_restore": 14311631, "node_ip": "10.138.0.2", "timestamp": 1556596035, "policy_reward_mean": {}, "episode_reward_mean": 4792.823718222381, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 99907, "time_this_iter_s": 35.387479305267334, "training_iteration": 123, "time_since_restore": 4890.843868255615, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3056.029901635773, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326748>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326048>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326c50>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 124, "date": "2019-04-30_03-47-48", "timesteps_total": 14412067, "episodes_total": 7084, "hostname": "flow-main", "info": {"num_steps_trained": 14412067, "grad_time_ms": 21017.381, "load_time_ms": 10.575, "update_time_ms": 11.715, "default": {"entropy": 2.235361099243164, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1467.76025390625, "vf_loss": 1467.768310546875, "policy_loss": -0.015024962835013866, "kl": 0.014099620282649994, "vf_explained_var": 0.4979565739631653, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 14412067, "sample_time_ms": 14895.044}, "custom_metrics": {"cost2_min": -79.19052401433224, "system_level_velocity_mean": 11.513594453317248, "outflow_rate_max": 832.9702097407298, "outflow_rate_min": 417.9440062118438, "system_level_velocity_min": 5.423786021247436, "outflow_rate_mean": 616.5682485684016, "cost2_max": -13.040235712216223, "cost2_mean": -24.865506059390224, "cost1_min": 137.7383003607251, "cost1_mean": 295.3045227203923, "system_level_velocity_max": 14.88274865245287, "cost1_max": 375.0570286646051}, "episode_len_mean": 700.0, "time_total_s": 4924.491164684296, "pid": 48556, "episodes_this_iter": 86, "episode_reward_max": 8267.668467632258, "timesteps_since_restore": 14412067, "node_ip": "10.138.0.2", "timestamp": 1556596068, "policy_reward_mean": {}, "episode_reward_mean": 4460.986349418587, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 100436, "time_this_iter_s": 33.64729642868042, "training_iteration": 124, "time_since_restore": 4924.491164684296, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 227.9502263423652, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332eac8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332eb70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e080>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 125, "date": "2019-04-30_03-48-22", "timesteps_total": 14511468, "episodes_total": 7163, "hostname": "flow-main", "info": {"num_steps_trained": 14511468, "grad_time_ms": 20583.955, "load_time_ms": 10.359, "update_time_ms": 11.723, "default": {"entropy": 2.236208200454712, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1444.3734130859375, "vf_loss": 1444.3814697265625, "policy_loss": -0.015194996260106564, "kl": 0.014326888136565685, "vf_explained_var": 0.43962255120277405, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 14511468, "sample_time_ms": 14900.36}, "custom_metrics": {"cost2_min": -103.8715322382246, "system_level_velocity_mean": 12.334391211538039, "outflow_rate_max": 906.9869041804569, "outflow_rate_min": 434.87890525128194, "system_level_velocity_min": 5.423786021247436, "outflow_rate_mean": 636.8173092681627, "cost2_max": -14.385061553617607, "cost2_mean": -26.399221091934464, "cost1_min": 19.94310219698879, "cost1_mean": 311.5040876754808, "system_level_velocity_max": 17.90397720210094, "cost1_max": 395.7704804098762}, "episode_len_mean": 693.32, "time_total_s": 4957.6286108493805, "pid": 48556, "episodes_this_iter": 79, "episode_reward_max": 8438.496758053478, "timesteps_since_restore": 14511468, "node_ip": "10.138.0.2", "timestamp": 1556596102, "policy_reward_mean": {}, "episode_reward_mean": 4481.1817930269035, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 99401, "time_this_iter_s": 33.13744616508484, "training_iteration": 125, "time_since_restore": 4957.6286108493805, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 2955.5664108657515, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332ef60>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e668>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332eda0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 126, "date": "2019-04-30_03-48-55", "timesteps_total": 14609689, "episodes_total": 7245, "hostname": "flow-main", "info": {"num_steps_trained": 14609689, "grad_time_ms": 20348.506, "load_time_ms": 10.442, "update_time_ms": 11.824, "default": {"entropy": 2.266068458557129, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1285.00390625, "vf_loss": 1285.0128173828125, "policy_loss": -0.015755295753479004, "kl": 0.013633784838020802, "vf_explained_var": 0.5693458318710327, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 14609689, "sample_time_ms": 14780.276}, "custom_metrics": {"cost2_min": -92.90007304131957, "system_level_velocity_mean": 11.832663080951907, "outflow_rate_max": 823.8074405277939, "outflow_rate_min": 439.78742596876447, "system_level_velocity_min": 5.087833469286627, "outflow_rate_mean": 617.8869519933472, "cost2_max": -13.57844919561829, "cost2_mean": -24.723844352429136, "cost1_min": 133.26258713241063, "cost1_mean": 302.91736430035894, "system_level_velocity_max": 15.466268404427264, "cost1_max": 387.72513166237803}, "episode_len_mean": 700.0, "time_total_s": 4990.8281762599945, "pid": 48556, "episodes_this_iter": 82, "episode_reward_max": 7741.3681876329265, "timesteps_since_restore": 14609689, "node_ip": "10.138.0.2", "timestamp": 1556596135, "policy_reward_mean": {}, "episode_reward_mean": 4348.613454381487, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 98221, "time_this_iter_s": 33.199565410614014, "training_iteration": 126, "time_since_restore": 4990.8281762599945, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3061.567293016742, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3323cc0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3323ef0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3323dd8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 127, "date": "2019-04-30_03-49-30", "timesteps_total": 14708969, "episodes_total": 7331, "hostname": "flow-main", "info": {"num_steps_trained": 14708969, "grad_time_ms": 20261.017, "load_time_ms": 10.742, "update_time_ms": 11.835, "default": {"entropy": 2.262552499771118, "cur_kl_coeff": 0.5062499046325684, "total_loss": 1366.273681640625, "vf_loss": 1366.282958984375, "policy_loss": -0.01622944325208664, "kl": 0.013868775218725204, "vf_explained_var": 0.5277093052864075, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 14708969, "sample_time_ms": 14753.595}, "custom_metrics": {"cost2_min": -68.08939665325777, "system_level_velocity_mean": 11.624786336841956, "outflow_rate_max": 829.9488145214158, "outflow_rate_min": 474.3521521328059, "system_level_velocity_min": 6.39866988694808, "outflow_rate_mean": 626.0668043381721, "cost2_max": -11.172647204278734, "cost2_mean": -25.016150986442298, "cost1_min": 166.55358085670167, "cost1_mean": 298.68530580373306, "system_level_velocity_max": 15.821721362681773, "cost1_max": 393.0673200448665}, "episode_len_mean": 700.0, "time_total_s": 5025.730235815048, "pid": 48556, "episodes_this_iter": 86, "episode_reward_max": 7741.3681876329265, "timesteps_since_restore": 14708969, "node_ip": "10.138.0.2", "timestamp": 1556596170, "policy_reward_mean": {}, "episode_reward_mean": 4487.13008712032, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 99280, "time_this_iter_s": 34.90205955505371, "training_iteration": 127, "time_since_restore": 5025.730235815048, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 2955.539704242112, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e208>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332edd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332eba8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 128, "date": "2019-04-30_03-50-06", "timesteps_total": 14808039, "episodes_total": 7414, "hostname": "flow-main", "info": {"num_steps_trained": 14808039, "grad_time_ms": 20330.358, "load_time_ms": 11.054, "update_time_ms": 11.819, "default": {"entropy": 2.2631537914276123, "cur_kl_coeff": 0.5062499046325684, "total_loss": 1301.733154296875, "vf_loss": 1301.7413330078125, "policy_loss": -0.01568455435335636, "kl": 0.01480844710022211, "vf_explained_var": 0.5813345909118652, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 14808039, "sample_time_ms": 14636.268}, "custom_metrics": {"cost2_min": -68.90473840525091, "system_level_velocity_mean": 11.649943473396338, "outflow_rate_max": 875.3974277080728, "outflow_rate_min": 392.9491854849985, "system_level_velocity_min": 4.513766755953758, "outflow_rate_mean": 624.3478338887403, "cost2_max": -13.671146047175913, "cost2_mean": -25.006075160380924, "cost1_min": 115.98362877654446, "cost1_mean": 298.34187110021423, "system_level_velocity_max": 15.821721362681773, "cost1_max": 393.0673200448665}, "episode_len_mean": 700.0, "time_total_s": 5061.768763303757, "pid": 48556, "episodes_this_iter": 83, "episode_reward_max": 8503.979611040557, "timesteps_since_restore": 14808039, "node_ip": "10.138.0.2", "timestamp": 1556596206, "policy_reward_mean": {}, "episode_reward_mean": 4473.163249389628, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 99070, "time_this_iter_s": 36.038527488708496, "training_iteration": 128, "time_since_restore": 5061.768763303757, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 346.8286308927434, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3323978>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33230b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3323a20>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 129, "date": "2019-04-30_03-50-42", "timesteps_total": 14907472, "episodes_total": 7496, "hostname": "flow-main", "info": {"num_steps_trained": 14907472, "grad_time_ms": 20218.94, "load_time_ms": 11.507, "update_time_ms": 11.565, "default": {"entropy": 2.263226270675659, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1317.728515625, "vf_loss": 1317.73681640625, "policy_loss": -0.015534486621618271, "kl": 0.014196757227182388, "vf_explained_var": 0.5302069187164307, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 14907472, "sample_time_ms": 14704.542}, "custom_metrics": {"cost2_min": -57.503259308372094, "system_level_velocity_mean": 11.905237439136744, "outflow_rate_max": 871.6366144866643, "outflow_rate_min": 519.559041333864, "system_level_velocity_min": 7.049957813016697, "outflow_rate_mean": 623.1648055714601, "cost2_max": -12.40174705666124, "cost2_mean": -23.639434094420206, "cost1_min": 30.942208498004987, "cost1_mean": 300.34309446450015, "system_level_velocity_max": 18.704014569926233, "cost1_max": 383.93870464875243}, "episode_len_mean": 693.47, "time_total_s": 5098.064646482468, "pid": 48556, "episodes_this_iter": 82, "episode_reward_max": 7997.646921489993, "timesteps_since_restore": 14907472, "node_ip": "10.138.0.2", "timestamp": 1556596242, "policy_reward_mean": {}, "episode_reward_mean": 4369.442405211792, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 99433, "time_this_iter_s": 36.29588317871094, "training_iteration": 129, "time_since_restore": 5098.064646482468, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 196.46210942104594, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e668>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332ef60>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e128>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 130, "date": "2019-04-30_03-51-17", "timesteps_total": 15006313, "episodes_total": 7579, "hostname": "flow-main", "info": {"num_steps_trained": 15006313, "grad_time_ms": 20167.073, "load_time_ms": 11.498, "update_time_ms": 11.299, "default": {"entropy": 2.2696056365966797, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1402.7669677734375, "vf_loss": 1402.7763671875, "policy_loss": -0.01664271205663681, "kl": 0.014092743396759033, "vf_explained_var": 0.5256245136260986, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 15006313, "sample_time_ms": 14608.791}, "custom_metrics": {"cost2_min": -87.70577938533756, "system_level_velocity_mean": 12.277702512797612, "outflow_rate_max": 774.9314956693241, "outflow_rate_min": 468.19277766709695, "system_level_velocity_min": 7.339845360377198, "outflow_rate_mean": 633.1509879677002, "cost2_max": -11.06431057140017, "cost2_mean": -24.254705949399217, "cost1_min": 15.669819789215394, "cost1_mean": 301.02728690539925, "system_level_velocity_max": 18.507007297626448, "cost1_max": 387.9592090540857}, "episode_len_mean": 680.09, "time_total_s": 5132.7959089279175, "pid": 48556, "episodes_this_iter": 83, "episode_reward_max": 7693.093740946584, "timesteps_since_restore": 15006313, "node_ip": "10.138.0.2", "timestamp": 1556596277, "policy_reward_mean": {}, "episode_reward_mean": 4373.429309123523, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 98841, "time_this_iter_s": 34.73126244544983, "training_iteration": 130, "time_since_restore": 5132.7959089279175, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 2938.8410749794957, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33233c8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3323470>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3323438>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 131, "date": "2019-04-30_03-51-52", "timesteps_total": 15105909, "episodes_total": 7668, "hostname": "flow-main", "info": {"num_steps_trained": 15105909, "grad_time_ms": 20067.426, "load_time_ms": 12.024, "update_time_ms": 11.182, "default": {"entropy": 2.258949041366577, "cur_kl_coeff": 0.5062499046325684, "total_loss": 1380.1754150390625, "vf_loss": 1380.18359375, "policy_loss": -0.015392129309475422, "kl": 0.014406693167984486, "vf_explained_var": 0.6217818856239319, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 15105909, "sample_time_ms": 14547.447}, "custom_metrics": {"cost2_min": -83.709826351007, "system_level_velocity_mean": 11.690628787270448, "outflow_rate_max": 859.5415480938346, "outflow_rate_min": 396.5978761901965, "system_level_velocity_min": 3.768143415147554, "outflow_rate_mean": 628.6771751825861, "cost2_max": -12.741036636866545, "cost2_mean": -25.42886669227724, "cost1_min": 95.09677589075638, "cost1_mean": 300.5900122727168, "system_level_velocity_max": 15.40428096319264, "cost1_max": 393.0219563240628}, "episode_len_mean": 700.0, "time_total_s": 5167.615382671356, "pid": 48556, "episodes_this_iter": 89, "episode_reward_max": 9540.300360909281, "timesteps_since_restore": 15105909, "node_ip": "10.138.0.2", "timestamp": 1556596312, "policy_reward_mean": {}, "episode_reward_mean": 4554.795276928174, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 99596, "time_this_iter_s": 34.81947374343872, "training_iteration": 131, "time_since_restore": 5167.615382671356, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3439.966103791839, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332edd8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332eba8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e208>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 132, "date": "2019-04-30_03-52-26", "timesteps_total": 15205048, "episodes_total": 7744, "hostname": "flow-main", "info": {"num_steps_trained": 15205048, "grad_time_ms": 19985.103, "load_time_ms": 11.86, "update_time_ms": 11.207, "default": {"entropy": 2.2424943447113037, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1357.162109375, "vf_loss": 1357.1719970703125, "policy_loss": -0.017648357897996902, "kl": 0.015489691868424416, "vf_explained_var": 0.5708927512168884, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 15205048, "sample_time_ms": 14457.535}, "custom_metrics": {"cost2_min": -76.67258422845526, "system_level_velocity_mean": 12.306046998836472, "outflow_rate_max": 908.3683343595673, "outflow_rate_min": 447.92140025528596, "system_level_velocity_min": 7.865123416878609, "outflow_rate_mean": 637.3550559915374, "cost2_max": -13.1985680199825, "cost2_mean": -25.114289578948355, "cost1_min": 200.67351862330258, "cost1_mean": 315.0195804341724, "system_level_velocity_max": 15.625454553636263, "cost1_max": 394.72105524196957}, "episode_len_mean": 700.0, "time_total_s": 5202.025639533997, "pid": 48556, "episodes_this_iter": 76, "episode_reward_max": 7990.1828245965135, "timesteps_since_restore": 15205048, "node_ip": "10.138.0.2", "timestamp": 1556596346, "policy_reward_mean": {}, "episode_reward_mean": 4515.377646016321, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 99139, "time_this_iter_s": 34.41025686264038, "training_iteration": 132, "time_since_restore": 5202.025639533997, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 358.4963332109727, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33231d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3323dd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3323b70>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 133, "date": "2019-04-30_03-53-03", "timesteps_total": 15304602, "episodes_total": 7828, "hostname": "flow-main", "info": {"num_steps_trained": 15304602, "grad_time_ms": 20019.343, "load_time_ms": 12.038, "update_time_ms": 10.982, "default": {"entropy": 2.2628304958343506, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1469.9898681640625, "vf_loss": 1469.9986572265625, "policy_loss": -0.016132622957229614, "kl": 0.014489356428384781, "vf_explained_var": 0.5825849771499634, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 15304602, "sample_time_ms": 14488.027}, "custom_metrics": {"cost2_min": -84.1015651271558, "system_level_velocity_mean": 11.879075013671418, "outflow_rate_max": 873.2734318157513, "outflow_rate_min": 427.25056103046074, "system_level_velocity_min": 4.711935383934515, "outflow_rate_mean": 631.8102804110358, "cost2_max": -12.75454418819527, "cost2_mean": -24.816809252303887, "cost1_min": 27.708594096792613, "cost1_mean": 301.0704122857323, "system_level_velocity_max": 17.092324427674345, "cost1_max": 394.72105524196957}, "episode_len_mean": 693.47, "time_total_s": 5238.093484163284, "pid": 48556, "episodes_this_iter": 84, "episode_reward_max": 7495.659850002364, "timesteps_since_restore": 15304602, "node_ip": "10.138.0.2", "timestamp": 1556596383, "policy_reward_mean": {}, "episode_reward_mean": 4530.649697015787, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 99554, "time_this_iter_s": 36.06784462928772, "training_iteration": 133, "time_since_restore": 5238.093484163284, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 2031.9335620806744, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331a8d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331acc0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33269b0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 134, "date": "2019-04-30_03-53-38", "timesteps_total": 15404379, "episodes_total": 7914, "hostname": "flow-main", "info": {"num_steps_trained": 15404379, "grad_time_ms": 20169.487, "load_time_ms": 12.332, "update_time_ms": 11.042, "default": {"entropy": 2.262012243270874, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1342.985107421875, "vf_loss": 1342.992919921875, "policy_loss": -0.015024718828499317, "kl": 0.01437128521502018, "vf_explained_var": 0.6312191486358643, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 15404379, "sample_time_ms": 14505.653}, "custom_metrics": {"cost2_min": -71.60512875886644, "system_level_velocity_mean": 11.802543069016968, "outflow_rate_max": 822.007966564996, "outflow_rate_min": 391.19962996408873, "system_level_velocity_min": 4.1300404951906176, "outflow_rate_mean": 624.8097752515343, "cost2_max": -12.983814693584598, "cost2_mean": -24.933016162057214, "cost1_min": 106.93106081589636, "cost1_mean": 300.05512511459267, "system_level_velocity_max": 15.097472013484325, "cost1_max": 381.14530763890644}, "episode_len_mean": 696.05, "time_total_s": 5273.435664653778, "pid": 48556, "episodes_this_iter": 86, "episode_reward_max": 7002.595309189148, "timesteps_since_restore": 15404379, "node_ip": "10.138.0.2", "timestamp": 1556596418, "policy_reward_mean": {}, "episode_reward_mean": 4418.34759379872, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 99777, "time_this_iter_s": 35.342180490493774, "training_iteration": 134, "time_since_restore": 5273.435664653778, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 2348.354870372041, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326048>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326f98>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326588>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 135, "date": "2019-04-30_03-54-12", "timesteps_total": 15502057, "episodes_total": 7996, "hostname": "flow-main", "info": {"num_steps_trained": 15502057, "grad_time_ms": 20288.864, "load_time_ms": 12.33, "update_time_ms": 11.103, "default": {"entropy": 2.2853267192840576, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1452.5762939453125, "vf_loss": 1452.5855712890625, "policy_loss": -0.016170701012015343, "kl": 0.013829742558300495, "vf_explained_var": 0.5854801535606384, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 15502057, "sample_time_ms": 14480.213}, "custom_metrics": {"cost2_min": -58.26303752874118, "system_level_velocity_mean": 12.202320536389811, "outflow_rate_max": 825.5578837643357, "outflow_rate_min": 316.1232106503317, "system_level_velocity_min": 3.0379181467665965, "outflow_rate_mean": 640.5947444089752, "cost2_max": -12.89775986582572, "cost2_mean": -24.868771722199607, "cost1_min": 77.61749035361893, "cost1_mean": 311.0273832348991, "system_level_velocity_max": 14.940171403607419, "cost1_max": 379.6426573487745}, "episode_len_mean": 696.41, "time_total_s": 5307.521747112274, "pid": 48556, "episodes_this_iter": 82, "episode_reward_max": 7317.520424679624, "timesteps_since_restore": 15502057, "node_ip": "10.138.0.2", "timestamp": 1556596452, "policy_reward_mean": {}, "episode_reward_mean": 4521.890916873163, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 97678, "time_this_iter_s": 34.086082458496094, "training_iteration": 135, "time_since_restore": 5307.521747112274, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 105.54286156372993, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e668>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e5f8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e320>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 136, "date": "2019-04-30_03-54-48", "timesteps_total": 15601434, "episodes_total": 8082, "hostname": "flow-main", "info": {"num_steps_trained": 15601434, "grad_time_ms": 20471.818, "load_time_ms": 12.341, "update_time_ms": 10.887, "default": {"entropy": 2.2665205001831055, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1442.669189453125, "vf_loss": 1442.677001953125, "policy_loss": -0.015225449576973915, "kl": 0.014160854741930962, "vf_explained_var": 0.6349572539329529, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 15601434, "sample_time_ms": 14538.674}, "custom_metrics": {"cost2_min": -50.145808962861324, "system_level_velocity_mean": 12.33868688755259, "outflow_rate_max": 870.3760813937602, "outflow_rate_min": 412.34019196791354, "system_level_velocity_min": 5.551410066084078, "outflow_rate_mean": 639.4442067584283, "cost2_max": -12.89775986582572, "cost2_mean": -23.66336697389781, "cost1_min": 12.253640855095908, "cost1_mean": 311.2564831939566, "system_level_velocity_max": 16.670138434201334, "cost1_max": 396.16877271867173}, "episode_len_mean": 693.19, "time_total_s": 5343.110116243362, "pid": 48556, "episodes_this_iter": 86, "episode_reward_max": 7317.520424679624, "timesteps_since_restore": 15601434, "node_ip": "10.138.0.2", "timestamp": 1556596488, "policy_reward_mean": {}, "episode_reward_mean": 4414.353649576885, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 99377, "time_this_iter_s": 35.58836913108826, "training_iteration": 136, "time_since_restore": 5343.110116243362, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 319.0670104365794, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326710>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331acc0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 137, "date": "2019-04-30_03-55-24", "timesteps_total": 15699357, "episodes_total": 8166, "hostname": "flow-main", "info": {"num_steps_trained": 15699357, "grad_time_ms": 20579.052, "load_time_ms": 12.04, "update_time_ms": 10.976, "default": {"entropy": 2.2682437896728516, "cur_kl_coeff": 0.5062499046325684, "total_loss": 1496.6337890625, "vf_loss": 1496.6414794921875, "policy_loss": -0.015242266468703747, "kl": 0.014920747838914394, "vf_explained_var": 0.5561432242393494, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 15699357, "sample_time_ms": 14545.041}, "custom_metrics": {"cost2_min": -60.95547204172165, "system_level_velocity_mean": 12.471420727638222, "outflow_rate_max": 870.3760813937602, "outflow_rate_min": 407.0325306799824, "system_level_velocity_min": 5.044002188684229, "outflow_rate_mean": 644.6347567045298, "cost2_max": -13.80474808666722, "cost2_mean": -24.208483445045896, "cost1_min": 28.20335350180564, "cost1_mean": 314.39677749219504, "system_level_velocity_max": 18.080498462584725, "cost1_max": 398.9758445285587}, "episode_len_mean": 693.44, "time_total_s": 5379.186817407608, "pid": 48556, "episodes_this_iter": 84, "episode_reward_max": 8760.256831555234, "timesteps_since_restore": 15699357, "node_ip": "10.138.0.2", "timestamp": 1556596524, "policy_reward_mean": {}, "episode_reward_mean": 4476.038610834086, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 97923, "time_this_iter_s": 36.076701164245605, "training_iteration": 137, "time_since_restore": 5379.186817407608, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3372.165411491392, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332efd0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e550>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f390>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 138, "date": "2019-04-30_03-56-00", "timesteps_total": 15797399, "episodes_total": 8251, "hostname": "flow-main", "info": {"num_steps_trained": 15797399, "grad_time_ms": 20534.697, "load_time_ms": 11.136, "update_time_ms": 11.122, "default": {"entropy": 2.25251841545105, "cur_kl_coeff": 0.5062499046325684, "total_loss": 1569.0091552734375, "vf_loss": 1569.0167236328125, "policy_loss": -0.014461991377174854, "kl": 0.01399197056889534, "vf_explained_var": 0.5476648807525635, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 15797399, "sample_time_ms": 14576.972}, "custom_metrics": {"cost2_min": -80.0354953999759, "system_level_velocity_mean": 12.850017411247059, "outflow_rate_max": 949.6805536442795, "outflow_rate_min": 407.0325306799824, "system_level_velocity_min": 5.044002188684229, "outflow_rate_mean": 651.5896333545343, "cost2_max": -15.024025648307774, "cost2_mean": -24.823276419566273, "cost1_min": 127.35467278093833, "cost1_mean": 327.9817540961731, "system_level_velocity_max": 16.15695913711154, "cost1_max": 407.71714238918423}, "episode_len_mean": 700.0, "time_total_s": 5415.079402685165, "pid": 48556, "episodes_this_iter": 85, "episode_reward_max": 8570.698908570645, "timesteps_since_restore": 15797399, "node_ip": "10.138.0.2", "timestamp": 1556596560, "policy_reward_mean": {}, "episode_reward_mean": 4511.485388904261, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 98042, "time_this_iter_s": 35.89258527755737, "training_iteration": 138, "time_since_restore": 5415.079402685165, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3155.9540997702265, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3323048>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a337feb8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3323cf8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 139, "date": "2019-04-30_03-56-35", "timesteps_total": 15896999, "episodes_total": 8334, "hostname": "flow-main", "info": {"num_steps_trained": 15896999, "grad_time_ms": 20481.693, "load_time_ms": 11.887, "update_time_ms": 11.065, "default": {"entropy": 2.2592148780822754, "cur_kl_coeff": 0.5062499046325684, "total_loss": 1375.9566650390625, "vf_loss": 1375.965576171875, "policy_loss": -0.01613471657037735, "kl": 0.014540211297571659, "vf_explained_var": 0.6214510202407837, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 15896999, "sample_time_ms": 14519.328}, "custom_metrics": {"cost2_min": -74.74029600229223, "system_level_velocity_mean": 12.458320753814025, "outflow_rate_max": 849.5035360900404, "outflow_rate_min": 285.01988084188895, "system_level_velocity_min": 3.6885945878336837, "outflow_rate_mean": 649.737732281868, "cost2_max": -13.784271782331622, "cost2_mean": -24.464740257089012, "cost1_min": 93.28132533816263, "cost1_mean": 318.1923798758624, "system_level_velocity_max": 16.15695913711154, "cost1_max": 407.71714238918423}, "episode_len_mean": 700.0, "time_total_s": 5450.299005746841, "pid": 48556, "episodes_this_iter": 83, "episode_reward_max": 9332.623837712199, "timesteps_since_restore": 15896999, "node_ip": "10.138.0.2", "timestamp": 1556596595, "policy_reward_mean": {}, "episode_reward_mean": 4589.116405736553, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 99600, "time_this_iter_s": 35.219603061676025, "training_iteration": 139, "time_since_restore": 5450.299005746841, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3175.5616454984797, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e240>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332ec88>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332edd8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 140, "date": "2019-04-30_03-57-12", "timesteps_total": 15994683, "episodes_total": 8413, "hostname": "flow-main", "info": {"num_steps_trained": 15994683, "grad_time_ms": 20614.703, "load_time_ms": 11.732, "update_time_ms": 11.104, "default": {"entropy": 2.27852201461792, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1563.4400634765625, "vf_loss": 1563.4476318359375, "policy_loss": -0.016097713261842728, "kl": 0.016659917309880257, "vf_explained_var": 0.5490990281105042, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 15994683, "sample_time_ms": 14591.022}, "custom_metrics": {"cost2_min": -74.74029600229223, "system_level_velocity_mean": 12.239643604949794, "outflow_rate_max": 805.4215553865341, "outflow_rate_min": 345.1763218098012, "system_level_velocity_min": 3.109517535601435, "outflow_rate_mean": 651.2390830800716, "cost2_max": -14.265909073133827, "cost2_mean": -26.09523233112689, "cost1_min": 79.43705057008836, "cost1_mean": 313.90916213732305, "system_level_velocity_max": 16.24476724204305, "cost1_max": 406.29179780556495}, "episode_len_mean": 700.0, "time_total_s": 5487.074100255966, "pid": 48556, "episodes_this_iter": 79, "episode_reward_max": 7821.645475128183, "timesteps_since_restore": 15994683, "node_ip": "10.138.0.2", "timestamp": 1556596632, "policy_reward_mean": {}, "episode_reward_mean": 4638.695264210194, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 97684, "time_this_iter_s": 36.775094509124756, "training_iteration": 140, "time_since_restore": 5487.074100255966, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3235.542948917841, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33230f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3323dd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3323358>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 141, "date": "2019-04-30_03-57-46", "timesteps_total": 16093775, "episodes_total": 8500, "hostname": "flow-main", "info": {"num_steps_trained": 16093775, "grad_time_ms": 20536.27, "load_time_ms": 12.02, "update_time_ms": 11.076, "default": {"entropy": 2.3216543197631836, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1474.511962890625, "vf_loss": 1474.5205078125, "policy_loss": -0.016133306547999382, "kl": 0.014729401096701622, "vf_explained_var": 0.6096158027648926, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 16093775, "sample_time_ms": 14578.285}, "custom_metrics": {"cost2_min": -67.38169516012356, "system_level_velocity_mean": 12.105158589576511, "outflow_rate_max": 834.9462118039555, "outflow_rate_min": 385.1903337919837, "system_level_velocity_min": 4.186098910326239, "outflow_rate_mean": 627.3125060904364, "cost2_max": -13.663349813895218, "cost2_mean": -24.945226145160426, "cost1_min": 106.17514775742066, "cost1_mean": 310.4175996964378, "system_level_velocity_max": 15.339220869270095, "cost1_max": 392.877744358698}, "episode_len_mean": 700.0, "time_total_s": 5520.991723775864, "pid": 48556, "episodes_this_iter": 87, "episode_reward_max": 6537.557767967473, "timesteps_since_restore": 16093775, "node_ip": "10.138.0.2", "timestamp": 1556596666, "policy_reward_mean": {}, "episode_reward_mean": 4348.594383985794, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 99092, "time_this_iter_s": 33.91762351989746, "training_iteration": 141, "time_since_restore": 5520.991723775864, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3106.325084442628, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326710>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326dd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a337feb8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 142, "date": "2019-04-30_03-58-21", "timesteps_total": 16192334, "episodes_total": 8579, "hostname": "flow-main", "info": {"num_steps_trained": 16192334, "grad_time_ms": 20542.129, "load_time_ms": 11.853, "update_time_ms": 11.053, "default": {"entropy": 2.3364417552948, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1318.8875732421875, "vf_loss": 1318.89599609375, "policy_loss": -0.015614064410328865, "kl": 0.014254925772547722, "vf_explained_var": 0.646234929561615, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 16192334, "sample_time_ms": 14607.495}, "custom_metrics": {"cost2_min": -69.86240450676483, "system_level_velocity_mean": 12.084540960331994, "outflow_rate_max": 854.5296093038752, "outflow_rate_min": 307.56584313934496, "system_level_velocity_min": 4.52077265166851, "outflow_rate_mean": 625.4676451802675, "cost2_max": -13.638648253596092, "cost2_mean": -25.391053480146365, "cost1_min": 117.8603933094033, "cost1_mean": 308.9618869726679, "system_level_velocity_max": 16.060097975442975, "cost1_max": 406.7539580373773}, "episode_len_mean": 700.0, "time_total_s": 5555.75780415535, "pid": 48556, "episodes_this_iter": 79, "episode_reward_max": 8195.446617256834, "timesteps_since_restore": 16192334, "node_ip": "10.138.0.2", "timestamp": 1556596701, "policy_reward_mean": {}, "episode_reward_mean": 4313.472091685448, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 98559, "time_this_iter_s": 34.766080379486084, "training_iteration": 142, "time_since_restore": 5555.75780415535, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3017.3323399372234, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3323240>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33238d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3323358>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 143, "date": "2019-04-30_03-58-56", "timesteps_total": 16291283, "episodes_total": 8669, "hostname": "flow-main", "info": {"num_steps_trained": 16291283, "grad_time_ms": 20467.951, "load_time_ms": 11.961, "update_time_ms": 11.304, "default": {"entropy": 2.3526852130889893, "cur_kl_coeff": 0.5062499046325684, "total_loss": 1373.22021484375, "vf_loss": 1373.2294921875, "policy_loss": -0.01648310199379921, "kl": 0.014130759052932262, "vf_explained_var": 0.6335101127624512, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 16291283, "sample_time_ms": 14621.474}, "custom_metrics": {"cost2_min": -77.99715142989632, "system_level_velocity_mean": 12.069388260918554, "outflow_rate_max": 869.022703901786, "outflow_rate_min": 381.6164556679409, "system_level_velocity_min": 3.527921513080671, "outflow_rate_mean": 620.9813818260826, "cost2_max": -13.810178268797456, "cost2_mean": -24.69171668883189, "cost1_min": 90.49006079945688, "cost1_mean": 307.93700504978716, "system_level_velocity_max": 15.797863740440192, "cost1_max": 401.82181407260816}, "episode_len_mean": 700.0, "time_total_s": 5591.1925275325775, "pid": 48556, "episodes_this_iter": 90, "episode_reward_max": 7067.995032453265, "timesteps_since_restore": 16291283, "node_ip": "10.138.0.2", "timestamp": 1556596736, "policy_reward_mean": {}, "episode_reward_mean": 4267.780832398011, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 98949, "time_this_iter_s": 35.43472337722778, "training_iteration": 143, "time_since_restore": 5591.1925275325775, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3016.1708299746692, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3323320>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3326908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33231d0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 144, "date": "2019-04-30_03-59-32", "timesteps_total": 16389753, "episodes_total": 8754, "hostname": "flow-main", "info": {"num_steps_trained": 16389753, "grad_time_ms": 20543.848, "load_time_ms": 11.918, "update_time_ms": 11.252, "default": {"entropy": 2.3440115451812744, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1573.650146484375, "vf_loss": 1573.658447265625, "policy_loss": -0.015674518421292305, "kl": 0.014789559878408909, "vf_explained_var": 0.533696174621582, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 16389753, "sample_time_ms": 14615.743}, "custom_metrics": {"cost2_min": -73.25808874416518, "system_level_velocity_mean": 12.314451619054058, "outflow_rate_max": 801.9857723132935, "outflow_rate_min": 516.7819807799843, "system_level_velocity_min": 6.618568669762565, "outflow_rate_mean": 641.9703091896085, "cost2_max": -12.122280024870463, "cost2_mean": -25.293667246583464, "cost1_min": 169.2343285522618, "cost1_mean": 314.129328120261, "system_level_velocity_max": 15.905061894817798, "cost1_max": 402.54689006039735}, "episode_len_mean": 700.0, "time_total_s": 5627.256256103516, "pid": 48556, "episodes_this_iter": 85, "episode_reward_max": 8749.30138318979, "timesteps_since_restore": 16389753, "node_ip": "10.138.0.2", "timestamp": 1556596772, "policy_reward_mean": {}, "episode_reward_mean": 4442.2245397925835, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 98470, "time_this_iter_s": 36.06372857093811, "training_iteration": 144, "time_since_restore": 5627.256256103516, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 191.28902759628494, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33238d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3323358>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3323908>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 145, "date": "2019-04-30_04-00-08", "timesteps_total": 16489517, "episodes_total": 8840, "hostname": "flow-main", "info": {"num_steps_trained": 16489517, "grad_time_ms": 20623.933, "load_time_ms": 12.063, "update_time_ms": 11.456, "default": {"entropy": 2.353853940963745, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1544.16259765625, "vf_loss": 1544.17138671875, "policy_loss": -0.01621454954147339, "kl": 0.014897022396326065, "vf_explained_var": 0.6374853253364563, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 16489517, "sample_time_ms": 14638.804}, "custom_metrics": {"cost2_min": -82.0819587619406, "system_level_velocity_mean": 12.196450749321393, "outflow_rate_max": 838.8277154766605, "outflow_rate_min": 353.74350508955024, "system_level_velocity_min": 2.921947489417958, "outflow_rate_mean": 631.9969495639464, "cost2_max": -13.759922949993356, "cost2_mean": -25.34650849262605, "cost1_min": 16.026697566232823, "cost1_mean": 307.94106437508765, "system_level_velocity_max": 18.105435386502744, "cost1_max": 419.61012661528446}, "episode_len_mean": 693.24, "time_total_s": 5662.38331079483, "pid": 48556, "episodes_this_iter": 86, "episode_reward_max": 9739.938859824779, "timesteps_since_restore": 16489517, "node_ip": "10.138.0.2", "timestamp": 1556596808, "policy_reward_mean": {}, "episode_reward_mean": 4370.25691309938, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 99764, "time_this_iter_s": 35.1270546913147, "training_iteration": 145, "time_since_restore": 5662.38331079483, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 191.28902759628494, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3323470>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33239e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3323a90>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 146, "date": "2019-04-30_04-00-43", "timesteps_total": 16587648, "episodes_total": 8923, "hostname": "flow-main", "info": {"num_steps_trained": 16587648, "grad_time_ms": 20562.107, "load_time_ms": 12.028, "update_time_ms": 11.425, "default": {"entropy": 2.3697421550750732, "cur_kl_coeff": 0.5062499046325684, "total_loss": 1368.7913818359375, "vf_loss": 1368.8004150390625, "policy_loss": -0.01620618812739849, "kl": 0.014117916114628315, "vf_explained_var": 0.5967434048652649, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 16587648, "sample_time_ms": 14678.433}, "custom_metrics": {"cost2_min": -57.42770979232332, "system_level_velocity_mean": 11.920318214981533, "outflow_rate_max": 807.2974480770673, "outflow_rate_min": 344.0960976827375, "system_level_velocity_min": 3.467538505712212, "outflow_rate_mean": 621.6208549010556, "cost2_max": -13.759922949993356, "cost2_mean": -24.63386852672354, "cost1_min": 16.026697566232823, "cost1_mean": 296.23105569755023, "system_level_velocity_max": 18.457290193786037, "cost1_max": 419.61012661528446}, "episode_len_mean": 686.57, "time_total_s": 5697.758455753326, "pid": 48556, "episodes_this_iter": 83, "episode_reward_max": 7064.715665759194, "timesteps_since_restore": 16587648, "node_ip": "10.138.0.2", "timestamp": 1556596843, "policy_reward_mean": {}, "episode_reward_mean": 4267.515313035875, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 98131, "time_this_iter_s": 35.375144958496094, "training_iteration": 146, "time_since_restore": 5697.758455753326, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 202.64692470762398, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3323e48>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3323cc0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33238d0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 147, "date": "2019-04-30_04-01-17", "timesteps_total": 16685907, "episodes_total": 9008, "hostname": "flow-main", "info": {"num_steps_trained": 16685907, "grad_time_ms": 20297.524, "load_time_ms": 11.917, "update_time_ms": 11.382, "default": {"entropy": 2.375847339630127, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1461.0831298828125, "vf_loss": 1461.091552734375, "policy_loss": -0.01560661755502224, "kl": 0.01411272119730711, "vf_explained_var": 0.5723609328269958, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 16685907, "sample_time_ms": 14713.842}, "custom_metrics": {"cost2_min": -66.76384544311182, "system_level_velocity_mean": 11.93828134732901, "outflow_rate_max": 798.468123826428, "outflow_rate_min": 456.0941958733819, "system_level_velocity_min": 4.594989671408229, "outflow_rate_mean": 620.3565263884519, "cost2_max": -12.442951924790718, "cost2_mean": -24.222708438707564, "cost1_min": 17.28985445145528, "cost1_mean": 295.4513957976714, "system_level_velocity_max": 18.64625127920966, "cost1_max": 410.1653641546779}, "episode_len_mean": 683.23, "time_total_s": 5731.507568597794, "pid": 48556, "episodes_this_iter": 85, "episode_reward_max": 6661.652792045674, "timesteps_since_restore": 16685907, "node_ip": "10.138.0.2", "timestamp": 1556596877, "policy_reward_mean": {}, "episode_reward_mean": 4223.515529358266, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 98259, "time_this_iter_s": 33.74911284446716, "training_iteration": 147, "time_since_restore": 5731.507568597794, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3070.1257414105507, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3323898>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3323588>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3323a90>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 148, "date": "2019-04-30_04-01-52", "timesteps_total": 16784485, "episodes_total": 9093, "hostname": "flow-main", "info": {"num_steps_trained": 16784485, "grad_time_ms": 20188.159, "load_time_ms": 12.478, "update_time_ms": 11.408, "default": {"entropy": 2.390106201171875, "cur_kl_coeff": 0.5062499046325684, "total_loss": 1375.4307861328125, "vf_loss": 1375.4393310546875, "policy_loss": -0.015873951837420464, "kl": 0.01460313517600298, "vf_explained_var": 0.5980570316314697, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 16784485, "sample_time_ms": 14700.509}, "custom_metrics": {"cost2_min": -57.10340829397, "system_level_velocity_mean": 12.155169454575152, "outflow_rate_max": 774.8289897026783, "outflow_rate_min": 294.3260848450925, "system_level_velocity_min": 3.499767267773906, "outflow_rate_mean": 621.6569115624087, "cost2_max": -14.612415698727334, "cost2_mean": -24.21203706027901, "cost1_min": 85.87285500150946, "cost1_mean": 310.80019259733467, "system_level_velocity_max": 16.447372578232166, "cost1_max": 410.1653641546779}, "episode_len_mean": 700.0, "time_total_s": 5766.182277202606, "pid": 48556, "episodes_this_iter": 85, "episode_reward_max": 6078.346440517155, "timesteps_since_restore": 16784485, "node_ip": "10.138.0.2", "timestamp": 1556596912, "policy_reward_mean": {}, "episode_reward_mean": 4325.820415222432, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 98578, "time_this_iter_s": 34.67470860481262, "training_iteration": 148, "time_since_restore": 5766.182277202606, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3163.7513225096236, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3323be0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3323fd0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3323630>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 149, "date": "2019-04-30_04-02-28", "timesteps_total": 16883643, "episodes_total": 9172, "hostname": "flow-main", "info": {"num_steps_trained": 16883643, "grad_time_ms": 20313.445, "load_time_ms": 11.784, "update_time_ms": 11.48, "default": {"entropy": 2.3841044902801514, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1316.7730712890625, "vf_loss": 1316.7816162109375, "policy_loss": -0.016051605343818665, "kl": 0.014728267677128315, "vf_explained_var": 0.6472842693328857, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 16883643, "sample_time_ms": 14718.846}, "custom_metrics": {"cost2_min": -74.18999484858773, "system_level_velocity_mean": 11.998268994591017, "outflow_rate_max": 774.8289897026783, "outflow_rate_min": 341.5845054875381, "system_level_velocity_min": 4.1106692140847745, "outflow_rate_mean": 622.995332483043, "cost2_max": -14.92123719973728, "cost2_mean": -24.03873141553904, "cost1_min": 105.45804340001777, "cost1_mean": 307.9232950606549, "system_level_velocity_max": 16.447372578232166, "cost1_max": 408.45239531278025}, "episode_len_mean": 700.0, "time_total_s": 5802.839592456818, "pid": 48556, "episodes_this_iter": 79, "episode_reward_max": 6523.266737882714, "timesteps_since_restore": 16883643, "node_ip": "10.138.0.2", "timestamp": 1556596948, "policy_reward_mean": {}, "episode_reward_mean": 4335.342964754156, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 99158, "time_this_iter_s": 36.657315254211426, "training_iteration": 149, "time_since_restore": 5802.839592456818, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 274.48676503326016, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e710>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332ef98>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e4e0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 150, "date": "2019-04-30_04-03-03", "timesteps_total": 16983361, "episodes_total": 9254, "hostname": "flow-main", "info": {"num_steps_trained": 16983361, "grad_time_ms": 20115.314, "load_time_ms": 11.726, "update_time_ms": 11.268, "default": {"entropy": 2.3679351806640625, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1415.059814453125, "vf_loss": 1415.06884765625, "policy_loss": -0.016289008781313896, "kl": 0.014347661286592484, "vf_explained_var": 0.6232049465179443, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 16983361, "sample_time_ms": 14710.247}, "custom_metrics": {"cost2_min": -74.18999484858773, "system_level_velocity_mean": 11.797249336451548, "outflow_rate_max": 807.9725650454855, "outflow_rate_min": 241.19378083150963, "system_level_velocity_min": 2.381810885153357, "outflow_rate_mean": 623.885373096207, "cost2_max": -14.540552287839969, "cost2_mean": -26.610390598730927, "cost1_min": 24.65637346719947, "cost1_mean": 298.9833073772728, "system_level_velocity_max": 17.502828913647637, "cost1_max": 399.6504688154149}, "episode_len_mean": 693.38, "time_total_s": 5837.561807394028, "pid": 48556, "episodes_this_iter": 82, "episode_reward_max": 6523.266737882714, "timesteps_since_restore": 16983361, "node_ip": "10.138.0.2", "timestamp": 1556596983, "policy_reward_mean": {}, "episode_reward_mean": 4407.920579911425, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 99718, "time_this_iter_s": 34.72221493721008, "training_iteration": 150, "time_since_restore": 5837.561807394028, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 297.282931090868, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e940>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e080>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 151, "date": "2019-04-30_04-03-37", "timesteps_total": 17082898, "episodes_total": 9338, "hostname": "flow-main", "info": {"num_steps_trained": 17082898, "grad_time_ms": 20118.299, "load_time_ms": 12.02, "update_time_ms": 11.375, "default": {"entropy": 2.380680799484253, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1362.7916259765625, "vf_loss": 1362.799560546875, "policy_loss": -0.015178744681179523, "kl": 0.014252962544560432, "vf_explained_var": 0.6420493721961975, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 17082898, "sample_time_ms": 14717.87}, "custom_metrics": {"cost2_min": -66.32972882590306, "system_level_velocity_mean": 11.692619831384935, "outflow_rate_max": 898.6801665147742, "outflow_rate_min": 263.71744156758035, "system_level_velocity_min": 2.480217013979406, "outflow_rate_mean": 624.7426273906544, "cost2_max": -14.780309496630043, "cost2_mean": -26.7562067424429, "cost1_min": 26.525665900182585, "cost1_mean": 295.44923847519345, "system_level_velocity_max": 18.31750548015543, "cost1_max": 405.9178593160526}, "episode_len_mean": 693.41, "time_total_s": 5871.595624923706, "pid": 48556, "episodes_this_iter": 84, "episode_reward_max": 7456.087422412524, "timesteps_since_restore": 17082898, "node_ip": "10.138.0.2", "timestamp": 1556597017, "policy_reward_mean": {}, "episode_reward_mean": 4478.396357861248, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 99537, "time_this_iter_s": 34.033817529678345, "training_iteration": 151, "time_since_restore": 5871.595624923706, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 2955.807532897498, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335400>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33353c8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335438>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 152, "date": "2019-04-30_04-04-13", "timesteps_total": 17183427, "episodes_total": 9426, "hostname": "flow-main", "info": {"num_steps_trained": 17183427, "grad_time_ms": 20182.703, "load_time_ms": 11.984, "update_time_ms": 11.456, "default": {"entropy": 2.376554012298584, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1437.400634765625, "vf_loss": 1437.4095458984375, "policy_loss": -0.016377268359065056, "kl": 0.01446594949811697, "vf_explained_var": 0.608519971370697, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 17183427, "sample_time_ms": 14727.313}, "custom_metrics": {"cost2_min": -76.88867698962301, "system_level_velocity_mean": 12.017311215997273, "outflow_rate_max": 962.6595487372091, "outflow_rate_min": 301.65725696274103, "system_level_velocity_min": 2.7729090253365927, "outflow_rate_mean": 645.4896689376927, "cost2_max": -14.564820223496683, "cost2_mean": -28.648373713052578, "cost1_min": 70.00672196225219, "cost1_mean": 307.47578791889117, "system_level_velocity_max": 16.36507227245747, "cost1_max": 415.47137156009467}, "episode_len_mean": 700.0, "time_total_s": 5907.108814001083, "pid": 48556, "episodes_this_iter": 88, "episode_reward_max": 9040.295914600916, "timesteps_since_restore": 17183427, "node_ip": "10.138.0.2", "timestamp": 1556597053, "policy_reward_mean": {}, "episode_reward_mean": 4673.573358247043, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 100529, "time_this_iter_s": 35.51318907737732, "training_iteration": 152, "time_since_restore": 5907.108814001083, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 2806.4512770778438, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e940>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e898>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332ec50>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 153, "date": "2019-04-30_04-04-47", "timesteps_total": 17280354, "episodes_total": 9498, "hostname": "flow-main", "info": {"num_steps_trained": 17280354, "grad_time_ms": 20231.366, "load_time_ms": 11.668, "update_time_ms": 11.34, "default": {"entropy": 2.4425485134124756, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1204.031005859375, "vf_loss": 1204.0396728515625, "policy_loss": -0.01591142639517784, "kl": 0.014193612150847912, "vf_explained_var": 0.6576328277587891, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 17280354, "sample_time_ms": 14576.538}, "custom_metrics": {"cost2_min": -62.768651951230474, "system_level_velocity_mean": 11.795274361559402, "outflow_rate_max": 948.2425721172832, "outflow_rate_min": 215.96977378638937, "system_level_velocity_min": 2.6570251580853075, "outflow_rate_mean": 636.8218738060743, "cost2_max": -13.084126208111234, "cost2_mean": -26.883354107257137, "cost1_min": 65.80534523762438, "cost1_mean": 300.59099400746277, "system_level_velocity_max": 15.718240772517658, "cost1_max": 404.4987571253523}, "episode_len_mean": 700.0, "time_total_s": 5941.513775110245, "pid": 48556, "episodes_this_iter": 72, "episode_reward_max": 7979.159891706173, "timesteps_since_restore": 17280354, "node_ip": "10.138.0.2", "timestamp": 1556597087, "policy_reward_mean": {}, "episode_reward_mean": 4484.045790802464, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 96927, "time_this_iter_s": 34.40496110916138, "training_iteration": 153, "time_since_restore": 5941.513775110245, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 2839.418093924952, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335358>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33352b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335160>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 154, "date": "2019-04-30_04-05-25", "timesteps_total": 17380403, "episodes_total": 9592, "hostname": "flow-main", "info": {"num_steps_trained": 17380403, "grad_time_ms": 20362.978, "load_time_ms": 12.559, "update_time_ms": 11.39, "default": {"entropy": 2.423691987991333, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1473.6053466796875, "vf_loss": 1473.615234375, "policy_loss": -0.017222808673977852, "kl": 0.0146829504519701, "vf_explained_var": 0.6044927835464478, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 17380403, "sample_time_ms": 14585.693}, "custom_metrics": {"cost2_min": -70.0652721405149, "system_level_velocity_mean": 11.891758301516626, "outflow_rate_max": 848.4811239766627, "outflow_rate_min": 313.38302542502583, "system_level_velocity_min": 2.6223559171572237, "outflow_rate_mean": 624.4769149881112, "cost2_max": -12.101680731122258, "cost2_mean": -24.955265114739394, "cost1_min": 66.78502756261817, "cost1_mean": 304.0500982525175, "system_level_velocity_max": 15.74065791462178, "cost1_max": 398.341722828835}, "episode_len_mean": 700.0, "time_total_s": 5979.02200293541, "pid": 48556, "episodes_this_iter": 94, "episode_reward_max": 6677.867313631111, "timesteps_since_restore": 17380403, "node_ip": "10.138.0.2", "timestamp": 1556597125, "policy_reward_mean": {}, "episode_reward_mean": 4334.728454021408, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 100049, "time_this_iter_s": 37.508227825164795, "training_iteration": 154, "time_since_restore": 5979.02200293541, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3260.7677344720487, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f080>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f438>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331fb70>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 155, "date": "2019-04-30_04-06-00", "timesteps_total": 17479623, "episodes_total": 9671, "hostname": "flow-main", "info": {"num_steps_trained": 17479623, "grad_time_ms": 20343.845, "load_time_ms": 12.442, "update_time_ms": 11.161, "default": {"entropy": 2.4257564544677734, "cur_kl_coeff": 0.5062499046325684, "total_loss": 1323.3162841796875, "vf_loss": 1323.3253173828125, "policy_loss": -0.016772525385022163, "kl": 0.015365345403552055, "vf_explained_var": 0.6091499328613281, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 17479623, "sample_time_ms": 14607.817}, "custom_metrics": {"cost2_min": -71.44402026572095, "system_level_velocity_mean": 11.686911641006505, "outflow_rate_max": 849.3398745508857, "outflow_rate_min": 346.40158959483466, "system_level_velocity_min": 2.470523776425662, "outflow_rate_mean": 617.5740249714, "cost2_max": -14.954689553189219, "cost2_mean": -26.061170182267254, "cost1_min": 63.48270623694211, "cost1_mean": 298.30264672620376, "system_level_velocity_max": 15.810469801128605, "cost1_max": 398.341722828835}, "episode_len_mean": 700.0, "time_total_s": 6014.1949582099915, "pid": 48556, "episodes_this_iter": 79, "episode_reward_max": 6945.871632875945, "timesteps_since_restore": 17479623, "node_ip": "10.138.0.2", "timestamp": 1556597160, "policy_reward_mean": {}, "episode_reward_mean": 4385.169227093224, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 99220, "time_this_iter_s": 35.17295527458191, "training_iteration": 155, "time_since_restore": 6014.1949582099915, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 240.1048244060778, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33352e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33354a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335208>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 156, "date": "2019-04-30_04-06-35", "timesteps_total": 17579680, "episodes_total": 9746, "hostname": "flow-main", "info": {"num_steps_trained": 17579680, "grad_time_ms": 20314.336, "load_time_ms": 12.365, "update_time_ms": 11.474, "default": {"entropy": 2.42295241355896, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1331.2109375, "vf_loss": 1331.2200927734375, "policy_loss": -0.016759080812335014, "kl": 0.015095902606844902, "vf_explained_var": 0.6503758430480957, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 17579680, "sample_time_ms": 14568.172}, "custom_metrics": {"cost2_min": -62.34242117213377, "system_level_velocity_mean": 11.539951665717572, "outflow_rate_max": 769.4840081796934, "outflow_rate_min": 346.40158959483466, "system_level_velocity_min": 3.0549679000144168, "outflow_rate_mean": 633.2626332367611, "cost2_max": -15.013229864228952, "cost2_mean": -28.465234122459265, "cost1_min": 21.707712626104037, "cost1_mean": 291.813055304797, "system_level_velocity_max": 17.456266133807993, "cost1_max": 396.31932143770604}, "episode_len_mean": 693.34, "time_total_s": 6048.893951892853, "pid": 48556, "episodes_this_iter": 75, "episode_reward_max": 6627.14074526455, "timesteps_since_restore": 17579680, "node_ip": "10.138.0.2", "timestamp": 1556597195, "policy_reward_mean": {}, "episode_reward_mean": 4547.995177049921, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 100057, "time_this_iter_s": 34.69899368286133, "training_iteration": 156, "time_since_restore": 6048.893951892853, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 1919.8890218237964, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e940>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332eac8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e518>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 157, "date": "2019-04-30_04-07-11", "timesteps_total": 17677974, "episodes_total": 9837, "hostname": "flow-main", "info": {"num_steps_trained": 17677974, "grad_time_ms": 20493.672, "load_time_ms": 12.354, "update_time_ms": 11.842, "default": {"entropy": 2.445246934890747, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1513.6678466796875, "vf_loss": 1513.677001953125, "policy_loss": -0.016676990315318108, "kl": 0.014936571940779686, "vf_explained_var": 0.6285398006439209, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 17677974, "sample_time_ms": 14608.751}, "custom_metrics": {"cost2_min": -76.86528238380548, "system_level_velocity_mean": 11.845851568488442, "outflow_rate_max": 851.3510246405732, "outflow_rate_min": 446.49272393749516, "system_level_velocity_min": 6.559267467384115, "outflow_rate_mean": 632.4266364365694, "cost2_max": -16.150389406319082, "cost2_mean": -27.846462318725745, "cost1_min": 140.0420848063818, "cost1_mean": 300.61432591316606, "system_level_velocity_max": 16.375921749095014, "cost1_max": 403.08028933258026}, "episode_len_mean": 695.48, "time_total_s": 6084.88333439827, "pid": 48556, "episodes_this_iter": 91, "episode_reward_max": 8966.931081298486, "timesteps_since_restore": 17677974, "node_ip": "10.138.0.2", "timestamp": 1556597231, "policy_reward_mean": {}, "episode_reward_mean": 4463.285633120184, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 98294, "time_this_iter_s": 35.98938250541687, "training_iteration": 157, "time_since_restore": 6084.88333439827, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 161.2347612760048, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33350b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33352b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33350f0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 158, "date": "2019-04-30_04-07-48", "timesteps_total": 17778169, "episodes_total": 9918, "hostname": "flow-main", "info": {"num_steps_trained": 17778169, "grad_time_ms": 20664.105, "load_time_ms": 12.855, "update_time_ms": 11.775, "default": {"entropy": 2.441633701324463, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1287.2545166015625, "vf_loss": 1287.2645263671875, "policy_loss": -0.017498360946774483, "kl": 0.014725166372954845, "vf_explained_var": 0.6978259682655334, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 17778169, "sample_time_ms": 14675.028}, "custom_metrics": {"cost2_min": -85.14363855290333, "system_level_velocity_mean": 11.658300028035212, "outflow_rate_max": 875.6123950400653, "outflow_rate_min": 342.92880356478344, "system_level_velocity_min": 3.765759666863457, "outflow_rate_mean": 619.118155116065, "cost2_max": -14.832074976202387, "cost2_mean": -26.948142993015637, "cost1_min": 16.714797530506367, "cost1_mean": 290.3888982742658, "system_level_velocity_max": 18.007455120736196, "cost1_max": 415.92144676897567}, "episode_len_mean": 688.73, "time_total_s": 6121.953668832779, "pid": 48556, "episodes_this_iter": 81, "episode_reward_max": 8966.931081298486, "timesteps_since_restore": 17778169, "node_ip": "10.138.0.2", "timestamp": 1556597268, "policy_reward_mean": {}, "episode_reward_mean": 4378.710344303989, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 100195, "time_this_iter_s": 37.07033443450928, "training_iteration": 158, "time_since_restore": 6121.953668832779, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3100.6049103650976, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332eb38>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e080>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332ea90>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 159, "date": "2019-04-30_04-08-25", "timesteps_total": 17878394, "episodes_total": 9995, "hostname": "flow-main", "info": {"num_steps_trained": 17878394, "grad_time_ms": 20628.216, "load_time_ms": 14.108, "update_time_ms": 11.834, "default": {"entropy": 2.450911283493042, "cur_kl_coeff": 0.5062499046325684, "total_loss": 1294.8232421875, "vf_loss": 1294.83349609375, "policy_loss": -0.017740877345204353, "kl": 0.01483810506761074, "vf_explained_var": 0.6232712864875793, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 17878394, "sample_time_ms": 14725.407}, "custom_metrics": {"cost2_min": -97.29285446530082, "system_level_velocity_mean": 11.865551324626121, "outflow_rate_max": 897.5767256659466, "outflow_rate_min": 417.8421042454728, "system_level_velocity_min": 3.6438734866916107, "outflow_rate_mean": 631.390166327142, "cost2_max": -14.291652444587859, "cost2_mean": -28.67061689626648, "cost1_min": 94.37615079827495, "cost1_mean": 303.00742062775424, "system_level_velocity_max": 16.0504700636727, "cost1_max": 398.8144057536847}, "episode_len_mean": 698.63, "time_total_s": 6158.755600690842, "pid": 48556, "episodes_this_iter": 77, "episode_reward_max": 8656.518419958364, "timesteps_since_restore": 17878394, "node_ip": "10.138.0.2", "timestamp": 1556597305, "policy_reward_mean": {}, "episode_reward_mean": 4501.8801439943745, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 100225, "time_this_iter_s": 36.801931858062744, "training_iteration": 159, "time_since_restore": 6158.755600690842, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3184.8517118141845, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33353c8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33355c0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335390>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 160, "date": "2019-04-30_04-09-02", "timesteps_total": 17977927, "episodes_total": 10087, "hostname": "flow-main", "info": {"num_steps_trained": 17977927, "grad_time_ms": 20834.149, "load_time_ms": 14.214, "update_time_ms": 11.844, "default": {"entropy": 2.466148853302002, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1502.7784423828125, "vf_loss": 1502.7874755859375, "policy_loss": -0.016434267163276672, "kl": 0.014459737576544285, "vf_explained_var": 0.5615114569664001, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 17977927, "sample_time_ms": 14732.789}, "custom_metrics": {"cost2_min": -97.29285446530082, "system_level_velocity_mean": 11.73138590436627, "outflow_rate_max": 897.5767256659466, "outflow_rate_min": 401.3323169897675, "system_level_velocity_min": 3.6438734866916107, "outflow_rate_mean": 615.5008620279331, "cost2_max": -14.21894266871493, "cost2_mean": -27.476176631120666, "cost1_min": 94.37615079827495, "cost1_mean": 300.5112960756897, "system_level_velocity_max": 16.716108843798303, "cost1_max": 420.7666983125665}, "episode_len_mean": 700.0, "time_total_s": 6195.578296422958, "pid": 48556, "episodes_this_iter": 92, "episode_reward_max": 8656.518419958364, "timesteps_since_restore": 17977927, "node_ip": "10.138.0.2", "timestamp": 1556597342, "policy_reward_mean": {}, "episode_reward_mean": 4360.905120740598, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 99533, "time_this_iter_s": 36.8226957321167, "training_iteration": 160, "time_since_restore": 6195.578296422958, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 156.78621469951483, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33357b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33268d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33356d8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 161, "date": "2019-04-30_04-09-38", "timesteps_total": 18077287, "episodes_total": 10168, "hostname": "flow-main", "info": {"num_steps_trained": 18077287, "grad_time_ms": 21040.805, "load_time_ms": 14.494, "update_time_ms": 11.747, "default": {"entropy": 2.4617650508880615, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1320.181884765625, "vf_loss": 1320.19091796875, "policy_loss": -0.016398850828409195, "kl": 0.014762019738554955, "vf_explained_var": 0.6566376090049744, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 18077287, "sample_time_ms": 14701.583}, "custom_metrics": {"cost2_min": -72.66651304036957, "system_level_velocity_mean": 12.258170986319858, "outflow_rate_max": 801.7502167639409, "outflow_rate_min": 476.4898462992569, "system_level_velocity_min": 7.883765520885457, "outflow_rate_mean": 633.1239062771969, "cost2_max": -13.657435909008802, "cost2_mean": -26.969992481330976, "cost1_min": 14.715829608057225, "cost1_mean": 309.24241909331977, "system_level_velocity_max": 16.793903644236693, "cost1_max": 420.7666983125665}, "episode_len_mean": 693.23, "time_total_s": 6231.374105215073, "pid": 48556, "episodes_this_iter": 81, "episode_reward_max": 8360.594310424904, "timesteps_since_restore": 18077287, "node_ip": "10.138.0.2", "timestamp": 1556597378, "policy_reward_mean": {}, "episode_reward_mean": 4305.798744679561, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 99360, "time_this_iter_s": 35.79580879211426, "training_iteration": 161, "time_since_restore": 6231.374105215073, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 238.330036950542, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33355f8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335240>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335080>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 162, "date": "2019-04-30_04-10-11", "timesteps_total": 18175696, "episodes_total": 10250, "hostname": "flow-main", "info": {"num_steps_trained": 18175696, "grad_time_ms": 20885.0, "load_time_ms": 15.446, "update_time_ms": 11.672, "default": {"entropy": 2.4849045276641846, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1452.02099609375, "vf_loss": 1452.0308837890625, "policy_loss": -0.017644096165895462, "kl": 0.015040992759168148, "vf_explained_var": 0.6214942932128906, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 18175696, "sample_time_ms": 14657.23}, "custom_metrics": {"cost2_min": -71.0613107826442, "system_level_velocity_mean": 11.877355570664648, "outflow_rate_max": 850.4806721269058, "outflow_rate_min": 271.97523053463647, "system_level_velocity_min": 2.563622553597049, "outflow_rate_mean": 616.9991753762182, "cost2_max": -13.769810718612577, "cost2_mean": -27.952775088193494, "cost1_min": 22.55741102771701, "cost1_mean": 294.39759828204444, "system_level_velocity_max": 18.988834090314512, "cost1_max": 404.53421470498915}, "episode_len_mean": 686.76, "time_total_s": 6264.853140115738, "pid": 48556, "episodes_this_iter": 82, "episode_reward_max": 8230.330323948032, "timesteps_since_restore": 18175696, "node_ip": "10.138.0.2", "timestamp": 1556597411, "policy_reward_mean": {}, "episode_reward_mean": 4291.553543996789, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 98409, "time_this_iter_s": 33.47903490066528, "training_iteration": 162, "time_since_restore": 6264.853140115738, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 238.330036950542, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33356a0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335860>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335b38>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 163, "date": "2019-04-30_04-10-47", "timesteps_total": 18275079, "episodes_total": 10335, "hostname": "flow-main", "info": {"num_steps_trained": 18275079, "grad_time_ms": 20869.412, "load_time_ms": 15.364, "update_time_ms": 11.645, "default": {"entropy": 2.510484218597412, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1252.483642578125, "vf_loss": 1252.491943359375, "policy_loss": -0.015661202371120453, "kl": 0.014519497752189636, "vf_explained_var": 0.6406897902488708, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 18275079, "sample_time_ms": 14800.343}, "custom_metrics": {"cost2_min": -69.76432052913691, "system_level_velocity_mean": 11.660293482312412, "outflow_rate_max": 795.0492962189713, "outflow_rate_min": 398.5152491002245, "system_level_velocity_min": 4.939413661281425, "outflow_rate_mean": 610.5369210499803, "cost2_max": -14.015510822152049, "cost2_mean": -26.816372664357885, "cost1_min": 22.55741102771701, "cost1_mean": 293.44937277884566, "system_level_velocity_max": 18.988834090314512, "cost1_max": 398.40255747608296}, "episode_len_mean": 693.34, "time_total_s": 6300.540099620819, "pid": 48556, "episodes_this_iter": 85, "episode_reward_max": 6393.233601548213, "timesteps_since_restore": 18275079, "node_ip": "10.138.0.2", "timestamp": 1556597447, "policy_reward_mean": {}, "episode_reward_mean": 4138.343566444627, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 99383, "time_this_iter_s": 35.68695950508118, "training_iteration": 163, "time_since_restore": 6300.540099620819, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 2864.035139864495, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335550>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335048>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335390>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 164, "date": "2019-04-30_04-11-23", "timesteps_total": 18373917, "episodes_total": 10423, "hostname": "flow-main", "info": {"num_steps_trained": 18373917, "grad_time_ms": 20735.96, "load_time_ms": 15.325, "update_time_ms": 11.619, "default": {"entropy": 2.479269027709961, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1417.1363525390625, "vf_loss": 1417.144775390625, "policy_loss": -0.015707507729530334, "kl": 0.01431893091648817, "vf_explained_var": 0.6365855932235718, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 18373917, "sample_time_ms": 14751.012}, "custom_metrics": {"cost2_min": -67.86922091175094, "system_level_velocity_mean": 11.747943845287748, "outflow_rate_max": 884.352503720305, "outflow_rate_min": 312.61883665850337, "system_level_velocity_min": 2.8826366243680934, "outflow_rate_mean": 616.9202491790436, "cost2_max": -13.473669137053035, "cost2_mean": -26.45348081631448, "cost1_min": 71.65825887745557, "cost1_mean": 300.2152870068843, "system_level_velocity_max": 17.316895971873812, "cost1_max": 429.8568845039682}, "episode_len_mean": 698.49, "time_total_s": 6336.17641544342, "pid": 48556, "episodes_this_iter": 88, "episode_reward_max": 8675.662654164753, "timesteps_since_restore": 18373917, "node_ip": "10.138.0.2", "timestamp": 1556597483, "policy_reward_mean": {}, "episode_reward_mean": 4191.253460269422, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 98838, "time_this_iter_s": 35.63631582260132, "training_iteration": 164, "time_since_restore": 6336.17641544342, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 1762.2072616714045, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331a8d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332ec88>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331acc0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 165, "date": "2019-04-30_04-11-57", "timesteps_total": 18473141, "episodes_total": 10505, "hostname": "flow-main", "info": {"num_steps_trained": 18473141, "grad_time_ms": 20730.063, "load_time_ms": 16.441, "update_time_ms": 11.694, "default": {"entropy": 2.496255874633789, "cur_kl_coeff": 0.5062499046325684, "total_loss": 1322.780517578125, "vf_loss": 1322.7894287109375, "policy_loss": -0.016702450811862946, "kl": 0.015348883345723152, "vf_explained_var": 0.6324792504310608, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 18473141, "sample_time_ms": 14697.067}, "custom_metrics": {"cost2_min": -64.35064099059929, "system_level_velocity_mean": 12.145282089698537, "outflow_rate_max": 925.3758924187653, "outflow_rate_min": 312.61883665850337, "system_level_velocity_min": 2.8826366243680934, "outflow_rate_mean": 631.4490867303595, "cost2_max": -13.473669137053035, "cost2_mean": -28.589820703232522, "cost1_min": 71.65825887745557, "cost1_mean": 307.53163415491883, "system_level_velocity_max": 16.625001126213558, "cost1_max": 420.77724502255757}, "episode_len_mean": 695.23, "time_total_s": 6370.762867450714, "pid": 48556, "episodes_this_iter": 82, "episode_reward_max": 8675.662654164753, "timesteps_since_restore": 18473141, "node_ip": "10.138.0.2", "timestamp": 1556597517, "policy_reward_mean": {}, "episode_reward_mean": 4230.778133405694, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 99224, "time_this_iter_s": 34.5864520072937, "training_iteration": 165, "time_since_restore": 6370.762867450714, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 174.71043483892913, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33353c8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335320>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335400>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 166, "date": "2019-04-30_04-12-33", "timesteps_total": 18573032, "episodes_total": 10593, "hostname": "flow-main", "info": {"num_steps_trained": 18573032, "grad_time_ms": 20873.212, "load_time_ms": 17.414, "update_time_ms": 11.5, "default": {"entropy": 2.500046730041504, "cur_kl_coeff": 0.5062499046325684, "total_loss": 1363.953857421875, "vf_loss": 1363.9622802734375, "policy_loss": -0.015855470672249794, "kl": 0.014487051405012608, "vf_explained_var": 0.6354777216911316, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 18573032, "sample_time_ms": 14672.664}, "custom_metrics": {"cost2_min": -70.99809540102521, "system_level_velocity_mean": 12.09134227898992, "outflow_rate_max": 810.2584854755071, "outflow_rate_min": 398.18514047267917, "system_level_velocity_min": 3.7530112385913337, "outflow_rate_mean": 627.758151533559, "cost2_max": -14.276676616096942, "cost2_mean": -28.952552893442782, "cost1_min": 17.214398694713484, "cost1_mean": 303.64802016326036, "system_level_velocity_max": 17.460869294316108, "cost1_max": 381.4163225206136}, "episode_len_mean": 690.88, "time_total_s": 6406.645956039429, "pid": 48556, "episodes_this_iter": 88, "episode_reward_max": 7452.114239257297, "timesteps_since_restore": 18573032, "node_ip": "10.138.0.2", "timestamp": 1556597553, "policy_reward_mean": {}, "episode_reward_mean": 4203.06683003843, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 99891, "time_this_iter_s": 35.8830885887146, "training_iteration": 166, "time_since_restore": 6406.645956039429, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 223.61056236739518, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331fda0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a331f080>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33356d8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 167, "date": "2019-04-30_04-13-11", "timesteps_total": 18673397, "episodes_total": 10676, "hostname": "flow-main", "info": {"num_steps_trained": 18673397, "grad_time_ms": 20978.045, "load_time_ms": 18.389, "update_time_ms": 11.352, "default": {"entropy": 2.481635808944702, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1515.020751953125, "vf_loss": 1515.029296875, "policy_loss": -0.016116080805659294, "kl": 0.015004846267402172, "vf_explained_var": 0.576215386390686, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 18673397, "sample_time_ms": 14699.634}, "custom_metrics": {"cost2_min": -77.42833007364392, "system_level_velocity_mean": 12.078643233440621, "outflow_rate_max": 813.6605549755409, "outflow_rate_min": 409.63682940869785, "system_level_velocity_min": 6.315732869491094, "outflow_rate_mean": 623.4384322993254, "cost2_max": -15.924625143782247, "cost2_mean": -30.282434162023627, "cost1_min": 22.834229746034477, "cost1_mean": 303.65371123910757, "system_level_velocity_max": 18.289351891144037, "cost1_max": 429.7185472715097}, "episode_len_mean": 693.34, "time_total_s": 6443.9339594841, "pid": 48556, "episodes_this_iter": 83, "episode_reward_max": 9821.500641448789, "timesteps_since_restore": 18673397, "node_ip": "10.138.0.2", "timestamp": 1556597591, "policy_reward_mean": {}, "episode_reward_mean": 4325.493679999352, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 100365, "time_this_iter_s": 37.28800344467163, "training_iteration": 167, "time_since_restore": 6443.9339594841, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 223.61056236739518, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33354a8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33352b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335128>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 168, "date": "2019-04-30_04-13-47", "timesteps_total": 18772794, "episodes_total": 10760, "hostname": "flow-main", "info": {"num_steps_trained": 18772794, "grad_time_ms": 20926.412, "load_time_ms": 19.005, "update_time_ms": 11.34, "default": {"entropy": 2.524462938308716, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1476.7493896484375, "vf_loss": 1476.7593994140625, "policy_loss": -0.017920853570103645, "kl": 0.015812069177627563, "vf_explained_var": 0.6208993196487427, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 18772794, "sample_time_ms": 14652.983}, "custom_metrics": {"cost2_min": -80.97694861237156, "system_level_velocity_mean": 11.890005204597541, "outflow_rate_max": 827.2725211770993, "outflow_rate_min": 433.6866640434122, "system_level_velocity_min": 4.4954894266571905, "outflow_rate_mean": 620.251606638251, "cost2_max": -13.080209009643957, "cost2_mean": -29.968581674836397, "cost1_min": 22.834229746034477, "cost1_mean": 298.8791190929106, "system_level_velocity_max": 18.289351891144037, "cost1_max": 396.02371345392356}, "episode_len_mean": 693.34, "time_total_s": 6480.031357765198, "pid": 48556, "episodes_this_iter": 84, "episode_reward_max": 8836.47129782763, "timesteps_since_restore": 18772794, "node_ip": "10.138.0.2", "timestamp": 1556597627, "policy_reward_mean": {}, "episode_reward_mean": 4240.15508252687, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 99397, "time_this_iter_s": 36.09739828109741, "training_iteration": 168, "time_since_restore": 6480.031357765198, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 2717.212178064073, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335cf8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335b70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33357f0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 169, "date": "2019-04-30_04-14-22", "timesteps_total": 18873799, "episodes_total": 10848, "hostname": "flow-main", "info": {"num_steps_trained": 18873799, "grad_time_ms": 20860.398, "load_time_ms": 18.648, "update_time_ms": 11.513, "default": {"entropy": 2.514507532119751, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1456.175537109375, "vf_loss": 1456.1846923828125, "policy_loss": -0.01645660400390625, "kl": 0.014833563938736916, "vf_explained_var": 0.6575377583503723, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 18873799, "sample_time_ms": 14608.962}, "custom_metrics": {"cost2_min": -86.35235420485216, "system_level_velocity_mean": 11.96346519433881, "outflow_rate_max": 810.251921863222, "outflow_rate_min": 244.8495444276001, "system_level_velocity_min": 2.4223861401937135, "outflow_rate_mean": 624.9048471962037, "cost2_max": -13.971480770519412, "cost2_mean": -31.289101435513995, "cost1_min": 60.87715663387307, "cost1_mean": 304.46697000782933, "system_level_velocity_max": 17.11299629937025, "cost1_max": 424.3969179380346}, "episode_len_mean": 698.31, "time_total_s": 6515.7167892456055, "pid": 48556, "episodes_this_iter": 88, "episode_reward_max": 11149.024796520513, "timesteps_since_restore": 18873799, "node_ip": "10.138.0.2", "timestamp": 1556597662, "policy_reward_mean": {}, "episode_reward_mean": 4426.439301490967, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 101005, "time_this_iter_s": 35.685431480407715, "training_iteration": 169, "time_since_restore": 6515.7167892456055, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 2717.212178064073, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335358>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335a58>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335a90>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 170, "date": "2019-04-30_04-14-58", "timesteps_total": 18972434, "episodes_total": 10925, "hostname": "flow-main", "info": {"num_steps_trained": 18972434, "grad_time_ms": 20738.455, "load_time_ms": 19.422, "update_time_ms": 11.629, "default": {"entropy": 2.5535173416137695, "cur_kl_coeff": 0.5062499046325684, "total_loss": 1223.17626953125, "vf_loss": 1223.18603515625, "policy_loss": -0.017491048201918602, "kl": 0.015254293568432331, "vf_explained_var": 0.6806226968765259, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 18972434, "sample_time_ms": 14556.408}, "custom_metrics": {"cost2_min": -66.7777670860047, "system_level_velocity_mean": 11.98768196027707, "outflow_rate_max": 793.9046303402959, "outflow_rate_min": 247.89955441644784, "system_level_velocity_min": 2.618568343963528, "outflow_rate_mean": 626.4206640692245, "cost2_max": -14.056933827934492, "cost2_mean": -29.062004844883923, "cost1_min": 66.21258387766785, "cost1_mean": 305.0360966827204, "system_level_velocity_max": 16.293691875021587, "cost1_max": 392.9075771016871}, "episode_len_mean": 698.31, "time_total_s": 6550.794631481171, "pid": 48556, "episodes_this_iter": 77, "episode_reward_max": 9264.937925949222, "timesteps_since_restore": 18972434, "node_ip": "10.138.0.2", "timestamp": 1556597698, "policy_reward_mean": {}, "episode_reward_mean": 4386.637658742624, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 98635, "time_this_iter_s": 35.077842235565186, "training_iteration": 170, "time_since_restore": 6550.794631481171, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 290.47316843464637, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335940>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33356d8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335978>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 171, "date": "2019-04-30_04-15-34", "timesteps_total": 19071905, "episodes_total": 11012, "hostname": "flow-main", "info": {"num_steps_trained": 19071905, "grad_time_ms": 20711.595, "load_time_ms": 19.207, "update_time_ms": 11.586, "default": {"entropy": 2.564646005630493, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1328.6317138671875, "vf_loss": 1328.640625, "policy_loss": -0.016668152064085007, "kl": 0.015295720659196377, "vf_explained_var": 0.6540638208389282, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 19071905, "sample_time_ms": 14614.093}, "custom_metrics": {"cost2_min": -68.28983433856604, "system_level_velocity_mean": 12.170916135181805, "outflow_rate_max": 823.0815254309113, "outflow_rate_min": 475.775157020306, "system_level_velocity_min": 8.013386659937389, "outflow_rate_mean": 624.3681282274199, "cost2_max": -14.580706505624903, "cost2_mean": -28.110794126009957, "cost1_min": 30.037230514693555, "cost1_mean": 303.86168048895803, "system_level_velocity_max": 18.67026218560453, "cost1_max": 412.1189363757724}, "episode_len_mean": 690.49, "time_total_s": 6586.904009103775, "pid": 48556, "episodes_this_iter": 87, "episode_reward_max": 8687.038356365601, "timesteps_since_restore": 19071905, "node_ip": "10.138.0.2", "timestamp": 1556597734, "policy_reward_mean": {}, "episode_reward_mean": 4131.418037455701, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 99471, "time_this_iter_s": 36.10937762260437, "training_iteration": 171, "time_since_restore": 6586.904009103775, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 133.50995635657944, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33358d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33355c0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335c18>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 172, "date": "2019-04-30_04-16-10", "timesteps_total": 19170301, "episodes_total": 11105, "hostname": "flow-main", "info": {"num_steps_trained": 19170301, "grad_time_ms": 20905.401, "load_time_ms": 19.394, "update_time_ms": 11.688, "default": {"entropy": 2.5423364639282227, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1365.9937744140625, "vf_loss": 1366.001953125, "policy_loss": -0.016442453488707542, "kl": 0.0163766797631979, "vf_explained_var": 0.660851001739502, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 19170301, "sample_time_ms": 14691.468}, "custom_metrics": {"cost2_min": -71.64087445160338, "system_level_velocity_mean": 12.331596423412222, "outflow_rate_max": 854.130367351354, "outflow_rate_min": 406.6350749426791, "system_level_velocity_min": 5.591726088502786, "outflow_rate_mean": 627.327544520127, "cost2_max": -13.059057088334034, "cost2_mean": -27.36527220992822, "cost1_min": 12.243381437351653, "cost1_mean": 301.54532764704, "system_level_velocity_max": 17.673818457443314, "cost1_max": 396.1429981019564}, "episode_len_mean": 678.89, "time_total_s": 6623.118437767029, "pid": 48556, "episodes_this_iter": 93, "episode_reward_max": 9997.616332426413, "timesteps_since_restore": 19170301, "node_ip": "10.138.0.2", "timestamp": 1556597770, "policy_reward_mean": {}, "episode_reward_mean": 4202.471469625967, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 98396, "time_this_iter_s": 36.214428663253784, "training_iteration": 172, "time_since_restore": 6623.118437767029, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 2826.0227838800693, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335978>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33357f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33356d8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 173, "date": "2019-04-30_04-16-44", "timesteps_total": 19270338, "episodes_total": 11183, "hostname": "flow-main", "info": {"num_steps_trained": 19270338, "grad_time_ms": 20743.092, "load_time_ms": 20.262, "update_time_ms": 11.795, "default": {"entropy": 2.5563929080963135, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1123.4248046875, "vf_loss": 1123.4329833984375, "policy_loss": -0.015847137197852135, "kl": 0.015172343701124191, "vf_explained_var": 0.6975524425506592, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 19270338, "sample_time_ms": 14697.301}, "custom_metrics": {"cost2_min": -61.710687689976766, "system_level_velocity_mean": 12.02928765955855, "outflow_rate_max": 804.8338264340645, "outflow_rate_min": 406.6350749426791, "system_level_velocity_min": 5.645952760050657, "outflow_rate_mean": 617.1193384103464, "cost2_max": -11.129219074300401, "cost2_mean": -28.258742915348208, "cost1_min": 143.83855725131278, "cost1_mean": 306.0247891354674, "system_level_velocity_max": 15.831350692930158, "cost1_max": 398.8933636050057}, "episode_len_mean": 700.0, "time_total_s": 6657.2472467422485, "pid": 48556, "episodes_this_iter": 78, "episode_reward_max": 7242.792959739973, "timesteps_since_restore": 19270338, "node_ip": "10.138.0.2", "timestamp": 1556597804, "policy_reward_mean": {}, "episode_reward_mean": 4143.32592900573, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 100037, "time_this_iter_s": 34.12880897521973, "training_iteration": 173, "time_since_restore": 6657.2472467422485, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 2962.8542948618147, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33352e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335550>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335a90>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 174, "date": "2019-04-30_04-17-19", "timesteps_total": 19369632, "episodes_total": 11263, "hostname": "flow-main", "info": {"num_steps_trained": 19369632, "grad_time_ms": 20675.301, "load_time_ms": 18.984, "update_time_ms": 11.87, "default": {"entropy": 2.578118324279785, "cur_kl_coeff": 0.5062499046325684, "total_loss": 1228.279541015625, "vf_loss": 1228.2891845703125, "policy_loss": -0.017513345927000046, "kl": 0.015496187843382359, "vf_explained_var": 0.6747405529022217, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 19369632, "sample_time_ms": 14694.068}, "custom_metrics": {"cost2_min": -65.56749337142773, "system_level_velocity_mean": 11.63468521172096, "outflow_rate_max": 768.9661407907009, "outflow_rate_min": 294.0739639890367, "system_level_velocity_min": 2.6527211496792504, "outflow_rate_mean": 616.8631606441513, "cost2_max": -16.18226908287221, "cost2_mean": -28.883995867313953, "cost1_min": 66.19000083196434, "cost1_mean": 296.44549659971835, "system_level_velocity_max": 16.51086082843294, "cost1_max": 413.0345576550567}, "episode_len_mean": 700.0, "time_total_s": 6692.156443595886, "pid": 48556, "episodes_this_iter": 80, "episode_reward_max": 10439.185489500587, "timesteps_since_restore": 19369632, "node_ip": "10.138.0.2", "timestamp": 1556597839, "policy_reward_mean": {}, "episode_reward_mean": 4360.805502652884, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 99294, "time_this_iter_s": 34.909196853637695, "training_iteration": 174, "time_since_restore": 6692.156443595886, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3049.9546126356627, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335e48>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33357b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335978>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 175, "date": "2019-04-30_04-17-55", "timesteps_total": 19469853, "episodes_total": 11356, "hostname": "flow-main", "info": {"num_steps_trained": 19469853, "grad_time_ms": 20767.107, "load_time_ms": 18.716, "update_time_ms": 11.668, "default": {"entropy": 2.585803985595703, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1413.0357666015625, "vf_loss": 1413.0440673828125, "policy_loss": -0.01653318665921688, "kl": 0.016107583418488503, "vf_explained_var": 0.6566835641860962, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 19469853, "sample_time_ms": 14733.241}, "custom_metrics": {"cost2_min": -74.7029346228398, "system_level_velocity_mean": 11.596741072997638, "outflow_rate_max": 951.3149587878697, "outflow_rate_min": 294.0739639890367, "system_level_velocity_min": 2.6527211496792504, "outflow_rate_mean": 601.1896680453348, "cost2_max": -13.764407806281646, "cost2_mean": -28.392857861739536, "cost1_min": 66.19000083196434, "cost1_mean": 293.9497827992843, "system_level_velocity_max": 16.091613263231917, "cost1_max": 407.0366634281403}, "episode_len_mean": 698.83, "time_total_s": 6728.045970439911, "pid": 48556, "episodes_this_iter": 93, "episode_reward_max": 9616.39243988937, "timesteps_since_restore": 19469853, "node_ip": "10.138.0.2", "timestamp": 1556597875, "policy_reward_mean": {}, "episode_reward_mean": 4214.8510769226195, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 100221, "time_this_iter_s": 35.88952684402466, "training_iteration": 175, "time_since_restore": 6728.045970439911, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3129.4489209867065, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332ea58>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332ecc0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332eda0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 176, "date": "2019-04-30_04-18-30", "timesteps_total": 19570235, "episodes_total": 11433, "hostname": "flow-main", "info": {"num_steps_trained": 19570235, "grad_time_ms": 20714.72, "load_time_ms": 17.795, "update_time_ms": 12.069, "default": {"entropy": 2.592304229736328, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1132.2376708984375, "vf_loss": 1132.247314453125, "policy_loss": -0.017872722819447517, "kl": 0.01614631526172161, "vf_explained_var": 0.7357041239738464, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 19570235, "sample_time_ms": 14718.783}, "custom_metrics": {"cost2_min": -63.955933009208174, "system_level_velocity_mean": 11.603274403831227, "outflow_rate_max": 851.4101542553158, "outflow_rate_min": 371.3321805440848, "system_level_velocity_min": 3.0368105850629483, "outflow_rate_mean": 609.5138928690993, "cost2_max": -13.764407806281646, "cost2_mean": -28.583143765933723, "cost1_min": 76.43576163616942, "cost1_mean": 295.2176255361429, "system_level_velocity_max": 16.32865008092127, "cost1_max": 409.5152773856547}, "episode_len_mean": 700.0, "time_total_s": 6763.2792801856995, "pid": 48556, "episodes_this_iter": 77, "episode_reward_max": 8270.45035895773, "timesteps_since_restore": 19570235, "node_ip": "10.138.0.2", "timestamp": 1556597910, "policy_reward_mean": {}, "episode_reward_mean": 4214.324756065667, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 100382, "time_this_iter_s": 35.233309745788574, "training_iteration": 176, "time_since_restore": 6763.2792801856995, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3009.8683051718217, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335c50>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33356a0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33355c0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 177, "date": "2019-04-30_04-19-06", "timesteps_total": 19669153, "episodes_total": 11517, "hostname": "flow-main", "info": {"num_steps_trained": 19669153, "grad_time_ms": 20622.259, "load_time_ms": 17.73, "update_time_ms": 11.898, "default": {"entropy": 2.6034913063049316, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1340.2176513671875, "vf_loss": 1340.22705078125, "policy_loss": -0.017319174483418465, "kl": 0.015623789280653, "vf_explained_var": 0.667097806930542, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 19669153, "sample_time_ms": 14632.832}, "custom_metrics": {"cost2_min": -66.40561737014181, "system_level_velocity_mean": 11.885885374985513, "outflow_rate_max": 853.5078006082118, "outflow_rate_min": 301.4570311039631, "system_level_velocity_min": 2.751775508099003, "outflow_rate_mean": 630.0855336578367, "cost2_max": -16.00798271438676, "cost2_mean": -30.070896572642937, "cost1_min": 69.06755813576584, "cost1_mean": 303.96191252388576, "system_level_velocity_max": 16.32865008092127, "cost1_max": 405.4762734925745}, "episode_len_mean": 700.0, "time_total_s": 6798.7691333293915, "pid": 48556, "episodes_this_iter": 84, "episode_reward_max": 8430.854285351485, "timesteps_since_restore": 19669153, "node_ip": "10.138.0.2", "timestamp": 1556597946, "policy_reward_mean": {}, "episode_reward_mean": 4400.763832270049, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 98918, "time_this_iter_s": 35.48985314369202, "training_iteration": 177, "time_since_restore": 6798.7691333293915, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 2629.0061096554973, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e7f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e320>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e7b8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 178, "date": "2019-04-30_04-19-41", "timesteps_total": 19767539, "episodes_total": 11600, "hostname": "flow-main", "info": {"num_steps_trained": 19767539, "grad_time_ms": 20546.142, "load_time_ms": 17.556, "update_time_ms": 12.057, "default": {"entropy": 2.598860025405884, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1289.0616455078125, "vf_loss": 1289.0709228515625, "policy_loss": -0.016782524064183235, "kl": 0.015183801762759686, "vf_explained_var": 0.6558055877685547, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 19767539, "sample_time_ms": 14619.144}, "custom_metrics": {"cost2_min": -93.84846903953095, "system_level_velocity_mean": 12.072496493698784, "outflow_rate_max": 818.276796552537, "outflow_rate_min": 384.2922584319937, "system_level_velocity_min": 4.031134306468761, "outflow_rate_mean": 627.3256731673887, "cost2_max": -12.891221295328583, "cost2_mean": -29.214990462998877, "cost1_min": 101.86908554322407, "cost1_mean": 305.4563603067944, "system_level_velocity_max": 16.36231884377543, "cost1_max": 405.6932060785846}, "episode_len_mean": 696.16, "time_total_s": 6833.939631223679, "pid": 48556, "episodes_this_iter": 83, "episode_reward_max": 8879.698186456435, "timesteps_since_restore": 19767539, "node_ip": "10.138.0.2", "timestamp": 1556597981, "policy_reward_mean": {}, "episode_reward_mean": 4268.781699574244, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 98386, "time_this_iter_s": 35.17049789428711, "training_iteration": 178, "time_since_restore": 6833.939631223679, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 256.5249081676529, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335d68>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335470>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335160>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 179, "date": "2019-04-30_04-20-15", "timesteps_total": 19866639, "episodes_total": 11691, "hostname": "flow-main", "info": {"num_steps_trained": 19866639, "grad_time_ms": 20371.392, "load_time_ms": 17.39, "update_time_ms": 11.818, "default": {"entropy": 2.5757405757904053, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1460.4696044921875, "vf_loss": 1460.4793701171875, "policy_loss": -0.01738973893225193, "kl": 0.01531565934419632, "vf_explained_var": 0.6170981526374817, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 19866639, "sample_time_ms": 14615.304}, "custom_metrics": {"cost2_min": -93.84846903953095, "system_level_velocity_mean": 11.969356831126259, "outflow_rate_max": 800.0481264513712, "outflow_rate_min": 418.19320464039885, "system_level_velocity_min": 3.920043991174591, "outflow_rate_mean": 634.5113892780824, "cost2_max": -15.664063294031436, "cost2_mean": -30.032060708681424, "cost1_min": 24.436817315585355, "cost1_mean": 300.6226395381169, "system_level_velocity_max": 18.0960322996064, "cost1_max": 393.48954133472876}, "episode_len_mean": 692.24, "time_total_s": 6867.8188734054565, "pid": 48556, "episodes_this_iter": 91, "episode_reward_max": 9657.514582081016, "timesteps_since_restore": 19866639, "node_ip": "10.138.0.2", "timestamp": 1556598015, "policy_reward_mean": {}, "episode_reward_mean": 4380.475415975906, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 99100, "time_this_iter_s": 33.879242181777954, "training_iteration": 179, "time_since_restore": 6867.8188734054565, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 256.5249081676529, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e390>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e5f8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e6a0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 180, "date": "2019-04-30_04-20-50", "timesteps_total": 19965603, "episodes_total": 11769, "hostname": "flow-main", "info": {"num_steps_trained": 19965603, "grad_time_ms": 20378.047, "load_time_ms": 17.251, "update_time_ms": 11.736, "default": {"entropy": 2.5894901752471924, "cur_kl_coeff": 0.5062499046325684, "total_loss": 1223.1109619140625, "vf_loss": 1223.1204833984375, "policy_loss": -0.017144493758678436, "kl": 0.015148276463150978, "vf_explained_var": 0.6713802218437195, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 19965603, "sample_time_ms": 14614.705}, "custom_metrics": {"cost2_min": -60.830274031477934, "system_level_velocity_mean": 12.541416594438797, "outflow_rate_max": 934.0921262226751, "outflow_rate_min": 435.6172636881919, "system_level_velocity_min": 7.17794068309156, "outflow_rate_mean": 639.6209569915475, "cost2_max": -13.833395154327198, "cost2_mean": -28.376784316947486, "cost1_min": 24.436817315585355, "cost1_mean": 315.36908918471016, "system_level_velocity_max": 18.0960322996064, "cost1_max": 424.65027454462063}, "episode_len_mean": 693.38, "time_total_s": 6902.975188970566, "pid": 48556, "episodes_this_iter": 78, "episode_reward_max": 6901.530240029717, "timesteps_since_restore": 19965603, "node_ip": "10.138.0.2", "timestamp": 1556598050, "policy_reward_mean": {}, "episode_reward_mean": 4214.883302641634, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 98964, "time_this_iter_s": 35.15631556510925, "training_iteration": 180, "time_since_restore": 6902.975188970566, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 242.05017773724967, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33354e0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33351d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335780>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 181, "date": "2019-04-30_04-21-27", "timesteps_total": 20064845, "episodes_total": 11860, "hostname": "flow-main", "info": {"num_steps_trained": 20064845, "grad_time_ms": 20336.751, "load_time_ms": 17.363, "update_time_ms": 11.833, "default": {"entropy": 2.5942821502685547, "cur_kl_coeff": 0.5062499046325684, "total_loss": 1449.5626220703125, "vf_loss": 1449.5703125, "policy_loss": -0.01573037914931774, "kl": 0.01589348167181015, "vf_explained_var": 0.6485137939453125, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 20064845, "sample_time_ms": 14651.5}, "custom_metrics": {"cost2_min": -59.705035480233455, "system_level_velocity_mean": 12.306482433592386, "outflow_rate_max": 825.1922875427389, "outflow_rate_min": 333.6506496749271, "system_level_velocity_min": 2.867913322241929, "outflow_rate_mean": 626.0501100886648, "cost2_max": -15.45725921799694, "cost2_mean": -28.102713961257724, "cost1_min": 19.523161984092763, "cost1_mean": 308.7686510483582, "system_level_velocity_max": 18.018318539150762, "cost1_max": 397.0106411510634}, "episode_len_mean": 693.31, "time_total_s": 6939.030170917511, "pid": 48556, "episodes_this_iter": 91, "episode_reward_max": 7178.909339627004, "timesteps_since_restore": 20064845, "node_ip": "10.138.0.2", "timestamp": 1556598087, "policy_reward_mean": {}, "episode_reward_mean": 4172.567458173573, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 99242, "time_this_iter_s": 36.05498194694519, "training_iteration": 181, "time_since_restore": 6939.030170917511, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 2754.411559035365, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e6a0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e4a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e5f8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 182, "date": "2019-04-30_04-22-02", "timesteps_total": 20163427, "episodes_total": 11944, "hostname": "flow-main", "info": {"num_steps_trained": 20163427, "grad_time_ms": 20318.14, "load_time_ms": 17.305, "update_time_ms": 12.006, "default": {"entropy": 2.5975453853607178, "cur_kl_coeff": 0.5062499046325684, "total_loss": 1316.35546875, "vf_loss": 1316.3646240234375, "policy_loss": -0.01693187840282917, "kl": 0.015580142848193645, "vf_explained_var": 0.6859626770019531, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 20163427, "sample_time_ms": 14587.088}, "custom_metrics": {"cost2_min": -56.80009584864401, "system_level_velocity_mean": 12.169593236099931, "outflow_rate_max": 806.8715808993676, "outflow_rate_min": 227.50797915050498, "system_level_velocity_min": 2.5676266851362404, "outflow_rate_mean": 618.2460261702829, "cost2_max": -11.210618832094672, "cost2_mean": -28.861469105374322, "cost1_min": 63.286593172634255, "cost1_mean": 308.8308387514815, "system_level_velocity_max": 16.508215795188352, "cost1_max": 411.0509165986475}, "episode_len_mean": 700.0, "time_total_s": 6974.448191404343, "pid": 48556, "episodes_this_iter": 84, "episode_reward_max": 7342.059055084628, "timesteps_since_restore": 20163427, "node_ip": "10.138.0.2", "timestamp": 1556598122, "policy_reward_mean": {}, "episode_reward_mean": 4168.433022029429, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 98582, "time_this_iter_s": 35.418020486831665, "training_iteration": 182, "time_since_restore": 6974.448191404343, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 190.51193957325464, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33352e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335c88>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335128>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 183, "date": "2019-04-30_04-22-37", "timesteps_total": 20263379, "episodes_total": 12032, "hostname": "flow-main", "info": {"num_steps_trained": 20263379, "grad_time_ms": 20429.956, "load_time_ms": 17.474, "update_time_ms": 11.953, "default": {"entropy": 2.601412057876587, "cur_kl_coeff": 0.5062499046325684, "total_loss": 1403.4267578125, "vf_loss": 1403.435546875, "policy_loss": -0.016985375434160233, "kl": 0.015929074957966805, "vf_explained_var": 0.6684325337409973, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 20263379, "sample_time_ms": 14569.545}, "custom_metrics": {"cost2_min": -67.08261006344796, "system_level_velocity_mean": 12.297896633634737, "outflow_rate_max": 813.3972820790141, "outflow_rate_min": 357.2659099096182, "system_level_velocity_min": 3.2287957286471722, "outflow_rate_mean": 621.6153275337749, "cost2_max": -13.408791276954004, "cost2_mean": -27.991952564189713, "cost1_min": 15.775627476018213, "cost1_mean": 308.72479115240935, "system_level_velocity_max": 17.284157410707767, "cost1_max": 412.4270641777713}, "episode_len_mean": 693.24, "time_total_s": 7009.559205770493, "pid": 48556, "episodes_this_iter": 88, "episode_reward_max": 6877.776514449866, "timesteps_since_restore": 20263379, "node_ip": "10.138.0.2", "timestamp": 1556598157, "policy_reward_mean": {}, "episode_reward_mean": 4090.027978840124, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 99952, "time_this_iter_s": 35.1110143661499, "training_iteration": 183, "time_since_restore": 7009.559205770493, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3007.1550025853385, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e6a0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e7b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e9b0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 184, "date": "2019-04-30_04-23-11", "timesteps_total": 20361188, "episodes_total": 12118, "hostname": "flow-main", "info": {"num_steps_trained": 20361188, "grad_time_ms": 20311.58, "load_time_ms": 17.491, "update_time_ms": 12.029, "default": {"entropy": 2.6029536724090576, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1281.031982421875, "vf_loss": 1281.040771484375, "policy_loss": -0.016587216407060623, "kl": 0.015564551576972008, "vf_explained_var": 0.6540957689285278, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 20361188, "sample_time_ms": 14582.907}, "custom_metrics": {"cost2_min": -76.03073365104098, "system_level_velocity_mean": 12.503663840628535, "outflow_rate_max": 889.9554751341994, "outflow_rate_min": 357.2659099096182, "system_level_velocity_min": 3.2287957286471722, "outflow_rate_mean": 629.0129509412677, "cost2_max": -14.738471119888226, "cost2_mean": -27.778790792423916, "cost1_min": 82.29701083742842, "cost1_mean": 317.43970156547834, "system_level_velocity_max": 17.078634090654532, "cost1_max": 411.57249839585825}, "episode_len_mean": 700.0, "time_total_s": 7043.412144422531, "pid": 48556, "episodes_this_iter": 86, "episode_reward_max": 8264.304913473106, "timesteps_since_restore": 20361188, "node_ip": "10.138.0.2", "timestamp": 1556598191, "policy_reward_mean": {}, "episode_reward_mean": 4097.064456935037, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 97809, "time_this_iter_s": 33.852938652038574, "training_iteration": 184, "time_since_restore": 7043.412144422531, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 2883.885788556726, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33355f8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33355c0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335b00>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 185, "date": "2019-04-30_04-23-46", "timesteps_total": 20460329, "episodes_total": 12209, "hostname": "flow-main", "info": {"num_steps_trained": 20460329, "grad_time_ms": 20202.778, "load_time_ms": 17.542, "update_time_ms": 12.14, "default": {"entropy": 2.6037790775299072, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1418.1585693359375, "vf_loss": 1418.16748046875, "policy_loss": -0.016710709780454636, "kl": 0.015388114377856255, "vf_explained_var": 0.5467765927314758, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 20460329, "sample_time_ms": 14539.121}, "custom_metrics": {"cost2_min": -77.41656451527247, "system_level_velocity_mean": 12.616107195588587, "outflow_rate_max": 796.0821092223374, "outflow_rate_min": 400.3521431487001, "system_level_velocity_min": 3.643754261445651, "outflow_rate_mean": 631.2673712344356, "cost2_max": -15.954380854152388, "cost2_mean": -29.747593295400346, "cost1_min": 90.89798116157989, "cost1_mean": 321.01178108373006, "system_level_velocity_max": 16.351189172041018, "cost1_max": 404.4070577898207}, "episode_len_mean": 700.0, "time_total_s": 7077.798594236374, "pid": 48556, "episodes_this_iter": 91, "episode_reward_max": 8264.304913473106, "timesteps_since_restore": 20460329, "node_ip": "10.138.0.2", "timestamp": 1556598226, "policy_reward_mean": {}, "episode_reward_mean": 4138.489345484999, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 99141, "time_this_iter_s": 34.38644981384277, "training_iteration": 185, "time_since_restore": 7077.798594236374, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 183.90337983052336, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e4e0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332ef98>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e438>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 186, "date": "2019-04-30_04-24-20", "timesteps_total": 20558738, "episodes_total": 12296, "hostname": "flow-main", "info": {"num_steps_trained": 20558738, "grad_time_ms": 20094.735, "load_time_ms": 18.158, "update_time_ms": 11.798, "default": {"entropy": 2.577471971511841, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1380.076171875, "vf_loss": 1380.08349609375, "policy_loss": -0.015103199519217014, "kl": 0.01516673807054758, "vf_explained_var": 0.5721752047538757, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 20558738, "sample_time_ms": 14584.909}, "custom_metrics": {"cost2_min": -64.76390285863262, "system_level_velocity_mean": 12.69288146599442, "outflow_rate_max": 862.8732623053359, "outflow_rate_min": 416.73576365352966, "system_level_velocity_min": 5.462354139016854, "outflow_rate_mean": 638.434721009558, "cost2_max": -13.394330135597516, "cost2_mean": -28.744539612717844, "cost1_min": 15.010886835976523, "cost1_mean": 316.3818788307544, "system_level_velocity_max": 17.297054625961767, "cost1_max": 426.28319183007966}, "episode_len_mean": 689.88, "time_total_s": 7112.384697675705, "pid": 48556, "episodes_this_iter": 87, "episode_reward_max": 6899.974307440346, "timesteps_since_restore": 20558738, "node_ip": "10.138.0.2", "timestamp": 1556598260, "policy_reward_mean": {}, "episode_reward_mean": 4216.625815008601, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 98409, "time_this_iter_s": 34.586103439331055, "training_iteration": 186, "time_since_restore": 7112.384697675705, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 296.04981546237707, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335780>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335828>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33352b0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 187, "date": "2019-04-30_04-24-55", "timesteps_total": 20656707, "episodes_total": 12389, "hostname": "flow-main", "info": {"num_steps_trained": 20656707, "grad_time_ms": 20073.929, "load_time_ms": 17.345, "update_time_ms": 11.584, "default": {"entropy": 2.6105427742004395, "cur_kl_coeff": 0.5062499046325684, "total_loss": 1458.27685546875, "vf_loss": 1458.284912109375, "policy_loss": -0.015964051708579063, "kl": 0.015288889408111572, "vf_explained_var": 0.6316420435905457, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 20656707, "sample_time_ms": 14569.183}, "custom_metrics": {"cost2_min": -95.28373497659584, "system_level_velocity_mean": 12.905842279918483, "outflow_rate_max": 930.6070038406367, "outflow_rate_min": 419.39390085642134, "system_level_velocity_min": 5.462354139016854, "outflow_rate_mean": 642.2710203255797, "cost2_max": -15.499533098973645, "cost2_mean": -31.010566957378764, "cost1_min": 25.338016497880076, "cost1_mean": 316.0531121293906, "system_level_velocity_max": 19.11580004116564, "cost1_max": 417.846312084314}, "episode_len_mean": 680.37, "time_total_s": 7147.539091825485, "pid": 48556, "episodes_this_iter": 93, "episode_reward_max": 10646.882794664618, "timesteps_since_restore": 20656707, "node_ip": "10.138.0.2", "timestamp": 1556598295, "policy_reward_mean": {}, "episode_reward_mean": 4144.916771270993, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 97969, "time_this_iter_s": 35.15439414978027, "training_iteration": 187, "time_since_restore": 7147.539091825485, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 2099.109199515035, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332ecf8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e4a8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 188, "date": "2019-04-30_04-25-30", "timesteps_total": 20754959, "episodes_total": 12477, "hostname": "flow-main", "info": {"num_steps_trained": 20754959, "grad_time_ms": 19986.94, "load_time_ms": 17.259, "update_time_ms": 11.501, "default": {"entropy": 2.612637519836426, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1310.2562255859375, "vf_loss": 1310.26513671875, "policy_loss": -0.017176181077957153, "kl": 0.016420582309365273, "vf_explained_var": 0.6035455465316772, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 20754959, "sample_time_ms": 14596.208}, "custom_metrics": {"cost2_min": -81.41947038692126, "system_level_velocity_mean": 12.822001113678839, "outflow_rate_max": 866.9051082736677, "outflow_rate_min": 426.10884712655826, "system_level_velocity_min": 6.166897133909815, "outflow_rate_mean": 654.6037510064604, "cost2_max": -14.714226085786624, "cost2_mean": -31.521799162173952, "cost1_min": 153.4926735055159, "cost1_mean": 324.21657649126627, "system_level_velocity_max": 16.16790059091766, "cost1_max": 400.7903507140685}, "episode_len_mean": 695.95, "time_total_s": 7182.144325971603, "pid": 48556, "episodes_this_iter": 88, "episode_reward_max": 7697.11746610918, "timesteps_since_restore": 20754959, "node_ip": "10.138.0.2", "timestamp": 1556598330, "policy_reward_mean": {}, "episode_reward_mean": 4298.0380545525995, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 98252, "time_this_iter_s": 34.605234146118164, "training_iteration": 188, "time_since_restore": 7182.144325971603, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 2817.213179402584, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335d68>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335748>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33355c0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 189, "date": "2019-04-30_04-26-04", "timesteps_total": 20852111, "episodes_total": 12570, "hostname": "flow-main", "info": {"num_steps_trained": 20852111, "grad_time_ms": 20048.902, "load_time_ms": 16.311, "update_time_ms": 11.562, "default": {"entropy": 2.654893636703491, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1518.68408203125, "vf_loss": 1518.6934814453125, "policy_loss": -0.01698542758822441, "kl": 0.015391895547509193, "vf_explained_var": 0.5732521414756775, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 20852111, "sample_time_ms": 14558.939}, "custom_metrics": {"cost2_min": -81.2907120345329, "system_level_velocity_mean": 12.598384719670296, "outflow_rate_max": 851.9303528277313, "outflow_rate_min": 447.52838946242167, "system_level_velocity_min": 6.4271116786713085, "outflow_rate_mean": 627.7427542874988, "cost2_max": -13.809574619795715, "cost2_mean": -29.164391702143213, "cost1_min": 158.04138298783892, "cost1_mean": 320.2920258425829, "system_level_velocity_max": 17.04266844933694, "cost1_max": 412.9957657378993}, "episode_len_mean": 700.0, "time_total_s": 7216.2710473537445, "pid": 48556, "episodes_this_iter": 93, "episode_reward_max": 7007.559379089525, "timesteps_since_restore": 20852111, "node_ip": "10.138.0.2", "timestamp": 1556598364, "policy_reward_mean": {}, "episode_reward_mean": 4033.8037512961637, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 97152, "time_this_iter_s": 34.12672138214111, "training_iteration": 189, "time_since_restore": 7216.2710473537445, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 183.3729334142668, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332ecc0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e588>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335908>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 190, "date": "2019-04-30_04-26-41", "timesteps_total": 20950235, "episodes_total": 12656, "hostname": "flow-main", "info": {"num_steps_trained": 20950235, "grad_time_ms": 20071.38, "load_time_ms": 16.318, "update_time_ms": 11.603, "default": {"entropy": 2.649380683898926, "cur_kl_coeff": 0.5062499046325684, "total_loss": 1341.90771484375, "vf_loss": 1341.91552734375, "policy_loss": -0.016047606244683266, "kl": 0.016305740922689438, "vf_explained_var": 0.6121253371238708, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 20950235, "sample_time_ms": 14637.176}, "custom_metrics": {"cost2_min": -60.982129511872664, "system_level_velocity_mean": 12.545099845340829, "outflow_rate_max": 919.5306233877037, "outflow_rate_min": 411.10440266334547, "system_level_velocity_min": 5.94892240239951, "outflow_rate_mean": 616.2798768961148, "cost2_max": -15.872441276966592, "cost2_mean": -29.472647951680774, "cost1_min": 17.959932091098672, "cost1_mean": 308.73393988975585, "system_level_velocity_max": 18.85062491977549, "cost1_max": 412.69205139057567}, "episode_len_mean": 685.37, "time_total_s": 7252.436944484711, "pid": 48556, "episodes_this_iter": 86, "episode_reward_max": 5851.314084919658, "timesteps_since_restore": 20950235, "node_ip": "10.138.0.2", "timestamp": 1556598401, "policy_reward_mean": {}, "episode_reward_mean": 3822.3791960300255, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 98124, "time_this_iter_s": 36.16589713096619, "training_iteration": 190, "time_since_restore": 7252.436944484711, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 2860.59270488474, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335828>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335438>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335c50>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 191, "date": "2019-04-30_04-27-16", "timesteps_total": 21049679, "episodes_total": 12742, "hostname": "flow-main", "info": {"num_steps_trained": 21049679, "grad_time_ms": 20071.528, "load_time_ms": 16.439, "update_time_ms": 11.548, "default": {"entropy": 2.5979578495025635, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1361.3370361328125, "vf_loss": 1361.345703125, "policy_loss": -0.01681358925998211, "kl": 0.015658671036362648, "vf_explained_var": 0.6109329462051392, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 21049679, "sample_time_ms": 14608.074}, "custom_metrics": {"cost2_min": -94.7490508931092, "system_level_velocity_mean": 12.252678761268788, "outflow_rate_max": 936.1928663884851, "outflow_rate_min": 415.6379211991352, "system_level_velocity_min": 5.94892240239951, "outflow_rate_mean": 632.0285689176121, "cost2_max": -13.335046910644007, "cost2_mean": -32.739034384586375, "cost1_min": 154.05477656247095, "cost1_mean": 311.3293157257108, "system_level_velocity_max": 16.999134661395008, "cost1_max": 426.77999916931833}, "episode_len_mean": 700.0, "time_total_s": 7288.218705654144, "pid": 48556, "episodes_this_iter": 86, "episode_reward_max": 8962.592726050996, "timesteps_since_restore": 21049679, "node_ip": "10.138.0.2", "timestamp": 1556598436, "policy_reward_mean": {}, "episode_reward_mean": 4186.60560322037, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 99444, "time_this_iter_s": 35.781761169433594, "training_iteration": 191, "time_since_restore": 7288.218705654144, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 2959.086525188048, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e7b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e4a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e438>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 192, "date": "2019-04-30_04-27-51", "timesteps_total": 21147503, "episodes_total": 12829, "hostname": "flow-main", "info": {"num_steps_trained": 21147503, "grad_time_ms": 19981.326, "load_time_ms": 15.776, "update_time_ms": 11.352, "default": {"entropy": 2.5947413444519043, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1310.275146484375, "vf_loss": 1310.2818603515625, "policy_loss": -0.015437635593116283, "kl": 0.01733011193573475, "vf_explained_var": 0.6250729560852051, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 21147503, "sample_time_ms": 14625.946}, "custom_metrics": {"cost2_min": -94.7490508931092, "system_level_velocity_mean": 12.705168261468273, "outflow_rate_max": 987.9510029156147, "outflow_rate_min": 423.06836993020323, "system_level_velocity_min": 7.596230545244992, "outflow_rate_mean": 655.1342868418905, "cost2_max": -13.335046910644007, "cost2_mean": -33.452037343512536, "cost1_min": 195.7452366548202, "cost1_mean": 322.79975940259664, "system_level_velocity_max": 16.2574431952322, "cost1_max": 413.19890256827915}, "episode_len_mean": 700.0, "time_total_s": 7322.895103693008, "pid": 48556, "episodes_this_iter": 87, "episode_reward_max": 9155.25854020427, "timesteps_since_restore": 21147503, "node_ip": "10.138.0.2", "timestamp": 1556598471, "policy_reward_mean": {}, "episode_reward_mean": 4399.439369471192, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 97824, "time_this_iter_s": 34.676398038864136, "training_iteration": 192, "time_since_restore": 7322.895103693008, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 2976.6157830028533, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335748>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335c88>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33352b0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 193, "date": "2019-04-30_04-28-26", "timesteps_total": 21245713, "episodes_total": 12920, "hostname": "flow-main", "info": {"num_steps_trained": 21245713, "grad_time_ms": 19996.381, "load_time_ms": 15.836, "update_time_ms": 11.339, "default": {"entropy": 2.648391008377075, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1354.9283447265625, "vf_loss": 1354.9364013671875, "policy_loss": -0.016654273495078087, "kl": 0.016809789463877678, "vf_explained_var": 0.6488478183746338, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 21245713, "sample_time_ms": 14626.995}, "custom_metrics": {"cost2_min": -82.35375971558541, "system_level_velocity_mean": 12.446077851837964, "outflow_rate_max": 857.7728011679025, "outflow_rate_min": 319.7439312116355, "system_level_velocity_min": 3.054200331515547, "outflow_rate_mean": 637.4789773899695, "cost2_max": -12.35951184478175, "cost2_mean": -30.858507442176542, "cost1_min": 75.62480796793541, "cost1_mean": 316.20004324296167, "system_level_velocity_max": 17.144911384223068, "cost1_max": 426.6956125814361}, "episode_len_mean": 700.0, "time_total_s": 7358.125419616699, "pid": 48556, "episodes_this_iter": 91, "episode_reward_max": 9784.471805578258, "timesteps_since_restore": 21245713, "node_ip": "10.138.0.2", "timestamp": 1556598506, "policy_reward_mean": {}, "episode_reward_mean": 4227.349596119715, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 98210, "time_this_iter_s": 35.230315923690796, "training_iteration": 193, "time_since_restore": 7358.125419616699, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 2629.7979682786586, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335f28>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335630>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335fd0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 194, "date": "2019-04-30_04-29-01", "timesteps_total": 21343925, "episodes_total": 12999, "hostname": "flow-main", "info": {"num_steps_trained": 21343925, "grad_time_ms": 20081.379, "load_time_ms": 16.16, "update_time_ms": 10.995, "default": {"entropy": 2.6761562824249268, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1289.3472900390625, "vf_loss": 1289.3570556640625, "policy_loss": -0.018185295164585114, "kl": 0.016572387889027596, "vf_explained_var": 0.6634612083435059, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 21343925, "sample_time_ms": 14643.097}, "custom_metrics": {"cost2_min": -82.35375971558541, "system_level_velocity_mean": 12.253081762088987, "outflow_rate_max": 832.7626980971717, "outflow_rate_min": 228.93126432808074, "system_level_velocity_min": 2.7665540895866596, "outflow_rate_mean": 627.4895276614427, "cost2_max": -15.627613274854287, "cost2_mean": -30.37538391329534, "cost1_min": 69.48017643786564, "cost1_mean": 311.72391498543396, "system_level_velocity_max": 16.14316915176271, "cost1_max": 411.8545939158566}, "episode_len_mean": 700.0, "time_total_s": 7393.031549215317, "pid": 48556, "episodes_this_iter": 79, "episode_reward_max": 9739.781340618638, "timesteps_since_restore": 21343925, "node_ip": "10.138.0.2", "timestamp": 1556598541, "policy_reward_mean": {}, "episode_reward_mean": 4119.144326729478, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 98212, "time_this_iter_s": 34.906129598617554, "training_iteration": 194, "time_since_restore": 7393.031549215317, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 3030.27016516704, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335cc0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335518>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335080>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 195, "date": "2019-04-30_04-29-37", "timesteps_total": 21444481, "episodes_total": 13084, "hostname": "flow-main", "info": {"num_steps_trained": 21444481, "grad_time_ms": 20224.899, "load_time_ms": 16.066, "update_time_ms": 10.96, "default": {"entropy": 2.710684299468994, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1188.485107421875, "vf_loss": 1188.493896484375, "policy_loss": -0.016835913062095642, "kl": 0.01569962315261364, "vf_explained_var": 0.7061019539833069, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 21444481, "sample_time_ms": 14652.834}, "custom_metrics": {"cost2_min": -71.95150610552301, "system_level_velocity_mean": 12.26980792050592, "outflow_rate_max": 1049.0743847057922, "outflow_rate_min": 335.5308384253986, "system_level_velocity_min": 2.9720600495619203, "outflow_rate_mean": 630.656613913047, "cost2_max": -16.076667049723795, "cost2_mean": -29.331403015591658, "cost1_min": 74.63301618640322, "cost1_mean": 311.86094457634306, "system_level_velocity_max": 17.001224621224775, "cost1_max": 426.07402125916053}, "episode_len_mean": 700.0, "time_total_s": 7428.95065164566, "pid": 48556, "episodes_this_iter": 85, "episode_reward_max": 7851.985522233039, "timesteps_since_restore": 21444481, "node_ip": "10.138.0.2", "timestamp": 1556598577, "policy_reward_mean": {}, "episode_reward_mean": 4124.26145580856, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 100556, "time_this_iter_s": 35.91910243034363, "training_iteration": 195, "time_since_restore": 7428.95065164566, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 2909.5247100640067, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335f28>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335630>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33352e8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 196, "date": "2019-04-30_04-30-13", "timesteps_total": 21543834, "episodes_total": 13178, "hostname": "flow-main", "info": {"num_steps_trained": 21543834, "grad_time_ms": 20347.02, "load_time_ms": 15.651, "update_time_ms": 10.935, "default": {"entropy": 2.7353508472442627, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1426.847412109375, "vf_loss": 1426.8564453125, "policy_loss": -0.017584187909960747, "kl": 0.016620246693491936, "vf_explained_var": 0.682449996471405, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 21543834, "sample_time_ms": 14653.962}, "custom_metrics": {"cost2_min": -83.27559554578502, "system_level_velocity_mean": 12.259896427208398, "outflow_rate_max": 924.4295309885517, "outflow_rate_min": 342.768828433972, "system_level_velocity_min": 2.9678443308122477, "outflow_rate_mean": 641.3370515467439, "cost2_max": -13.804830643340392, "cost2_mean": -32.45417759242086, "cost1_min": 75.54825025262258, "cost1_mean": 313.240537711769, "system_level_velocity_max": 17.001224621224775, "cost1_max": 414.55981156882353}, "episode_len_mean": 700.0, "time_total_s": 7464.763525724411, "pid": 48556, "episodes_this_iter": 94, "episode_reward_max": 7391.4890578275845, "timesteps_since_restore": 21543834, "node_ip": "10.138.0.2", "timestamp": 1556598613, "policy_reward_mean": {}, "episode_reward_mean": 4261.842366969526, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 99353, "time_this_iter_s": 35.81287407875061, "training_iteration": 196, "time_since_restore": 7464.763525724411, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 2846.1007481844167, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335f60>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335320>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 197, "date": "2019-04-30_04-30-49", "timesteps_total": 21643358, "episodes_total": 13262, "hostname": "flow-main", "info": {"num_steps_trained": 21643358, "grad_time_ms": 20351.069, "load_time_ms": 15.82, "update_time_ms": 11.21, "default": {"entropy": 2.7381627559661865, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1298.1400146484375, "vf_loss": 1298.14892578125, "policy_loss": -0.01736566610634327, "kl": 0.0166661124676466, "vf_explained_var": 0.7244247794151306, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 21643358, "sample_time_ms": 14704.39}, "custom_metrics": {"cost2_min": -97.33019377983646, "system_level_velocity_mean": 12.189428875603728, "outflow_rate_max": 912.3129354288341, "outflow_rate_min": 406.15737960889476, "system_level_velocity_min": 6.505061032321695, "outflow_rate_mean": 636.0848001983511, "cost2_max": -14.821687266445117, "cost2_mean": -30.983912078477132, "cost1_min": 168.32631851743022, "cost1_mean": 311.58748160476773, "system_level_velocity_max": 15.601065872482733, "cost1_max": 398.8776900722306}, "episode_len_mean": 700.0, "time_total_s": 7500.474070310593, "pid": 48556, "episodes_this_iter": 84, "episode_reward_max": 10067.68517996693, "timesteps_since_restore": 21643358, "node_ip": "10.138.0.2", "timestamp": 1556598649, "policy_reward_mean": {}, "episode_reward_mean": 4145.351512090886, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 99524, "time_this_iter_s": 35.71054458618164, "training_iteration": 197, "time_since_restore": 7500.474070310593, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 379.46676149649477, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335f28>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335630>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335fd0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 198, "date": "2019-04-30_04-31-24", "timesteps_total": 21741807, "episodes_total": 13349, "hostname": "flow-main", "info": {"num_steps_trained": 21741807, "grad_time_ms": 20400.053, "load_time_ms": 16.19, "update_time_ms": 11.183, "default": {"entropy": 2.775031328201294, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1198.735107421875, "vf_loss": 1198.7440185546875, "policy_loss": -0.017318326979875565, "kl": 0.01655431091785431, "vf_explained_var": 0.7314940690994263, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 21741807, "sample_time_ms": 14693.82}, "custom_metrics": {"cost2_min": -97.33019377983646, "system_level_velocity_mean": 11.81573194601769, "outflow_rate_max": 976.8905657072523, "outflow_rate_min": 384.897690749743, "system_level_velocity_min": 3.310647593336032, "outflow_rate_mean": 622.996738628378, "cost2_max": -14.771622510285729, "cost2_mean": -30.82173427572013, "cost1_min": 32.20794646765991, "cost1_mean": 296.7789538878135, "system_level_velocity_max": 18.98237509953784, "cost1_max": 422.6546664016822}, "episode_len_mean": 693.49, "time_total_s": 7535.479070186615, "pid": 48556, "episodes_this_iter": 87, "episode_reward_max": 10067.68517996693, "timesteps_since_restore": 21741807, "node_ip": "10.138.0.2", "timestamp": 1556598684, "policy_reward_mean": {}, "episode_reward_mean": 4031.608263672324, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 98449, "time_this_iter_s": 35.00499987602234, "training_iteration": 198, "time_since_restore": 7535.479070186615, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 2879.29711142186, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335eb8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33353c8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a332e5f8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 199, "date": "2019-04-30_04-32-00", "timesteps_total": 21839850, "episodes_total": 13439, "hostname": "flow-main", "info": {"num_steps_trained": 21839850, "grad_time_ms": 20555.501, "load_time_ms": 16.27, "update_time_ms": 11.342, "default": {"entropy": 2.7837882041931152, "cur_kl_coeff": 0.5062499046325684, "total_loss": 1193.8287353515625, "vf_loss": 1193.8359375, "policy_loss": -0.016297802329063416, "kl": 0.017912719398736954, "vf_explained_var": 0.7180110216140747, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 21839850, "sample_time_ms": 14736.025}, "custom_metrics": {"cost2_min": -60.09794825496045, "system_level_velocity_mean": 12.003174704591597, "outflow_rate_max": 793.5615978378128, "outflow_rate_min": 381.51306542708517, "system_level_velocity_min": 5.667671800776809, "outflow_rate_mean": 615.0064374374252, "cost2_max": -14.387329978760455, "cost2_mean": -29.19807633421513, "cost1_min": 145.94100596527997, "cost1_mean": 305.30625271395166, "system_level_velocity_max": 16.01631693117538, "cost1_max": 406.4799864195457}, "episode_len_mean": 700.0, "time_total_s": 7571.601838350296, "pid": 48556, "episodes_this_iter": 90, "episode_reward_max": 6683.860908512221, "timesteps_since_restore": 21839850, "node_ip": "10.138.0.2", "timestamp": 1556598720, "policy_reward_mean": {}, "episode_reward_mean": 3934.8239538097605, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 98043, "time_this_iter_s": 36.12276816368103, "training_iteration": 199, "time_since_restore": 7571.601838350296, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 2709.997853393059, "config": {"output_compress_columns": ["obs", "new_obs"], "kl_coeff": 0.2, "clip_param": 0.3, "compress_observations": false, "num_sgd_iter": 10, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "input": "sampler", "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "lambda": 0.97, "train_batch_size": 90000, "vf_loss_coeff": 1.0, "horizon": 1500, "preprocessor_pref": "deepmind", "output": null, "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 10.0]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "custom_resources_per_worker": {}, "clip_rewards": null, "log_level": "INFO", "model": {"free_log_std": false, "conv_activation": "relu", "lstm_cell_size": 256, "dim": 84, "custom_preprocessor": null, "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "custom_options": {}, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "custom_model": null, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "num_cpus_for_driver": 1, "lr": 0.0005, "simple_optimizer": false, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335630>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335fd0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3335198>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "gamma": 0.99, "num_cpus_per_worker": 1}, "iterations_since_restore": 200, "date": "2019-04-30_04-32-35", "timesteps_total": 21937754, "episodes_total": 13524, "hostname": "flow-main", "info": {"num_steps_trained": 21937754, "grad_time_ms": 20544.601, "load_time_ms": 16.747, "update_time_ms": 11.301, "default": {"entropy": 2.8132495880126953, "cur_kl_coeff": 0.5062499642372131, "total_loss": 1165.2530517578125, "vf_loss": 1165.2618408203125, "policy_loss": -0.0170847587287426, "kl": 0.016408421099185944, "vf_explained_var": 0.7163811922073364, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 21937754, "sample_time_ms": 14633.785}, "custom_metrics": {"cost2_min": -65.2862605187013, "system_level_velocity_mean": 11.677595934410625, "outflow_rate_max": 775.1309838826761, "outflow_rate_min": 411.7066811479197, "system_level_velocity_min": 4.724945144962729, "outflow_rate_mean": 605.2491892624641, "cost2_max": -14.062072674763915, "cost2_mean": -28.699888034579182, "cost1_min": 119.50409771500232, "cost1_mean": 296.799001221105, "system_level_velocity_max": 16.020246787671358, "cost1_max": 413.11060780579487}, "episode_len_mean": 700.0, "time_total_s": 7606.639982700348, "pid": 48556, "episodes_this_iter": 85, "episode_reward_max": 7978.5689713139245, "timesteps_since_restore": 21937754, "node_ip": "10.138.0.2", "timestamp": 1556598755, "policy_reward_mean": {}, "episode_reward_mean": 3932.060365310852, "experiment_id": "8b283b70cac84ed9bdcc64b098cc3982", "timesteps_this_iter": 97904, "time_this_iter_s": 35.03814435005188, "training_iteration": 200, "time_since_restore": 7606.639982700348, "done": true}
