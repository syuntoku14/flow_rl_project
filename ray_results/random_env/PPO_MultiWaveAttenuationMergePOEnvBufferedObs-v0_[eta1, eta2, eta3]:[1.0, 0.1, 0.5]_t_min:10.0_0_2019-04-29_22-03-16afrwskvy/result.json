{"num_metric_batches_dropped": 0, "episode_reward_min": 67.5255619536137, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33565f8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3356630>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3356668>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 123174, "grad_time_ms": 28972.328, "load_time_ms": 68.895, "update_time_ms": 834.784, "default": {"entropy": 1.4129031896591187, "cur_kl_coeff": 0.20000003278255463, "total_loss": 2.847057819366455, "kl": 0.0029086796566843987, "vf_explained_var": 0.806358277797699, "vf_loss": 2.84789776802063, "policy_loss": -0.0014217415591701865, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 123174, "sample_time_ms": 15066.887}, "timesteps_since_restore": 123174, "date": "2019-04-29_22-04-58", "timesteps_total": 123174, "episodes_this_iter": 13, "episodes_total": 13, "hostname": "flow-main", "time_total_s": 45.22100853919983, "custom_metrics": {"cost2_min": -59.405464613919634, "system_level_velocity_mean": 8.4745067177905, "outflow_rate_max": 678.2974723916179, "outflow_rate_min": 513.5208878853996, "system_level_velocity_min": 6.926689154435811, "outflow_rate_mean": 586.5532480746497, "cost2_max": -18.143701268105886, "cost1_max": 227.67593180489516, "cost1_min": 24.943626847400324, "cost1_mean": 184.65258465668288, "system_level_velocity_max": 17.511873792441186, "cost2_mean": -39.91286402549239}, "episode_len_mean": 649.2307692307693, "episode_reward_mean": 466.7085309097195, "pid": 366, "iterations_since_restore": 1, "episode_reward_max": 635.1112508164128, "node_ip": "10.138.0.2", "timestamp": 1556575498, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 123174, "time_this_iter_s": 45.22100853919983, "training_iteration": 1, "time_since_restore": 45.22100853919983, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 67.5255619536137, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3356f98>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3356fd0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3356c88>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 241939, "grad_time_ms": 27990.999, "load_time_ms": 48.845, "update_time_ms": 423.501, "default": {"entropy": 1.4169068336486816, "cur_kl_coeff": 0.10000001639127731, "total_loss": 3.6963765621185303, "kl": 0.008882901631295681, "vf_explained_var": 0.7997503280639648, "vf_loss": 3.6998045444488525, "policy_loss": -0.004316058475524187, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 241939, "sample_time_ms": 15582.212}, "timesteps_since_restore": 241939, "date": "2019-04-29_22-05-42", "timesteps_total": 241939, "episodes_this_iter": 65, "episodes_total": 78, "hostname": "flow-main", "time_total_s": 88.60368514060974, "custom_metrics": {"cost2_min": -104.23960880685806, "system_level_velocity_mean": 7.8389980625982565, "outflow_rate_max": 847.7372514841575, "outflow_rate_min": 396.9042263872438, "system_level_velocity_min": 2.742374841294424, "outflow_rate_mean": 601.7788788756195, "cost2_max": -18.143701268105886, "cost1_max": 261.01759473173706, "cost1_min": 24.943626847400324, "cost1_mean": 191.7505331881971, "system_level_velocity_max": 18.07697427256056, "cost2_mean": -54.922246102260054}, "episode_len_mean": 683.1025641025641, "episode_reward_mean": 626.9857901209845, "pid": 366, "iterations_since_restore": 2, "episode_reward_max": 1021.6029066720057, "node_ip": "10.138.0.2", "timestamp": 1556575542, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 118765, "time_this_iter_s": 43.38267660140991, "training_iteration": 2, "time_since_restore": 88.60368514060974, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 56.966037353930304, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33737f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373828>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373860>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 361100, "grad_time_ms": 26988.906, "load_time_ms": 38.183, "update_time_ms": 286.937, "default": {"entropy": 1.4031858444213867, "cur_kl_coeff": 0.10000001639127731, "total_loss": 4.214111328125, "kl": 0.011276078410446644, "vf_explained_var": 0.897577702999115, "vf_loss": 4.218993186950684, "policy_loss": -0.006009737495332956, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 361100, "sample_time_ms": 15468.493}, "timesteps_since_restore": 361100, "date": "2019-04-29_22-06-22", "timesteps_total": 361100, "episodes_this_iter": 53, "episodes_total": 131, "hostname": "flow-main", "time_total_s": 129.0807020664215, "custom_metrics": {"cost2_min": -104.23960880685806, "system_level_velocity_mean": 7.826114670425028, "outflow_rate_max": 944.0419441460842, "outflow_rate_min": 196.3511975185061, "system_level_velocity_min": 2.1066156442464217, "outflow_rate_mean": 604.8707096828874, "cost2_max": -19.44086942428611, "cost1_max": 311.49367298612947, "cost1_min": 23.181230315086506, "cost1_mean": 193.8610834726541, "system_level_velocity_max": 18.744071652364426, "cost2_mean": -55.96289792435255}, "episode_len_mean": 686.77, "episode_reward_mean": 658.5033172933394, "pid": 366, "iterations_since_restore": 3, "episode_reward_max": 1041.103939591143, "node_ip": "10.138.0.2", "timestamp": 1556575582, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 119161, "time_this_iter_s": 40.47701692581177, "training_iteration": 3, "time_since_restore": 129.0807020664215, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 380.8045618098791, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3356ac8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3356c50>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3356a20>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 481955, "grad_time_ms": 26797.016, "load_time_ms": 35.905, "update_time_ms": 217.824, "default": {"entropy": 1.4073289632797241, "cur_kl_coeff": 0.10000001639127731, "total_loss": 5.587961673736572, "kl": 0.011608992703258991, "vf_explained_var": 0.8960952162742615, "vf_loss": 5.593472957611084, "policy_loss": -0.0066718789748847485, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 481955, "sample_time_ms": 15580.039}, "timesteps_since_restore": 481955, "date": "2019-04-29_22-07-05", "timesteps_total": 481955, "episodes_this_iter": 61, "episodes_total": 192, "hostname": "flow-main", "time_total_s": 171.47274208068848, "custom_metrics": {"cost2_min": -117.0630806609928, "system_level_velocity_mean": 7.632753712773523, "outflow_rate_max": 931.0270151159214, "outflow_rate_min": 196.3511975185061, "system_level_velocity_min": 2.2448393462529364, "outflow_rate_mean": 588.1706953403218, "cost2_max": -30.205828751219517, "cost1_max": 308.1336731553332, "cost1_min": 57.428458568604945, "cost1_mean": 197.99793786518396, "system_level_velocity_max": 11.614949820930015, "cost2_mean": -58.089673210288936}, "episode_len_mean": 700.0, "episode_reward_mean": 686.5101844169828, "pid": 366, "iterations_since_restore": 4, "episode_reward_max": 1244.673488711841, "node_ip": "10.138.0.2", "timestamp": 1556575625, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 120855, "time_this_iter_s": 42.39204001426697, "training_iteration": 4, "time_since_restore": 171.47274208068848, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 63.55751874664905, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373a58>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373be0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33737f0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 608299, "grad_time_ms": 26987.56, "load_time_ms": 34.438, "update_time_ms": 176.552, "default": {"entropy": 1.4006145000457764, "cur_kl_coeff": 0.10000000894069672, "total_loss": 6.673086166381836, "kl": 0.00986343715339899, "vf_explained_var": 0.9000916481018066, "vf_loss": 6.678066730499268, "policy_loss": -0.005967153701931238, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 608299, "sample_time_ms": 15936.915}, "timesteps_since_restore": 608299, "date": "2019-04-29_22-07-50", "timesteps_total": 608299, "episodes_this_iter": 52, "episodes_total": 244, "hostname": "flow-main", "time_total_s": 216.8517518043518, "custom_metrics": {"cost2_min": -117.0630806609928, "system_level_velocity_mean": 7.9387464861047565, "outflow_rate_max": 931.0270151159214, "outflow_rate_min": 268.7421891876399, "system_level_velocity_min": 2.416137204180766, "outflow_rate_mean": 605.6010897765816, "cost2_max": -20.44272374381901, "cost1_max": 308.1336731553332, "cost1_min": 24.425227624658113, "cost1_mean": 202.67118342210316, "system_level_velocity_max": 17.493234733774408, "cost2_mean": -63.165107102347626}, "episode_len_mean": 693.38, "episode_reward_mean": 743.6475211575032, "pid": 366, "iterations_since_restore": 5, "episode_reward_max": 1244.673488711841, "node_ip": "10.138.0.2", "timestamp": 1556575670, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 126344, "time_this_iter_s": 45.37900972366333, "training_iteration": 5, "time_since_restore": 216.8517518043518, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 44.66589703833158, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373748>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373588>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373390>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 738898, "grad_time_ms": 27391.293, "load_time_ms": 33.539, "update_time_ms": 149.178, "default": {"entropy": 1.3986026048660278, "cur_kl_coeff": 0.10000001639127731, "total_loss": 6.163008689880371, "kl": 0.011594965122640133, "vf_explained_var": 0.9242423176765442, "vf_loss": 6.168725490570068, "policy_loss": -0.006876381579786539, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 738898, "sample_time_ms": 15882.371}, "timesteps_since_restore": 738898, "date": "2019-04-29_22-08-36", "timesteps_total": 738898, "episodes_this_iter": 39, "episodes_total": 283, "hostname": "flow-main", "time_total_s": 262.16993260383606, "custom_metrics": {"cost2_min": -122.42868912111945, "system_level_velocity_mean": 8.106760628493868, "outflow_rate_max": 900.2072987896292, "outflow_rate_min": 280.25148524395956, "system_level_velocity_min": 2.416137204180766, "outflow_rate_mean": 617.2693643118895, "cost2_max": -14.367296594407204, "cost1_max": 298.18687295920654, "cost1_min": 15.762044159604423, "cost1_mean": 203.0144071410933, "system_level_velocity_max": 18.14283778745005, "cost2_mean": -66.10512686096286}, "episode_len_mean": 686.63, "episode_reward_mean": 768.075113297782, "pid": 366, "iterations_since_restore": 6, "episode_reward_max": 1196.4750688796914, "node_ip": "10.138.0.2", "timestamp": 1556575716, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 130599, "time_this_iter_s": 45.31818079948425, "training_iteration": 6, "time_since_restore": 262.16993260383606, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 44.66589703833158, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373828>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373ba8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373dd8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 867568, "grad_time_ms": 27505.737, "load_time_ms": 32.428, "update_time_ms": 129.521, "default": {"entropy": 1.3764833211898804, "cur_kl_coeff": 0.10000001639127731, "total_loss": 8.549946784973145, "kl": 0.013655702583491802, "vf_explained_var": 0.9035054445266724, "vf_loss": 8.556375503540039, "policy_loss": -0.007794454228132963, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 867568, "sample_time_ms": 16015.71}, "timesteps_since_restore": 867568, "date": "2019-04-29_22-09-21", "timesteps_total": 867568, "episodes_this_iter": 56, "episodes_total": 339, "hostname": "flow-main", "time_total_s": 307.43158292770386, "custom_metrics": {"cost2_min": -122.42868912111945, "system_level_velocity_mean": 8.122729056984893, "outflow_rate_max": 940.5795715602031, "outflow_rate_min": 200.30023662123645, "system_level_velocity_min": 2.605448027573566, "outflow_rate_mean": 646.3218645043967, "cost2_max": -14.367296594407204, "cost1_max": 299.157155230539, "cost1_min": 15.762044159604423, "cost1_mean": 208.71175663120982, "system_level_velocity_max": 18.14283778745005, "cost2_mean": -76.26774943463629}, "episode_len_mean": 693.25, "episode_reward_mean": 868.1776424260398, "pid": 366, "iterations_since_restore": 7, "episode_reward_max": 1229.1100854939991, "node_ip": "10.138.0.2", "timestamp": 1556575761, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 128670, "time_this_iter_s": 45.2616503238678, "training_iteration": 7, "time_since_restore": 307.43158292770386, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 441.29345622422613, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33737b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33735f8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 998445, "grad_time_ms": 27629.466, "load_time_ms": 31.676, "update_time_ms": 115.011, "default": {"entropy": 1.3665850162506104, "cur_kl_coeff": 0.10000000894069672, "total_loss": 7.138205528259277, "kl": 0.015082881785929203, "vf_explained_var": 0.9296783208847046, "vf_loss": 7.144944190979004, "policy_loss": -0.00824660249054432, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 998445, "sample_time_ms": 15939.67}, "timesteps_since_restore": 998445, "date": "2019-04-29_22-10-05", "timesteps_total": 998445, "episodes_this_iter": 38, "episodes_total": 377, "hostname": "flow-main", "time_total_s": 351.6371581554413, "custom_metrics": {"cost2_min": -129.98316062405618, "system_level_velocity_mean": 8.209030776463974, "outflow_rate_max": 1000.52554571355, "outflow_rate_min": 200.30023662123645, "system_level_velocity_min": 2.605448027573566, "outflow_rate_mean": 678.9747467473861, "cost2_max": -30.45043231904868, "cost1_max": 336.8386626333254, "cost1_min": 66.81670464533377, "cost1_mean": 216.32301207328481, "system_level_velocity_max": 12.812378167375964, "cost2_mean": -84.86501480485707}, "episode_len_mean": 700.0, "episode_reward_mean": 938.6019987788676, "pid": 366, "iterations_since_restore": 8, "episode_reward_max": 1267.4923418881237, "node_ip": "10.138.0.2", "timestamp": 1556575805, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 130877, "time_this_iter_s": 44.20557522773743, "training_iteration": 8, "time_since_restore": 351.6371581554413, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 65.64554027464186, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3356f60>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f656f050278>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3356cc0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 1120625, "grad_time_ms": 27564.73, "load_time_ms": 31.43, "update_time_ms": 103.452, "default": {"entropy": 1.3483048677444458, "cur_kl_coeff": 0.10000001639127731, "total_loss": 9.732622146606445, "kl": 0.018040385097265244, "vf_explained_var": 0.9096119403839111, "vf_loss": 9.740670204162598, "policy_loss": -0.009852535091340542, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 1120625, "sample_time_ms": 15890.955}, "timesteps_since_restore": 1120625, "date": "2019-04-29_22-10-48", "timesteps_total": 1120625, "episodes_this_iter": 53, "episodes_total": 430, "hostname": "flow-main", "time_total_s": 394.44976925849915, "custom_metrics": {"cost2_min": -148.7074359981286, "system_level_velocity_mean": 8.690815685939247, "outflow_rate_max": 1042.36537465395, "outflow_rate_min": 348.8538751170988, "system_level_velocity_min": 3.5643162995698705, "outflow_rate_mean": 714.081751408497, "cost2_max": -24.128241941383592, "cost1_max": 344.174448212213, "cost1_min": 27.362334104368276, "cost1_mean": 220.43446649463493, "system_level_velocity_max": 18.075270261897654, "cost2_mean": -88.91152861831527}, "episode_len_mean": 686.84, "episode_reward_mean": 974.1192339613295, "pid": 366, "iterations_since_restore": 9, "episode_reward_max": 1294.1747277653374, "node_ip": "10.138.0.2", "timestamp": 1556575848, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 122180, "time_this_iter_s": 42.81261110305786, "training_iteration": 9, "time_since_restore": 394.44976925849915, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 65.64554027464186, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33732e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373710>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3356fd0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 1240988, "grad_time_ms": 27399.127, "load_time_ms": 30.88, "update_time_ms": 94.3, "default": {"entropy": 1.3411457538604736, "cur_kl_coeff": 0.10000001639127731, "total_loss": 13.207935333251953, "kl": 0.015472974628210068, "vf_explained_var": 0.8797745704650879, "vf_loss": 13.215550422668457, "policy_loss": -0.00916269700974226, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 1240988, "sample_time_ms": 15995.841}, "timesteps_since_restore": 1240988, "date": "2019-04-29_22-11-31", "timesteps_total": 1240988, "episodes_this_iter": 58, "episodes_total": 488, "hostname": "flow-main", "time_total_s": 437.5476903915405, "custom_metrics": {"cost2_min": -148.7074359981286, "system_level_velocity_mean": 9.442181756189466, "outflow_rate_max": 1042.36537465395, "outflow_rate_min": 362.1053677858209, "system_level_velocity_min": 3.6700537367211914, "outflow_rate_mean": 770.0029966521362, "cost2_max": -24.128241941383592, "cost1_max": 365.7170874411875, "cost1_min": 27.362334104368276, "cost1_mean": 240.6517722022337, "system_level_velocity_max": 18.075270261897654, "cost2_mean": -84.69373714382331}, "episode_len_mean": 686.84, "episode_reward_mean": 1021.8342841613878, "pid": 366, "iterations_since_restore": 10, "episode_reward_max": 1316.1031586272009, "node_ip": "10.138.0.2", "timestamp": 1556575891, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 120363, "time_this_iter_s": 43.09792113304138, "training_iteration": 10, "time_since_restore": 437.5476903915405, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 578.7909438400076, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373470>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373b00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373780>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 1361956, "grad_time_ms": 27071.316, "load_time_ms": 26.54, "update_time_ms": 11.964, "default": {"entropy": 1.3251508474349976, "cur_kl_coeff": 0.10000001639127731, "total_loss": 12.145840644836426, "kl": 0.019272061064839363, "vf_explained_var": 0.8666359186172485, "vf_loss": 12.154479026794434, "policy_loss": -0.010565272532403469, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 1361956, "sample_time_ms": 16020.976}, "timesteps_since_restore": 1361956, "date": "2019-04-29_22-12-13", "timesteps_total": 1361956, "episodes_this_iter": 46, "episodes_total": 534, "hostname": "flow-main", "time_total_s": 478.81548619270325, "custom_metrics": {"cost2_min": -136.04656004867644, "system_level_velocity_mean": 9.50192272788631, "outflow_rate_max": 1010.0752075472038, "outflow_rate_min": 362.1053677858209, "system_level_velocity_min": 3.6700537367211914, "outflow_rate_mean": 791.2589968162955, "cost2_max": -40.238936573167834, "cost1_max": 365.7170874411875, "cost1_min": 95.2293293745448, "cost1_mean": 251.1291322075292, "system_level_velocity_max": 13.788279591897698, "cost2_mean": -85.28451992736656}, "episode_len_mean": 700.0, "episode_reward_mean": 1048.8366900464641, "pid": 366, "iterations_since_restore": 11, "episode_reward_max": 1316.1031586272009, "node_ip": "10.138.0.2", "timestamp": 1556575933, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 120968, "time_this_iter_s": 41.26779580116272, "training_iteration": 11, "time_since_restore": 478.81548619270325, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 655.8176662309672, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3356940>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3356c18>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33569e8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 1482050, "grad_time_ms": 26833.248, "load_time_ms": 26.209, "update_time_ms": 11.745, "default": {"entropy": 1.3452941179275513, "cur_kl_coeff": 0.10000001639127731, "total_loss": 12.501989364624023, "kl": 0.016746630892157555, "vf_explained_var": 0.8553611040115356, "vf_loss": 12.510640144348145, "policy_loss": -0.010325171984732151, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 1482050, "sample_time_ms": 15990.966}, "timesteps_since_restore": 1482050, "date": "2019-04-29_22-12-53", "timesteps_total": 1482050, "episodes_this_iter": 53, "episodes_total": 587, "hostname": "flow-main", "time_total_s": 519.511027097702, "custom_metrics": {"cost2_min": -146.15332494209008, "system_level_velocity_mean": 9.629224312714298, "outflow_rate_max": 1026.9068729805308, "outflow_rate_min": 525.5570460945592, "system_level_velocity_min": 4.825251639295839, "outflow_rate_mean": 817.7243647334494, "cost2_max": -43.46171190181619, "cost1_max": 356.4793617297771, "cost1_min": 124.79283564379708, "cost1_mean": 254.68951106875738, "system_level_velocity_max": 13.369318292270995, "cost2_mean": -93.71229386757197}, "episode_len_mean": 700.0, "episode_reward_mean": 1093.5330412500314, "pid": 366, "iterations_since_restore": 12, "episode_reward_max": 1342.532349151728, "node_ip": "10.138.0.2", "timestamp": 1556575973, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 120094, "time_this_iter_s": 40.69554090499878, "training_iteration": 12, "time_since_restore": 519.511027097702, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 717.4862820692933, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373828>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33734a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373400>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 1603567, "grad_time_ms": 27098.334, "load_time_ms": 27.349, "update_time_ms": 11.492, "default": {"entropy": 1.3648964166641235, "cur_kl_coeff": 0.10000002384185791, "total_loss": 12.021297454833984, "kl": 0.019386034458875656, "vf_explained_var": 0.8466415405273438, "vf_loss": 12.030332565307617, "policy_loss": -0.010974174365401268, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 1603567, "sample_time_ms": 16045.649}, "timesteps_since_restore": 1603567, "date": "2019-04-29_22-13-37", "timesteps_total": 1603567, "episodes_this_iter": 45, "episodes_total": 632, "hostname": "flow-main", "time_total_s": 563.2105238437653, "custom_metrics": {"cost2_min": -163.98304207359746, "system_level_velocity_mean": 9.808230405993593, "outflow_rate_max": 1079.8559264643472, "outflow_rate_min": 654.5421561216128, "system_level_velocity_min": 6.379257013064804, "outflow_rate_mean": 835.7554676340219, "cost2_max": -43.46171190181619, "cost1_max": 381.5290000834404, "cost1_min": 164.95097644143186, "cost1_mean": 259.4335737862821, "system_level_velocity_max": 14.67012588925419, "cost2_mean": -98.07801307888883}, "episode_len_mean": 700.0, "episode_reward_mean": 1131.9750142130388, "pid": 366, "iterations_since_restore": 13, "episode_reward_max": 1342.532349151728, "node_ip": "10.138.0.2", "timestamp": 1556576017, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 121517, "time_this_iter_s": 43.69949674606323, "training_iteration": 13, "time_since_restore": 563.2105238437653, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 772.246455404446, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3356fd0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3356a20>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3356c50>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 1720689, "grad_time_ms": 27013.667, "load_time_ms": 26.88, "update_time_ms": 11.617, "default": {"entropy": 1.361194372177124, "cur_kl_coeff": 0.10000001639127731, "total_loss": 14.241228103637695, "kl": 0.020357396453619003, "vf_explained_var": 0.8453889489173889, "vf_loss": 14.24959659576416, "policy_loss": -0.01040379237383604, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 1720689, "sample_time_ms": 15949.225}, "timesteps_since_restore": 1720689, "date": "2019-04-29_22-14-18", "timesteps_total": 1720689, "episodes_this_iter": 53, "episodes_total": 685, "hostname": "flow-main", "time_total_s": 603.7679450511932, "custom_metrics": {"cost2_min": -163.98304207359746, "system_level_velocity_mean": 9.962938247724095, "outflow_rate_max": 1098.2069709186242, "outflow_rate_min": 690.1101923783801, "system_level_velocity_min": 6.379257013064804, "outflow_rate_mean": 853.7647965809806, "cost2_max": -46.66872809090292, "cost1_max": 381.5290000834404, "cost1_min": 164.95097644143186, "cost1_mean": 263.81571010057024, "system_level_velocity_max": 14.67012588925419, "cost2_mean": -100.65083319673508}, "episode_len_mean": 700.0, "episode_reward_mean": 1157.8653896427747, "pid": 366, "iterations_since_restore": 14, "episode_reward_max": 1375.3976973311771, "node_ip": "10.138.0.2", "timestamp": 1556576058, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 117122, "time_this_iter_s": 40.55742120742798, "training_iteration": 14, "time_since_restore": 603.7679450511932, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 746.9009496405666, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373470>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373b70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373ba8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 1840495, "grad_time_ms": 26942.311, "load_time_ms": 26.672, "update_time_ms": 11.488, "default": {"entropy": 1.3621221780776978, "cur_kl_coeff": 0.15000000596046448, "total_loss": 15.702832221984863, "kl": 0.01796884834766388, "vf_explained_var": 0.7991042733192444, "vf_loss": 15.712065696716309, "policy_loss": -0.011927837505936623, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 1840495, "sample_time_ms": 15775.871}, "timesteps_since_restore": 1840495, "date": "2019-04-29_22-15-01", "timesteps_total": 1840495, "episodes_this_iter": 54, "episodes_total": 739, "hostname": "flow-main", "time_total_s": 646.6746423244476, "custom_metrics": {"cost2_min": -173.7280782752191, "system_level_velocity_mean": 10.155385730258716, "outflow_rate_max": 1098.2069709186242, "outflow_rate_min": 646.5435581036611, "system_level_velocity_min": 6.284677364567081, "outflow_rate_mean": 873.3961038584152, "cost2_max": -37.463022978887196, "cost1_max": 387.14019045412516, "cost1_min": 162.18267934731153, "cost1_mean": 269.00257208092756, "system_level_velocity_max": 14.574921966226285, "cost2_mean": -102.39144372506708}, "episode_len_mean": 700.0, "episode_reward_mean": 1175.8489927757255, "pid": 366, "iterations_since_restore": 15, "episode_reward_max": 1471.3336333803618, "node_ip": "10.138.0.2", "timestamp": 1556576101, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 119806, "time_this_iter_s": 42.906697273254395, "training_iteration": 15, "time_since_restore": 646.6746423244476, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 53.56691361866064, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33569b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33569e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3356e48>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 1957941, "grad_time_ms": 26640.965, "load_time_ms": 25.453, "update_time_ms": 11.319, "default": {"entropy": 1.3448396921157837, "cur_kl_coeff": 0.14999999105930328, "total_loss": 13.558865547180176, "kl": 0.016579193994402885, "vf_explained_var": 0.8287279009819031, "vf_loss": 13.567676544189453, "policy_loss": -0.0112979207187891, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 1957941, "sample_time_ms": 15704.651}, "timesteps_since_restore": 1957941, "date": "2019-04-29_22-15-42", "timesteps_total": 1957941, "episodes_this_iter": 48, "episodes_total": 787, "hostname": "flow-main", "time_total_s": 688.2321853637695, "custom_metrics": {"cost2_min": -173.7280782752191, "system_level_velocity_mean": 10.528881056782867, "outflow_rate_max": 1029.4470843446038, "outflow_rate_min": 491.75005665836557, "system_level_velocity_min": 6.284677364567081, "outflow_rate_mean": 875.7842421716498, "cost2_max": -16.786747566359555, "cost1_max": 387.14019045412516, "cost1_min": 18.749490895358708, "cost1_mean": 269.46617392438645, "system_level_velocity_max": 17.566444038110312, "cost2_mean": -98.7692052286717}, "episode_len_mean": 686.63, "episode_reward_mean": 1147.7300074984607, "pid": 366, "iterations_since_restore": 16, "episode_reward_max": 1559.9602505870214, "node_ip": "10.138.0.2", "timestamp": 1556576142, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 117446, "time_this_iter_s": 41.5575430393219, "training_iteration": 16, "time_since_restore": 688.2321853637695, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 53.56691361866064, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373748>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373dd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33734e0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 2076437, "grad_time_ms": 26397.611, "load_time_ms": 25.393, "update_time_ms": 11.421, "default": {"entropy": 1.340585708618164, "cur_kl_coeff": 0.1499999761581421, "total_loss": 16.834810256958008, "kl": 0.018699292093515396, "vf_explained_var": 0.7833306193351746, "vf_loss": 16.842300415039062, "policy_loss": -0.010297432541847229, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 2076437, "sample_time_ms": 15571.276}, "timesteps_since_restore": 2076437, "date": "2019-04-29_22-16-24", "timesteps_total": 2076437, "episodes_this_iter": 57, "episodes_total": 844, "hostname": "flow-main", "time_total_s": 729.7355937957764, "custom_metrics": {"cost2_min": -159.55145717461014, "system_level_velocity_mean": 10.904364615070374, "outflow_rate_max": 1068.9108849857585, "outflow_rate_min": 491.75005665836557, "system_level_velocity_min": 6.781318945310387, "outflow_rate_mean": 876.1647301270115, "cost2_max": -16.786747566359555, "cost1_max": 394.421770779387, "cost1_min": 18.749490895358708, "cost1_mean": 273.44532195026693, "system_level_velocity_max": 18.598281152679938, "cost2_mean": -93.94920456183239}, "episode_len_mean": 679.99, "episode_reward_mean": 1113.5625092421517, "pid": 366, "iterations_since_restore": 17, "episode_reward_max": 1559.9602505870214, "node_ip": "10.138.0.2", "timestamp": 1556576184, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 118496, "time_this_iter_s": 41.503408432006836, "training_iteration": 17, "time_since_restore": 729.7355937957764, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 763.2154215038148, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3356dd8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3356a20>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3356ba8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 2193364, "grad_time_ms": 26088.514, "load_time_ms": 24.189, "update_time_ms": 11.093, "default": {"entropy": 1.3527940511703491, "cur_kl_coeff": 0.1499999761581421, "total_loss": 18.308488845825195, "kl": 0.018053926527500153, "vf_explained_var": 0.7833129167556763, "vf_loss": 18.317697525024414, "policy_loss": -0.011918353848159313, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 2193364, "sample_time_ms": 15583.082}, "timesteps_since_restore": 2193364, "date": "2019-04-29_22-17-05", "timesteps_total": 2193364, "episodes_this_iter": 58, "episodes_total": 902, "hostname": "flow-main", "time_total_s": 770.898561000824, "custom_metrics": {"cost2_min": -157.31370938439693, "system_level_velocity_mean": 10.82341742817387, "outflow_rate_max": 1104.7090160629184, "outflow_rate_min": 706.0399384482009, "system_level_velocity_min": 6.8224483595872645, "outflow_rate_mean": 899.2711094174201, "cost2_max": -46.747063105643434, "cost1_max": 394.421770779387, "cost1_min": 180.20506141876183, "cost1_mean": 284.65703440837785, "system_level_velocity_max": 15.043661502535283, "cost2_mean": -97.99648381593406}, "episode_len_mean": 700.0, "episode_reward_mean": 1167.20970897249, "pid": 366, "iterations_since_restore": 18, "episode_reward_max": 1558.964269331964, "node_ip": "10.138.0.2", "timestamp": 1556576225, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 116927, "time_this_iter_s": 41.16296720504761, "training_iteration": 18, "time_since_restore": 770.898561000824, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 812.5801728050218, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a337b2e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a337bb70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a337bba8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 2310981, "grad_time_ms": 25921.774, "load_time_ms": 23.85, "update_time_ms": 11.146, "default": {"entropy": 1.356290340423584, "cur_kl_coeff": 0.1499999761581421, "total_loss": 17.233989715576172, "kl": 0.01903056539595127, "vf_explained_var": 0.7991501092910767, "vf_loss": 17.243722915649414, "policy_loss": -0.012587621808052063, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 2310981, "sample_time_ms": 15617.032}, "timesteps_since_restore": 2310981, "date": "2019-04-29_22-17-47", "timesteps_total": 2310981, "episodes_this_iter": 55, "episodes_total": 957, "hostname": "flow-main", "time_total_s": 812.3682060241699, "custom_metrics": {"cost2_min": -145.21291761976266, "system_level_velocity_mean": 10.894313208062087, "outflow_rate_max": 1143.1626052077795, "outflow_rate_min": 704.3997938921354, "system_level_velocity_min": 6.621867879400815, "outflow_rate_mean": 918.0022911550127, "cost2_max": -47.20719989599326, "cost1_max": 413.290781094852, "cost1_min": 174.75004205665104, "cost1_mean": 286.97406505340695, "system_level_velocity_max": 16.029761255512142, "cost2_mean": -103.91113492901628}, "episode_len_mean": 700.0, "episode_reward_mean": 1205.7758796988578, "pid": 366, "iterations_since_restore": 19, "episode_reward_max": 1607.7518505827804, "node_ip": "10.138.0.2", "timestamp": 1556576267, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 117617, "time_this_iter_s": 41.46964502334595, "training_iteration": 19, "time_since_restore": 812.3682060241699, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 812.5801728050218, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373cf8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33732e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373d30>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 2427022, "grad_time_ms": 25773.356, "load_time_ms": 22.799, "update_time_ms": 11.095, "default": {"entropy": 1.3503364324569702, "cur_kl_coeff": 0.14999999105930328, "total_loss": 16.741838455200195, "kl": 0.019888760522007942, "vf_explained_var": 0.7955964803695679, "vf_loss": 16.75121307373047, "policy_loss": -0.012357798404991627, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 2427022, "sample_time_ms": 15429.823}, "timesteps_since_restore": 2427022, "date": "2019-04-29_22-18-27", "timesteps_total": 2427022, "episodes_this_iter": 49, "episodes_total": 1006, "hostname": "flow-main", "time_total_s": 852.1104140281677, "custom_metrics": {"cost2_min": -149.23007493934676, "system_level_velocity_mean": 11.213353159687983, "outflow_rate_max": 1143.1626052077795, "outflow_rate_min": 704.3997938921354, "system_level_velocity_min": 6.621867879400815, "outflow_rate_mean": 930.5560623124991, "cost2_max": -47.20719989599326, "cost1_max": 413.290781094852, "cost1_min": 174.75004205665104, "cost1_mean": 294.71080754583915, "system_level_velocity_max": 16.029761255512142, "cost2_mean": -100.43480506260637}, "episode_len_mean": 700.0, "episode_reward_mean": 1202.5587155377807, "pid": 366, "iterations_since_restore": 20, "episode_reward_max": 1607.7518505827804, "node_ip": "10.138.0.2", "timestamp": 1556576307, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 116041, "time_this_iter_s": 39.7422080039978, "training_iteration": 20, "time_since_restore": 852.1104140281677, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 843.543507092165, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33737b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373f60>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373eb8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 2541135, "grad_time_ms": 25751.33, "load_time_ms": 23.214, "update_time_ms": 11.194, "default": {"entropy": 1.372312307357788, "cur_kl_coeff": 0.14999999105930328, "total_loss": 18.466737747192383, "kl": 0.020340025424957275, "vf_explained_var": 0.7838575839996338, "vf_loss": 18.47732925415039, "policy_loss": -0.01364175882190466, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 2541135, "sample_time_ms": 15545.483}, "timesteps_since_restore": 2541135, "date": "2019-04-29_22-19-09", "timesteps_total": 2541135, "episodes_this_iter": 59, "episodes_total": 1065, "hostname": "flow-main", "time_total_s": 894.3383586406708, "custom_metrics": {"cost2_min": -149.23007493934676, "system_level_velocity_mean": 11.389911839153497, "outflow_rate_max": 1129.9722168090143, "outflow_rate_min": 783.080309401729, "system_level_velocity_min": 7.33942086251793, "outflow_rate_mean": 935.3478353141498, "cost2_max": -39.40802261712905, "cost1_max": 405.33223188201805, "cost1_min": 193.4174567483406, "cost1_mean": 299.86483662688767, "system_level_velocity_max": 15.640072601800421, "cost2_mean": -98.38959301473764}, "episode_len_mean": 700.0, "episode_reward_mean": 1194.1083895709685, "pid": 366, "iterations_since_restore": 21, "episode_reward_max": 1482.6269648116825, "node_ip": "10.138.0.2", "timestamp": 1556576349, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 114113, "time_this_iter_s": 42.22794461250305, "training_iteration": 21, "time_since_restore": 894.3383586406708, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 802.39766444877, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3356e10>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33569e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3356e80>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 2654245, "grad_time_ms": 25824.511, "load_time_ms": 22.224, "update_time_ms": 11.269, "default": {"entropy": 1.3658949136734009, "cur_kl_coeff": 0.22499996423721313, "total_loss": 21.437889099121094, "kl": 0.0173004399985075, "vf_explained_var": 0.7814169526100159, "vf_loss": 21.445968627929688, "policy_loss": -0.011973927728831768, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 2654245, "sample_time_ms": 15462.946}, "timesteps_since_restore": 2654245, "date": "2019-04-29_22-19-49", "timesteps_total": 2654245, "episodes_this_iter": 55, "episodes_total": 1120, "hostname": "flow-main", "time_total_s": 934.9034984111786, "custom_metrics": {"cost2_min": -149.1464000167973, "system_level_velocity_mean": 11.437664824689852, "outflow_rate_max": 1086.86339212796, "outflow_rate_min": 702.4746647099173, "system_level_velocity_min": 6.433483623364421, "outflow_rate_mean": 931.6487003913148, "cost2_max": -39.40802261712905, "cost1_max": 379.54728836437414, "cost1_min": 162.95418941627355, "cost1_mean": 300.67775216220144, "system_level_velocity_max": 14.77115901697438, "cost2_mean": -95.52698655964318}, "episode_len_mean": 700.0, "episode_reward_mean": 1177.5649756348416, "pid": 366, "iterations_since_restore": 22, "episode_reward_max": 1482.6269648116825, "node_ip": "10.138.0.2", "timestamp": 1556576389, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 113110, "time_this_iter_s": 40.56513977050781, "training_iteration": 22, "time_since_restore": 934.9034984111786, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 75.66711630193137, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373828>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33730f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373208>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 2770367, "grad_time_ms": 25674.303, "load_time_ms": 22.056, "update_time_ms": 11.237, "default": {"entropy": 1.3719491958618164, "cur_kl_coeff": 0.22499997913837433, "total_loss": 22.866748809814453, "kl": 0.018860574811697006, "vf_explained_var": 0.777452290058136, "vf_loss": 22.876188278198242, "policy_loss": -0.013686710968613625, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 2770367, "sample_time_ms": 15521.099}, "timesteps_since_restore": 2770367, "date": "2019-04-29_22-20-32", "timesteps_total": 2770367, "episodes_this_iter": 57, "episodes_total": 1177, "hostname": "flow-main", "time_total_s": 977.681398153305, "custom_metrics": {"cost2_min": -136.51365208424673, "system_level_velocity_mean": 11.820897251029926, "outflow_rate_max": 1114.7744770870104, "outflow_rate_min": 536.2494709048034, "system_level_velocity_min": 6.433483623364421, "outflow_rate_mean": 924.9273301251935, "cost2_max": -23.211312118952087, "cost1_max": 391.4618405429166, "cost1_min": 31.49640322164071, "cost1_mean": 304.740750112811, "system_level_velocity_max": 18.309177964975973, "cost2_mean": -86.99262336049982}, "episode_len_mean": 693.48, "episode_reward_mean": 1163.8615918381265, "pid": 366, "iterations_since_restore": 23, "episode_reward_max": 1477.39214729871, "node_ip": "10.138.0.2", "timestamp": 1556576432, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 116122, "time_this_iter_s": 42.777899742126465, "training_iteration": 23, "time_since_restore": 977.681398153305, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 75.66711630193137, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33734a8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373f28>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373c18>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 2884871, "grad_time_ms": 25693.898, "load_time_ms": 22.314, "update_time_ms": 11.166, "default": {"entropy": 1.3758924007415771, "cur_kl_coeff": 0.22499997913837433, "total_loss": 19.92401123046875, "kl": 0.017186658456921577, "vf_explained_var": 0.8056172132492065, "vf_loss": 19.93311882019043, "policy_loss": -0.012975760735571384, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 2884871, "sample_time_ms": 15601.477}, "timesteps_since_restore": 2884871, "date": "2019-04-29_22-21-14", "timesteps_total": 2884871, "episodes_this_iter": 53, "episodes_total": 1230, "hostname": "flow-main", "time_total_s": 1019.2503201961517, "custom_metrics": {"cost2_min": -139.65883555132052, "system_level_velocity_mean": 11.550426297335516, "outflow_rate_max": 1114.7744770870104, "outflow_rate_min": 536.2494709048034, "system_level_velocity_min": 7.125325754129051, "outflow_rate_mean": 916.9618706889187, "cost2_max": -23.211312118952087, "cost1_max": 404.57635260960376, "cost1_min": 31.49640322164071, "cost1_mean": 298.3462705181124, "system_level_velocity_max": 18.309177964975973, "cost2_mean": -89.82857142212002}, "episode_len_mean": 693.48, "episode_reward_mean": 1172.4519816312593, "pid": 366, "iterations_since_restore": 24, "episode_reward_max": 1457.1834127340487, "node_ip": "10.138.0.2", "timestamp": 1556576474, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 114504, "time_this_iter_s": 41.56892204284668, "training_iteration": 24, "time_since_restore": 1019.2503201961517, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 54.668281007369984, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33739b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33734e0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3356e80>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 2998275, "grad_time_ms": 25568.162, "load_time_ms": 21.213, "update_time_ms": 11.249, "default": {"entropy": 1.3684026002883911, "cur_kl_coeff": 0.22499996423721313, "total_loss": 20.42535400390625, "kl": 0.0179816335439682, "vf_explained_var": 0.792949914932251, "vf_loss": 20.432600021362305, "policy_loss": -0.011294564232230186, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 2998275, "sample_time_ms": 15549.825}, "timesteps_since_restore": 2998275, "date": "2019-04-29_22-21-55", "timesteps_total": 2998275, "episodes_this_iter": 57, "episodes_total": 1287, "hostname": "flow-main", "time_total_s": 1060.3887903690338, "custom_metrics": {"cost2_min": -146.41994196854006, "system_level_velocity_mean": 11.681705367679253, "outflow_rate_max": 1078.2381420109095, "outflow_rate_min": 520.6053693362562, "system_level_velocity_min": 7.048616617472899, "outflow_rate_mean": 925.8752074100078, "cost2_max": -21.46303896604484, "cost1_max": 376.6036613731902, "cost1_min": 25.110650073154613, "cost1_mean": 302.0513162916032, "system_level_velocity_max": 18.004134973256896, "cost2_mean": -90.11218731326079}, "episode_len_mean": 693.38, "episode_reward_mean": 1174.257552222994, "pid": 366, "iterations_since_restore": 25, "episode_reward_max": 1450.3831058162543, "node_ip": "10.138.0.2", "timestamp": 1556576515, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 113404, "time_this_iter_s": 41.13847017288208, "training_iteration": 25, "time_since_restore": 1060.3887903690338, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 54.668281007369984, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373dd8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373b70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33735c0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 3112542, "grad_time_ms": 25495.942, "load_time_ms": 22.297, "update_time_ms": 11.618, "default": {"entropy": 1.381950855255127, "cur_kl_coeff": 0.22499997913837433, "total_loss": 23.146894454956055, "kl": 0.017966240644454956, "vf_explained_var": 0.7885233163833618, "vf_loss": 23.157011032104492, "policy_loss": -0.014159461483359337, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 3112542, "sample_time_ms": 15622.138}, "timesteps_since_restore": 3112542, "date": "2019-04-29_22-22-37", "timesteps_total": 3112542, "episodes_this_iter": 56, "episodes_total": 1343, "hostname": "flow-main", "time_total_s": 1101.9611055850983, "custom_metrics": {"cost2_min": -146.41994196854006, "system_level_velocity_mean": 11.671561719204421, "outflow_rate_max": 1091.9096522989216, "outflow_rate_min": 520.6053693362562, "system_level_velocity_min": 7.659847194513399, "outflow_rate_mean": 935.0562420805912, "cost2_max": -21.46303896604484, "cost1_max": 408.9229654282934, "cost1_min": 25.110650073154613, "cost1_mean": 301.378605685352, "system_level_velocity_max": 18.004134973256896, "cost2_mean": -95.10021041771915}, "episode_len_mean": 693.38, "episode_reward_mean": 1179.322447138059, "pid": 366, "iterations_since_restore": 26, "episode_reward_max": 1465.5794096114862, "node_ip": "10.138.0.2", "timestamp": 1556576557, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 114267, "time_this_iter_s": 41.57231521606445, "training_iteration": 26, "time_since_restore": 1101.9611055850983, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 851.8473259807886, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378828>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378860>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378898>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 3227550, "grad_time_ms": 25426.545, "load_time_ms": 22.587, "update_time_ms": 11.639, "default": {"entropy": 1.3644243478775024, "cur_kl_coeff": 0.22499996423721313, "total_loss": 21.795412063598633, "kl": 0.01749519631266594, "vf_explained_var": 0.8136820793151855, "vf_loss": 21.803831100463867, "policy_loss": -0.012357397004961967, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 3227550, "sample_time_ms": 15633.277}, "timesteps_since_restore": 3227550, "date": "2019-04-29_22-23-18", "timesteps_total": 3227550, "episodes_this_iter": 52, "episodes_total": 1395, "hostname": "flow-main", "time_total_s": 1142.8711574077606, "custom_metrics": {"cost2_min": -170.76931670839366, "system_level_velocity_mean": 11.73360529599256, "outflow_rate_max": 1120.2399332755208, "outflow_rate_min": 665.6944111423809, "system_level_velocity_min": 6.860607288665773, "outflow_rate_mean": 949.0396030883905, "cost2_max": -44.01748240624383, "cost1_max": 391.13624080472573, "cost1_min": 179.01023198741242, "cost1_mean": 307.62160204540885, "system_level_velocity_max": 15.193731494814152, "cost2_mean": -98.50389787049471}, "episode_len_mean": 700.0, "episode_reward_mean": 1197.1258471172146, "pid": 366, "iterations_since_restore": 27, "episode_reward_max": 1465.5794096114862, "node_ip": "10.138.0.2", "timestamp": 1556576598, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 115008, "time_this_iter_s": 40.91005182266235, "training_iteration": 27, "time_since_restore": 1142.8711574077606, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 812.573946229762, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378438>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378e10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378b38>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 3344107, "grad_time_ms": 25680.242, "load_time_ms": 23.893, "update_time_ms": 11.83, "default": {"entropy": 1.3752965927124023, "cur_kl_coeff": 0.22499996423721313, "total_loss": 22.4741153717041, "kl": 0.018519772216677666, "vf_explained_var": 0.8045897483825684, "vf_loss": 22.483747482299805, "policy_loss": -0.013797324150800705, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 3344107, "sample_time_ms": 15605.011}, "timesteps_since_restore": 3344107, "date": "2019-04-29_22-24-01", "timesteps_total": 3344107, "episodes_this_iter": 53, "episodes_total": 1448, "hostname": "flow-main", "time_total_s": 1186.333538532257, "custom_metrics": {"cost2_min": -170.76931670839366, "system_level_velocity_mean": 11.97490270881678, "outflow_rate_max": 1126.3818459070753, "outflow_rate_min": 665.6944111423809, "system_level_velocity_min": 6.860607288665773, "outflow_rate_mean": 952.6722132516029, "cost2_max": -35.757640255630406, "cost1_max": 391.13624080472573, "cost1_min": 179.01023198741242, "cost1_mean": 312.5851773968836, "system_level_velocity_max": 15.226914348763852, "cost2_mean": -98.06558144572722}, "episode_len_mean": 700.0, "episode_reward_mean": 1181.7698603725498, "pid": 366, "iterations_since_restore": 28, "episode_reward_max": 1591.2617795266929, "node_ip": "10.138.0.2", "timestamp": 1556576641, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 116557, "time_this_iter_s": 43.46238112449646, "training_iteration": 28, "time_since_restore": 1186.333538532257, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 812.573946229762, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33784a8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378710>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378908>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 3460137, "grad_time_ms": 25731.315, "load_time_ms": 24.346, "update_time_ms": 11.785, "default": {"entropy": 1.3925096988677979, "cur_kl_coeff": 0.22499997913837433, "total_loss": 22.29996681213379, "kl": 0.01862703077495098, "vf_explained_var": 0.8174294829368591, "vf_loss": 22.310150146484375, "policy_loss": -0.014378350228071213, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 3460137, "sample_time_ms": 15601.142}, "timesteps_since_restore": 3460137, "date": "2019-04-29_22-24-43", "timesteps_total": 3460137, "episodes_this_iter": 56, "episodes_total": 1504, "hostname": "flow-main", "time_total_s": 1228.2876501083374, "custom_metrics": {"cost2_min": -163.10474922977164, "system_level_velocity_mean": 11.843555552602373, "outflow_rate_max": 1102.143446247328, "outflow_rate_min": 718.7843292199861, "system_level_velocity_min": 6.579942714225382, "outflow_rate_mean": 947.870350865837, "cost2_max": -35.757640255630406, "cost1_max": 390.6361028453541, "cost1_min": 172.24434633766205, "cost1_mean": 309.3105861506419, "system_level_velocity_max": 15.226914348763852, "cost2_mean": -99.42262633043393}, "episode_len_mean": 700.0, "episode_reward_mean": 1198.9677725644567, "pid": 366, "iterations_since_restore": 29, "episode_reward_max": 1591.2617795266929, "node_ip": "10.138.0.2", "timestamp": 1556576683, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 116030, "time_this_iter_s": 41.95411157608032, "training_iteration": 29, "time_since_restore": 1228.2876501083374, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 78.7422605398145, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378240>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378ba8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378b70>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 3576718, "grad_time_ms": 26022.283, "load_time_ms": 25.731, "update_time_ms": 11.806, "default": {"entropy": 1.374366044998169, "cur_kl_coeff": 0.22499996423721313, "total_loss": 24.265151977539062, "kl": 0.019278693944215775, "vf_explained_var": 0.7873018980026245, "vf_loss": 24.275428771972656, "policy_loss": -0.014613717794418335, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 3576718, "sample_time_ms": 15665.701}, "timesteps_since_restore": 3576718, "date": "2019-04-29_22-25-27", "timesteps_total": 3576718, "episodes_this_iter": 54, "episodes_total": 1558, "hostname": "flow-main", "time_total_s": 1271.5983624458313, "custom_metrics": {"cost2_min": -163.10474922977164, "system_level_velocity_mean": 12.10135455041133, "outflow_rate_max": 1137.4136136827292, "outflow_rate_min": 549.2251013023151, "system_level_velocity_min": 6.894897316004792, "outflow_rate_mean": 938.2028983794844, "cost2_max": -22.70439235112957, "cost1_max": 413.7870594623357, "cost1_min": 33.186972696035596, "cost1_mean": 311.7560249736046, "system_level_velocity_max": 18.789760529253503, "cost2_mean": -94.34063352296225}, "episode_len_mean": 693.5, "episode_reward_mean": 1182.6865776647394, "pid": 366, "iterations_since_restore": 30, "episode_reward_max": 1498.9366548593873, "node_ip": "10.138.0.2", "timestamp": 1556576727, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 116581, "time_this_iter_s": 43.3107123374939, "training_iteration": 30, "time_since_restore": 1271.5983624458313, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 78.7422605398145, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378668>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378b00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378a20>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 3691854, "grad_time_ms": 26135.16, "load_time_ms": 25.347, "update_time_ms": 11.711, "default": {"entropy": 1.3793270587921143, "cur_kl_coeff": 0.22499997913837433, "total_loss": 26.03795051574707, "kl": 0.018211020156741142, "vf_explained_var": 0.7969234585762024, "vf_loss": 26.04678726196289, "policy_loss": -0.012935693375766277, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 3691854, "sample_time_ms": 15626.88}, "timesteps_since_restore": 3691854, "date": "2019-04-29_22-26-10", "timesteps_total": 3691854, "episodes_this_iter": 58, "episodes_total": 1616, "hostname": "flow-main", "time_total_s": 1314.541621208191, "custom_metrics": {"cost2_min": -193.734887317116, "system_level_velocity_mean": 12.005413649451464, "outflow_rate_max": 1137.4136136827292, "outflow_rate_min": 549.2251013023151, "system_level_velocity_min": 6.894897316004792, "outflow_rate_mean": 940.3675810404296, "cost2_max": -22.70439235112957, "cost1_max": 413.7870594623357, "cost1_min": 33.186972696035596, "cost1_mean": 309.75382303582444, "system_level_velocity_max": 18.789760529253503, "cost2_mean": -101.4333560532776}, "episode_len_mean": 693.5, "episode_reward_mean": 1190.8341314204886, "pid": 366, "iterations_since_restore": 31, "episode_reward_max": 1498.9366548593873, "node_ip": "10.138.0.2", "timestamp": 1556576770, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 115136, "time_this_iter_s": 42.94325876235962, "training_iteration": 31, "time_since_restore": 1314.541621208191, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 880.6712634504811, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378d68>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378dd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378b38>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 3807652, "grad_time_ms": 26170.694, "load_time_ms": 25.303, "update_time_ms": 11.624, "default": {"entropy": 1.3867268562316895, "cur_kl_coeff": 0.22499997913837433, "total_loss": 25.022998809814453, "kl": 0.019888728857040405, "vf_explained_var": 0.8003372550010681, "vf_loss": 25.03266716003418, "policy_loss": -0.014142684638500214, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 3807652, "sample_time_ms": 15630.897}, "timesteps_since_restore": 3807652, "date": "2019-04-29_22-26-51", "timesteps_total": 3807652, "episodes_this_iter": 53, "episodes_total": 1669, "hostname": "flow-main", "time_total_s": 1355.5105891227722, "custom_metrics": {"cost2_min": -193.734887317116, "system_level_velocity_mean": 12.09922334752632, "outflow_rate_max": 1144.0833053161195, "outflow_rate_min": 708.479301374957, "system_level_velocity_min": 7.127543812276638, "outflow_rate_mean": 961.9179097425033, "cost2_max": -36.7842848032559, "cost1_max": 414.84004732671207, "cost1_min": 180.877172597818, "cost1_mean": 317.67071611049954, "system_level_velocity_max": 16.06935363583588, "cost2_mean": -103.19522843248713}, "episode_len_mean": 700.0, "episode_reward_mean": 1234.6308168241358, "pid": 366, "iterations_since_restore": 32, "episode_reward_max": 1486.4882427815212, "node_ip": "10.138.0.2", "timestamp": 1556576811, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 115798, "time_this_iter_s": 40.9689679145813, "training_iteration": 32, "time_since_restore": 1355.5105891227722, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 67.24981025644779, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378908>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33784a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33787f0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 3921333, "grad_time_ms": 26182.128, "load_time_ms": 25.238, "update_time_ms": 11.632, "default": {"entropy": 1.3790907859802246, "cur_kl_coeff": 0.22499996423721313, "total_loss": 29.553260803222656, "kl": 0.01955314353108406, "vf_explained_var": 0.7606729865074158, "vf_loss": 29.562788009643555, "policy_loss": -0.013930069282650948, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 3921333, "sample_time_ms": 15562.877}, "timesteps_since_restore": 3921333, "date": "2019-04-29_22-27-33", "timesteps_total": 3921333, "episodes_this_iter": 57, "episodes_total": 1726, "hostname": "flow-main", "time_total_s": 1397.686259508133, "custom_metrics": {"cost2_min": -164.44954438258935, "system_level_velocity_mean": 12.265779844461568, "outflow_rate_max": 1144.0833053161195, "outflow_rate_min": 526.9920003965696, "system_level_velocity_min": 8.434207757080877, "outflow_rate_mean": 960.028562264298, "cost2_max": -17.82918296202142, "cost1_max": 414.84004732671207, "cost1_min": 26.727882629472738, "cost1_mean": 318.3172106177373, "system_level_velocity_max": 17.49665591469006, "cost2_mean": -98.31492322806331}, "episode_len_mean": 693.42, "episode_reward_mean": 1228.996876491025, "pid": 366, "iterations_since_restore": 33, "episode_reward_max": 1530.8166840760546, "node_ip": "10.138.0.2", "timestamp": 1556576853, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 113681, "time_this_iter_s": 42.17567038536072, "training_iteration": 33, "time_since_restore": 1397.686259508133, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 67.24981025644779, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378320>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378ba8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378ef0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 4037824, "grad_time_ms": 26149.774, "load_time_ms": 24.876, "update_time_ms": 11.576, "default": {"entropy": 1.3994247913360596, "cur_kl_coeff": 0.22499996423721313, "total_loss": 24.835641860961914, "kl": 0.019676614552736282, "vf_explained_var": 0.7975603342056274, "vf_loss": 24.84708023071289, "policy_loss": -0.015866871923208237, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 4037824, "sample_time_ms": 15508.851}, "timesteps_since_restore": 4037824, "date": "2019-04-29_22-28-14", "timesteps_total": 4037824, "episodes_this_iter": 52, "episodes_total": 1778, "hostname": "flow-main", "time_total_s": 1438.380660533905, "custom_metrics": {"cost2_min": -166.27232103478306, "system_level_velocity_mean": 12.166183109877174, "outflow_rate_max": 1180.482887634289, "outflow_rate_min": 526.9920003965696, "system_level_velocity_min": 6.264589130368486, "outflow_rate_mean": 950.5564515123835, "cost2_max": -17.82918296202142, "cost1_max": 402.858798018013, "cost1_min": 26.727882629472738, "cost1_mean": 315.8806676329709, "system_level_velocity_max": 17.49665591469006, "cost2_mean": -98.64152849972217}, "episode_len_mean": 693.42, "episode_reward_mean": 1234.232583085195, "pid": 366, "iterations_since_restore": 34, "episode_reward_max": 1551.793753640108, "node_ip": "10.138.0.2", "timestamp": 1556576894, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 116491, "time_this_iter_s": 40.694401025772095, "training_iteration": 34, "time_since_restore": 1438.380660533905, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 912.6848769925957, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3356a20>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3356ef0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33569e8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 4154790, "grad_time_ms": 26293.041, "load_time_ms": 25.136, "update_time_ms": 11.548, "default": {"entropy": 1.4194637537002563, "cur_kl_coeff": 0.22499999403953552, "total_loss": 27.464859008789062, "kl": 0.01953035593032837, "vf_explained_var": 0.7849353551864624, "vf_loss": 27.47528076171875, "policy_loss": -0.014816612005233765, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 4154790, "sample_time_ms": 15524.915}, "timesteps_since_restore": 4154790, "date": "2019-04-29_22-28-57", "timesteps_total": 4154790, "episodes_this_iter": 55, "episodes_total": 1833, "hostname": "flow-main", "time_total_s": 1481.1269602775574, "custom_metrics": {"cost2_min": -166.27232103478306, "system_level_velocity_mean": 12.232684271737334, "outflow_rate_max": 1182.9015927923215, "outflow_rate_min": 709.7070651446161, "system_level_velocity_min": 6.264589130368486, "outflow_rate_mean": 954.3827849617966, "cost2_max": -34.134572846348554, "cost1_max": 400.0265338728724, "cost1_min": 161.12058775260203, "cost1_mean": 321.85361458506503, "system_level_velocity_max": 15.269617944546448, "cost2_mean": -99.00365156340611}, "episode_len_mean": 700.0, "episode_reward_mean": 1237.0245543152946, "pid": 366, "iterations_since_restore": 35, "episode_reward_max": 1551.793753640108, "node_ip": "10.138.0.2", "timestamp": 1556576937, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 116966, "time_this_iter_s": 42.746299743652344, "training_iteration": 35, "time_since_restore": 1481.1269602775574, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 39.054874204049746, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378e80>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378898>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378c18>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 4269160, "grad_time_ms": 26252.546, "load_time_ms": 24.681, "update_time_ms": 11.383, "default": {"entropy": 1.4221808910369873, "cur_kl_coeff": 0.22499996423721313, "total_loss": 30.488815307617188, "kl": 0.020930327475070953, "vf_explained_var": 0.7765747904777527, "vf_loss": 30.498825073242188, "policy_loss": -0.01472104899585247, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 4269160, "sample_time_ms": 15594.034}, "timesteps_since_restore": 4269160, "date": "2019-04-29_22-29-38", "timesteps_total": 4269160, "episodes_this_iter": 59, "episodes_total": 1892, "hostname": "flow-main", "time_total_s": 1522.9654746055603, "custom_metrics": {"cost2_min": -201.8398316382841, "system_level_velocity_mean": 12.35127311002872, "outflow_rate_max": 1182.9015927923215, "outflow_rate_min": 489.92596116141834, "system_level_velocity_min": 5.621168921355848, "outflow_rate_mean": 927.4120378582251, "cost2_max": -15.512140447762706, "cost1_max": 407.574859242617, "cost1_min": 18.089803376116993, "cost1_mean": 311.3639524941645, "system_level_velocity_max": 18.462991881965955, "cost2_mean": -92.95655612277355}, "episode_len_mean": 680.14, "episode_reward_mean": 1188.5578530152138, "pid": 366, "iterations_since_restore": 36, "episode_reward_max": 1465.9747215379193, "node_ip": "10.138.0.2", "timestamp": 1556576978, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 114370, "time_this_iter_s": 41.83851432800293, "training_iteration": 36, "time_since_restore": 1522.9654746055603, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 44.93058486343051, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378710>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378668>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378a90>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 4384434, "grad_time_ms": 26337.591, "load_time_ms": 24.501, "update_time_ms": 11.221, "default": {"entropy": 1.4264525175094604, "cur_kl_coeff": 0.33750006556510925, "total_loss": 30.38030433654785, "kl": 0.016378214582800865, "vf_explained_var": 0.8157827258110046, "vf_loss": 30.389888763427734, "policy_loss": -0.015112929046154022, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 4384434, "sample_time_ms": 15596.05}, "timesteps_since_restore": 4384434, "date": "2019-04-29_22-30-20", "timesteps_total": 4384434, "episodes_this_iter": 58, "episodes_total": 1950, "hostname": "flow-main", "time_total_s": 1564.7364089488983, "custom_metrics": {"cost2_min": -201.8398316382841, "system_level_velocity_mean": 12.433679386203332, "outflow_rate_max": 1120.5360962544348, "outflow_rate_min": 464.43142921144516, "system_level_velocity_min": 5.621168921355848, "outflow_rate_mean": 932.4652050261152, "cost2_max": -19.60270527555124, "cost1_max": 405.9206954228422, "cost1_min": 18.60449806454798, "cost1_mean": 317.6940981518792, "system_level_velocity_max": 18.462991881965955, "cost2_mean": -92.33167683938724}, "episode_len_mean": 686.76, "episode_reward_mean": 1195.243766895106, "pid": 366, "iterations_since_restore": 37, "episode_reward_max": 1584.0226142964716, "node_ip": "10.138.0.2", "timestamp": 1556577020, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 115274, "time_this_iter_s": 41.77093434333801, "training_iteration": 37, "time_since_restore": 1564.7364089488983, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 699.8135655456417, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378320>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33e2f60>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3340320>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 4498247, "grad_time_ms": 26030.761, "load_time_ms": 24.445, "update_time_ms": 11.356, "default": {"entropy": 1.4283254146575928, "cur_kl_coeff": 0.33750006556510925, "total_loss": 32.61149215698242, "kl": 0.01622786372900009, "vf_explained_var": 0.796650230884552, "vf_loss": 32.619503021240234, "policy_loss": -0.013492447324097157, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 4498247, "sample_time_ms": 15612.968}, "timesteps_since_restore": 4498247, "date": "2019-04-29_22-31-01", "timesteps_total": 4498247, "episodes_this_iter": 58, "episodes_total": 2008, "hostname": "flow-main", "time_total_s": 1605.2705261707306, "custom_metrics": {"cost2_min": -185.96773863424286, "system_level_velocity_mean": 12.377102299295439, "outflow_rate_max": 1120.5360962544348, "outflow_rate_min": 321.2218315166398, "system_level_velocity_min": 3.8492642700932524, "outflow_rate_mean": 925.2273511687386, "cost2_max": -29.052911101181994, "cost1_max": 408.2677027188599, "cost1_min": 96.88299857929829, "cost1_mean": 325.0657832898211, "system_level_velocity_max": 15.709189815021237, "cost2_mean": -87.93233562572564}, "episode_len_mean": 700.0, "episode_reward_mean": 1196.4951349738844, "pid": 366, "iterations_since_restore": 38, "episode_reward_max": 1584.0226142964716, "node_ip": "10.138.0.2", "timestamp": 1556577061, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 113813, "time_this_iter_s": 40.534117221832275, "training_iteration": 38, "time_since_restore": 1605.2705261707306, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 45.994870822031245, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33787f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378940>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378400>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 4612228, "grad_time_ms": 26032.486, "load_time_ms": 23.861, "update_time_ms": 11.372, "default": {"entropy": 1.4488133192062378, "cur_kl_coeff": 0.33750006556510925, "total_loss": 28.98965072631836, "kl": 0.01580830104649067, "vf_explained_var": 0.8009744882583618, "vf_loss": 28.99875831604004, "policy_loss": -0.014441070146858692, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 4612228, "sample_time_ms": 15553.68}, "timesteps_since_restore": 4612228, "date": "2019-04-29_22-31-42", "timesteps_total": 4612228, "episodes_this_iter": 57, "episodes_total": 2065, "hostname": "flow-main", "time_total_s": 1646.6258347034454, "custom_metrics": {"cost2_min": -181.34326148246024, "system_level_velocity_mean": 12.552434112149356, "outflow_rate_max": 1143.5092538429606, "outflow_rate_min": 482.0722371697821, "system_level_velocity_min": 5.286523648245248, "outflow_rate_mean": 939.6667347275501, "cost2_max": -14.60803379987228, "cost1_max": 405.3468507681316, "cost1_min": 17.25983257557375, "cost1_mean": 324.2515351994191, "system_level_velocity_max": 18.411837324530904, "cost2_mean": -89.35496988866673}, "episode_len_mean": 690.77, "episode_reward_mean": 1217.2330409679043, "pid": 366, "iterations_since_restore": 39, "episode_reward_max": 1639.7887145244142, "node_ip": "10.138.0.2", "timestamp": 1556577102, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 113981, "time_this_iter_s": 41.355308532714844, "training_iteration": 39, "time_since_restore": 1646.6258347034454, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 686.212434372182, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373be0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373eb8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373908>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 4725873, "grad_time_ms": 25904.219, "load_time_ms": 23.602, "update_time_ms": 11.284, "default": {"entropy": 1.4355907440185547, "cur_kl_coeff": 0.33750006556510925, "total_loss": 30.74488067626953, "kl": 0.016255943104624748, "vf_explained_var": 0.7978044748306274, "vf_loss": 30.75326156616211, "policy_loss": -0.013865351676940918, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 4725873, "sample_time_ms": 15483.835}, "timesteps_since_restore": 4725873, "date": "2019-04-29_22-32-24", "timesteps_total": 4725873, "episodes_this_iter": 56, "episodes_total": 2121, "hostname": "flow-main", "time_total_s": 1687.9329710006714, "custom_metrics": {"cost2_min": -181.34326148246024, "system_level_velocity_mean": 12.482893137847082, "outflow_rate_max": 1143.5092538429606, "outflow_rate_min": 748.3281474344273, "system_level_velocity_min": 9.154557799804598, "outflow_rate_mean": 949.7460883651896, "cost2_max": -31.26822305245151, "cost1_max": 412.80426100506736, "cost1_min": 239.0061614450273, "cost1_mean": 326.8217244472364, "system_level_velocity_max": 15.710436784864726, "cost2_mean": -93.28640146711585}, "episode_len_mean": 697.5, "episode_reward_mean": 1221.2085644246004, "pid": 366, "iterations_since_restore": 40, "episode_reward_max": 1639.7887145244142, "node_ip": "10.138.0.2", "timestamp": 1556577144, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 113645, "time_this_iter_s": 41.30713629722595, "training_iteration": 40, "time_since_restore": 1687.9329710006714, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 925.6226917638089, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378908>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378668>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378b38>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 4841376, "grad_time_ms": 25839.545, "load_time_ms": 22.631, "update_time_ms": 11.184, "default": {"entropy": 1.4543405771255493, "cur_kl_coeff": 0.33750006556510925, "total_loss": 27.74736213684082, "kl": 0.01570369489490986, "vf_explained_var": 0.8182196021080017, "vf_loss": 27.75584602355957, "policy_loss": -0.013784338720142841, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 4841376, "sample_time_ms": 15426.837}, "timesteps_since_restore": 4841376, "date": "2019-04-29_22-33-05", "timesteps_total": 4841376, "episodes_this_iter": 55, "episodes_total": 2176, "hostname": "flow-main", "time_total_s": 1729.6430094242096, "custom_metrics": {"cost2_min": -186.7255244752967, "system_level_velocity_mean": 12.454048656380927, "outflow_rate_max": 1134.12608254046, "outflow_rate_min": 748.3281474344273, "system_level_velocity_min": 8.052960470256457, "outflow_rate_mean": 935.0439189944066, "cost2_max": -28.4385252120229, "cost1_max": 407.7782654577634, "cost1_min": 205.72013429409975, "cost1_mean": 326.67613548180105, "system_level_velocity_max": 15.683878989909616, "cost2_mean": -86.68518976156167}, "episode_len_mean": 700.0, "episode_reward_mean": 1198.1235744642668, "pid": 366, "iterations_since_restore": 41, "episode_reward_max": 1527.677574663356, "node_ip": "10.138.0.2", "timestamp": 1556577185, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 115503, "time_this_iter_s": 41.71003842353821, "training_iteration": 41, "time_since_restore": 1729.6430094242096, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 901.6216709302001, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373f28>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373be0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373668>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 4955913, "grad_time_ms": 25820.936, "load_time_ms": 22.588, "update_time_ms": 11.339, "default": {"entropy": 1.4472992420196533, "cur_kl_coeff": 0.33750006556510925, "total_loss": 31.019655227661133, "kl": 0.016671374440193176, "vf_explained_var": 0.8035507202148438, "vf_loss": 31.029640197753906, "policy_loss": -0.015611113049089909, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 4955913, "sample_time_ms": 15495.352}, "timesteps_since_restore": 4955913, "date": "2019-04-29_22-33-47", "timesteps_total": 4955913, "episodes_this_iter": 57, "episodes_total": 2233, "hostname": "flow-main", "time_total_s": 1771.1096839904785, "custom_metrics": {"cost2_min": -186.7255244752967, "system_level_velocity_mean": 12.511743895245981, "outflow_rate_max": 1127.440890540483, "outflow_rate_min": 748.2536242835297, "system_level_velocity_min": 8.052960470256457, "outflow_rate_mean": 931.5566044882003, "cost2_max": -25.88918117636198, "cost1_max": 412.3174253340152, "cost1_min": 205.72013429409975, "cost1_mean": 327.7170349690943, "system_level_velocity_max": 16.155630335159337, "cost2_mean": -87.98548651621323}, "episode_len_mean": 700.0, "episode_reward_mean": 1212.5554227096666, "pid": 366, "iterations_since_restore": 42, "episode_reward_max": 1616.163522505845, "node_ip": "10.138.0.2", "timestamp": 1556577227, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 114537, "time_this_iter_s": 41.46667456626892, "training_iteration": 42, "time_since_restore": 1771.1096839904785, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 901.6216709302001, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378f28>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378a90>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378588>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 5068578, "grad_time_ms": 25853.149, "load_time_ms": 21.476, "update_time_ms": 11.331, "default": {"entropy": 1.460070252418518, "cur_kl_coeff": 0.33750006556510925, "total_loss": 31.278806686401367, "kl": 0.01676778681576252, "vf_explained_var": 0.7938084006309509, "vf_loss": 31.288164138793945, "policy_loss": -0.01501663401722908, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 5068578, "sample_time_ms": 15412.274}, "timesteps_since_restore": 5068578, "date": "2019-04-29_22-34-29", "timesteps_total": 5068578, "episodes_this_iter": 59, "episodes_total": 2292, "hostname": "flow-main", "time_total_s": 1812.7982621192932, "custom_metrics": {"cost2_min": -160.94262272211805, "system_level_velocity_mean": 12.592705355954747, "outflow_rate_max": 1122.53962017563, "outflow_rate_min": 748.2536242835297, "system_level_velocity_min": 7.9480128222301065, "outflow_rate_mean": 936.0760575245405, "cost2_max": -25.88918117636198, "cost1_max": 421.41540797824405, "cost1_min": 205.310397550518, "cost1_mean": 329.45292643175605, "system_level_velocity_max": 16.426277004607687, "cost2_mean": -88.94020594313757}, "episode_len_mean": 700.0, "episode_reward_mean": 1217.316396076773, "pid": 366, "iterations_since_restore": 43, "episode_reward_max": 1616.163522505845, "node_ip": "10.138.0.2", "timestamp": 1556577269, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 112665, "time_this_iter_s": 41.6885781288147, "training_iteration": 43, "time_since_restore": 1812.7982621192932, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 73.5737284982196, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378be0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378c18>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378780>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 5181762, "grad_time_ms": 25781.898, "load_time_ms": 21.777, "update_time_ms": 11.267, "default": {"entropy": 1.4474873542785645, "cur_kl_coeff": 0.33750006556510925, "total_loss": 31.956361770629883, "kl": 0.01663897931575775, "vf_explained_var": 0.77900230884552, "vf_loss": 31.965595245361328, "policy_loss": -0.014849127270281315, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 5181762, "sample_time_ms": 15424.388}, "timesteps_since_restore": 5181762, "date": "2019-04-29_22-35-09", "timesteps_total": 5181762, "episodes_this_iter": 58, "episodes_total": 2350, "hostname": "flow-main", "time_total_s": 1852.9444575309753, "custom_metrics": {"cost2_min": -160.94262272211805, "system_level_velocity_mean": 12.617971473758702, "outflow_rate_max": 1153.6866638178387, "outflow_rate_min": 530.6243038532747, "system_level_velocity_min": 7.9480128222301065, "outflow_rate_mean": 946.8278725800863, "cost2_max": -23.656452466747858, "cost1_max": 447.3018502210739, "cost1_min": 28.583983874753553, "cost1_mean": 326.5542039669648, "system_level_velocity_max": 18.281929162110668, "cost2_mean": -88.92494776153364}, "episode_len_mean": 693.44, "episode_reward_mean": 1212.9290394926036, "pid": 366, "iterations_since_restore": 44, "episode_reward_max": 1523.0130583160337, "node_ip": "10.138.0.2", "timestamp": 1556577309, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 113184, "time_this_iter_s": 40.14619541168213, "training_iteration": 44, "time_since_restore": 1852.9444575309753, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 73.5737284982196, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3356e10>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3356fd0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3356b70>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 5293468, "grad_time_ms": 25562.733, "load_time_ms": 22.84, "update_time_ms": 11.669, "default": {"entropy": 1.4554075002670288, "cur_kl_coeff": 0.33750006556510925, "total_loss": 32.7132682800293, "kl": 0.01669487915933132, "vf_explained_var": 0.7754421234130859, "vf_loss": 32.72218704223633, "policy_loss": -0.014553614892065525, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 5293468, "sample_time_ms": 15441.439}, "timesteps_since_restore": 5293468, "date": "2019-04-29_22-35-50", "timesteps_total": 5293468, "episodes_this_iter": 58, "episodes_total": 2408, "hostname": "flow-main", "time_total_s": 1893.7013719081879, "custom_metrics": {"cost2_min": -158.18509846238464, "system_level_velocity_mean": 12.733826254755632, "outflow_rate_max": 1153.6866638178387, "outflow_rate_min": 530.6243038532747, "system_level_velocity_min": 8.762821153987616, "outflow_rate_mean": 946.6028506513416, "cost2_max": -23.127012929284827, "cost1_max": 447.3018502210739, "cost1_min": 28.583983874753553, "cost1_mean": 328.63604479926477, "system_level_velocity_max": 18.281929162110668, "cost2_mean": -87.51202037150955}, "episode_len_mean": 693.44, "episode_reward_mean": 1196.8520844085228, "pid": 366, "iterations_since_restore": 45, "episode_reward_max": 1523.0130583160337, "node_ip": "10.138.0.2", "timestamp": 1556577350, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 111706, "time_this_iter_s": 40.756914377212524, "training_iteration": 45, "time_since_restore": 1893.7013719081879, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 673.2234171277255, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33785f8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378358>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378ac8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 5404025, "grad_time_ms": 25528.49, "load_time_ms": 23.206, "update_time_ms": 11.643, "default": {"entropy": 1.454840898513794, "cur_kl_coeff": 0.33750009536743164, "total_loss": 30.935543060302734, "kl": 0.017074286937713623, "vf_explained_var": 0.7998608350753784, "vf_loss": 30.944564819335938, "policy_loss": -0.014788235537707806, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 5404025, "sample_time_ms": 15346.111}, "timesteps_since_restore": 5404025, "date": "2019-04-29_22-36-30", "timesteps_total": 5404025, "episodes_this_iter": 58, "episodes_total": 2466, "hostname": "flow-main", "time_total_s": 1934.2506246566772, "custom_metrics": {"cost2_min": -164.09073347406533, "system_level_velocity_mean": 12.698039872205301, "outflow_rate_max": 1126.493540618103, "outflow_rate_min": 456.2235634251744, "system_level_velocity_min": 4.695037121898198, "outflow_rate_mean": 935.2694773306617, "cost2_max": -23.127012929284827, "cost1_max": 429.08726106803647, "cost1_min": 117.12171544600093, "cost1_mean": 331.2053254358138, "system_level_velocity_max": 16.379318695303564, "cost2_mean": -82.2908619873006}, "episode_len_mean": 700.0, "episode_reward_mean": 1171.0099139511522, "pid": 366, "iterations_since_restore": 46, "episode_reward_max": 1498.0568161865374, "node_ip": "10.138.0.2", "timestamp": 1556577390, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 110557, "time_this_iter_s": 40.54925274848938, "training_iteration": 46, "time_since_restore": 1934.2506246566772, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 402.2096454190457, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33787b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378940>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33788d0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 5516238, "grad_time_ms": 25341.139, "load_time_ms": 23.099, "update_time_ms": 11.55, "default": {"entropy": 1.45619797706604, "cur_kl_coeff": 0.33750006556510925, "total_loss": 30.424007415771484, "kl": 0.017290689051151276, "vf_explained_var": 0.7865024209022522, "vf_loss": 30.432823181152344, "policy_loss": -0.014650117605924606, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 5516238, "sample_time_ms": 15282.221}, "timesteps_since_restore": 5516238, "date": "2019-04-29_22-37-10", "timesteps_total": 5516238, "episodes_this_iter": 57, "episodes_total": 2523, "hostname": "flow-main", "time_total_s": 1973.5094220638275, "custom_metrics": {"cost2_min": -164.09073347406533, "system_level_velocity_mean": 12.946862024722499, "outflow_rate_max": 1208.4346825796179, "outflow_rate_min": 456.2235634251744, "system_level_velocity_min": 4.695037121898198, "outflow_rate_mean": 924.9935608949271, "cost2_max": -24.49393251131162, "cost1_max": 438.3655232417897, "cost1_min": 117.12171544600093, "cost1_mean": 334.4486229232722, "system_level_velocity_max": 16.809052827656114, "cost2_mean": -72.51829453006425}, "episode_len_mean": 695.59, "episode_reward_mean": 1139.4012227171856, "pid": 366, "iterations_since_restore": 47, "episode_reward_max": 1481.4022907179456, "node_ip": "10.138.0.2", "timestamp": 1556577430, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 112213, "time_this_iter_s": 39.25879740715027, "training_iteration": 47, "time_since_restore": 1973.5094220638275, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 822.4551808416754, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33732e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33734a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373518>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 5627442, "grad_time_ms": 25253.728, "load_time_ms": 23.092, "update_time_ms": 11.447, "default": {"entropy": 1.472594141960144, "cur_kl_coeff": 0.33750003576278687, "total_loss": 32.77117919921875, "kl": 0.016521727666258812, "vf_explained_var": 0.7759246826171875, "vf_loss": 32.77962875366211, "policy_loss": -0.014029250480234623, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 5627442, "sample_time_ms": 15249.932}, "timesteps_since_restore": 5627442, "date": "2019-04-29_22-37-49", "timesteps_total": 5627442, "episodes_this_iter": 62, "episodes_total": 2585, "hostname": "flow-main", "time_total_s": 2012.8823301792145, "custom_metrics": {"cost2_min": -156.12677653611576, "system_level_velocity_mean": 12.825665894891007, "outflow_rate_max": 1208.4346825796179, "outflow_rate_min": 658.5123629366662, "system_level_velocity_min": 6.653399562639245, "outflow_rate_mean": 925.2970143832874, "cost2_max": -28.588519435954026, "cost1_max": 438.3655232417897, "cost1_min": 166.5840617225548, "cost1_mean": 333.02814280814476, "system_level_velocity_max": 16.809052827656114, "cost2_mean": -75.58171116217662}, "episode_len_mean": 697.55, "episode_reward_mean": 1159.015246600603, "pid": 366, "iterations_since_restore": 48, "episode_reward_max": 1487.9754042781663, "node_ip": "10.138.0.2", "timestamp": 1556577469, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 111204, "time_this_iter_s": 39.37290811538696, "training_iteration": 48, "time_since_restore": 2012.8823301792145, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 822.4551808416754, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33784a8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378dd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378630>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 5738327, "grad_time_ms": 24929.637, "load_time_ms": 22.974, "update_time_ms": 11.524, "default": {"entropy": 1.461289644241333, "cur_kl_coeff": 0.33750003576278687, "total_loss": 35.00992202758789, "kl": 0.01688929833471775, "vf_explained_var": 0.7452611327171326, "vf_loss": 35.01823806762695, "policy_loss": -0.014010537415742874, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 5738327, "sample_time_ms": 15212.228}, "timesteps_since_restore": 5738327, "date": "2019-04-29_22-38-27", "timesteps_total": 5738327, "episodes_this_iter": 57, "episodes_total": 2642, "hostname": "flow-main", "time_total_s": 2050.6162769794464, "custom_metrics": {"cost2_min": -156.12677653611576, "system_level_velocity_mean": 12.654837025017747, "outflow_rate_max": 1161.0135748449372, "outflow_rate_min": 658.5123629366662, "system_level_velocity_min": 6.653399562639245, "outflow_rate_mean": 924.8940463611387, "cost2_max": -30.3828738187618, "cost1_max": 416.297785141416, "cost1_min": 166.5840617225548, "cost1_mean": 329.7840568019208, "system_level_velocity_max": 16.25725655869134, "cost2_mean": -77.76156420825771}, "episode_len_mean": 697.55, "episode_reward_mean": 1179.5968872694932, "pid": 366, "iterations_since_restore": 49, "episode_reward_max": 1487.9754042781663, "node_ip": "10.138.0.2", "timestamp": 1556577507, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 110885, "time_this_iter_s": 37.733946800231934, "training_iteration": 49, "time_since_restore": 2050.6162769794464, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 851.9728923607619, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373898>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373c18>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373eb8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 5849981, "grad_time_ms": 24787.486, "load_time_ms": 21.806, "update_time_ms": 11.569, "default": {"entropy": 1.4535279273986816, "cur_kl_coeff": 0.33750006556510925, "total_loss": 38.01008987426758, "kl": 0.019173638895154, "vf_explained_var": 0.7436957359313965, "vf_loss": 38.01974105834961, "policy_loss": -0.016125507652759552, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 5849981, "sample_time_ms": 15226.135}, "timesteps_since_restore": 5849981, "date": "2019-04-29_22-39-07", "timesteps_total": 5849981, "episodes_this_iter": 60, "episodes_total": 2702, "hostname": "flow-main", "time_total_s": 2090.6281723976135, "custom_metrics": {"cost2_min": -149.33120352173862, "system_level_velocity_mean": 12.812327742872547, "outflow_rate_max": 1113.5556323737087, "outflow_rate_min": 748.5543922862436, "system_level_velocity_min": 9.197117347250417, "outflow_rate_mean": 931.9820517065128, "cost2_max": -27.95335963055565, "cost1_max": 416.718410988468, "cost1_min": 242.90150092370794, "cost1_mean": 335.63714594864337, "system_level_velocity_max": 15.830736918711954, "cost2_mean": -77.9404598384559}, "episode_len_mean": 700.0, "episode_reward_mean": 1189.8298044201047, "pid": 366, "iterations_since_restore": 50, "episode_reward_max": 1574.8308696537379, "node_ip": "10.138.0.2", "timestamp": 1556577547, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 111654, "time_this_iter_s": 40.011895418167114, "training_iteration": 50, "time_since_restore": 2090.6281723976135, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 851.9728923607619, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33e2f60>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3340978>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3340470>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 5962468, "grad_time_ms": 24762.221, "load_time_ms": 22.96, "update_time_ms": 11.68, "default": {"entropy": 1.4582860469818115, "cur_kl_coeff": 0.33750003576278687, "total_loss": 33.29001998901367, "kl": 0.01839361898601055, "vf_explained_var": 0.7512600421905518, "vf_loss": 33.2993049621582, "policy_loss": -0.015493836253881454, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 5962468, "sample_time_ms": 15274.951}, "timesteps_since_restore": 5962468, "date": "2019-04-29_22-39-49", "timesteps_total": 5962468, "episodes_this_iter": 54, "episodes_total": 2756, "hostname": "flow-main", "time_total_s": 2132.5840966701508, "custom_metrics": {"cost2_min": -143.80868842836756, "system_level_velocity_mean": 12.92845646443359, "outflow_rate_max": 1139.479059891426, "outflow_rate_min": 748.5543922862436, "system_level_velocity_min": 8.745667014404187, "outflow_rate_mean": 944.4237175615895, "cost2_max": -29.072911073760167, "cost1_max": 425.97695447461666, "cost1_min": 230.80955517575296, "cost1_mean": 338.4371329287741, "system_level_velocity_max": 16.28653477186798, "cost2_mean": -78.67790613859228}, "episode_len_mean": 700.0, "episode_reward_mean": 1196.7864587934373, "pid": 366, "iterations_since_restore": 51, "episode_reward_max": 1574.8308696537379, "node_ip": "10.138.0.2", "timestamp": 1556577589, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 112487, "time_this_iter_s": 41.95592427253723, "training_iteration": 51, "time_since_restore": 2132.5840966701508, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 396.94769008964215, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33094e0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309518>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309588>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 6075758, "grad_time_ms": 24702.243, "load_time_ms": 24.253, "update_time_ms": 11.7, "default": {"entropy": 1.458594560623169, "cur_kl_coeff": 0.33750006556510925, "total_loss": 37.01039123535156, "kl": 0.01858382113277912, "vf_explained_var": 0.7403129935264587, "vf_loss": 37.01898956298828, "policy_loss": -0.014873606152832508, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 6075758, "sample_time_ms": 15285.336}, "timesteps_since_restore": 6075758, "date": "2019-04-29_22-40-30", "timesteps_total": 6075758, "episodes_this_iter": 62, "episodes_total": 2818, "hostname": "flow-main", "time_total_s": 2173.5857985019684, "custom_metrics": {"cost2_min": -165.44091693478867, "system_level_velocity_mean": 13.11445436226189, "outflow_rate_max": 1139.479059891426, "outflow_rate_min": 699.6344028008093, "system_level_velocity_min": 8.629059713963901, "outflow_rate_mean": 939.708730773821, "cost2_max": -27.448932809074474, "cost1_max": 426.4379406685712, "cost1_min": 138.34585801117677, "cost1_mean": 340.19487203556025, "system_level_velocity_max": 16.28653477186798, "cost2_mean": -75.98327827061198}, "episode_len_mean": 694.29, "episode_reward_mean": 1184.1775850850433, "pid": 366, "iterations_since_restore": 52, "episode_reward_max": 1498.285749340374, "node_ip": "10.138.0.2", "timestamp": 1556577630, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 113290, "time_this_iter_s": 41.00170183181763, "training_iteration": 52, "time_since_restore": 2173.5857985019684, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 396.94769008964215, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373a58>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373c50>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33736d8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 6188163, "grad_time_ms": 24529.542, "load_time_ms": 25.328, "update_time_ms": 11.624, "default": {"entropy": 1.4776099920272827, "cur_kl_coeff": 0.33750003576278687, "total_loss": 33.10240936279297, "kl": 0.016934726387262344, "vf_explained_var": 0.7879668474197388, "vf_loss": 33.11203384399414, "policy_loss": -0.015343418344855309, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 6188163, "sample_time_ms": 15320.425}, "timesteps_since_restore": 6188163, "date": "2019-04-29_22-41-10", "timesteps_total": 6188163, "episodes_this_iter": 56, "episodes_total": 2874, "hostname": "flow-main", "time_total_s": 2213.905086517334, "custom_metrics": {"cost2_min": -165.44091693478867, "system_level_velocity_mean": 12.782691321123213, "outflow_rate_max": 1139.0518489049366, "outflow_rate_min": 745.2321749513028, "system_level_velocity_min": 8.629059713963901, "outflow_rate_mean": 946.394068196296, "cost2_max": -25.229417861502963, "cost1_max": 426.4379406685712, "cost1_min": 138.34585801117677, "cost1_mean": 332.1921916683226, "system_level_velocity_max": 16.270306598065645, "cost2_mean": -82.98461637326372}, "episode_len_mean": 694.29, "episode_reward_mean": 1220.458405215221, "pid": 366, "iterations_since_restore": 53, "episode_reward_max": 1535.9843865762657, "node_ip": "10.138.0.2", "timestamp": 1556577670, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 112405, "time_this_iter_s": 40.3192880153656, "training_iteration": 53, "time_since_restore": 2213.905086517334, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 872.3242704464185, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309748>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309c88>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309278>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 6298797, "grad_time_ms": 24575.268, "load_time_ms": 25.251, "update_time_ms": 11.821, "default": {"entropy": 1.4863848686218262, "cur_kl_coeff": 0.33750003576278687, "total_loss": 37.461299896240234, "kl": 0.018171140924096107, "vf_explained_var": 0.783155083656311, "vf_loss": 37.47089385986328, "policy_loss": -0.01572706550359726, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 6298797, "sample_time_ms": 15377.102}, "timesteps_since_restore": 6298797, "date": "2019-04-29_22-41-52", "timesteps_total": 6298797, "episodes_this_iter": 63, "episodes_total": 2937, "hostname": "flow-main", "time_total_s": 2255.0570175647736, "custom_metrics": {"cost2_min": -152.8769089318609, "system_level_velocity_mean": 12.80812475985024, "outflow_rate_max": 1141.4892607812858, "outflow_rate_min": 693.430472681522, "system_level_velocity_min": 7.401844706183294, "outflow_rate_mean": 959.8118294665018, "cost2_max": -25.229417861502963, "cost1_max": 424.08890953217156, "cost1_min": 196.1409997464359, "cost1_mean": 334.82965473562194, "system_level_velocity_max": 16.224290390689706, "cost2_mean": -84.10646679249285}, "episode_len_mean": 700.0, "episode_reward_mean": 1225.5745743160994, "pid": 366, "iterations_since_restore": 54, "episode_reward_max": 1676.6273165091886, "node_ip": "10.138.0.2", "timestamp": 1556577712, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 110634, "time_this_iter_s": 41.151931047439575, "training_iteration": 54, "time_since_restore": 2255.0570175647736, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 48.378081114997364, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33569b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3356e80>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3356fd0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 6410136, "grad_time_ms": 24460.965, "load_time_ms": 24.829, "update_time_ms": 11.428, "default": {"entropy": 1.4866706132888794, "cur_kl_coeff": 0.33750003576278687, "total_loss": 35.890621185302734, "kl": 0.01769394613802433, "vf_explained_var": 0.7620480060577393, "vf_loss": 35.89983367919922, "policy_loss": -0.015185926109552383, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 6410136, "sample_time_ms": 15397.849}, "timesteps_since_restore": 6410136, "date": "2019-04-29_22-42-32", "timesteps_total": 6410136, "episodes_this_iter": 57, "episodes_total": 2994, "hostname": "flow-main", "time_total_s": 2294.8464138507843, "custom_metrics": {"cost2_min": -144.6755044637116, "system_level_velocity_mean": 13.283187272718123, "outflow_rate_max": 1167.7020215411255, "outflow_rate_min": 478.62555380911914, "system_level_velocity_min": 7.843104190823565, "outflow_rate_mean": 952.7938896186772, "cost2_max": -17.651201826397912, "cost1_max": 448.93382793190267, "cost1_min": 19.35050884104535, "cost1_mean": 339.0466937996167, "system_level_velocity_max": 18.188581888339552, "cost2_mean": -77.08609380324692}, "episode_len_mean": 686.68, "episode_reward_mean": 1203.4175016313673, "pid": 366, "iterations_since_restore": 55, "episode_reward_max": 1676.6273165091886, "node_ip": "10.138.0.2", "timestamp": 1556577752, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 111339, "time_this_iter_s": 39.78939628601074, "training_iteration": 55, "time_since_restore": 2294.8464138507843, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 62.21849249452103, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309240>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33097f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309860>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 6522546, "grad_time_ms": 24434.909, "load_time_ms": 24.798, "update_time_ms": 11.283, "default": {"entropy": 1.4958308935165405, "cur_kl_coeff": 0.33750003576278687, "total_loss": 38.113094329833984, "kl": 0.017806345596909523, "vf_explained_var": 0.7565174102783203, "vf_loss": 38.12250900268555, "policy_loss": -0.01542144175618887, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 6522546, "sample_time_ms": 15416.44}, "timesteps_since_restore": 6522546, "date": "2019-04-29_22-43-12", "timesteps_total": 6522546, "episodes_this_iter": 62, "episodes_total": 3056, "hostname": "flow-main", "time_total_s": 2335.32604265213, "custom_metrics": {"cost2_min": -164.40501833548652, "system_level_velocity_mean": 13.508821552469806, "outflow_rate_max": 1167.7020215411255, "outflow_rate_min": 478.62555380911914, "system_level_velocity_min": 7.843104190823565, "outflow_rate_mean": 958.1926658591262, "cost2_max": -20.554211164933275, "cost1_max": 436.2734173659006, "cost1_min": 25.373679519365037, "cost1_mean": 348.582433267765, "system_level_velocity_max": 18.188581888339552, "cost2_mean": -74.43025385022094}, "episode_len_mean": 693.39, "episode_reward_mean": 1203.8193985743032, "pid": 366, "iterations_since_restore": 56, "episode_reward_max": 1479.0531491774827, "node_ip": "10.138.0.2", "timestamp": 1556577792, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 112410, "time_this_iter_s": 40.479628801345825, "training_iteration": 56, "time_since_restore": 2335.32604265213, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 35.255959990674896, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33733c8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373828>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378160>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 6633544, "grad_time_ms": 24225.969, "load_time_ms": 23.506, "update_time_ms": 11.496, "default": {"entropy": 1.5049738883972168, "cur_kl_coeff": 0.33750006556510925, "total_loss": 34.713890075683594, "kl": 0.01876564510166645, "vf_explained_var": 0.79278564453125, "vf_loss": 34.722625732421875, "policy_loss": -0.01507139764726162, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 6633544, "sample_time_ms": 15442.654}, "timesteps_since_restore": 6633544, "date": "2019-04-29_22-43-50", "timesteps_total": 6633544, "episodes_this_iter": 58, "episodes_total": 3114, "hostname": "flow-main", "time_total_s": 2372.7631385326385, "custom_metrics": {"cost2_min": -164.40501833548652, "system_level_velocity_mean": 12.98429387515763, "outflow_rate_max": 1125.338530814521, "outflow_rate_min": 482.873066148424, "system_level_velocity_min": 8.829597948859165, "outflow_rate_mean": 926.9746889154809, "cost2_max": -15.219918502044933, "cost1_max": 422.60023334981025, "cost1_min": 16.47763377226646, "cost1_mean": 333.63807743345654, "system_level_velocity_max": 17.770849976356338, "cost2_mean": -76.30045320619136}, "episode_len_mean": 693.25, "episode_reward_mean": 1168.1971430387362, "pid": 366, "iterations_since_restore": 57, "episode_reward_max": 1405.8027391934613, "node_ip": "10.138.0.2", "timestamp": 1556577830, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 110998, "time_this_iter_s": 37.43709588050842, "training_iteration": 57, "time_since_restore": 2372.7631385326385, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 35.255959990674896, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33094e0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33095c0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309b70>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 6743506, "grad_time_ms": 24155.415, "load_time_ms": 23.216, "update_time_ms": 11.333, "default": {"entropy": 1.514640212059021, "cur_kl_coeff": 0.33750003576278687, "total_loss": 37.23085021972656, "kl": 0.018437935039401054, "vf_explained_var": 0.7781499028205872, "vf_loss": 37.240142822265625, "policy_loss": -0.015515489503741264, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 6743506, "sample_time_ms": 15393.726}, "timesteps_since_restore": 6743506, "date": "2019-04-29_22-44-28", "timesteps_total": 6743506, "episodes_this_iter": 60, "episodes_total": 3174, "hostname": "flow-main", "time_total_s": 2410.908834695816, "custom_metrics": {"cost2_min": -141.9685182670031, "system_level_velocity_mean": 13.153748247709158, "outflow_rate_max": 1134.7835086085609, "outflow_rate_min": 482.873066148424, "system_level_velocity_min": 8.355590049616643, "outflow_rate_mean": 938.2010077793213, "cost2_max": -15.219918502044933, "cost1_max": 436.7401966633044, "cost1_min": 16.47763377226646, "cost1_mean": 339.077174595064, "system_level_velocity_max": 17.770849976356338, "cost2_mean": -71.14322361854315}, "episode_len_mean": 693.25, "episode_reward_mean": 1176.7984714766844, "pid": 366, "iterations_since_restore": 58, "episode_reward_max": 1429.0455915953487, "node_ip": "10.138.0.2", "timestamp": 1556577868, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 109962, "time_this_iter_s": 38.14569616317749, "training_iteration": 58, "time_since_restore": 2410.908834695816, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 827.2207765553943, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378f28>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378710>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378400>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 6854156, "grad_time_ms": 24271.399, "load_time_ms": 23.267, "update_time_ms": 11.286, "default": {"entropy": 1.4963598251342773, "cur_kl_coeff": 0.33750003576278687, "total_loss": 37.37360382080078, "kl": 0.018521592020988464, "vf_explained_var": 0.7505958080291748, "vf_loss": 37.38373565673828, "policy_loss": -0.016382571309804916, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 6854156, "sample_time_ms": 15522.199}, "timesteps_since_restore": 6854156, "date": "2019-04-29_22-45-08", "timesteps_total": 6854156, "episodes_this_iter": 60, "episodes_total": 3234, "hostname": "flow-main", "time_total_s": 2451.112853050232, "custom_metrics": {"cost2_min": -135.10306688198608, "system_level_velocity_mean": 13.28681447969984, "outflow_rate_max": 1134.7835086085609, "outflow_rate_min": 698.5606456980952, "system_level_velocity_min": 8.355590049616643, "outflow_rate_mean": 952.0466449962726, "cost2_max": -23.60147820869008, "cost1_max": 436.7401966633044, "cost1_min": 220.35003655826694, "cost1_mean": 346.73021910565365, "system_level_velocity_max": 16.994074026074657, "cost2_mean": -72.94480406769334}, "episode_len_mean": 700.0, "episode_reward_mean": 1192.4483241419132, "pid": 366, "iterations_since_restore": 59, "episode_reward_max": 1429.0455915953487, "node_ip": "10.138.0.2", "timestamp": 1556577908, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 110650, "time_this_iter_s": 40.204018354415894, "training_iteration": 59, "time_since_restore": 2451.112853050232, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 827.2207765553943, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309748>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309358>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33094a8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 6964754, "grad_time_ms": 24209.936, "load_time_ms": 22.355, "update_time_ms": 11.348, "default": {"entropy": 1.4897865056991577, "cur_kl_coeff": 0.33750003576278687, "total_loss": 37.587520599365234, "kl": 0.018088482320308685, "vf_explained_var": 0.7739125490188599, "vf_loss": 37.59613800048828, "policy_loss": -0.014727670699357986, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 6964754, "sample_time_ms": 15533.74}, "timesteps_since_restore": 6964754, "date": "2019-04-29_22-45-48", "timesteps_total": 6964754, "episodes_this_iter": 58, "episodes_total": 3292, "hostname": "flow-main", "time_total_s": 2490.6113710403442, "custom_metrics": {"cost2_min": -140.16319942009807, "system_level_velocity_mean": 13.382284696974192, "outflow_rate_max": 1174.3962497526802, "outflow_rate_min": 698.5606456980952, "system_level_velocity_min": 9.494024187277907, "outflow_rate_mean": 969.8608163214203, "cost2_max": -23.60147820869008, "cost1_max": 441.07785304001277, "cost1_min": 242.95897375199544, "cost1_mean": 350.05978155529846, "system_level_velocity_max": 16.69338305920892, "cost2_mean": -76.18757177509943}, "episode_len_mean": 700.0, "episode_reward_mean": 1215.7765116172786, "pid": 366, "iterations_since_restore": 60, "episode_reward_max": 1444.151950828732, "node_ip": "10.138.0.2", "timestamp": 1556577948, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 110598, "time_this_iter_s": 39.498517990112305, "training_iteration": 60, "time_since_restore": 2490.6113710403442, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 884.8616496450627, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378f28>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33784e0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33786d8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 7074664, "grad_time_ms": 23830.565, "load_time_ms": 20.924, "update_time_ms": 11.285, "default": {"entropy": 1.4977349042892456, "cur_kl_coeff": 0.33750003576278687, "total_loss": 40.58932113647461, "kl": 0.017860515043139458, "vf_explained_var": 0.7504234313964844, "vf_loss": 40.59800720214844, "policy_loss": -0.014716592617332935, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 7074664, "sample_time_ms": 15392.846}, "timesteps_since_restore": 7074664, "date": "2019-04-29_22-46-24", "timesteps_total": 7074664, "episodes_this_iter": 58, "episodes_total": 3350, "hostname": "flow-main", "time_total_s": 2527.331139564514, "custom_metrics": {"cost2_min": -144.94692330241458, "system_level_velocity_mean": 13.266651157127301, "outflow_rate_max": 1174.3962497526802, "outflow_rate_min": 742.1371572133975, "system_level_velocity_min": 9.188253142411284, "outflow_rate_mean": 971.2949504929164, "cost2_max": -25.193389330781464, "cost1_max": 442.3226966677295, "cost1_min": 237.92357742509665, "cost1_mean": 346.7388951507462, "system_level_velocity_max": 17.147277398317435, "cost2_mean": -80.76576636542046}, "episode_len_mean": 700.0, "episode_reward_mean": 1229.627917515528, "pid": 366, "iterations_since_restore": 61, "episode_reward_max": 1444.151950828732, "node_ip": "10.138.0.2", "timestamp": 1556577984, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 109910, "time_this_iter_s": 36.71976852416992, "training_iteration": 61, "time_since_restore": 2527.331139564514, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 876.2980929075766, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309240>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33093c8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309e80>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 7185386, "grad_time_ms": 23691.093, "load_time_ms": 20.639, "update_time_ms": 11.204, "default": {"entropy": 1.5295286178588867, "cur_kl_coeff": 0.33750006556510925, "total_loss": 38.91401672363281, "kl": 0.01849512755870819, "vf_explained_var": 0.7634357213973999, "vf_loss": 38.924095153808594, "policy_loss": -0.01632704958319664, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 7185386, "sample_time_ms": 15336.333}, "timesteps_since_restore": 7185386, "date": "2019-04-29_22-47-03", "timesteps_total": 7185386, "episodes_this_iter": 60, "episodes_total": 3410, "hostname": "flow-main", "time_total_s": 2566.3378469944, "custom_metrics": {"cost2_min": -145.37967731780023, "system_level_velocity_mean": 13.239717594869333, "outflow_rate_max": 1155.372131278889, "outflow_rate_min": 703.474877026884, "system_level_velocity_min": 9.188253142411284, "outflow_rate_mean": 959.0731121149507, "cost2_max": -24.399792017712144, "cost1_max": 442.3226966677295, "cost1_min": 236.73195859654925, "cost1_mean": 345.57791561160957, "system_level_velocity_max": 17.36918302983187, "cost2_mean": -78.45325080174167}, "episode_len_mean": 700.0, "episode_reward_mean": 1207.6089244533061, "pid": 366, "iterations_since_restore": 62, "episode_reward_max": 1495.8045680236376, "node_ip": "10.138.0.2", "timestamp": 1556578023, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 110722, "time_this_iter_s": 39.006707429885864, "training_iteration": 62, "time_since_restore": 2566.3378469944, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 786.5495177767469, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378198>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378400>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378390>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 7298094, "grad_time_ms": 23503.277, "load_time_ms": 20.34, "update_time_ms": 11.26, "default": {"entropy": 1.5363625288009644, "cur_kl_coeff": 0.33750006556510925, "total_loss": 36.41734313964844, "kl": 0.017230261117219925, "vf_explained_var": 0.782321035861969, "vf_loss": 36.42589569091797, "policy_loss": -0.014366977848112583, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 7298094, "sample_time_ms": 15328.84}, "timesteps_since_restore": 7298094, "date": "2019-04-29_22-47-42", "timesteps_total": 7298094, "episodes_this_iter": 57, "episodes_total": 3467, "hostname": "flow-main", "time_total_s": 2604.6955053806305, "custom_metrics": {"cost2_min": -145.37967731780023, "system_level_velocity_mean": 13.292174697648607, "outflow_rate_max": 1176.323748672322, "outflow_rate_min": 700.5974410800587, "system_level_velocity_min": 9.210766286229342, "outflow_rate_mean": 941.078646135913, "cost2_max": -25.258533688231214, "cost1_max": 430.47571590768126, "cost1_min": 235.93573937558347, "cost1_mean": 347.7718577533753, "system_level_velocity_max": 16.724114326185603, "cost2_mean": -73.04513542765102}, "episode_len_mean": 700.0, "episode_reward_mean": 1179.505604474751, "pid": 366, "iterations_since_restore": 63, "episode_reward_max": 1423.8762806056698, "node_ip": "10.138.0.2", "timestamp": 1556578062, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 112708, "time_this_iter_s": 38.35765838623047, "training_iteration": 63, "time_since_restore": 2604.6955053806305, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 522.089076558075, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33094e0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309400>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309be0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 7410128, "grad_time_ms": 23097.482, "load_time_ms": 20.075, "update_time_ms": 11.107, "default": {"entropy": 1.556588053703308, "cur_kl_coeff": 0.33750006556510925, "total_loss": 35.58195877075195, "kl": 0.018021337687969208, "vf_explained_var": 0.7912317514419556, "vf_loss": 35.591064453125, "policy_loss": -0.015187832526862621, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 7410128, "sample_time_ms": 15222.505}, "timesteps_since_restore": 7410128, "date": "2019-04-29_22-48-18", "timesteps_total": 7410128, "episodes_this_iter": 60, "episodes_total": 3527, "hostname": "flow-main", "time_total_s": 2640.7171909809113, "custom_metrics": {"cost2_min": -148.74692005946042, "system_level_velocity_mean": 13.130203094830408, "outflow_rate_max": 1176.323748672322, "outflow_rate_min": 574.3875395892553, "system_level_velocity_min": 6.77197305151279, "outflow_rate_mean": 936.3544571120332, "cost2_max": -26.812534134411248, "cost1_max": 427.4960463011728, "cost1_min": 170.4208278447336, "cost1_mean": 344.09868575483057, "system_level_velocity_max": 16.425091031513688, "cost2_mean": -72.87159614650338}, "episode_len_mean": 700.0, "episode_reward_mean": 1181.7778364939359, "pid": 366, "iterations_since_restore": 64, "episode_reward_max": 1468.7219561249613, "node_ip": "10.138.0.2", "timestamp": 1556578098, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 112034, "time_this_iter_s": 36.02168560028076, "training_iteration": 64, "time_since_restore": 2640.7171909809113, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 50.10231959457075, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33733c8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33739b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33737b8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 7521112, "grad_time_ms": 22981.264, "load_time_ms": 20.031, "update_time_ms": 10.999, "default": {"entropy": 1.5411385297775269, "cur_kl_coeff": 0.33750006556510925, "total_loss": 35.776573181152344, "kl": 0.017757005989551544, "vf_explained_var": 0.8007762432098389, "vf_loss": 35.7855110168457, "policy_loss": -0.014930362813174725, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 7521112, "sample_time_ms": 15141.442}, "timesteps_since_restore": 7521112, "date": "2019-04-29_22-48-56", "timesteps_total": 7521112, "episodes_this_iter": 57, "episodes_total": 3584, "hostname": "flow-main", "time_total_s": 2678.531042098999, "custom_metrics": {"cost2_min": -148.74692005946042, "system_level_velocity_mean": 12.955843061509109, "outflow_rate_max": 1146.786106089171, "outflow_rate_min": 471.29171125633786, "system_level_velocity_min": 6.288436157004201, "outflow_rate_mean": 927.5476804986212, "cost2_max": -13.913705091905088, "cost1_max": 416.83648398461446, "cost1_min": 16.75969944495572, "cost1_mean": 334.8370942841142, "system_level_velocity_max": 18.910811679699137, "cost2_mean": -73.73494077200282}, "episode_len_mean": 693.26, "episode_reward_mean": 1180.0933294917897, "pid": 366, "iterations_since_restore": 65, "episode_reward_max": 1468.7219561249613, "node_ip": "10.138.0.2", "timestamp": 1556578136, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 110984, "time_this_iter_s": 37.81385111808777, "training_iteration": 65, "time_since_restore": 2678.531042098999, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 760.9926554791189, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378470>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378e80>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33784e0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 7631606, "grad_time_ms": 22862.933, "load_time_ms": 19.532, "update_time_ms": 11.042, "default": {"entropy": 1.53034245967865, "cur_kl_coeff": 0.33750009536743164, "total_loss": 37.94564437866211, "kl": 0.019262997433543205, "vf_explained_var": 0.7690684795379639, "vf_loss": 37.955780029296875, "policy_loss": -0.01663736067712307, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 7631606, "sample_time_ms": 15095.856}, "timesteps_since_restore": 7631606, "date": "2019-04-29_22-49-35", "timesteps_total": 7631606, "episodes_this_iter": 61, "episodes_total": 3645, "hostname": "flow-main", "time_total_s": 2717.339545249939, "custom_metrics": {"cost2_min": -147.09668879755296, "system_level_velocity_mean": 13.274864632455609, "outflow_rate_max": 1146.786106089171, "outflow_rate_min": 678.5216552361234, "system_level_velocity_min": 6.288436157004201, "outflow_rate_mean": 939.0605032630768, "cost2_max": -26.855996779387286, "cost1_max": 429.9669985889214, "cost1_min": 159.70982276034493, "cost1_mean": 348.4017144183194, "system_level_velocity_max": 16.354513230161544, "cost2_mean": -71.9128396807815}, "episode_len_mean": 700.0, "episode_reward_mean": 1190.3865769452768, "pid": 366, "iterations_since_restore": 66, "episode_reward_max": 1469.1393844915397, "node_ip": "10.138.0.2", "timestamp": 1556578175, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 110494, "time_this_iter_s": 38.80850315093994, "training_iteration": 66, "time_since_restore": 2717.339545249939, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 30.79564051079938, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3356b70>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378a90>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 7743546, "grad_time_ms": 22907.906, "load_time_ms": 20.584, "update_time_ms": 11.067, "default": {"entropy": 1.55630624294281, "cur_kl_coeff": 0.33750003576278687, "total_loss": 40.39352035522461, "kl": 0.018561946228146553, "vf_explained_var": 0.796201229095459, "vf_loss": 40.40214538574219, "policy_loss": -0.014890430495142937, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 7743546, "sample_time_ms": 15231.723}, "timesteps_since_restore": 7743546, "date": "2019-04-29_22-50-14", "timesteps_total": 7743546, "episodes_this_iter": 60, "episodes_total": 3705, "hostname": "flow-main", "time_total_s": 2756.56729054451, "custom_metrics": {"cost2_min": -147.09668879755296, "system_level_velocity_mean": 13.218573622427408, "outflow_rate_max": 1139.207261372311, "outflow_rate_min": 464.2002765876701, "system_level_velocity_min": 7.925710908727519, "outflow_rate_mean": 921.9458798832951, "cost2_max": -13.691843364155421, "cost1_max": 436.8641837881821, "cost1_min": 11.77552810238503, "cost1_mean": 340.8492193052217, "system_level_velocity_max": 17.020003211322624, "cost2_mean": -72.61941938371561}, "episode_len_mean": 693.18, "episode_reward_mean": 1153.694592293547, "pid": 366, "iterations_since_restore": 67, "episode_reward_max": 1469.1393844915397, "node_ip": "10.138.0.2", "timestamp": 1556578214, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 111940, "time_this_iter_s": 39.22774529457092, "training_iteration": 67, "time_since_restore": 2756.56729054451, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 29.320119684184764, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378e48>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378e10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378080>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 7854884, "grad_time_ms": 22823.026, "load_time_ms": 20.673, "update_time_ms": 11.054, "default": {"entropy": 1.5510650873184204, "cur_kl_coeff": 0.33750003576278687, "total_loss": 37.10145950317383, "kl": 0.018711458891630173, "vf_explained_var": 0.7848074436187744, "vf_loss": 37.1109733581543, "policy_loss": -0.01582811400294304, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 7854884, "sample_time_ms": 15355.903}, "timesteps_since_restore": 7854884, "date": "2019-04-29_22-50-53", "timesteps_total": 7854884, "episodes_this_iter": 61, "episodes_total": 3766, "hostname": "flow-main", "time_total_s": 2795.095237970352, "custom_metrics": {"cost2_min": -149.0733577838443, "system_level_velocity_mean": 13.18417155506581, "outflow_rate_max": 1089.250998630247, "outflow_rate_min": 464.2002765876701, "system_level_velocity_min": 6.987293641202224, "outflow_rate_mean": 913.8364723464375, "cost2_max": -13.691843364155421, "cost1_max": 436.51469543625177, "cost1_min": 11.77552810238503, "cost1_mean": 333.2266671479032, "system_level_velocity_max": 17.020003211322624, "cost2_mean": -74.13708560699497}, "episode_len_mean": 683.77, "episode_reward_mean": 1130.4153969979423, "pid": 366, "iterations_since_restore": 68, "episode_reward_max": 1490.5557020791782, "node_ip": "10.138.0.2", "timestamp": 1556578253, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 111338, "time_this_iter_s": 38.527947425842285, "training_iteration": 68, "time_since_restore": 2795.095237970352, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 29.320119684184764, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378940>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378dd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309518>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 7966379, "grad_time_ms": 22895.368, "load_time_ms": 20.733, "update_time_ms": 11.105, "default": {"entropy": 1.560633659362793, "cur_kl_coeff": 0.33750006556510925, "total_loss": 37.86454772949219, "kl": 0.01959044113755226, "vf_explained_var": 0.7792384028434753, "vf_loss": 37.87528991699219, "policy_loss": -0.017359012737870216, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 7966379, "sample_time_ms": 15277.139}, "timesteps_since_restore": 7966379, "date": "2019-04-29_22-51-33", "timesteps_total": 7966379, "episodes_this_iter": 61, "episodes_total": 3827, "hostname": "flow-main", "time_total_s": 2835.220964193344, "custom_metrics": {"cost2_min": -166.5715313879038, "system_level_velocity_mean": 13.12412515160677, "outflow_rate_max": 1165.50059222141, "outflow_rate_min": 467.7500288525429, "system_level_velocity_min": 6.987293641202224, "outflow_rate_mean": 927.69702918558, "cost2_max": -13.751116691364023, "cost1_max": 436.51469543625177, "cost1_min": 12.368933546993825, "cost1_mean": 336.98903012164396, "system_level_velocity_max": 17.013529313240483, "cost2_mean": -79.1961287272825}, "episode_len_mean": 690.59, "episode_reward_mean": 1163.3854520702675, "pid": 366, "iterations_since_restore": 69, "episode_reward_max": 1490.5557020791782, "node_ip": "10.138.0.2", "timestamp": 1556578293, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 111495, "time_this_iter_s": 40.12572622299194, "training_iteration": 69, "time_since_restore": 2835.220964193344, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 789.9884911892891, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33780b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378470>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33786d8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 8077112, "grad_time_ms": 22845.015, "load_time_ms": 22.821, "update_time_ms": 11.083, "default": {"entropy": 1.556552529335022, "cur_kl_coeff": 0.33750006556510925, "total_loss": 35.28297424316406, "kl": 0.0188304390758276, "vf_explained_var": 0.7896655201911926, "vf_loss": 35.29292678833008, "policy_loss": -0.016307419165968895, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 8077112, "sample_time_ms": 15293.419}, "timesteps_since_restore": 8077112, "date": "2019-04-29_22-52-12", "timesteps_total": 8077112, "episodes_this_iter": 60, "episodes_total": 3887, "hostname": "flow-main", "time_total_s": 2874.4224529266357, "custom_metrics": {"cost2_min": -166.72033900301233, "system_level_velocity_mean": 13.352709976593605, "outflow_rate_max": 1165.50059222141, "outflow_rate_min": 717.5911728282022, "system_level_velocity_min": 9.084924567652738, "outflow_rate_mean": 938.3675180024729, "cost2_max": -23.6425527723992, "cost1_max": 413.9864230079259, "cost1_min": 231.78938732011278, "cost1_mean": 349.63417124035817, "system_level_velocity_max": 16.005092521048304, "cost2_mean": -74.80083350570249}, "episode_len_mean": 700.0, "episode_reward_mean": 1175.007036321864, "pid": 366, "iterations_since_restore": 70, "episode_reward_max": 1483.7468645302808, "node_ip": "10.138.0.2", "timestamp": 1556578332, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 110733, "time_this_iter_s": 39.201488733291626, "training_iteration": 70, "time_since_restore": 2874.4224529266357, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 68.73375741360385, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309518>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309208>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309e80>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 8187058, "grad_time_ms": 23018.257, "load_time_ms": 24.069, "update_time_ms": 10.972, "default": {"entropy": 1.5641207695007324, "cur_kl_coeff": 0.33750003576278687, "total_loss": 41.47211837768555, "kl": 0.019914863631129265, "vf_explained_var": 0.7459389567375183, "vf_loss": 41.48147201538086, "policy_loss": -0.01607305184006691, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 8187058, "sample_time_ms": 15348.35}, "timesteps_since_restore": 8187058, "date": "2019-04-29_22-52-51", "timesteps_total": 8187058, "episodes_this_iter": 60, "episodes_total": 3947, "hostname": "flow-main", "time_total_s": 2913.48077583313, "custom_metrics": {"cost2_min": -166.72033900301233, "system_level_velocity_mean": 13.58723573113661, "outflow_rate_max": 1144.7135399550125, "outflow_rate_min": 508.1533572325594, "system_level_velocity_min": 9.133414123306855, "outflow_rate_mean": 949.4804650792631, "cost2_max": -18.965400471853243, "cost1_max": 432.1909306841626, "cost1_min": 25.563199703098597, "cost1_mean": 350.94712776700027, "system_level_velocity_max": 19.285790480892047, "cost2_mean": -72.85341938791736}, "episode_len_mean": 693.38, "episode_reward_mean": 1183.0765511026764, "pid": 366, "iterations_since_restore": 71, "episode_reward_max": 1410.8803676878113, "node_ip": "10.138.0.2", "timestamp": 1556578371, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 109946, "time_this_iter_s": 39.05832290649414, "training_iteration": 71, "time_since_restore": 2913.48077583313, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 65.50552353330917, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378f28>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33783c8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378f98>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 8296983, "grad_time_ms": 23016.745, "load_time_ms": 23.411, "update_time_ms": 11.111, "default": {"entropy": 1.578195571899414, "cur_kl_coeff": 0.33750003576278687, "total_loss": 39.365867614746094, "kl": 0.0194729994982481, "vf_explained_var": 0.7771536707878113, "vf_loss": 39.375545501708984, "policy_loss": -0.016246385872364044, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 8296983, "sample_time_ms": 15295.462}, "timesteps_since_restore": 8296983, "date": "2019-04-29_22-53-30", "timesteps_total": 8296983, "episodes_this_iter": 62, "episodes_total": 4009, "hostname": "flow-main", "time_total_s": 2951.9516892433167, "custom_metrics": {"cost2_min": -155.0643848442808, "system_level_velocity_mean": 13.444414620099591, "outflow_rate_max": 1144.7135399550125, "outflow_rate_min": 493.5366697112591, "system_level_velocity_min": 8.788373710998952, "outflow_rate_mean": 944.0886878138147, "cost2_max": -13.919812131178269, "cost1_max": 432.1909306841626, "cost1_min": 22.097784557947325, "cost1_mean": 347.55572151293177, "system_level_velocity_max": 17.378266005332993, "cost2_mean": -73.87614594071593}, "episode_len_mean": 693.34, "episode_reward_mean": 1172.7244117071166, "pid": 366, "iterations_since_restore": 72, "episode_reward_max": 1442.5347084482162, "node_ip": "10.138.0.2", "timestamp": 1556578410, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 109925, "time_this_iter_s": 38.47091341018677, "training_iteration": 72, "time_since_restore": 2951.9516892433167, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 783.3845805436824, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309b38>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309f98>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309518>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 8410098, "grad_time_ms": 23073.874, "load_time_ms": 23.572, "update_time_ms": 11.234, "default": {"entropy": 1.5710939168930054, "cur_kl_coeff": 0.33750009536743164, "total_loss": 41.07144546508789, "kl": 0.018994107842445374, "vf_explained_var": 0.7449516654014587, "vf_loss": 41.07939147949219, "policy_loss": -0.014360727742314339, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 8410098, "sample_time_ms": 15357.995}, "timesteps_since_restore": 8410098, "date": "2019-04-29_22-54-09", "timesteps_total": 8410098, "episodes_this_iter": 61, "episodes_total": 4070, "hostname": "flow-main", "time_total_s": 2991.490565061569, "custom_metrics": {"cost2_min": -155.0643848442808, "system_level_velocity_mean": 13.419168271896865, "outflow_rate_max": 1198.963285304566, "outflow_rate_min": 729.5292609661063, "system_level_velocity_min": 9.262334978498485, "outflow_rate_mean": 933.0276544128728, "cost2_max": -22.58675711786319, "cost1_max": 438.16619327486035, "cost1_min": 237.8038153618089, "cost1_mean": 350.5815325830726, "system_level_velocity_max": 16.760075220224326, "cost2_mean": -72.2891981453302}, "episode_len_mean": 700.0, "episode_reward_mean": 1165.6085174869152, "pid": 366, "iterations_since_restore": 73, "episode_reward_max": 1452.6112179160145, "node_ip": "10.138.0.2", "timestamp": 1556578449, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 113115, "time_this_iter_s": 39.53887581825256, "training_iteration": 73, "time_since_restore": 2991.490565061569, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 26.712959603636364, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378128>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378048>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378828>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 8518960, "grad_time_ms": 23260.975, "load_time_ms": 23.343, "update_time_ms": 11.266, "default": {"entropy": 1.5962554216384888, "cur_kl_coeff": 0.33750006556510925, "total_loss": 41.449371337890625, "kl": 0.019701752811670303, "vf_explained_var": 0.7560150623321533, "vf_loss": 41.45926284790039, "policy_loss": -0.016540413722395897, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 8518960, "sample_time_ms": 15355.217}, "timesteps_since_restore": 8518960, "date": "2019-04-29_22-54-47", "timesteps_total": 8518960, "episodes_this_iter": 64, "episodes_total": 4134, "hostname": "flow-main", "time_total_s": 3029.332788705826, "custom_metrics": {"cost2_min": -151.2482769601699, "system_level_velocity_mean": 13.269632589002478, "outflow_rate_max": 1182.2936704972642, "outflow_rate_min": 464.2002765876701, "system_level_velocity_min": 9.483721568040677, "outflow_rate_mean": 929.1255533578737, "cost2_max": -13.429610158105504, "cost1_max": 435.3780692531677, "cost1_min": 11.569070417134663, "cost1_mean": 343.26447088189934, "system_level_velocity_max": 16.739858734021748, "cost2_mean": -74.0925759120185}, "episode_len_mean": 693.18, "episode_reward_mean": 1161.1489428060509, "pid": 366, "iterations_since_restore": 74, "episode_reward_max": 1465.1747765272025, "node_ip": "10.138.0.2", "timestamp": 1556578487, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 108862, "time_this_iter_s": 37.84222364425659, "training_iteration": 74, "time_since_restore": 3029.332788705826, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 822.0982910899978, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309b38>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33097b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33093c8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 8628772, "grad_time_ms": 23368.337, "load_time_ms": 23.577, "update_time_ms": 11.347, "default": {"entropy": 1.5837072134017944, "cur_kl_coeff": 0.33750006556510925, "total_loss": 44.02488708496094, "kl": 0.020794259384274483, "vf_explained_var": 0.7137296199798584, "vf_loss": 44.03368377685547, "policy_loss": -0.015816569328308105, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 8628772, "sample_time_ms": 15406.795}, "timesteps_since_restore": 8628772, "date": "2019-04-29_22-55-27", "timesteps_total": 8628772, "episodes_this_iter": 59, "episodes_total": 4193, "hostname": "flow-main", "time_total_s": 3068.727614879608, "custom_metrics": {"cost2_min": -145.94232532131298, "system_level_velocity_mean": 13.489849215945776, "outflow_rate_max": 1182.2936704972642, "outflow_rate_min": 662.5154438607858, "system_level_velocity_min": 9.511056570411391, "outflow_rate_mean": 947.9502648150573, "cost2_max": -25.11860179659506, "cost1_max": 428.9480968048803, "cost1_min": 249.49180857094146, "cost1_mean": 354.41972825508145, "system_level_velocity_max": 16.561678074185153, "cost2_mean": -69.34610737660383}, "episode_len_mean": 700.0, "episode_reward_mean": 1186.9811887851583, "pid": 366, "iterations_since_restore": 75, "episode_reward_max": 1465.1747765272025, "node_ip": "10.138.0.2", "timestamp": 1556578527, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 109812, "time_this_iter_s": 39.39482617378235, "training_iteration": 75, "time_since_restore": 3068.727614879608, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 679.4226762579501, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378470>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33780b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378b38>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 8740166, "grad_time_ms": 23407.444, "load_time_ms": 23.893, "update_time_ms": 11.245, "default": {"entropy": 1.595877766609192, "cur_kl_coeff": 0.5062499046325684, "total_loss": 41.2471923828125, "kl": 0.014990858733654022, "vf_explained_var": 0.7646220326423645, "vf_loss": 41.254154205322266, "policy_loss": -0.014549031853675842, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 8740166, "sample_time_ms": 15376.7}, "timesteps_since_restore": 8740166, "date": "2019-04-29_22-56-06", "timesteps_total": 8740166, "episodes_this_iter": 58, "episodes_total": 4251, "hostname": "flow-main", "time_total_s": 3107.627992630005, "custom_metrics": {"cost2_min": -145.72852850101071, "system_level_velocity_mean": 13.177295353192008, "outflow_rate_max": 1104.446183515442, "outflow_rate_min": 696.337425501154, "system_level_velocity_min": 8.70110099613422, "outflow_rate_mean": 945.4658044764527, "cost2_max": -27.515034055491668, "cost1_max": 422.7895276946138, "cost1_min": 228.83542878035493, "cost1_mean": 345.78303071910864, "system_level_velocity_max": 16.561678074185153, "cost2_mean": -72.72102274620156}, "episode_len_mean": 700.0, "episode_reward_mean": 1199.6317435746014, "pid": 366, "iterations_since_restore": 76, "episode_reward_max": 1418.390998621714, "node_ip": "10.138.0.2", "timestamp": 1556578566, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 111394, "time_this_iter_s": 38.90037775039673, "training_iteration": 76, "time_since_restore": 3107.627992630005, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 74.3080789207155, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33095f8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309b70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309f60>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 8849712, "grad_time_ms": 23568.214, "load_time_ms": 24.32, "update_time_ms": 11.208, "default": {"entropy": 1.6378616094589233, "cur_kl_coeff": 0.5062499046325684, "total_loss": 42.54901885986328, "kl": 0.015086413361132145, "vf_explained_var": 0.7561826109886169, "vf_loss": 42.556610107421875, "policy_loss": -0.015232199802994728, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 8849712, "sample_time_ms": 15270.7}, "timesteps_since_restore": 8849712, "date": "2019-04-29_22-56-46", "timesteps_total": 8849712, "episodes_this_iter": 64, "episodes_total": 4315, "hostname": "flow-main", "time_total_s": 3147.4404056072235, "custom_metrics": {"cost2_min": -145.72852850101071, "system_level_velocity_mean": 13.0961571718677, "outflow_rate_max": 1139.4313598616445, "outflow_rate_min": 513.4756903824879, "system_level_velocity_min": 8.70110099613422, "outflow_rate_mean": 924.131417781564, "cost2_max": -16.809775301574184, "cost1_max": 437.6256368541233, "cost1_min": 27.321395447136336, "cost1_mean": 338.8955026715766, "system_level_velocity_max": 18.249540632440382, "cost2_mean": -72.16803550517885}, "episode_len_mean": 693.42, "episode_reward_mean": 1166.043053750558, "pid": 366, "iterations_since_restore": 77, "episode_reward_max": 1418.390998621714, "node_ip": "10.138.0.2", "timestamp": 1556578606, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 109546, "time_this_iter_s": 39.81241297721863, "training_iteration": 77, "time_since_restore": 3147.4404056072235, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 758.5608289694769, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378c18>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33783c8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33784a8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 8958846, "grad_time_ms": 23731.373, "load_time_ms": 24.105, "update_time_ms": 11.27, "default": {"entropy": 1.6229312419891357, "cur_kl_coeff": 0.5062499642372131, "total_loss": 41.26392364501953, "kl": 0.014497918076813221, "vf_explained_var": 0.7151864767074585, "vf_loss": 41.27130889892578, "policy_loss": -0.014729092828929424, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 8958846, "sample_time_ms": 15197.707}, "timesteps_since_restore": 8958846, "date": "2019-04-29_22-57-25", "timesteps_total": 8958846, "episodes_this_iter": 61, "episodes_total": 4376, "hostname": "flow-main", "time_total_s": 3186.8772644996643, "custom_metrics": {"cost2_min": -141.08364020332488, "system_level_velocity_mean": 13.091011708384274, "outflow_rate_max": 1082.5258500493337, "outflow_rate_min": 678.8337259481377, "system_level_velocity_min": 8.747020066417665, "outflow_rate_mean": 908.8693712950409, "cost2_max": -23.235494408367124, "cost1_max": 415.3495958072086, "cost1_min": 228.61127946160397, "cost1_mean": 342.8200724123597, "system_level_velocity_max": 15.933018429206255, "cost2_mean": -67.4411113096193}, "episode_len_mean": 700.0, "episode_reward_mean": 1147.3889935210186, "pid": 366, "iterations_since_restore": 78, "episode_reward_max": 1409.0279769801416, "node_ip": "10.138.0.2", "timestamp": 1556578645, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 109134, "time_this_iter_s": 39.436858892440796, "training_iteration": 78, "time_since_restore": 3186.8772644996643, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 800.3895694447, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309780>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309c50>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309d68>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 9068663, "grad_time_ms": 23561.439, "load_time_ms": 23.255, "update_time_ms": 11.167, "default": {"entropy": 1.6141598224639893, "cur_kl_coeff": 0.5062499642372131, "total_loss": 41.34782409667969, "kl": 0.01469608023762703, "vf_explained_var": 0.7228893041610718, "vf_loss": 41.3552131652832, "policy_loss": -0.014833603985607624, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 9068663, "sample_time_ms": 15188.827}, "timesteps_since_restore": 9068663, "date": "2019-04-29_22-58-03", "timesteps_total": 9068663, "episodes_this_iter": 59, "episodes_total": 4435, "hostname": "flow-main", "time_total_s": 3225.2046229839325, "custom_metrics": {"cost2_min": -141.08364020332488, "system_level_velocity_mean": 13.235470587654149, "outflow_rate_max": 1105.401518489008, "outflow_rate_min": 724.6805590186484, "system_level_velocity_min": 9.094907869537654, "outflow_rate_mean": 922.0127887173638, "cost2_max": -25.594296482134528, "cost1_max": 425.9827417382668, "cost1_min": 230.62602879252094, "cost1_mean": 346.6723399241326, "system_level_velocity_max": 16.341089963819442, "cost2_mean": -67.21577505260854}, "episode_len_mean": 700.0, "episode_reward_mean": 1164.7946376178659, "pid": 366, "iterations_since_restore": 79, "episode_reward_max": 1450.873913018503, "node_ip": "10.138.0.2", "timestamp": 1556578683, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 109817, "time_this_iter_s": 38.32735848426819, "training_iteration": 79, "time_since_restore": 3225.2046229839325, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 865.5192866930125, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33787b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378320>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378470>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 9178484, "grad_time_ms": 23522.112, "load_time_ms": 22.079, "update_time_ms": 11.14, "default": {"entropy": 1.6261131763458252, "cur_kl_coeff": 0.5062499642372131, "total_loss": 41.16387176513672, "kl": 0.015081274323165417, "vf_explained_var": 0.7489930391311646, "vf_loss": 41.1721305847168, "policy_loss": -0.015898874029517174, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 9178484, "sample_time_ms": 15182.571}, "timesteps_since_restore": 9178484, "date": "2019-04-29_22-58-42", "timesteps_total": 9178484, "episodes_this_iter": 61, "episodes_total": 4496, "hostname": "flow-main", "time_total_s": 3263.9479093551636, "custom_metrics": {"cost2_min": -139.0091587039733, "system_level_velocity_mean": 13.151766085633971, "outflow_rate_max": 1174.4789840039527, "outflow_rate_min": 702.0291402162211, "system_level_velocity_min": 9.094907869537654, "outflow_rate_mean": 931.3140905708591, "cost2_max": -23.58043917737057, "cost1_max": 426.5749562352663, "cost1_min": 239.27678301899684, "cost1_mean": 344.68207261556205, "system_level_velocity_max": 16.44605109498402, "cost2_mean": -71.38830309968192}, "episode_len_mean": 700.0, "episode_reward_mean": 1182.3301862237945, "pid": 366, "iterations_since_restore": 80, "episode_reward_max": 1450.873913018503, "node_ip": "10.138.0.2", "timestamp": 1556578722, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 109821, "time_this_iter_s": 38.74328637123108, "training_iteration": 80, "time_since_restore": 3263.9479093551636, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 840.1399081054982, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373080>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309e48>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33092e8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 9289731, "grad_time_ms": 23452.899, "load_time_ms": 21.046, "update_time_ms": 11.547, "default": {"entropy": 1.6277129650115967, "cur_kl_coeff": 0.5062499642372131, "total_loss": 44.436466217041016, "kl": 0.014988592825829983, "vf_explained_var": 0.7091655731201172, "vf_loss": 44.444950103759766, "policy_loss": -0.016069086268544197, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 9289731, "sample_time_ms": 15206.045}, "timesteps_since_restore": 9289731, "date": "2019-04-29_22-59-21", "timesteps_total": 9289731, "episodes_this_iter": 59, "episodes_total": 4555, "hostname": "flow-main", "time_total_s": 3302.53849196434, "custom_metrics": {"cost2_min": -161.42220133641536, "system_level_velocity_mean": 13.240389373578727, "outflow_rate_max": 1174.4789840039527, "outflow_rate_min": 702.0291402162211, "system_level_velocity_min": 9.241809662732333, "outflow_rate_mean": 940.5193837906509, "cost2_max": -23.58043917737057, "cost1_max": 417.17566165776486, "cost1_min": 241.68810976569765, "cost1_mean": 347.78920155150786, "system_level_velocity_max": 15.814035872405142, "cost2_mean": -73.82063306920399}, "episode_len_mean": 700.0, "episode_reward_mean": 1186.072791549343, "pid": 366, "iterations_since_restore": 81, "episode_reward_max": 1462.268819555442, "node_ip": "10.138.0.2", "timestamp": 1556578761, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 111247, "time_this_iter_s": 38.590582609176636, "training_iteration": 81, "time_since_restore": 3302.53849196434, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 840.1399081054982, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33789b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378e80>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378b38>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 9399443, "grad_time_ms": 23342.475, "load_time_ms": 21.482, "update_time_ms": 11.471, "default": {"entropy": 1.6492595672607422, "cur_kl_coeff": 0.5062499642372131, "total_loss": 41.795291900634766, "kl": 0.01515258476138115, "vf_explained_var": 0.7433490753173828, "vf_loss": 41.803794860839844, "policy_loss": -0.01617291569709778, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 9399443, "sample_time_ms": 15243.103}, "timesteps_since_restore": 9399443, "date": "2019-04-29_22-59-59", "timesteps_total": 9399443, "episodes_this_iter": 62, "episodes_total": 4617, "hostname": "flow-main", "time_total_s": 3340.268827676773, "custom_metrics": {"cost2_min": -161.42220133641536, "system_level_velocity_mean": 12.898865973926789, "outflow_rate_max": 1140.265087201657, "outflow_rate_min": 706.5370053108151, "system_level_velocity_min": 8.95611709036758, "outflow_rate_mean": 937.7979586210271, "cost2_max": -26.93511023980195, "cost1_max": 434.7135357498555, "cost1_min": 233.19757480942886, "cost1_mean": 339.12281672282, "system_level_velocity_max": 16.794734057180357, "cost2_mean": -77.05813264863492}, "episode_len_mean": 700.0, "episode_reward_mean": 1189.7207453600388, "pid": 366, "iterations_since_restore": 82, "episode_reward_max": 1464.0284162664764, "node_ip": "10.138.0.2", "timestamp": 1556578799, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 109712, "time_this_iter_s": 37.73033571243286, "training_iteration": 82, "time_since_restore": 3340.268827676773, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 74.09607231570243, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373860>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373c50>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33734a8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 9510221, "grad_time_ms": 23380.061, "load_time_ms": 21.539, "update_time_ms": 11.42, "default": {"entropy": 1.6302158832550049, "cur_kl_coeff": 0.5062499046325684, "total_loss": 40.17247009277344, "kl": 0.015093127265572548, "vf_explained_var": 0.7309165000915527, "vf_loss": 40.18132781982422, "policy_loss": -0.01649094745516777, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 9510221, "sample_time_ms": 15275.16}, "timesteps_since_restore": 9510221, "date": "2019-04-29_23-00-39", "timesteps_total": 9510221, "episodes_this_iter": 61, "episodes_total": 4678, "hostname": "flow-main", "time_total_s": 3380.512996673584, "custom_metrics": {"cost2_min": -161.03656239701095, "system_level_velocity_mean": 13.160277102302569, "outflow_rate_max": 1143.053120791329, "outflow_rate_min": 517.5157583737875, "system_level_velocity_min": 8.95611709036758, "outflow_rate_mean": 932.5157384402813, "cost2_max": -18.75989182062161, "cost1_max": 417.5649563109067, "cost1_min": 28.154504499059794, "cost1_mean": 341.5600927375273, "system_level_velocity_max": 19.0623973140863, "cost2_mean": -72.03363750322484}, "episode_len_mean": 693.42, "episode_reward_mean": 1169.3131559490757, "pid": 366, "iterations_since_restore": 83, "episode_reward_max": 1512.316295061504, "node_ip": "10.138.0.2", "timestamp": 1556578839, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 110778, "time_this_iter_s": 40.24416899681091, "training_iteration": 83, "time_since_restore": 3380.512996673584, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 74.09607231570243, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378240>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33787b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33787f0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 9619102, "grad_time_ms": 23454.361, "load_time_ms": 21.759, "update_time_ms": 11.541, "default": {"entropy": 1.6586416959762573, "cur_kl_coeff": 0.5062499046325684, "total_loss": 41.15483856201172, "kl": 0.01426465343683958, "vf_explained_var": 0.7379680871963501, "vf_loss": 41.16310119628906, "policy_loss": -0.015485754236578941, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 9619102, "sample_time_ms": 15250.287}, "timesteps_since_restore": 9619102, "date": "2019-04-29_23-01-17", "timesteps_total": 9619102, "episodes_this_iter": 60, "episodes_total": 4738, "hostname": "flow-main", "time_total_s": 3418.86709523201, "custom_metrics": {"cost2_min": -142.78136293402872, "system_level_velocity_mean": 13.216458589975955, "outflow_rate_max": 1143.053120791329, "outflow_rate_min": 517.5157583737875, "system_level_velocity_min": 9.085019231832554, "outflow_rate_mean": 938.8991744143912, "cost2_max": -18.75989182062161, "cost1_max": 429.9862646029643, "cost1_min": 28.154504499059794, "cost1_mean": 343.1499272618549, "system_level_velocity_max": 19.0623973140863, "cost2_mean": -74.67982662459752}, "episode_len_mean": 693.42, "episode_reward_mean": 1195.037340575436, "pid": 366, "iterations_since_restore": 84, "episode_reward_max": 1512.316295061504, "node_ip": "10.138.0.2", "timestamp": 1556578877, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 108881, "time_this_iter_s": 38.3540985584259, "training_iteration": 84, "time_since_restore": 3418.86709523201, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 35.206279730979766, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378128>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3356b70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3356940>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 9729931, "grad_time_ms": 23478.382, "load_time_ms": 21.588, "update_time_ms": 11.719, "default": {"entropy": 1.6545881032943726, "cur_kl_coeff": 0.5062499046325684, "total_loss": 43.000579833984375, "kl": 0.014930641278624535, "vf_explained_var": 0.687556803226471, "vf_loss": 43.008949279785156, "policy_loss": -0.015927767381072044, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 9729931, "sample_time_ms": 15222.416}, "timesteps_since_restore": 9729931, "date": "2019-04-29_23-01-57", "timesteps_total": 9729931, "episodes_this_iter": 61, "episodes_total": 4799, "hostname": "flow-main", "time_total_s": 3458.235140800476, "custom_metrics": {"cost2_min": -142.78136293402872, "system_level_velocity_mean": 13.326096968023089, "outflow_rate_max": 1138.4359959947099, "outflow_rate_min": 478.74083587680656, "system_level_velocity_min": 8.419452439900796, "outflow_rate_mean": 907.9189260770224, "cost2_max": -15.35080770227346, "cost1_max": 441.2896259520214, "cost1_min": 15.181244020573741, "cost1_mean": 344.9188669709549, "system_level_velocity_max": 17.940249027083343, "cost2_mean": -64.36325049680794}, "episode_len_mean": 693.23, "episode_reward_mean": 1140.213497491684, "pid": 366, "iterations_since_restore": 85, "episode_reward_max": 1502.4470212149677, "node_ip": "10.138.0.2", "timestamp": 1556578917, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 110829, "time_this_iter_s": 39.36804556846619, "training_iteration": 85, "time_since_restore": 3458.235140800476, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 70.87480769856695, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378f98>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33789b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378470>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 9841845, "grad_time_ms": 23526.63, "load_time_ms": 21.515, "update_time_ms": 11.894, "default": {"entropy": 1.6657154560089111, "cur_kl_coeff": 0.5062499642372131, "total_loss": 38.83204650878906, "kl": 0.014405988156795502, "vf_explained_var": 0.7336246967315674, "vf_loss": 38.84041976928711, "policy_loss": -0.015670597553253174, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 9841845, "sample_time_ms": 15254.643}, "timesteps_since_restore": 9841845, "date": "2019-04-29_23-02-37", "timesteps_total": 9841845, "episodes_this_iter": 62, "episodes_total": 4861, "hostname": "flow-main", "time_total_s": 3497.9455742836, "custom_metrics": {"cost2_min": -136.36551343146073, "system_level_velocity_mean": 13.169063767300749, "outflow_rate_max": 1118.266433117986, "outflow_rate_min": 545.8752875338324, "system_level_velocity_min": 9.32699005619702, "outflow_rate_mean": 921.5545397460887, "cost2_max": -21.444659431483554, "cost1_max": 422.1962035177631, "cost1_min": 30.124561573826, "cost1_mean": 340.37021942170685, "system_level_velocity_max": 18.71985132322046, "cost2_mean": -70.90038354820632}, "episode_len_mean": 693.46, "episode_reward_mean": 1156.6039109286132, "pid": 366, "iterations_since_restore": 86, "episode_reward_max": 1417.7177605822549, "node_ip": "10.138.0.2", "timestamp": 1556578957, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 111914, "time_this_iter_s": 39.71043348312378, "training_iteration": 86, "time_since_restore": 3497.9455742836, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 805.552684418424, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378278>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309748>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309908>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 9950896, "grad_time_ms": 23516.882, "load_time_ms": 21.212, "update_time_ms": 11.81, "default": {"entropy": 1.662186861038208, "cur_kl_coeff": 0.5062499642372131, "total_loss": 39.32810974121094, "kl": 0.015244192443788052, "vf_explained_var": 0.718672513961792, "vf_loss": 39.33637237548828, "policy_loss": -0.015978101640939713, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 9950896, "sample_time_ms": 15187.846}, "timesteps_since_restore": 9950896, "date": "2019-04-29_23-03-16", "timesteps_total": 9950896, "episodes_this_iter": 58, "episodes_total": 4919, "hostname": "flow-main", "time_total_s": 3536.9674201011658, "custom_metrics": {"cost2_min": -149.8421782800258, "system_level_velocity_mean": 12.683093144601376, "outflow_rate_max": 1097.9540060877753, "outflow_rate_min": 708.5953415698177, "system_level_velocity_min": 8.608482323719134, "outflow_rate_mean": 919.5946050111555, "cost2_max": -26.31407862525242, "cost1_max": 419.37969825200616, "cost1_min": 227.81474933022417, "cost1_mean": 332.3270220834004, "system_level_velocity_max": 16.148069196367622, "cost2_mean": -75.97649644473637}, "episode_len_mean": 700.0, "episode_reward_mean": 1169.3833637023718, "pid": 366, "iterations_since_restore": 87, "episode_reward_max": 1414.1411511212507, "node_ip": "10.138.0.2", "timestamp": 1556578996, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 109051, "time_this_iter_s": 39.02184581756592, "training_iteration": 87, "time_since_restore": 3536.9674201011658, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 866.2880073301343, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33782e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378e48>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378080>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 10060812, "grad_time_ms": 23539.855, "load_time_ms": 20.365, "update_time_ms": 11.93, "default": {"entropy": 1.6609830856323242, "cur_kl_coeff": 0.5062499642372131, "total_loss": 40.65302658081055, "kl": 0.014875459484755993, "vf_explained_var": 0.7150036692619324, "vf_loss": 40.66222381591797, "policy_loss": -0.016722319647669792, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 10060812, "sample_time_ms": 15191.619}, "timesteps_since_restore": 10060812, "date": "2019-04-29_23-03-55", "timesteps_total": 10060812, "episodes_this_iter": 62, "episodes_total": 4981, "hostname": "flow-main", "time_total_s": 3576.6694819927216, "custom_metrics": {"cost2_min": -149.8421782800258, "system_level_velocity_mean": 13.026956513376392, "outflow_rate_max": 1158.182106932683, "outflow_rate_min": 702.1512989744333, "system_level_velocity_min": 8.608482323719134, "outflow_rate_mean": 925.5567391183248, "cost2_max": -24.887085731221678, "cost1_max": 456.07898336600476, "cost1_min": 227.81474933022417, "cost1_mean": 342.06973519566907, "system_level_velocity_max": 17.952713156933445, "cost2_mean": -71.5475623886589}, "episode_len_mean": 700.0, "episode_reward_mean": 1183.3209680832842, "pid": 366, "iterations_since_restore": 88, "episode_reward_max": 1426.93188512173, "node_ip": "10.138.0.2", "timestamp": 1556579035, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 109916, "time_this_iter_s": 39.702061891555786, "training_iteration": 88, "time_since_restore": 3576.6694819927216, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 866.2880073301343, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309748>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309da0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309470>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 10168900, "grad_time_ms": 23732.199, "load_time_ms": 21.258, "update_time_ms": 11.954, "default": {"entropy": 1.664263129234314, "cur_kl_coeff": 0.5062499642372131, "total_loss": 44.77775955200195, "kl": 0.01502115000039339, "vf_explained_var": 0.6868403553962708, "vf_loss": 44.78647994995117, "policy_loss": -0.016324184834957123, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 10168900, "sample_time_ms": 15175.563}, "timesteps_since_restore": 10168900, "date": "2019-04-29_23-04-36", "timesteps_total": 10168900, "episodes_this_iter": 62, "episodes_total": 5043, "hostname": "flow-main", "time_total_s": 3616.7654707431793, "custom_metrics": {"cost2_min": -124.82920689879631, "system_level_velocity_mean": 13.210709899135743, "outflow_rate_max": 1158.182106932683, "outflow_rate_min": 702.1512989744333, "system_level_velocity_min": 7.670109133465041, "outflow_rate_mean": 919.4079459924629, "cost2_max": -24.887085731221678, "cost1_max": 456.07898336600476, "cost1_min": 196.2314354102749, "cost1_mean": 346.08313833672975, "system_level_velocity_max": 17.952713156933445, "cost2_mean": -67.14255830366469}, "episode_len_mean": 700.0, "episode_reward_mean": 1170.4645093739261, "pid": 366, "iterations_since_restore": 89, "episode_reward_max": 1426.93188512173, "node_ip": "10.138.0.2", "timestamp": 1556579076, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 108088, "time_this_iter_s": 40.095988750457764, "training_iteration": 89, "time_since_restore": 3616.7654707431793, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 834.3414054641376, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378c18>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33780f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378438>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 10276084, "grad_time_ms": 23704.628, "load_time_ms": 22.016, "update_time_ms": 11.983, "default": {"entropy": 1.6870810985565186, "cur_kl_coeff": 0.5062499642372131, "total_loss": 43.645057678222656, "kl": 0.014532663859426975, "vf_explained_var": 0.6875567436218262, "vf_loss": 43.65260696411133, "policy_loss": -0.014905293472111225, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 10276084, "sample_time_ms": 15127.457}, "timesteps_since_restore": 10276084, "date": "2019-04-29_23-05-14", "timesteps_total": 10276084, "episodes_this_iter": 62, "episodes_total": 5105, "hostname": "flow-main", "time_total_s": 3654.7564487457275, "custom_metrics": {"cost2_min": -143.54552676672182, "system_level_velocity_mean": 13.280395711547483, "outflow_rate_max": 1118.9639150130035, "outflow_rate_min": 691.4405491774725, "system_level_velocity_min": 9.186040784940527, "outflow_rate_mean": 909.2019814798997, "cost2_max": -27.958719141134225, "cost1_max": 441.25758243763556, "cost1_min": 240.80058686599332, "cost1_mean": 347.79507078635083, "system_level_velocity_max": 16.8769129355914, "cost2_mean": -63.48648001865081}, "episode_len_mean": 700.0, "episode_reward_mean": 1144.7485729234559, "pid": 366, "iterations_since_restore": 90, "episode_reward_max": 1478.011713869348, "node_ip": "10.138.0.2", "timestamp": 1556579114, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 107184, "time_this_iter_s": 37.99097800254822, "training_iteration": 90, "time_since_restore": 3654.7564487457275, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 802.0134177578095, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33095c0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309748>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33092e8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 10384895, "grad_time_ms": 23805.865, "load_time_ms": 22.839, "update_time_ms": 11.903, "default": {"entropy": 1.6868962049484253, "cur_kl_coeff": 0.5062499046325684, "total_loss": 39.079429626464844, "kl": 0.014365685172379017, "vf_explained_var": 0.7037518620491028, "vf_loss": 39.08717727661133, "policy_loss": -0.015019986778497696, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 10384895, "sample_time_ms": 15169.548}, "timesteps_since_restore": 10384895, "date": "2019-04-29_23-05-54", "timesteps_total": 10384895, "episodes_this_iter": 60, "episodes_total": 5165, "hostname": "flow-main", "time_total_s": 3694.7968797683716, "custom_metrics": {"cost2_min": -144.18850332138868, "system_level_velocity_mean": 13.3436469376289, "outflow_rate_max": 1116.6473611810356, "outflow_rate_min": 691.4405491774725, "system_level_velocity_min": 8.727782764404948, "outflow_rate_mean": 911.0213906490932, "cost2_max": -27.44502794769887, "cost1_max": 439.10322398403446, "cost1_min": 226.68622243578292, "cost1_mean": 349.0610250331593, "system_level_velocity_max": 17.191035807056426, "cost2_mean": -64.35007249983441}, "episode_len_mean": 700.0, "episode_reward_mean": 1133.774821029848, "pid": 366, "iterations_since_restore": 91, "episode_reward_max": 1424.7047234927045, "node_ip": "10.138.0.2", "timestamp": 1556579154, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 108811, "time_this_iter_s": 40.04043102264404, "training_iteration": 91, "time_since_restore": 3694.7968797683716, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 60.66796986582489, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373eb8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373668>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373828>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 10492722, "grad_time_ms": 23945.359, "load_time_ms": 22.861, "update_time_ms": 12.253, "default": {"entropy": 1.7033114433288574, "cur_kl_coeff": 0.5062499642372131, "total_loss": 41.080806732177734, "kl": 0.014084386639297009, "vf_explained_var": 0.6985247731208801, "vf_loss": 41.08743667602539, "policy_loss": -0.013761713169515133, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 10492722, "sample_time_ms": 15223.81}, "timesteps_since_restore": 10492722, "date": "2019-04-29_23-06-34", "timesteps_total": 10492722, "episodes_this_iter": 62, "episodes_total": 5227, "hostname": "flow-main", "time_total_s": 3734.4703180789948, "custom_metrics": {"cost2_min": -131.78499372048745, "system_level_velocity_mean": 13.45427357514209, "outflow_rate_max": 1123.1544829113307, "outflow_rate_min": 498.5745932701787, "system_level_velocity_min": 9.06796311895276, "outflow_rate_mean": 915.2890621124715, "cost2_max": -19.16826025741145, "cost1_max": 439.10322398403446, "cost1_min": 23.61291433861071, "cost1_mean": 347.2164736958722, "system_level_velocity_max": 18.103735340130786, "cost2_mean": -63.38053015417219}, "episode_len_mean": 693.35, "episode_reward_mean": 1124.781876721073, "pid": 366, "iterations_since_restore": 92, "episode_reward_max": 1424.434977678733, "node_ip": "10.138.0.2", "timestamp": 1556579194, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 107827, "time_this_iter_s": 39.67343831062317, "training_iteration": 92, "time_since_restore": 3734.4703180789948, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 666.9154464652836, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309c50>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309cf8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 10599289, "grad_time_ms": 23850.423, "load_time_ms": 22.456, "update_time_ms": 12.306, "default": {"entropy": 1.7070693969726562, "cur_kl_coeff": 0.5062499642372131, "total_loss": 41.202354431152344, "kl": 0.014765104278922081, "vf_explained_var": 0.6790399551391602, "vf_loss": 41.21078872680664, "policy_loss": -0.01591131091117859, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 10599289, "sample_time_ms": 15092.248}, "timesteps_since_restore": 10599289, "date": "2019-04-29_23-07-12", "timesteps_total": 10599289, "episodes_this_iter": 65, "episodes_total": 5292, "hostname": "flow-main", "time_total_s": 3772.4300611019135, "custom_metrics": {"cost2_min": -132.35590010742908, "system_level_velocity_mean": 13.520057105006623, "outflow_rate_max": 1123.1544829113307, "outflow_rate_min": 691.7927821824809, "system_level_velocity_min": 7.83226130385917, "outflow_rate_mean": 899.4687289975442, "cost2_max": -24.815937737303837, "cost1_max": 432.01719334386104, "cost1_min": 200.21803827729332, "cost1_mean": 350.83354597653454, "system_level_velocity_max": 16.88662916711293, "cost2_mean": -57.88665981450332}, "episode_len_mean": 697.52, "episode_reward_mean": 1091.76340762616, "pid": 366, "iterations_since_restore": 93, "episode_reward_max": 1372.4919844050642, "node_ip": "10.138.0.2", "timestamp": 1556579232, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 106567, "time_this_iter_s": 37.9597430229187, "training_iteration": 93, "time_since_restore": 3772.4300611019135, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 58.50282106560698, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373898>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373860>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373c18>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 10706484, "grad_time_ms": 23915.227, "load_time_ms": 22.691, "update_time_ms": 12.232, "default": {"entropy": 1.697527289390564, "cur_kl_coeff": 0.5062499642372131, "total_loss": 39.750205993652344, "kl": 0.014695316553115845, "vf_explained_var": 0.6945239305496216, "vf_loss": 39.75847625732422, "policy_loss": -0.015708358958363533, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 10706484, "sample_time_ms": 15102.614}, "timesteps_since_restore": 10706484, "date": "2019-04-29_23-07-51", "timesteps_total": 10706484, "episodes_this_iter": 66, "episodes_total": 5358, "hostname": "flow-main", "time_total_s": 3811.567744731903, "custom_metrics": {"cost2_min": -134.74251675772734, "system_level_velocity_mean": 13.842402175845528, "outflow_rate_max": 1128.6171510469658, "outflow_rate_min": 502.19002279286616, "system_level_velocity_min": 7.83226130385917, "outflow_rate_mean": 898.958851765068, "cost2_max": -16.173635108271085, "cost1_max": 447.0627328006219, "cost1_min": 21.490104042840503, "cost1_mean": 354.3938439711565, "system_level_velocity_max": 18.800008821599633, "cost2_mean": -57.35782291203246}, "episode_len_mean": 690.85, "episode_reward_mean": 1082.3250444556463, "pid": 366, "iterations_since_restore": 94, "episode_reward_max": 1390.7340749897105, "node_ip": "10.138.0.2", "timestamp": 1556579271, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 107195, "time_this_iter_s": 39.137683629989624, "training_iteration": 94, "time_since_restore": 3811.567744731903, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 58.50282106560698, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33094e0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309e48>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33095c0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 10814479, "grad_time_ms": 23844.946, "load_time_ms": 22.539, "update_time_ms": 12.256, "default": {"entropy": 1.7003058195114136, "cur_kl_coeff": 0.5062499046325684, "total_loss": 45.222900390625, "kl": 0.015017109923064709, "vf_explained_var": 0.6863815188407898, "vf_loss": 45.23142623901367, "policy_loss": -0.016131212934851646, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 10814479, "sample_time_ms": 15148.67}, "timesteps_since_restore": 10814479, "date": "2019-04-29_23-08-30", "timesteps_total": 10814479, "episodes_this_iter": 67, "episodes_total": 5425, "hostname": "flow-main", "time_total_s": 3850.6654756069183, "custom_metrics": {"cost2_min": -128.27841215236108, "system_level_velocity_mean": 13.879726191872576, "outflow_rate_max": 1201.796945980386, "outflow_rate_min": 502.19002279286616, "system_level_velocity_min": 8.554621436851924, "outflow_rate_mean": 918.1588126846276, "cost2_max": -16.173635108271085, "cost1_max": 463.0452594237708, "cost1_min": 21.490104042840503, "cost1_mean": 357.02360871133993, "system_level_velocity_max": 18.800008821599633, "cost2_mean": -58.97233005723761}, "episode_len_mean": 693.33, "episode_reward_mean": 1116.6326492379962, "pid": 366, "iterations_since_restore": 95, "episode_reward_max": 1458.7026901680256, "node_ip": "10.138.0.2", "timestamp": 1556579310, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 107995, "time_this_iter_s": 39.09773087501526, "training_iteration": 95, "time_since_restore": 3850.6654756069183, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 58.2448884219489, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378e80>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378f28>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33096a0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 10923023, "grad_time_ms": 23836.189, "load_time_ms": 22.58, "update_time_ms": 12.093, "default": {"entropy": 1.7015173435211182, "cur_kl_coeff": 0.5062499642372131, "total_loss": 44.507110595703125, "kl": 0.015273005701601505, "vf_explained_var": 0.7235973477363586, "vf_loss": 44.5160026550293, "policy_loss": -0.016616977751255035, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 10923023, "sample_time_ms": 15179.144}, "timesteps_since_restore": 10923023, "date": "2019-04-29_23-09-10", "timesteps_total": 10923023, "episodes_this_iter": 61, "episodes_total": 5486, "hostname": "flow-main", "time_total_s": 3890.6015605926514, "custom_metrics": {"cost2_min": -127.90557260861087, "system_level_velocity_mean": 13.464115239612676, "outflow_rate_max": 1201.796945980386, "outflow_rate_min": 507.9240826301831, "system_level_velocity_min": 8.554621436851924, "outflow_rate_mean": 909.4763807028243, "cost2_max": -19.234179312171115, "cost1_max": 463.0452594237708, "cost1_min": 23.549811545704667, "cost1_mean": 346.46517916176964, "system_level_velocity_max": 18.18963120113924, "cost2_mean": -61.607711383678655}, "episode_len_mean": 693.35, "episode_reward_mean": 1119.6348158264238, "pid": 366, "iterations_since_restore": 96, "episode_reward_max": 1458.7026901680256, "node_ip": "10.138.0.2", "timestamp": 1556579350, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 108544, "time_this_iter_s": 39.93608498573303, "training_iteration": 96, "time_since_restore": 3890.6015605926514, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 891.5913901488193, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309748>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309d68>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309668>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 11031643, "grad_time_ms": 23753.811, "load_time_ms": 20.887, "update_time_ms": 12.049, "default": {"entropy": 1.6995820999145508, "cur_kl_coeff": 0.5062499642372131, "total_loss": 43.93708038330078, "kl": 0.014987295493483543, "vf_explained_var": 0.706524133682251, "vf_loss": 43.94636154174805, "policy_loss": -0.016874169930815697, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 11031643, "sample_time_ms": 15223.743}, "timesteps_since_restore": 11031643, "date": "2019-04-29_23-09-49", "timesteps_total": 11031643, "episodes_this_iter": 68, "episodes_total": 5554, "hostname": "flow-main", "time_total_s": 3929.2337517738342, "custom_metrics": {"cost2_min": -132.1861495781427, "system_level_velocity_mean": 13.579334001374354, "outflow_rate_max": 1071.425774145791, "outflow_rate_min": 726.1469371464187, "system_level_velocity_min": 8.925822748711019, "outflow_rate_mean": 924.1403243290508, "cost2_max": -22.12766498431489, "cost1_max": 427.17308178185004, "cost1_min": 235.3492471162758, "cost1_mean": 354.6876321817484, "system_level_velocity_max": 16.475381216885527, "cost2_mean": -61.36494309818204}, "episode_len_mean": 700.0, "episode_reward_mean": 1143.8686052829223, "pid": 366, "iterations_since_restore": 97, "episode_reward_max": 1388.3502191632208, "node_ip": "10.138.0.2", "timestamp": 1556579389, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 108620, "time_this_iter_s": 38.63219118118286, "training_iteration": 97, "time_since_restore": 3929.2337517738342, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 60.58181032748548, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378e80>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33786a0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378b70>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 11139556, "grad_time_ms": 23493.309, "load_time_ms": 20.614, "update_time_ms": 12.088, "default": {"entropy": 1.7017298936843872, "cur_kl_coeff": 0.5062499046325684, "total_loss": 45.94387435913086, "kl": 0.014854498207569122, "vf_explained_var": 0.6791595220565796, "vf_loss": 45.95198440551758, "policy_loss": -0.01562752015888691, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 11139556, "sample_time_ms": 15213.521}, "timesteps_since_restore": 11139556, "date": "2019-04-29_23-10-26", "timesteps_total": 11139556, "episodes_this_iter": 61, "episodes_total": 5615, "hostname": "flow-main", "time_total_s": 3966.237688064575, "custom_metrics": {"cost2_min": -132.1861495781427, "system_level_velocity_mean": 13.362018309681078, "outflow_rate_max": 1105.325107830214, "outflow_rate_min": 520.3202974068441, "system_level_velocity_min": 9.327027027266523, "outflow_rate_mean": 922.6371767598896, "cost2_max": -15.230631908080202, "cost1_max": 435.2555245434275, "cost1_min": 22.977020655863306, "cost1_mean": 344.48092740162406, "system_level_velocity_max": 18.63920471065573, "cost2_mean": -64.78747704987708}, "episode_len_mean": 693.36, "episode_reward_mean": 1139.3666235880137, "pid": 366, "iterations_since_restore": 98, "episode_reward_max": 1444.6988877458834, "node_ip": "10.138.0.2", "timestamp": 1556579426, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 107913, "time_this_iter_s": 37.00393629074097, "training_iteration": 98, "time_since_restore": 3966.237688064575, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 855.7004514201226, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309ba8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309c88>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309668>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 11246666, "grad_time_ms": 23281.96, "load_time_ms": 19.595, "update_time_ms": 12.397, "default": {"entropy": 1.72031569480896, "cur_kl_coeff": 0.5062499046325684, "total_loss": 46.51178741455078, "kl": 0.014969303272664547, "vf_explained_var": 0.6654492020606995, "vf_loss": 46.52106857299805, "policy_loss": -0.016859296709299088, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 11246666, "sample_time_ms": 15249.698}, "timesteps_since_restore": 11246666, "date": "2019-04-29_23-11-04", "timesteps_total": 11246666, "episodes_this_iter": 63, "episodes_total": 5678, "hostname": "flow-main", "time_total_s": 4004.5836656093597, "custom_metrics": {"cost2_min": -123.33105331482099, "system_level_velocity_mean": 13.309915534352088, "outflow_rate_max": 1105.325107830214, "outflow_rate_min": 751.1315285319299, "system_level_velocity_min": 9.630127267677755, "outflow_rate_mean": 914.174597153133, "cost2_max": -21.391479306724115, "cost1_max": 421.2229492420306, "cost1_min": 250.96860475670215, "cost1_mean": 348.05062199242934, "system_level_velocity_max": 16.357811584017924, "cost2_mean": -62.912179368757755}, "episode_len_mean": 700.0, "episode_reward_mean": 1138.4134763734926, "pid": 366, "iterations_since_restore": 99, "episode_reward_max": 1419.1151378443958, "node_ip": "10.138.0.2", "timestamp": 1556579464, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 107110, "time_this_iter_s": 38.345977544784546, "training_iteration": 99, "time_since_restore": 4004.5836656093597, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 48.48629287793525, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33788d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378048>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378898>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 11353392, "grad_time_ms": 23337.998, "load_time_ms": 18.612, "update_time_ms": 12.382, "default": {"entropy": 1.7192351818084717, "cur_kl_coeff": 0.5062499642372131, "total_loss": 41.8015251159668, "kl": 0.014995957724750042, "vf_explained_var": 0.681367039680481, "vf_loss": 41.8100700378418, "policy_loss": -0.016134530305862427, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 11353392, "sample_time_ms": 15235.888}, "timesteps_since_restore": 11353392, "date": "2019-04-29_23-11-43", "timesteps_total": 11353392, "episodes_this_iter": 62, "episodes_total": 5740, "hostname": "flow-main", "time_total_s": 4042.998853445053, "custom_metrics": {"cost2_min": -138.67916125582576, "system_level_velocity_mean": 13.395646509388568, "outflow_rate_max": 1152.8464182906673, "outflow_rate_min": 484.8632761812495, "system_level_velocity_min": 9.311541427888463, "outflow_rate_mean": 900.6225571577329, "cost2_max": -20.042933018281467, "cost1_max": 420.52553218596, "cost1_min": 21.842184697353364, "cost1_mean": 345.301983338426, "system_level_velocity_max": 17.53848632564005, "cost2_mean": -60.99287852710194}, "episode_len_mean": 693.34, "episode_reward_mean": 1117.259426685938, "pid": 366, "iterations_since_restore": 100, "episode_reward_max": 1419.1151378443958, "node_ip": "10.138.0.2", "timestamp": 1556579503, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 106726, "time_this_iter_s": 38.41518783569336, "training_iteration": 100, "time_since_restore": 4042.998853445053, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 48.48629287793525, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373c18>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373eb8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373dd8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 11460720, "grad_time_ms": 23298.964, "load_time_ms": 18.247, "update_time_ms": 12.164, "default": {"entropy": 1.7106244564056396, "cur_kl_coeff": 0.5062499046325684, "total_loss": 45.52952194213867, "kl": 0.014731429517269135, "vf_explained_var": 0.6453326940536499, "vf_loss": 45.536712646484375, "policy_loss": -0.014651612378656864, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 11460720, "sample_time_ms": 15188.209}, "timesteps_since_restore": 11460720, "date": "2019-04-29_23-12-22", "timesteps_total": 11460720, "episodes_this_iter": 64, "episodes_total": 5804, "hostname": "flow-main", "time_total_s": 4082.142313718796, "custom_metrics": {"cost2_min": -129.64954515462193, "system_level_velocity_mean": 13.897642457570564, "outflow_rate_max": 1152.8464182906673, "outflow_rate_min": 484.8632761812495, "system_level_velocity_min": 9.335498733977415, "outflow_rate_mean": 909.5008772434749, "cost2_max": -20.042933018281467, "cost1_max": 441.6061592067426, "cost1_min": 21.842184697353364, "cost1_mean": 357.3836786885629, "system_level_velocity_max": 17.53848632564005, "cost2_mean": -55.94250288788739}, "episode_len_mean": 693.34, "episode_reward_mean": 1109.308440157578, "pid": 366, "iterations_since_restore": 101, "episode_reward_max": 1340.0019997092897, "node_ip": "10.138.0.2", "timestamp": 1556579542, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 107328, "time_this_iter_s": 39.143460273742676, "training_iteration": 101, "time_since_restore": 4082.142313718796, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 762.1071612107827, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309588>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33092b0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 11566735, "grad_time_ms": 23226.355, "load_time_ms": 17.227, "update_time_ms": 11.697, "default": {"entropy": 1.7241650819778442, "cur_kl_coeff": 0.5062499046325684, "total_loss": 43.87888717651367, "kl": 0.015029555186629295, "vf_explained_var": 0.6589376330375671, "vf_loss": 43.88785171508789, "policy_loss": -0.01657695136964321, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 11566735, "sample_time_ms": 15160.041}, "timesteps_since_restore": 11566735, "date": "2019-04-29_23-13-01", "timesteps_total": 11566735, "episodes_this_iter": 63, "episodes_total": 5867, "hostname": "flow-main", "time_total_s": 4120.809046506882, "custom_metrics": {"cost2_min": -125.20091801643332, "system_level_velocity_mean": 13.862033936460785, "outflow_rate_max": 1091.1317768991532, "outflow_rate_min": 722.9162749156584, "system_level_velocity_min": 9.335498733977415, "outflow_rate_mean": 904.469313548391, "cost2_max": -25.32016762978019, "cost1_max": 441.6061592067426, "cost1_min": 241.20477260206002, "cost1_mean": 360.26904040932146, "system_level_velocity_max": 17.020390631514495, "cost2_mean": -55.94275610620428}, "episode_len_mean": 700.0, "episode_reward_mean": 1111.272906966927, "pid": 366, "iterations_since_restore": 102, "episode_reward_max": 1373.0564498418757, "node_ip": "10.138.0.2", "timestamp": 1556579581, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 106015, "time_this_iter_s": 38.66673278808594, "training_iteration": 102, "time_since_restore": 4120.809046506882, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 762.1071612107827, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378240>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378a90>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378630>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 11673679, "grad_time_ms": 23195.879, "load_time_ms": 17.616, "update_time_ms": 11.611, "default": {"entropy": 1.7174187898635864, "cur_kl_coeff": 0.5062499046325684, "total_loss": 48.17318344116211, "kl": 0.01471511460840702, "vf_explained_var": 0.6263672113418579, "vf_loss": 48.18178176879883, "policy_loss": -0.01604604348540306, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 11673679, "sample_time_ms": 15259.601}, "timesteps_since_restore": 11673679, "date": "2019-04-29_23-13-39", "timesteps_total": 11673679, "episodes_this_iter": 68, "episodes_total": 5935, "hostname": "flow-main", "time_total_s": 4159.492470026016, "custom_metrics": {"cost2_min": -125.20091801643332, "system_level_velocity_mean": 13.93427883187095, "outflow_rate_max": 1133.61636528758, "outflow_rate_min": 710.3230397053668, "system_level_velocity_min": 10.189373980190636, "outflow_rate_mean": 910.6494106087296, "cost2_max": -26.436523628275573, "cost1_max": 423.50001644100956, "cost1_min": 259.16132350617306, "cost1_mean": 362.81652269285877, "system_level_velocity_max": 16.613012758510575, "cost2_mean": -57.08329775772158}, "episode_len_mean": 700.0, "episode_reward_mean": 1114.4539384028785, "pid": 366, "iterations_since_restore": 103, "episode_reward_max": 1466.5791986163183, "node_ip": "10.138.0.2", "timestamp": 1556579619, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 106944, "time_this_iter_s": 38.68342351913452, "training_iteration": 103, "time_since_restore": 4159.492470026016, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 763.9121348631161, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33092e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33098d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309048>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 11781642, "grad_time_ms": 22936.051, "load_time_ms": 17.344, "update_time_ms": 11.905, "default": {"entropy": 1.7275290489196777, "cur_kl_coeff": 0.5062499046325684, "total_loss": 45.19700241088867, "kl": 0.01501393597573042, "vf_explained_var": 0.7036902904510498, "vf_loss": 45.205387115478516, "policy_loss": -0.015981489792466164, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 11781642, "sample_time_ms": 15353.146}, "timesteps_since_restore": 11781642, "date": "2019-04-29_23-14-17", "timesteps_total": 11781642, "episodes_this_iter": 62, "episodes_total": 5997, "hostname": "flow-main", "time_total_s": 4196.929778337479, "custom_metrics": {"cost2_min": -121.23964748034169, "system_level_velocity_mean": 13.637240593952818, "outflow_rate_max": 1148.8526369764368, "outflow_rate_min": 710.3230397053668, "system_level_velocity_min": 8.824115684967413, "outflow_rate_mean": 911.5163369934072, "cost2_max": -24.15039508407273, "cost1_max": 439.7600956399119, "cost1_min": 223.50742188138636, "cost1_mean": 355.37635258103035, "system_level_velocity_max": 17.001968501950536, "cost2_mean": -61.265185860520454}, "episode_len_mean": 700.0, "episode_reward_mean": 1126.7735475224322, "pid": 366, "iterations_since_restore": 104, "episode_reward_max": 1492.894051437021, "node_ip": "10.138.0.2", "timestamp": 1556579657, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 107963, "time_this_iter_s": 37.4373083114624, "training_iteration": 104, "time_since_restore": 4196.929778337479, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 777.2581996622195, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373630>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309400>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33099e8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 11890016, "grad_time_ms": 22771.095, "load_time_ms": 16.438, "update_time_ms": 11.728, "default": {"entropy": 1.7449694871902466, "cur_kl_coeff": 0.5062499642372131, "total_loss": 43.45610809326172, "kl": 0.014834601432085037, "vf_explained_var": 0.7105873227119446, "vf_loss": 43.46408462524414, "policy_loss": -0.015494687482714653, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 11890016, "sample_time_ms": 15271.806}, "timesteps_since_restore": 11890016, "date": "2019-04-29_23-14-53", "timesteps_total": 11890016, "episodes_this_iter": 61, "episodes_total": 6058, "hostname": "flow-main", "time_total_s": 4233.583771467209, "custom_metrics": {"cost2_min": -123.34193960531752, "system_level_velocity_mean": 13.46681248948446, "outflow_rate_max": 1148.8526369764368, "outflow_rate_min": 722.8753146501199, "system_level_velocity_min": 8.494868603811229, "outflow_rate_mean": 901.3998144577304, "cost2_max": -24.15039508407273, "cost1_max": 448.0181421194811, "cost1_min": 214.7777249259259, "cost1_mean": 350.0963630662659, "system_level_velocity_max": 17.697418876065836, "cost2_mean": -59.00223290566539}, "episode_len_mean": 700.0, "episode_reward_mean": 1115.2342295390229, "pid": 366, "iterations_since_restore": 105, "episode_reward_max": 1492.894051437021, "node_ip": "10.138.0.2", "timestamp": 1556579693, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 108374, "time_this_iter_s": 36.653993129730225, "training_iteration": 105, "time_since_restore": 4233.583771467209, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 76.59848140366803, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309da0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33090f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309358>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 11996407, "grad_time_ms": 22587.477, "load_time_ms": 16.177, "update_time_ms": 11.795, "default": {"entropy": 1.7539170980453491, "cur_kl_coeff": 0.5062499046325684, "total_loss": 48.922203063964844, "kl": 0.014953992329537868, "vf_explained_var": 0.6815168857574463, "vf_loss": 48.93136978149414, "policy_loss": -0.016744783148169518, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 11996407, "sample_time_ms": 15223.657}, "timesteps_since_restore": 11996407, "date": "2019-04-29_23-15-31", "timesteps_total": 11996407, "episodes_this_iter": 68, "episodes_total": 6126, "hostname": "flow-main", "time_total_s": 4271.175914287567, "custom_metrics": {"cost2_min": -127.7388393854898, "system_level_velocity_mean": 13.554808672441853, "outflow_rate_max": 1141.1375485273702, "outflow_rate_min": 493.02238000506395, "system_level_velocity_min": 8.26097402127656, "outflow_rate_mean": 891.5455542500899, "cost2_max": -17.286650151907995, "cost1_max": 432.18095620866484, "cost1_min": 26.891382460128867, "cost1_mean": 345.0476212765313, "system_level_velocity_max": 17.956137734089456, "cost2_mean": -58.53745124686063}, "episode_len_mean": 688.46, "episode_reward_mean": 1101.7823680203157, "pid": 366, "iterations_since_restore": 106, "episode_reward_max": 1357.1305807997985, "node_ip": "10.138.0.2", "timestamp": 1556579731, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 106391, "time_this_iter_s": 37.592142820358276, "training_iteration": 106, "time_since_restore": 4271.175914287567, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 616.8618185455763, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309e10>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309160>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309978>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 12104066, "grad_time_ms": 22667.248, "load_time_ms": 17.811, "update_time_ms": 11.858, "default": {"entropy": 1.7710529565811157, "cur_kl_coeff": 0.5062499642372131, "total_loss": 43.333251953125, "kl": 0.015636004507541656, "vf_explained_var": 0.7175319194793701, "vf_loss": 43.34187316894531, "policy_loss": -0.01653597317636013, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 12104066, "sample_time_ms": 15310.111}, "timesteps_since_restore": 12104066, "date": "2019-04-29_23-16-12", "timesteps_total": 12104066, "episodes_this_iter": 64, "episodes_total": 6190, "hostname": "flow-main", "time_total_s": 4311.475753068924, "custom_metrics": {"cost2_min": -115.61012187143197, "system_level_velocity_mean": 13.73037166265236, "outflow_rate_max": 1144.321763982344, "outflow_rate_min": 687.0530547291082, "system_level_velocity_min": 8.099370055775431, "outflow_rate_mean": 904.2062696026827, "cost2_max": -23.832527428232744, "cost1_max": 444.68176183706584, "cost1_min": 211.97955646997596, "cost1_mean": 355.50342529808785, "system_level_velocity_max": 17.280715260029982, "cost2_mean": -55.792570031978215}, "episode_len_mean": 698.32, "episode_reward_mean": 1104.0546396889702, "pid": 366, "iterations_since_restore": 107, "episode_reward_max": 1357.1305807997985, "node_ip": "10.138.0.2", "timestamp": 1556579772, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 107659, "time_this_iter_s": 40.29983878135681, "training_iteration": 107, "time_since_restore": 4311.475753068924, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 847.0917204418467, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309ba8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309080>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309128>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 12211816, "grad_time_ms": 22821.645, "load_time_ms": 17.275, "update_time_ms": 11.552, "default": {"entropy": 1.774796962738037, "cur_kl_coeff": 0.5062499642372131, "total_loss": 43.97934341430664, "kl": 0.014806232415139675, "vf_explained_var": 0.6905967593193054, "vf_loss": 43.98849868774414, "policy_loss": -0.016645601019263268, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 12211816, "sample_time_ms": 15315.404}, "timesteps_since_restore": 12211816, "date": "2019-04-29_23-16-50", "timesteps_total": 12211816, "episodes_this_iter": 65, "episodes_total": 6255, "hostname": "flow-main", "time_total_s": 4350.070718765259, "custom_metrics": {"cost2_min": -114.9738675930135, "system_level_velocity_mean": 13.693312195383484, "outflow_rate_max": 1125.7712143006615, "outflow_rate_min": 687.0530547291082, "system_level_velocity_min": 8.099370055775431, "outflow_rate_mean": 898.616505725425, "cost2_max": -24.5648545127548, "cost1_max": 444.68176183706584, "cost1_min": 211.97955646997596, "cost1_mean": 354.4304322109737, "system_level_velocity_max": 17.280715260029982, "cost2_mean": -54.645881201557124}, "episode_len_mean": 698.54, "episode_reward_mean": 1094.1688869802279, "pid": 366, "iterations_since_restore": 108, "episode_reward_max": 1360.455527298768, "node_ip": "10.138.0.2", "timestamp": 1556579810, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 107750, "time_this_iter_s": 38.59496569633484, "training_iteration": 108, "time_since_restore": 4350.070718765259, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 770.969755499924, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309470>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309be0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309b38>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 12318899, "grad_time_ms": 22871.067, "load_time_ms": 18.361, "update_time_ms": 11.263, "default": {"entropy": 1.767932653427124, "cur_kl_coeff": 0.5062499046325684, "total_loss": 43.06801223754883, "kl": 0.014437497593462467, "vf_explained_var": 0.7171689867973328, "vf_loss": 43.076698303222656, "policy_loss": -0.01599356345832348, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 12318899, "sample_time_ms": 15286.516}, "timesteps_since_restore": 12318899, "date": "2019-04-29_23-17-29", "timesteps_total": 12318899, "episodes_this_iter": 66, "episodes_total": 6321, "hostname": "flow-main", "time_total_s": 4388.629748106003, "custom_metrics": {"cost2_min": -130.12379914979348, "system_level_velocity_mean": 13.459494391074502, "outflow_rate_max": 1140.2914015742685, "outflow_rate_min": 699.5388037421851, "system_level_velocity_min": 8.591185862719556, "outflow_rate_mean": 897.9242530375071, "cost2_max": -27.036200582813017, "cost1_max": 420.81870025458517, "cost1_min": 215.86058794685812, "cost1_mean": 348.8139232162186, "system_level_velocity_max": 16.33368732997473, "cost2_mean": -58.605111939559926}, "episode_len_mean": 698.54, "episode_reward_mean": 1093.6305958557264, "pid": 366, "iterations_since_restore": 109, "episode_reward_max": 1357.9919742660106, "node_ip": "10.138.0.2", "timestamp": 1556579849, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 107083, "time_this_iter_s": 38.55902934074402, "training_iteration": 109, "time_since_restore": 4388.629748106003, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 770.969755499924, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309c88>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309da0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33092e8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 12424945, "grad_time_ms": 22801.07, "load_time_ms": 19.646, "update_time_ms": 14.455, "default": {"entropy": 1.7669364213943481, "cur_kl_coeff": 0.5062499046325684, "total_loss": 45.93088912963867, "kl": 0.015319540165364742, "vf_explained_var": 0.6763188242912292, "vf_loss": 45.94032287597656, "policy_loss": -0.017181627452373505, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 12424945, "sample_time_ms": 15330.49}, "timesteps_since_restore": 12424945, "date": "2019-04-29_23-18-07", "timesteps_total": 12424945, "episodes_this_iter": 68, "episodes_total": 6389, "hostname": "flow-main", "time_total_s": 4426.820727109909, "custom_metrics": {"cost2_min": -131.56658118133595, "system_level_velocity_mean": 13.674714344445206, "outflow_rate_max": 1141.5506183494133, "outflow_rate_min": 679.0346570186844, "system_level_velocity_min": 8.591185862719556, "outflow_rate_mean": 884.624543682184, "cost2_max": -22.935203670288942, "cost1_max": 432.0931565925911, "cost1_min": 215.86058794685812, "cost1_mean": 354.63496062262385, "system_level_velocity_max": 16.529418399205543, "cost2_mean": -55.25804895114171}, "episode_len_mean": 700.0, "episode_reward_mean": 1084.8240920462488, "pid": 366, "iterations_since_restore": 110, "episode_reward_max": 1358.3927365327831, "node_ip": "10.138.0.2", "timestamp": 1556579887, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 106046, "time_this_iter_s": 38.19097900390625, "training_iteration": 110, "time_since_restore": 4426.820727109909, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 777.8391649669821, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373080>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33734e0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373208>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 12530782, "grad_time_ms": 22684.045, "load_time_ms": 20.268, "update_time_ms": 14.616, "default": {"entropy": 1.7663789987564087, "cur_kl_coeff": 0.5062499046325684, "total_loss": 42.85600662231445, "kl": 0.014731342904269695, "vf_explained_var": 0.6593243479728699, "vf_loss": 42.864627838134766, "policy_loss": -0.01608050800859928, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 12530782, "sample_time_ms": 15341.415}, "timesteps_since_restore": 12530782, "date": "2019-04-29_23-18-45", "timesteps_total": 12530782, "episodes_this_iter": 63, "episodes_total": 6452, "hostname": "flow-main", "time_total_s": 4464.902060031891, "custom_metrics": {"cost2_min": -131.56658118133595, "system_level_velocity_mean": 13.622652215376467, "outflow_rate_max": 1159.1056137797048, "outflow_rate_min": 665.9901984872923, "system_level_velocity_min": 6.492465338627808, "outflow_rate_mean": 887.930069455445, "cost2_max": -24.67004887919038, "cost1_max": 458.824353299046, "cost1_min": 158.57168358367397, "cost1_mean": 353.58579095023515, "system_level_velocity_max": 17.73697112428564, "cost2_mean": -54.64109346100849}, "episode_len_mean": 700.0, "episode_reward_mean": 1087.354111481903, "pid": 366, "iterations_since_restore": 111, "episode_reward_max": 1340.425432454069, "node_ip": "10.138.0.2", "timestamp": 1556579925, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 105837, "time_this_iter_s": 38.08133292198181, "training_iteration": 111, "time_since_restore": 4464.902060031891, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 37.04491625657047, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309dd8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309278>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 12637884, "grad_time_ms": 22677.486, "load_time_ms": 21.608, "update_time_ms": 14.683, "default": {"entropy": 1.769310712814331, "cur_kl_coeff": 0.5062499046325684, "total_loss": 45.84275436401367, "kl": 0.014765704981982708, "vf_explained_var": 0.6813297271728516, "vf_loss": 45.851318359375, "policy_loss": -0.016041189432144165, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 12637884, "sample_time_ms": 15363.29}, "timesteps_since_restore": 12637884, "date": "2019-04-29_23-19-24", "timesteps_total": 12637884, "episodes_this_iter": 68, "episodes_total": 6520, "hostname": "flow-main", "time_total_s": 4503.722604513168, "custom_metrics": {"cost2_min": -129.45251970580222, "system_level_velocity_mean": 14.021671751189636, "outflow_rate_max": 1133.3334903518296, "outflow_rate_min": 476.10320957347216, "system_level_velocity_min": 7.646324510470869, "outflow_rate_mean": 902.1661914725175, "cost2_max": -17.529630436959195, "cost1_max": 435.9324644327487, "cost1_min": 17.50688881985944, "cost1_mean": 359.2307713428788, "system_level_velocity_max": 18.736623099958255, "cost2_mean": -53.240599604236415}, "episode_len_mean": 693.27, "episode_reward_mean": 1080.5099131526692, "pid": 366, "iterations_since_restore": 112, "episode_reward_max": 1298.7524174934922, "node_ip": "10.138.0.2", "timestamp": 1556579964, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 107102, "time_this_iter_s": 38.820544481277466, "training_iteration": 112, "time_since_restore": 4503.722604513168, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 58.688568192112285, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378b00>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378668>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378630>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 12744067, "grad_time_ms": 22704.554, "load_time_ms": 21.33, "update_time_ms": 14.693, "default": {"entropy": 1.7822751998901367, "cur_kl_coeff": 0.5062499642372131, "total_loss": 43.351444244384766, "kl": 0.01512612123042345, "vf_explained_var": 0.7244216799736023, "vf_loss": 43.35938262939453, "policy_loss": -0.015596527606248856, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 12744067, "sample_time_ms": 15274.582}, "timesteps_since_restore": 12744067, "date": "2019-04-29_23-20-02", "timesteps_total": 12744067, "episodes_this_iter": 63, "episodes_total": 6583, "hostname": "flow-main", "time_total_s": 4541.782887458801, "custom_metrics": {"cost2_min": -136.68253318888353, "system_level_velocity_mean": 13.512306042883504, "outflow_rate_max": 1133.3334903518296, "outflow_rate_min": 497.42752053456115, "system_level_velocity_min": 7.646324510470869, "outflow_rate_mean": 884.8503814752664, "cost2_max": -17.77062821194118, "cost1_max": 435.9324644327487, "cost1_min": 20.88532023271897, "cost1_mean": 346.6991603663977, "system_level_velocity_max": 18.671683884806328, "cost2_mean": -59.08696347288245}, "episode_len_mean": 693.32, "episode_reward_mean": 1078.1259427118355, "pid": 366, "iterations_since_restore": 113, "episode_reward_max": 1447.722067989487, "node_ip": "10.138.0.2", "timestamp": 1556580002, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 106183, "time_this_iter_s": 38.060282945632935, "training_iteration": 113, "time_since_restore": 4541.782887458801, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 705.6978809738159, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309be0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33098d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309a90>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 12851131, "grad_time_ms": 22825.563, "load_time_ms": 21.295, "update_time_ms": 14.548, "default": {"entropy": 1.7851635217666626, "cur_kl_coeff": 0.5062499046325684, "total_loss": 47.26874542236328, "kl": 0.015190240927040577, "vf_explained_var": 0.6740573644638062, "vf_loss": 47.277828216552734, "policy_loss": -0.01677226833999157, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 12851131, "sample_time_ms": 15224.582}, "timesteps_since_restore": 12851131, "date": "2019-04-29_23-20-40", "timesteps_total": 12851131, "episodes_this_iter": 67, "episodes_total": 6650, "hostname": "flow-main", "time_total_s": 4579.928506135941, "custom_metrics": {"cost2_min": -136.68253318888353, "system_level_velocity_mean": 13.922163043567537, "outflow_rate_max": 1126.3610091885425, "outflow_rate_min": 674.4692211653125, "system_level_velocity_min": 8.313724845053898, "outflow_rate_mean": 895.845396027839, "cost2_max": -25.112139459793532, "cost1_max": 422.0182040988448, "cost1_min": 212.5978146466981, "cost1_mean": 361.5873689003919, "system_level_velocity_max": 16.705211235325258, "cost2_mean": -56.60049980122656}, "episode_len_mean": 699.66, "episode_reward_mean": 1097.154540500063, "pid": 366, "iterations_since_restore": 114, "episode_reward_max": 1447.722067989487, "node_ip": "10.138.0.2", "timestamp": 1556580040, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 107064, "time_this_iter_s": 38.14561867713928, "training_iteration": 114, "time_since_restore": 4579.928506135941, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 26.162285620091193, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33739b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373278>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373908>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 12956523, "grad_time_ms": 23047.602, "load_time_ms": 22.413, "update_time_ms": 14.596, "default": {"entropy": 1.818518877029419, "cur_kl_coeff": 0.5062499046325684, "total_loss": 44.95975875854492, "kl": 0.014800204895436764, "vf_explained_var": 0.698183000087738, "vf_loss": 44.96886444091797, "policy_loss": -0.016594918444752693, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 12956523, "sample_time_ms": 15328.064}, "timesteps_since_restore": 12956523, "date": "2019-04-29_23-21-20", "timesteps_total": 12956523, "episodes_this_iter": 68, "episodes_total": 6718, "hostname": "flow-main", "time_total_s": 4619.855023384094, "custom_metrics": {"cost2_min": -117.36956332326034, "system_level_velocity_mean": 13.73760517844243, "outflow_rate_max": 1090.6582830503773, "outflow_rate_min": 467.7500288525429, "system_level_velocity_min": 9.560807581798056, "outflow_rate_mean": 888.19150124246, "cost2_max": -12.895870078725919, "cost1_max": 422.0726462667685, "cost1_min": 12.247056168884722, "cost1_mean": 352.51447323300584, "system_level_velocity_max": 16.70918449583414, "cost2_mean": -56.102829948876014}, "episode_len_mean": 692.85, "episode_reward_mean": 1076.4666459582975, "pid": 366, "iterations_since_restore": 115, "episode_reward_max": 1410.3784392971786, "node_ip": "10.138.0.2", "timestamp": 1556580080, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 105392, "time_this_iter_s": 39.92651724815369, "training_iteration": 115, "time_since_restore": 4619.855023384094, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 83.56715319804876, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309908>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33094a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309ba8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 13062648, "grad_time_ms": 23204.518, "load_time_ms": 22.611, "update_time_ms": 14.669, "default": {"entropy": 1.8020358085632324, "cur_kl_coeff": 0.5062499642372131, "total_loss": 48.76224136352539, "kl": 0.015189683996140957, "vf_explained_var": 0.6331948637962341, "vf_loss": 48.77063751220703, "policy_loss": -0.016087237745523453, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 13062648, "sample_time_ms": 15389.61}, "timesteps_since_restore": 13062648, "date": "2019-04-29_23-22-00", "timesteps_total": 13062648, "episodes_this_iter": 72, "episodes_total": 6790, "hostname": "flow-main", "time_total_s": 4659.651927471161, "custom_metrics": {"cost2_min": -116.9903110638042, "system_level_velocity_mean": 13.761013397169204, "outflow_rate_max": 1080.213538306227, "outflow_rate_min": 542.6222245597658, "system_level_velocity_min": 7.05104764506679, "outflow_rate_mean": 878.0569591160056, "cost2_max": -18.388039585694866, "cost1_max": 429.2254192470011, "cost1_min": 33.05342260202054, "cost1_mean": 349.81516346965566, "system_level_velocity_max": 18.26141058957028, "cost2_mean": -54.269433057909126}, "episode_len_mean": 689.06, "episode_reward_mean": 1053.1156278327621, "pid": 366, "iterations_since_restore": 116, "episode_reward_max": 1389.984090049122, "node_ip": "10.138.0.2", "timestamp": 1556580120, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 106125, "time_this_iter_s": 39.79690408706665, "training_iteration": 116, "time_since_restore": 4659.651927471161, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 83.56715319804876, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373908>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373278>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33733c8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 13167755, "grad_time_ms": 23090.544, "load_time_ms": 22.756, "update_time_ms": 14.609, "default": {"entropy": 1.823515772819519, "cur_kl_coeff": 0.5062499046325684, "total_loss": 46.625858306884766, "kl": 0.015192560851573944, "vf_explained_var": 0.6476277709007263, "vf_loss": 46.63573455810547, "policy_loss": -0.017571698874235153, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 13167755, "sample_time_ms": 15264.317}, "timesteps_since_restore": 13167755, "date": "2019-04-29_23-22-38", "timesteps_total": 13167755, "episodes_this_iter": 62, "episodes_total": 6852, "hostname": "flow-main", "time_total_s": 4697.566242694855, "custom_metrics": {"cost2_min": -122.7212513337372, "system_level_velocity_mean": 13.838616816630918, "outflow_rate_max": 1104.8056310965912, "outflow_rate_min": 542.6222245597658, "system_level_velocity_min": 8.704549376367506, "outflow_rate_mean": 872.5493286795993, "cost2_max": -18.388039585694866, "cost1_max": 432.21668533791745, "cost1_min": 33.05342260202054, "cost1_mean": 353.53144519661896, "system_level_velocity_max": 18.26141058957028, "cost2_mean": -52.73069731696368}, "episode_len_mean": 693.51, "episode_reward_mean": 1052.8954061964257, "pid": 366, "iterations_since_restore": 117, "episode_reward_max": 1389.984090049122, "node_ip": "10.138.0.2", "timestamp": 1556580158, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 105107, "time_this_iter_s": 37.91431522369385, "training_iteration": 117, "time_since_restore": 4697.566242694855, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 899.431388541616, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309d68>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309240>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309978>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 13273874, "grad_time_ms": 22856.071, "load_time_ms": 24.298, "update_time_ms": 17.513, "default": {"entropy": 1.8188326358795166, "cur_kl_coeff": 0.5062499642372131, "total_loss": 45.218929290771484, "kl": 0.01584676094353199, "vf_explained_var": 0.6002547740936279, "vf_loss": 45.226806640625, "policy_loss": -0.01590653322637081, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 13273874, "sample_time_ms": 15253.706}, "timesteps_since_restore": 13273874, "date": "2019-04-29_23-23-14", "timesteps_total": 13273874, "episodes_this_iter": 64, "episodes_total": 6916, "hostname": "flow-main", "time_total_s": 4733.72349524498, "custom_metrics": {"cost2_min": -122.7212513337372, "system_level_velocity_mean": 13.677197335130163, "outflow_rate_max": 1104.8056310965912, "outflow_rate_min": 676.0364879406135, "system_level_velocity_min": 7.195508092468203, "outflow_rate_mean": 882.5012471995764, "cost2_max": -24.012962769838037, "cost1_max": 442.8558623695937, "cost1_min": 179.21688579407726, "cost1_mean": 354.8339450652909, "system_level_velocity_max": 17.20557102327999, "cost2_mean": -53.34157513894027}, "episode_len_mean": 700.0, "episode_reward_mean": 1072.7329547106226, "pid": 366, "iterations_since_restore": 118, "episode_reward_max": 1362.6215147392172, "node_ip": "10.138.0.2", "timestamp": 1556580194, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 106119, "time_this_iter_s": 36.15725255012512, "training_iteration": 118, "time_since_restore": 4733.72349524498, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 30.87914824302587, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33092b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309860>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309160>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 13379883, "grad_time_ms": 22767.501, "load_time_ms": 22.827, "update_time_ms": 17.539, "default": {"entropy": 1.805766224861145, "cur_kl_coeff": 0.5062499046325684, "total_loss": 44.75104904174805, "kl": 0.015538408420979977, "vf_explained_var": 0.652435302734375, "vf_loss": 44.76066970825195, "policy_loss": -0.01749088242650032, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 13379883, "sample_time_ms": 15248.752}, "timesteps_since_restore": 13379883, "date": "2019-04-29_23-23-52", "timesteps_total": 13379883, "episodes_this_iter": 68, "episodes_total": 6984, "hostname": "flow-main", "time_total_s": 4771.320825099945, "custom_metrics": {"cost2_min": -103.12939429679733, "system_level_velocity_mean": 13.56514895873732, "outflow_rate_max": 1109.0432772323159, "outflow_rate_min": 474.96347358305707, "system_level_velocity_min": 7.195508092468203, "outflow_rate_mean": 874.5859015499888, "cost2_max": -14.732311651297783, "cost1_max": 442.8558623695937, "cost1_min": 14.392764113598982, "cost1_mean": 347.31203330988393, "system_level_velocity_max": 17.20557102327999, "cost2_mean": -53.086927727778736}, "episode_len_mean": 693.22, "episode_reward_mean": 1056.863416984313, "pid": 366, "iterations_since_restore": 119, "episode_reward_max": 1448.8159494458357, "node_ip": "10.138.0.2", "timestamp": 1556580232, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 106009, "time_this_iter_s": 37.59732985496521, "training_iteration": 119, "time_since_restore": 4771.320825099945, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 91.8743657612319, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309e48>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309dd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309400>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 13485459, "grad_time_ms": 22742.057, "load_time_ms": 22.587, "update_time_ms": 14.395, "default": {"entropy": 1.8156160116195679, "cur_kl_coeff": 0.5062499642372131, "total_loss": 45.658912658691406, "kl": 0.015799665823578835, "vf_explained_var": 0.6444293260574341, "vf_loss": 45.66840362548828, "policy_loss": -0.017493490129709244, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 13485459, "sample_time_ms": 15275.531}, "timesteps_since_restore": 13485459, "date": "2019-04-29_23-24-30", "timesteps_total": 13485459, "episodes_this_iter": 67, "episodes_total": 7051, "hostname": "flow-main", "time_total_s": 4809.461673736572, "custom_metrics": {"cost2_min": -124.5666467251053, "system_level_velocity_mean": 13.45108243410008, "outflow_rate_max": 1117.25036259687, "outflow_rate_min": 527.2063617998832, "system_level_velocity_min": 8.38456516906544, "outflow_rate_mean": 869.4317929588568, "cost2_max": -16.31692336951605, "cost1_max": 439.714658130162, "cost1_min": 32.50433919771192, "cost1_mean": 342.9142973428676, "system_level_velocity_max": 18.064106937018053, "cost2_mean": -58.212786079532755}, "episode_len_mean": 693.51, "episode_reward_mean": 1061.3348542750539, "pid": 366, "iterations_since_restore": 120, "episode_reward_max": 1370.0309254133322, "node_ip": "10.138.0.2", "timestamp": 1556580270, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 105576, "time_this_iter_s": 38.1408486366272, "training_iteration": 120, "time_since_restore": 4809.461673736572, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 20.5313167811802, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33096a0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309a20>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33096d8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 13592629, "grad_time_ms": 22866.147, "load_time_ms": 22.201, "update_time_ms": 14.299, "default": {"entropy": 1.8211419582366943, "cur_kl_coeff": 0.5062499642372131, "total_loss": 49.708351135253906, "kl": 0.014751028269529343, "vf_explained_var": 0.65285724401474, "vf_loss": 49.71808624267578, "policy_loss": -0.017208417877554893, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 13592629, "sample_time_ms": 15289.008}, "timesteps_since_restore": 13592629, "date": "2019-04-29_23-25-10", "timesteps_total": 13592629, "episodes_this_iter": 73, "episodes_total": 7124, "hostname": "flow-main", "time_total_s": 4848.941161632538, "custom_metrics": {"cost2_min": -136.9616400250559, "system_level_velocity_mean": 13.807698759637764, "outflow_rate_max": 1117.6364458697574, "outflow_rate_min": 433.12568539996727, "system_level_velocity_min": 8.350455538352708, "outflow_rate_mean": 878.1550166851905, "cost2_max": -9.85614945042359, "cost1_max": 427.68841737495006, "cost1_min": 9.689662555009287, "cost1_mean": 349.90536546276525, "system_level_velocity_max": 18.036486212605883, "cost2_mean": -53.35133845193257}, "episode_len_mean": 686.5, "episode_reward_mean": 1053.0006335783219, "pid": 366, "iterations_since_restore": 121, "episode_reward_max": 1353.3210896564688, "node_ip": "10.138.0.2", "timestamp": 1556580310, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 107170, "time_this_iter_s": 39.479487895965576, "training_iteration": 121, "time_since_restore": 4848.941161632538, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 20.5313167811802, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309390>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309278>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33094e0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 13701190, "grad_time_ms": 22964.317, "load_time_ms": 21.986, "update_time_ms": 14.415, "default": {"entropy": 1.8290473222732544, "cur_kl_coeff": 0.5062499642372131, "total_loss": 41.20475387573242, "kl": 0.014906705357134342, "vf_explained_var": 0.7065960764884949, "vf_loss": 41.21348190307617, "policy_loss": -0.016271259635686874, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 13701190, "sample_time_ms": 15351.203}, "timesteps_since_restore": 13701190, "date": "2019-04-29_23-25-50", "timesteps_total": 13701190, "episodes_this_iter": 62, "episodes_total": 7186, "hostname": "flow-main", "time_total_s": 4889.380380868912, "custom_metrics": {"cost2_min": -139.35387811463812, "system_level_velocity_mean": 13.818543771490537, "outflow_rate_max": 1117.6364458697574, "outflow_rate_min": 433.12568539996727, "system_level_velocity_min": 8.144453120590008, "outflow_rate_mean": 892.0354187907276, "cost2_max": -9.85614945042359, "cost1_max": 436.85441397958294, "cost1_min": 9.689662555009287, "cost1_mean": 351.0749840904128, "system_level_velocity_max": 18.036486212605883, "cost2_mean": -55.94515357620243}, "episode_len_mean": 686.5, "episode_reward_mean": 1071.531198521784, "pid": 366, "iterations_since_restore": 122, "episode_reward_max": 1353.3210896564688, "node_ip": "10.138.0.2", "timestamp": 1556580350, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 108561, "time_this_iter_s": 40.4392192363739, "training_iteration": 122, "time_since_restore": 4889.380380868912, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 35.424997726872725, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373cf8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373b00>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 13808164, "grad_time_ms": 22944.286, "load_time_ms": 22.123, "update_time_ms": 14.475, "default": {"entropy": 1.84250009059906, "cur_kl_coeff": 0.5062499046325684, "total_loss": 46.36181640625, "kl": 0.015274865552783012, "vf_explained_var": 0.6838057041168213, "vf_loss": 46.370018005371094, "policy_loss": -0.01593339443206787, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 13808164, "sample_time_ms": 15542.248}, "timesteps_since_restore": 13808164, "date": "2019-04-29_23-26-30", "timesteps_total": 13808164, "episodes_this_iter": 70, "episodes_total": 7256, "hostname": "flow-main", "time_total_s": 4929.131375312805, "custom_metrics": {"cost2_min": -139.35387811463812, "system_level_velocity_mean": 13.362574222016878, "outflow_rate_max": 1110.258410988859, "outflow_rate_min": 476.4898462992569, "system_level_velocity_min": 8.144453120590008, "outflow_rate_mean": 872.2113879883981, "cost2_max": -15.215661624608474, "cost1_max": 440.5451206793098, "cost1_min": 15.048948683907724, "cost1_mean": 343.1578480332478, "system_level_velocity_max": 17.401076631224825, "cost2_mean": -58.092059017420155}, "episode_len_mean": 693.23, "episode_reward_mean": 1069.2772213833766, "pid": 366, "iterations_since_restore": 123, "episode_reward_max": 1339.956773952374, "node_ip": "10.138.0.2", "timestamp": 1556580390, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 106974, "time_this_iter_s": 39.75099444389343, "training_iteration": 123, "time_since_restore": 4929.131375312805, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 35.424997726872725, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309828>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309400>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33090f0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 13916565, "grad_time_ms": 22979.628, "load_time_ms": 22.338, "update_time_ms": 14.456, "default": {"entropy": 1.8451969623565674, "cur_kl_coeff": 0.5062499642372131, "total_loss": 45.910701751708984, "kl": 0.01568598486483097, "vf_explained_var": 0.7303252816200256, "vf_loss": 45.92026901245117, "policy_loss": -0.01751079224050045, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 13916565, "sample_time_ms": 15572.079}, "timesteps_since_restore": 13916565, "date": "2019-04-29_23-27-09", "timesteps_total": 13916565, "episodes_this_iter": 63, "episodes_total": 7319, "hostname": "flow-main", "time_total_s": 4967.97752904892, "custom_metrics": {"cost2_min": -113.72863618611741, "system_level_velocity_mean": 13.474997641434829, "outflow_rate_max": 1152.8758542615822, "outflow_rate_min": 476.4898462992569, "system_level_velocity_min": 8.41432185866216, "outflow_rate_mean": 882.687481023656, "cost2_max": -15.215661624608474, "cost1_max": 422.19689082619436, "cost1_min": 15.048948683907724, "cost1_mean": 346.3026186792968, "system_level_velocity_max": 17.401076631224825, "cost2_mean": -58.321539985391816}, "episode_len_mean": 693.23, "episode_reward_mean": 1078.6023737936623, "pid": 366, "iterations_since_restore": 124, "episode_reward_max": 1351.2160930258674, "node_ip": "10.138.0.2", "timestamp": 1556580429, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 108401, "time_this_iter_s": 38.8461537361145, "training_iteration": 124, "time_since_restore": 4967.97752904892, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 56.422859343787046, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33739b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373c18>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373be0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 14023382, "grad_time_ms": 22818.655, "load_time_ms": 21.845, "update_time_ms": 14.472, "default": {"entropy": 1.8518270254135132, "cur_kl_coeff": 0.5062499642372131, "total_loss": 45.51947784423828, "kl": 0.014988668262958527, "vf_explained_var": 0.6982874870300293, "vf_loss": 45.52943420410156, "policy_loss": -0.01754252053797245, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 14023382, "sample_time_ms": 15557.658}, "timesteps_since_restore": 14023382, "date": "2019-04-29_23-27-47", "timesteps_total": 14023382, "episodes_this_iter": 67, "episodes_total": 7386, "hostname": "flow-main", "time_total_s": 5006.143567800522, "custom_metrics": {"cost2_min": -124.62611046189099, "system_level_velocity_mean": 13.46099501890459, "outflow_rate_max": 1143.0767130789686, "outflow_rate_min": 480.931307047666, "system_level_velocity_min": 8.739132130099712, "outflow_rate_mean": 879.9789764842618, "cost2_max": -20.600973814530988, "cost1_max": 431.49869245139297, "cost1_min": 23.0659976046072, "cost1_mean": 344.78504057606574, "system_level_velocity_max": 18.288388711656577, "cost2_mean": -56.90223472158279}, "episode_len_mean": 693.34, "episode_reward_mean": 1079.1415003098666, "pid": 366, "iterations_since_restore": 125, "episode_reward_max": 1370.9029204876008, "node_ip": "10.138.0.2", "timestamp": 1556580467, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 106817, "time_this_iter_s": 38.16603875160217, "training_iteration": 125, "time_since_restore": 5006.143567800522, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 56.422859343787046, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309e48>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309048>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 14129812, "grad_time_ms": 22599.324, "load_time_ms": 21.701, "update_time_ms": 14.515, "default": {"entropy": 1.8311322927474976, "cur_kl_coeff": 0.5062499046325684, "total_loss": 43.436912536621094, "kl": 0.015124962665140629, "vf_explained_var": 0.6629104018211365, "vf_loss": 43.445621490478516, "policy_loss": -0.016365734860301018, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 14129812, "sample_time_ms": 15487.665}, "timesteps_since_restore": 14129812, "date": "2019-04-29_23-28-24", "timesteps_total": 14129812, "episodes_this_iter": 61, "episodes_total": 7447, "hostname": "flow-main", "time_total_s": 5043.06062746048, "custom_metrics": {"cost2_min": -118.72433611458021, "system_level_velocity_mean": 13.598655512128754, "outflow_rate_max": 1162.2758822682274, "outflow_rate_min": 480.931307047666, "system_level_velocity_min": 8.739132130099712, "outflow_rate_mean": 887.7511423299105, "cost2_max": -20.600973814530988, "cost1_max": 447.7087665864931, "cost1_min": 23.0659976046072, "cost1_mean": 348.455937861973, "system_level_velocity_max": 18.288388711656577, "cost2_mean": -57.120209413875344}, "episode_len_mean": 693.34, "episode_reward_mean": 1079.3766560596603, "pid": 366, "iterations_since_restore": 126, "episode_reward_max": 1370.9029204876008, "node_ip": "10.138.0.2", "timestamp": 1556580504, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 106430, "time_this_iter_s": 36.917059659957886, "training_iteration": 126, "time_since_restore": 5043.06062746048, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 734.2849931092966, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305358>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33055c0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 14236264, "grad_time_ms": 22632.333, "load_time_ms": 20.635, "update_time_ms": 14.514, "default": {"entropy": 1.8513550758361816, "cur_kl_coeff": 0.5062499046325684, "total_loss": 45.15974426269531, "kl": 0.014893251471221447, "vf_explained_var": 0.6908606886863708, "vf_loss": 45.16836929321289, "policy_loss": -0.01616935431957245, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 14236264, "sample_time_ms": 15600.16}, "timesteps_since_restore": 14236264, "date": "2019-04-29_23-29-04", "timesteps_total": 14236264, "episodes_this_iter": 66, "episodes_total": 7513, "hostname": "flow-main", "time_total_s": 5082.410108566284, "custom_metrics": {"cost2_min": -119.57000029486163, "system_level_velocity_mean": 13.70023589155719, "outflow_rate_max": 1129.9848860327438, "outflow_rate_min": 708.1877439279014, "system_level_velocity_min": 8.990419084938138, "outflow_rate_mean": 898.954759485093, "cost2_max": -25.497836772329205, "cost1_max": 432.03376769807517, "cost1_min": 226.313273704076, "cost1_mean": 356.1854535105862, "system_level_velocity_max": 16.633301759412717, "cost2_mean": -56.04652615639703}, "episode_len_mean": 700.0, "episode_reward_mean": 1092.4213408522135, "pid": 366, "iterations_since_restore": 127, "episode_reward_max": 1368.858709445088, "node_ip": "10.138.0.2", "timestamp": 1556580544, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 106452, "time_this_iter_s": 39.34948110580444, "training_iteration": 127, "time_since_restore": 5082.410108566284, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 74.80307197668886, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309d68>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33096d8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309358>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 14341529, "grad_time_ms": 22775.837, "load_time_ms": 20.784, "update_time_ms": 11.805, "default": {"entropy": 1.8591665029525757, "cur_kl_coeff": 0.5062499642372131, "total_loss": 48.80268096923828, "kl": 0.015330017544329166, "vf_explained_var": 0.6589615941047668, "vf_loss": 48.811859130859375, "policy_loss": -0.016933362931013107, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 14341529, "sample_time_ms": 15591.55}, "timesteps_since_restore": 14341529, "date": "2019-04-29_23-29-41", "timesteps_total": 14341529, "episodes_this_iter": 67, "episodes_total": 7580, "hostname": "flow-main", "time_total_s": 5119.915104866028, "custom_metrics": {"cost2_min": -124.89013757337547, "system_level_velocity_mean": 13.838982021686233, "outflow_rate_max": 1145.2889082448312, "outflow_rate_min": 538.3113965674463, "system_level_velocity_min": 8.990419084938138, "outflow_rate_mean": 897.0648903429434, "cost2_max": -22.67716253458422, "cost1_max": 432.03376769807517, "cost1_min": 30.15009837434491, "cost1_mean": 353.4506221079726, "system_level_velocity_max": 18.68452774526527, "cost2_mean": -54.76670236156919}, "episode_len_mean": 690.57, "episode_reward_mean": 1079.6042128286194, "pid": 366, "iterations_since_restore": 128, "episode_reward_max": 1320.885062301151, "node_ip": "10.138.0.2", "timestamp": 1556580581, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 105265, "time_this_iter_s": 37.50499629974365, "training_iteration": 128, "time_since_restore": 5119.915104866028, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 32.39745808061952, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33051d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305278>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33057f0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 14446144, "grad_time_ms": 22753.196, "load_time_ms": 22.061, "update_time_ms": 12.094, "default": {"entropy": 1.8606359958648682, "cur_kl_coeff": 0.5062499642372131, "total_loss": 44.262760162353516, "kl": 0.015327438712120056, "vf_explained_var": 0.6406441926956177, "vf_loss": 44.27287292480469, "policy_loss": -0.017865652218461037, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 14446144, "sample_time_ms": 15667.255}, "timesteps_since_restore": 14446144, "date": "2019-04-29_23-30-20", "timesteps_total": 14446144, "episodes_this_iter": 65, "episodes_total": 7645, "hostname": "flow-main", "time_total_s": 5158.055515766144, "custom_metrics": {"cost2_min": -108.493340987912, "system_level_velocity_mean": 14.096753290519986, "outflow_rate_max": 1080.2967260690848, "outflow_rate_min": 483.3884015831464, "system_level_velocity_min": 9.085051195736142, "outflow_rate_mean": 895.5572976993415, "cost2_max": -15.547627251454008, "cost1_max": 438.09875517132434, "cost1_min": 15.997940961145614, "cost1_mean": 359.31604498728245, "system_level_velocity_max": 18.211939935220347, "cost2_mean": -52.7866215696851}, "episode_len_mean": 690.35, "episode_reward_mean": 1071.825798979622, "pid": 366, "iterations_since_restore": 129, "episode_reward_max": 1320.885062301151, "node_ip": "10.138.0.2", "timestamp": 1556580620, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 104615, "time_this_iter_s": 38.14041090011597, "training_iteration": 129, "time_since_restore": 5158.055515766144, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 785.9952553321541, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309710>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309be0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f656f050278>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 14551648, "grad_time_ms": 22732.922, "load_time_ms": 22.035, "update_time_ms": 12.066, "default": {"entropy": 1.874036192893982, "cur_kl_coeff": 0.5062499642372131, "total_loss": 46.60329818725586, "kl": 0.015544148162007332, "vf_explained_var": 0.6248723268508911, "vf_loss": 46.613616943359375, "policy_loss": -0.018187670037150383, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 14551648, "sample_time_ms": 15621.184}, "timesteps_since_restore": 14551648, "date": "2019-04-29_23-30-57", "timesteps_total": 14551648, "episodes_this_iter": 69, "episodes_total": 7714, "hostname": "flow-main", "time_total_s": 5195.5303745269775, "custom_metrics": {"cost2_min": -108.493340987912, "system_level_velocity_mean": 14.159446852571534, "outflow_rate_max": 1078.5835446338488, "outflow_rate_min": 689.2348124856221, "system_level_velocity_min": 7.800710343395599, "outflow_rate_mean": 891.1824392763897, "cost2_max": -20.67619295024784, "cost1_max": 443.3508952523524, "cost1_min": 193.23717693558572, "cost1_mean": 366.2483704628002, "system_level_velocity_max": 17.393152985654005, "cost2_mean": -51.27178264184672}, "episode_len_mean": 698.43, "episode_reward_mean": 1074.5894997301332, "pid": 366, "iterations_since_restore": 130, "episode_reward_max": 1365.05575761854, "node_ip": "10.138.0.2", "timestamp": 1556580657, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 105504, "time_this_iter_s": 37.47485876083374, "training_iteration": 130, "time_since_restore": 5195.5303745269775, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 55.70234251243676, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305668>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305d68>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 14658051, "grad_time_ms": 22653.717, "load_time_ms": 22.028, "update_time_ms": 12.072, "default": {"entropy": 1.8583970069885254, "cur_kl_coeff": 0.5062499046325684, "total_loss": 46.627471923828125, "kl": 0.015303567051887512, "vf_explained_var": 0.627537190914154, "vf_loss": 46.636474609375, "policy_loss": -0.016748465597629547, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 14658051, "sample_time_ms": 15690.822}, "timesteps_since_restore": 14658051, "date": "2019-04-29_23-31-36", "timesteps_total": 14658051, "episodes_this_iter": 66, "episodes_total": 7780, "hostname": "flow-main", "time_total_s": 5234.885000705719, "custom_metrics": {"cost2_min": -131.61299390163157, "system_level_velocity_mean": 14.023600856179833, "outflow_rate_max": 1116.6587862953822, "outflow_rate_min": 511.85973330669947, "system_level_velocity_min": 7.800710343395599, "outflow_rate_mean": 883.986303480839, "cost2_max": -18.03782402546721, "cost1_max": 443.3508952523524, "cost1_min": 22.738151660118678, "cost1_mean": 355.3755157658358, "system_level_velocity_max": 17.715306151281407, "cost2_mean": -51.863696979642725}, "episode_len_mean": 686.75, "episode_reward_mean": 1055.1559771056577, "pid": 366, "iterations_since_restore": 131, "episode_reward_max": 1365.05575761854, "node_ip": "10.138.0.2", "timestamp": 1556580696, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 106403, "time_this_iter_s": 39.354626178741455, "training_iteration": 131, "time_since_restore": 5234.885000705719, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 55.70234251243676, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309eb8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33098d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309d30>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 14762751, "grad_time_ms": 22537.994, "load_time_ms": 21.252, "update_time_ms": 12.08, "default": {"entropy": 1.8889485597610474, "cur_kl_coeff": 0.5062499642372131, "total_loss": 52.21384811401367, "kl": 0.015282782725989819, "vf_explained_var": 0.5729615092277527, "vf_loss": 52.222652435302734, "policy_loss": -0.016536887735128403, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 14762751, "sample_time_ms": 15586.52}, "timesteps_since_restore": 14762751, "date": "2019-04-29_23-32-15", "timesteps_total": 14762751, "episodes_this_iter": 76, "episodes_total": 7856, "hostname": "flow-main", "time_total_s": 5273.091058254242, "custom_metrics": {"cost2_min": -130.2633356993215, "system_level_velocity_mean": 14.006623420383308, "outflow_rate_max": 1116.6587862953822, "outflow_rate_min": 511.85973330669947, "system_level_velocity_min": 9.563064513436354, "outflow_rate_mean": 887.8014580738021, "cost2_max": -21.12041752304308, "cost1_max": 445.69250769080224, "cost1_min": 22.738151660118678, "cost1_mean": 359.61159126269797, "system_level_velocity_max": 17.655012053627, "cost2_mean": -52.237676751794005}, "episode_len_mean": 693.35, "episode_reward_mean": 1070.4006615549226, "pid": 366, "iterations_since_restore": 132, "episode_reward_max": 1401.5888178372081, "node_ip": "10.138.0.2", "timestamp": 1556580735, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 104700, "time_this_iter_s": 38.20605754852295, "training_iteration": 132, "time_since_restore": 5273.091058254242, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 845.652851901006, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305be0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33056a0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305d30>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 14870375, "grad_time_ms": 22735.935, "load_time_ms": 20.59, "update_time_ms": 11.999, "default": {"entropy": 1.8633365631103516, "cur_kl_coeff": 0.5062499046325684, "total_loss": 41.67036819458008, "kl": 0.01571565307676792, "vf_explained_var": 0.69073486328125, "vf_loss": 41.68042755126953, "policy_loss": -0.018014777451753616, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 14870375, "sample_time_ms": 15466.892}, "timesteps_since_restore": 14870375, "date": "2019-04-29_23-32-55", "timesteps_total": 14870375, "episodes_this_iter": 65, "episodes_total": 7921, "hostname": "flow-main", "time_total_s": 5313.62643456459, "custom_metrics": {"cost2_min": -119.05304750043456, "system_level_velocity_mean": 14.08704228594977, "outflow_rate_max": 1084.5693034431836, "outflow_rate_min": 731.7934781971625, "system_level_velocity_min": 9.827731287909542, "outflow_rate_mean": 898.3104943119173, "cost2_max": -20.980465355759694, "cost1_max": 434.61859538919583, "cost1_min": 252.98183835025557, "cost1_mean": 366.1106724815927, "system_level_velocity_max": 17.347182219305246, "cost2_mean": -53.39298564660343}, "episode_len_mean": 700.0, "episode_reward_mean": 1081.6622615727895, "pid": 366, "iterations_since_restore": 133, "episode_reward_max": 1345.233985214223, "node_ip": "10.138.0.2", "timestamp": 1556580775, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 107624, "time_this_iter_s": 40.53537631034851, "training_iteration": 133, "time_since_restore": 5313.62643456459, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 26.391639825864832, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373668>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373518>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373fd0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 14976167, "grad_time_ms": 22765.718, "load_time_ms": 20.354, "update_time_ms": 12.067, "default": {"entropy": 1.880940556526184, "cur_kl_coeff": 0.5062499046325684, "total_loss": 48.01219940185547, "kl": 0.016555802896618843, "vf_explained_var": 0.6630563735961914, "vf_loss": 48.020835876464844, "policy_loss": -0.01701812446117401, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 14976167, "sample_time_ms": 15353.892}, "timesteps_since_restore": 14976167, "date": "2019-04-29_23-33-33", "timesteps_total": 14976167, "episodes_this_iter": 65, "episodes_total": 7986, "hostname": "flow-main", "time_total_s": 5351.6243097782135, "custom_metrics": {"cost2_min": -126.37098804559429, "system_level_velocity_mean": 13.611973469332058, "outflow_rate_max": 1096.7648505074562, "outflow_rate_min": 467.7500288525429, "system_level_velocity_min": 7.801776262629032, "outflow_rate_mean": 890.1147861719229, "cost2_max": -13.853154137851657, "cost1_max": 429.206534896373, "cost1_min": 12.452322653897648, "cost1_mean": 349.375547972749, "system_level_velocity_max": 17.252744914794807, "cost2_mean": -58.082068241967484}, "episode_len_mean": 693.19, "episode_reward_mean": 1082.1994085504243, "pid": 366, "iterations_since_restore": 134, "episode_reward_max": 1313.1317844627147, "node_ip": "10.138.0.2", "timestamp": 1556580813, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 105792, "time_this_iter_s": 37.99787521362305, "training_iteration": 134, "time_since_restore": 5351.6243097782135, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 26.391639825864832, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33051d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305710>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305588>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 15083253, "grad_time_ms": 22936.038, "load_time_ms": 20.65, "update_time_ms": 12.122, "default": {"entropy": 1.9030755758285522, "cur_kl_coeff": 0.5062499046325684, "total_loss": 46.33158874511719, "kl": 0.01568291336297989, "vf_explained_var": 0.6322605609893799, "vf_loss": 46.3403205871582, "policy_loss": -0.016668502241373062, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 15083253, "sample_time_ms": 15258.336}, "timesteps_since_restore": 15083253, "date": "2019-04-29_23-34-12", "timesteps_total": 15083253, "episodes_this_iter": 63, "episodes_total": 8049, "hostname": "flow-main", "time_total_s": 5390.5629069805145, "custom_metrics": {"cost2_min": -126.37098804559429, "system_level_velocity_mean": 13.680489516048773, "outflow_rate_max": 1136.3820931461091, "outflow_rate_min": 467.7500288525429, "system_level_velocity_min": 8.383129897175271, "outflow_rate_mean": 894.3389223401458, "cost2_max": -13.853154137851657, "cost1_max": 432.8999938813714, "cost1_min": 12.452322653897648, "cost1_mean": 351.4400093074539, "system_level_velocity_max": 17.260375054450147, "cost2_mean": -56.94646567584108}, "episode_len_mean": 693.19, "episode_reward_mean": 1085.368100393606, "pid": 366, "iterations_since_restore": 135, "episode_reward_max": 1325.9109456870735, "node_ip": "10.138.0.2", "timestamp": 1556580852, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 107086, "time_this_iter_s": 38.938597202301025, "training_iteration": 135, "time_since_restore": 5390.5629069805145, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 145.85590670839173, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309588>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33097f0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 15189064, "grad_time_ms": 22910.065, "load_time_ms": 20.579, "update_time_ms": 12.157, "default": {"entropy": 1.9089454412460327, "cur_kl_coeff": 0.5062499046325684, "total_loss": 45.4682502746582, "kl": 0.015317011624574661, "vf_explained_var": 0.6530829071998596, "vf_loss": 45.4781608581543, "policy_loss": -0.017672352492809296, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 15189064, "sample_time_ms": 15283.001}, "timesteps_since_restore": 15189064, "date": "2019-04-29_23-34-49", "timesteps_total": 15189064, "episodes_this_iter": 65, "episodes_total": 8114, "hostname": "flow-main", "time_total_s": 5427.460392713547, "custom_metrics": {"cost2_min": -135.39706918657419, "system_level_velocity_mean": 13.671565420375996, "outflow_rate_max": 1117.9359747827068, "outflow_rate_min": 616.2439397200772, "system_level_velocity_min": 6.645662731163306, "outflow_rate_mean": 889.3621551493183, "cost2_max": -24.218287700473415, "cost1_max": 432.8999938813714, "cost1_min": 66.76711712231997, "cost1_mean": 352.4981534086119, "system_level_velocity_max": 18.075567656937913, "cost2_mean": -53.82876415487536}, "episode_len_mean": 694.01, "episode_reward_mean": 1072.0650627287732, "pid": 366, "iterations_since_restore": 136, "episode_reward_max": 1325.9109456870735, "node_ip": "10.138.0.2", "timestamp": 1556580889, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 105811, "time_this_iter_s": 36.89748573303223, "training_iteration": 136, "time_since_restore": 5427.460392713547, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 60.279354109383696, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305668>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33058d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305da0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 15295091, "grad_time_ms": 22927.543, "load_time_ms": 21.36, "update_time_ms": 12.297, "default": {"entropy": 1.9115878343582153, "cur_kl_coeff": 0.5062499046325684, "total_loss": 47.918785095214844, "kl": 0.015109717845916748, "vf_explained_var": 0.6392174959182739, "vf_loss": 47.92779541015625, "policy_loss": -0.016656041145324707, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 15295091, "sample_time_ms": 15192.727}, "timesteps_since_restore": 15295091, "date": "2019-04-29_23-35-28", "timesteps_total": 15295091, "episodes_this_iter": 67, "episodes_total": 8181, "hostname": "flow-main", "time_total_s": 5466.136714220047, "custom_metrics": {"cost2_min": -135.39706918657419, "system_level_velocity_mean": 13.844381565934361, "outflow_rate_max": 1117.9359747827068, "outflow_rate_min": 513.6275366535608, "system_level_velocity_min": 9.070619252295014, "outflow_rate_mean": 891.737882952753, "cost2_max": -14.836042160807269, "cost1_max": 442.9910084396379, "cost1_min": 21.838609661378907, "cost1_mean": 355.82750576010983, "system_level_velocity_max": 18.35731021719464, "cost2_mean": -53.528988152794454}, "episode_len_mean": 693.33, "episode_reward_mean": 1078.4802106128209, "pid": 366, "iterations_since_restore": 137, "episode_reward_max": 1351.8212729620177, "node_ip": "10.138.0.2", "timestamp": 1556580928, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 106027, "time_this_iter_s": 38.676321506500244, "training_iteration": 137, "time_since_restore": 5466.136714220047, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 60.279354109383696, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33734e0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373080>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373668>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 15400153, "grad_time_ms": 22925.943, "load_time_ms": 20.465, "update_time_ms": 12.375, "default": {"entropy": 1.9106202125549316, "cur_kl_coeff": 0.5062499046325684, "total_loss": 46.946205139160156, "kl": 0.015069098211824894, "vf_explained_var": 0.6375637054443359, "vf_loss": 46.955841064453125, "policy_loss": -0.017264582216739655, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 15400153, "sample_time_ms": 15202.955}, "timesteps_since_restore": 15400153, "date": "2019-04-29_23-36-06", "timesteps_total": 15400153, "episodes_this_iter": 64, "episodes_total": 8245, "hostname": "flow-main", "time_total_s": 5503.721336841583, "custom_metrics": {"cost2_min": -119.74487575379426, "system_level_velocity_mean": 14.15560485850985, "outflow_rate_max": 1083.853479331154, "outflow_rate_min": 513.6275366535608, "system_level_velocity_min": 9.070619252295014, "outflow_rate_mean": 893.0703319117816, "cost2_max": -14.836042160807269, "cost1_max": 438.89313485345883, "cost1_min": 21.838609661378907, "cost1_mean": 361.51624172724803, "system_level_velocity_max": 18.35731021719464, "cost2_mean": -51.14934596993678}, "episode_len_mean": 691.34, "episode_reward_mean": 1069.8700744543503, "pid": 366, "iterations_since_restore": 138, "episode_reward_max": 1334.2278518889002, "node_ip": "10.138.0.2", "timestamp": 1556580966, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 105062, "time_this_iter_s": 37.584622621536255, "training_iteration": 138, "time_since_restore": 5503.721336841583, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 30.709238932096152, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305be0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305358>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305e80>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 15506024, "grad_time_ms": 23007.559, "load_time_ms": 19.453, "update_time_ms": 12.23, "default": {"entropy": 1.9269710779190063, "cur_kl_coeff": 0.5062499642372131, "total_loss": 53.40543746948242, "kl": 0.0163448266685009, "vf_explained_var": 0.6232550740242004, "vf_loss": 53.41546630859375, "policy_loss": -0.018305882811546326, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 15506024, "sample_time_ms": 15295.471}, "timesteps_since_restore": 15506024, "date": "2019-04-29_23-36-46", "timesteps_total": 15506024, "episodes_this_iter": 76, "episodes_total": 8321, "hostname": "flow-main", "time_total_s": 5543.623909235001, "custom_metrics": {"cost2_min": -111.0830908600129, "system_level_velocity_mean": 14.115509016725136, "outflow_rate_max": 1191.1005490710802, "outflow_rate_min": 459.9727280552308, "system_level_velocity_min": 8.27914031670762, "outflow_rate_mean": 885.3873782381489, "cost2_max": -13.49701280459167, "cost1_max": 439.24016170075146, "cost1_min": 11.721469962688225, "cost1_mean": 356.2459327534998, "system_level_velocity_max": 17.22194400504495, "cost2_mean": -52.93448101212204}, "episode_len_mean": 684.44, "episode_reward_mean": 1053.728158762321, "pid": 366, "iterations_since_restore": 139, "episode_reward_max": 1295.9108000836102, "node_ip": "10.138.0.2", "timestamp": 1556581006, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 105871, "time_this_iter_s": 39.90257239341736, "training_iteration": 139, "time_since_restore": 5543.623909235001, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 32.25315410328386, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378898>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378a90>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378f98>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 15612816, "grad_time_ms": 23060.956, "load_time_ms": 19.591, "update_time_ms": 12.355, "default": {"entropy": 1.9383530616760254, "cur_kl_coeff": 0.5062499642372131, "total_loss": 43.06120300292969, "kl": 0.015743309631943703, "vf_explained_var": 0.6740382313728333, "vf_loss": 43.069984436035156, "policy_loss": -0.01675424911081791, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 15612816, "sample_time_ms": 15322.404}, "timesteps_since_restore": 15612816, "date": "2019-04-29_23-37-24", "timesteps_total": 15612816, "episodes_this_iter": 67, "episodes_total": 8388, "hostname": "flow-main", "time_total_s": 5581.917855262756, "custom_metrics": {"cost2_min": -130.69626925775484, "system_level_velocity_mean": 13.89015538238981, "outflow_rate_max": 1191.1005490710802, "outflow_rate_min": 459.9727280552308, "system_level_velocity_min": 8.070122122908764, "outflow_rate_mean": 879.6935634052329, "cost2_max": -15.270917544580069, "cost1_max": 439.24016170075146, "cost1_min": 15.39480810533212, "cost1_mean": 350.4950407020356, "system_level_velocity_max": 18.36088416472304, "cost2_mean": -53.43955772440148}, "episode_len_mean": 685.33, "episode_reward_mean": 1039.425882854548, "pid": 366, "iterations_since_restore": 140, "episode_reward_max": 1295.9108000836102, "node_ip": "10.138.0.2", "timestamp": 1556581044, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 106792, "time_this_iter_s": 38.29394602775574, "training_iteration": 140, "time_since_restore": 5581.917855262756, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 776.6476674061757, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33051d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305828>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305240>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 15719229, "grad_time_ms": 22981.378, "load_time_ms": 19.544, "update_time_ms": 12.359, "default": {"entropy": 1.9438567161560059, "cur_kl_coeff": 0.5062499046325684, "total_loss": 48.99530792236328, "kl": 0.016005543991923332, "vf_explained_var": 0.6405524611473083, "vf_loss": 49.00374221801758, "policy_loss": -0.0165396835654974, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 15719229, "sample_time_ms": 15247.149}, "timesteps_since_restore": 15719229, "date": "2019-04-29_23-38-02", "timesteps_total": 15719229, "episodes_this_iter": 69, "episodes_total": 8457, "hostname": "flow-main", "time_total_s": 5619.756186723709, "custom_metrics": {"cost2_min": -120.89439790235949, "system_level_velocity_mean": 13.596336621967106, "outflow_rate_max": 1079.6600727909183, "outflow_rate_min": 651.6197892732317, "system_level_velocity_min": 6.877804415107167, "outflow_rate_mean": 879.949656164906, "cost2_max": -20.204584365791817, "cost1_max": 429.46472939313514, "cost1_min": 175.6568121665359, "cost1_mean": 352.20872867493017, "system_level_velocity_max": 16.618229460864605, "cost2_mean": -53.71022596609538}, "episode_len_mean": 700.0, "episode_reward_mean": 1062.8352242802002, "pid": 366, "iterations_since_restore": 141, "episode_reward_max": 1315.9717093298866, "node_ip": "10.138.0.2", "timestamp": 1556581082, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 106413, "time_this_iter_s": 37.83833146095276, "training_iteration": 141, "time_since_restore": 5619.756186723709, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 79.26657867861383, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378940>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378898>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378c18>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 15824625, "grad_time_ms": 22885.724, "load_time_ms": 19.205, "update_time_ms": 12.26, "default": {"entropy": 1.9427192211151123, "cur_kl_coeff": 0.5062499046325684, "total_loss": 47.022186279296875, "kl": 0.015355671755969524, "vf_explained_var": 0.628902792930603, "vf_loss": 47.03108215332031, "policy_loss": -0.016671737655997276, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 15824625, "sample_time_ms": 15248.726}, "timesteps_since_restore": 15824625, "date": "2019-04-29_23-38-39", "timesteps_total": 15824625, "episodes_this_iter": 66, "episodes_total": 8523, "hostname": "flow-main", "time_total_s": 5657.03026008606, "custom_metrics": {"cost2_min": -132.44532911197308, "system_level_velocity_mean": 13.858394539472163, "outflow_rate_max": 1077.1488376622083, "outflow_rate_min": 526.9987946618866, "system_level_velocity_min": 8.04227936087771, "outflow_rate_mean": 889.7182363680868, "cost2_max": -16.636644055576202, "cost1_max": 434.6696621373153, "cost1_min": 28.75163880736381, "cost1_mean": 355.54204071184955, "system_level_velocity_max": 18.69327638269296, "cost2_mean": -56.22435901699952}, "episode_len_mean": 693.44, "episode_reward_mean": 1075.516590498201, "pid": 366, "iterations_since_restore": 142, "episode_reward_max": 1279.59036385113, "node_ip": "10.138.0.2", "timestamp": 1556581119, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 105396, "time_this_iter_s": 37.274073362350464, "training_iteration": 142, "time_since_restore": 5657.03026008606, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 67.00075331205664, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305668>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33050f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305898>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 15930413, "grad_time_ms": 22614.752, "load_time_ms": 19.855, "update_time_ms": 12.423, "default": {"entropy": 1.961506724357605, "cur_kl_coeff": 0.5062499046325684, "total_loss": 50.39937973022461, "kl": 0.01535650622099638, "vf_explained_var": 0.5999962687492371, "vf_loss": 50.409542083740234, "policy_loss": -0.017938081175088882, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 15930413, "sample_time_ms": 15210.263}, "timesteps_since_restore": 15930413, "date": "2019-04-29_23-39-17", "timesteps_total": 15930413, "episodes_this_iter": 68, "episodes_total": 8591, "hostname": "flow-main", "time_total_s": 5694.500487327576, "custom_metrics": {"cost2_min": -132.44532911197308, "system_level_velocity_mean": 13.874098404336436, "outflow_rate_max": 1221.2851251540492, "outflow_rate_min": 497.54539660421574, "system_level_velocity_min": 9.4870066458888, "outflow_rate_mean": 886.8279967888615, "cost2_max": -17.088332772271354, "cost1_max": 450.5021644830932, "cost1_min": 23.86271408027293, "cost1_mean": 352.62281667058903, "system_level_velocity_max": 18.633415665311713, "cost2_mean": -56.31125672094861}, "episode_len_mean": 686.66, "episode_reward_mean": 1060.8654279788311, "pid": 366, "iterations_since_restore": 143, "episode_reward_max": 1323.620953990708, "node_ip": "10.138.0.2", "timestamp": 1556581157, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 105788, "time_this_iter_s": 37.47022724151611, "training_iteration": 143, "time_since_restore": 5694.500487327576, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 146.9196685508632, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33780b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378b70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378a90>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 16035792, "grad_time_ms": 22312.08, "load_time_ms": 19.794, "update_time_ms": 12.483, "default": {"entropy": 1.9652963876724243, "cur_kl_coeff": 0.5062499046325684, "total_loss": 48.6180419921875, "kl": 0.015465106815099716, "vf_explained_var": 0.6000615358352661, "vf_loss": 48.627384185791016, "policy_loss": -0.017169902101159096, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 16035792, "sample_time_ms": 15303.435}, "timesteps_since_restore": 16035792, "date": "2019-04-29_23-39-53", "timesteps_total": 16035792, "episodes_this_iter": 67, "episodes_total": 8658, "hostname": "flow-main", "time_total_s": 5730.379396915436, "custom_metrics": {"cost2_min": -114.85350270643082, "system_level_velocity_mean": 13.841226338951977, "outflow_rate_max": 1099.2477922643723, "outflow_rate_min": 665.6045987477036, "system_level_velocity_min": 7.079829487435301, "outflow_rate_mean": 881.2080632806834, "cost2_max": -22.700732154121702, "cost1_max": 442.90746117904405, "cost1_min": 64.65790472603547, "cost1_mean": 352.0800001729134, "system_level_velocity_max": 18.737373743055535, "cost2_mean": -53.074088286563295}, "episode_len_mean": 688.6, "episode_reward_mean": 1049.4492831875023, "pid": 366, "iterations_since_restore": 144, "episode_reward_max": 1318.369653608954, "node_ip": "10.138.0.2", "timestamp": 1556581193, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 105379, "time_this_iter_s": 35.87890958786011, "training_iteration": 144, "time_since_restore": 5730.379396915436, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 48.406362194469246, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33057b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305400>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305860>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 16141678, "grad_time_ms": 22177.736, "load_time_ms": 19.886, "update_time_ms": 12.665, "default": {"entropy": 1.9743186235427856, "cur_kl_coeff": 0.5062499642372131, "total_loss": 43.94023513793945, "kl": 0.015132235363125801, "vf_explained_var": 0.6550203561782837, "vf_loss": 43.94969940185547, "policy_loss": -0.017127135768532753, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 16141678, "sample_time_ms": 15323.56}, "timesteps_since_restore": 16141678, "date": "2019-04-29_23-40-31", "timesteps_total": 16141678, "episodes_this_iter": 63, "episodes_total": 8721, "hostname": "flow-main", "time_total_s": 5768.158966779709, "custom_metrics": {"cost2_min": -137.63276457678194, "system_level_velocity_mean": 13.772634901657627, "outflow_rate_max": 1126.034876017808, "outflow_rate_min": 495.9037152522889, "system_level_velocity_min": 7.079829487435301, "outflow_rate_mean": 885.1840160410544, "cost2_max": -20.06681810149106, "cost1_max": 437.7751352188334, "cost1_min": 22.201041359301378, "cost1_mean": 352.59369817253423, "system_level_velocity_max": 18.305525122785767, "cost2_mean": -54.38669636747483}, "episode_len_mean": 693.33, "episode_reward_mean": 1052.7279017582969, "pid": 366, "iterations_since_restore": 145, "episode_reward_max": 1265.0662364871866, "node_ip": "10.138.0.2", "timestamp": 1556581231, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 105886, "time_this_iter_s": 37.77956986427307, "training_iteration": 145, "time_since_restore": 5768.158966779709, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 51.105622875333836, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33786d8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378c50>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378ba8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 16247683, "grad_time_ms": 22371.295, "load_time_ms": 20.009, "update_time_ms": 12.48, "default": {"entropy": 1.9771672487258911, "cur_kl_coeff": 0.5062499046325684, "total_loss": 48.455230712890625, "kl": 0.015482746995985508, "vf_explained_var": 0.5971560478210449, "vf_loss": 48.46481704711914, "policy_loss": -0.01742101088166237, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 16247683, "sample_time_ms": 15377.326}, "timesteps_since_restore": 16247683, "date": "2019-04-29_23-41-10", "timesteps_total": 16247683, "episodes_this_iter": 72, "episodes_total": 8793, "hostname": "flow-main", "time_total_s": 5807.514956235886, "custom_metrics": {"cost2_min": -122.73169183647977, "system_level_velocity_mean": 13.737198483550314, "outflow_rate_max": 1126.034876017808, "outflow_rate_min": 508.49860762546825, "system_level_velocity_min": 7.679291554406147, "outflow_rate_mean": 867.657915437607, "cost2_max": -19.505525242523582, "cost1_max": 435.2554697172501, "cost1_min": 22.484650696820932, "cost1_mean": 344.85211298957915, "system_level_velocity_max": 18.267044989563626, "cost2_mean": -53.531406147559295}, "episode_len_mean": 682.84, "episode_reward_mean": 1021.4558737010368, "pid": 366, "iterations_since_restore": 146, "episode_reward_max": 1265.0662364871866, "node_ip": "10.138.0.2", "timestamp": 1556581270, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 106005, "time_this_iter_s": 39.35598945617676, "training_iteration": 146, "time_since_restore": 5807.514956235886, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 30.512484004721966, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305dd8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305160>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33055f8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 16351557, "grad_time_ms": 22472.318, "load_time_ms": 19.89, "update_time_ms": 12.343, "default": {"entropy": 1.9908127784729004, "cur_kl_coeff": 0.5062499046325684, "total_loss": 44.16138458251953, "kl": 0.016401343047618866, "vf_explained_var": 0.6479931473731995, "vf_loss": 44.16999816894531, "policy_loss": -0.016918975859880447, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 16351557, "sample_time_ms": 15363.245}, "timesteps_since_restore": 16351557, "date": "2019-04-29_23-41-50", "timesteps_total": 16351557, "episodes_this_iter": 66, "episodes_total": 8859, "hostname": "flow-main", "time_total_s": 5847.046868085861, "custom_metrics": {"cost2_min": -99.61319237519822, "system_level_velocity_mean": 13.844839789795676, "outflow_rate_max": 1089.982719479226, "outflow_rate_min": 464.2002765876701, "system_level_velocity_min": 7.900611149794191, "outflow_rate_mean": 854.0255211429302, "cost2_max": -13.78617716301899, "cost1_max": 444.9562174658232, "cost1_min": 11.67134310205961, "cost1_mean": 344.3491043432735, "system_level_velocity_max": 18.267044989563626, "cost2_mean": -52.42820029360008}, "episode_len_mean": 679.91, "episode_reward_mean": 1012.3359088855207, "pid": 366, "iterations_since_restore": 147, "episode_reward_max": 1264.1688797782115, "node_ip": "10.138.0.2", "timestamp": 1556581310, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 103874, "time_this_iter_s": 39.531911849975586, "training_iteration": 147, "time_since_restore": 5847.046868085861, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 30.512484004721966, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33780f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378080>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33782e8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 16455751, "grad_time_ms": 22385.874, "load_time_ms": 20.873, "update_time_ms": 12.34, "default": {"entropy": 1.9841821193695068, "cur_kl_coeff": 0.5062499046325684, "total_loss": 49.48431396484375, "kl": 0.01575195975601673, "vf_explained_var": 0.616614043712616, "vf_loss": 49.493282318115234, "policy_loss": -0.01693822629749775, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 16455751, "sample_time_ms": 15407.079}, "timesteps_since_restore": 16455751, "date": "2019-04-29_23-42-27", "timesteps_total": 16455751, "episodes_this_iter": 72, "episodes_total": 8931, "hostname": "flow-main", "time_total_s": 5884.207314014435, "custom_metrics": {"cost2_min": -102.83705454763643, "system_level_velocity_mean": 13.925318001518221, "outflow_rate_max": 1107.1127108774938, "outflow_rate_min": 464.2002765876701, "system_level_velocity_min": 10.60011826473637, "outflow_rate_mean": 867.6674789688315, "cost2_max": -13.78617716301899, "cost1_max": 429.98122077304345, "cost1_min": 11.67134310205961, "cost1_mean": 357.0998221965404, "system_level_velocity_max": 17.183581871387876, "cost2_mean": -48.99266169491402}, "episode_len_mean": 693.18, "episode_reward_mean": 1030.5918406196245, "pid": 366, "iterations_since_restore": 148, "episode_reward_max": 1327.6628258335768, "node_ip": "10.138.0.2", "timestamp": 1556581347, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 104194, "time_this_iter_s": 37.16044592857361, "training_iteration": 148, "time_since_restore": 5884.207314014435, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 759.5474749187679, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33050b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305630>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33051d0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 16560352, "grad_time_ms": 22253.819, "load_time_ms": 21.76, "update_time_ms": 12.136, "default": {"entropy": 1.9741674661636353, "cur_kl_coeff": 0.5062499642372131, "total_loss": 50.88617706298828, "kl": 0.015212390571832657, "vf_explained_var": 0.6450764536857605, "vf_loss": 50.89506149291992, "policy_loss": -0.01658240519464016, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 16560352, "sample_time_ms": 15252.154}, "timesteps_since_restore": 16560352, "date": "2019-04-29_23-43-04", "timesteps_total": 16560352, "episodes_this_iter": 72, "episodes_total": 9003, "hostname": "flow-main", "time_total_s": 5921.247076511383, "custom_metrics": {"cost2_min": -123.79059236099188, "system_level_velocity_mean": 13.991424203185225, "outflow_rate_max": 1064.7666087199295, "outflow_rate_min": 679.265886876258, "system_level_velocity_min": 10.158102600575686, "outflow_rate_mean": 880.8071978845095, "cost2_max": -22.963409869046576, "cost1_max": 438.8749801628869, "cost1_min": 259.3020187156814, "cost1_mean": 363.0138189929728, "system_level_velocity_max": 17.400420371875764, "cost2_mean": -53.89716676536713}, "episode_len_mean": 700.0, "episode_reward_mean": 1052.641799504617, "pid": 366, "iterations_since_restore": 149, "episode_reward_max": 1327.6628258335768, "node_ip": "10.138.0.2", "timestamp": 1556581384, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 104601, "time_this_iter_s": 37.03976249694824, "training_iteration": 149, "time_since_restore": 5921.247076511383, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 811.5677297142358, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33786d8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378940>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378828>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 16666271, "grad_time_ms": 22149.408, "load_time_ms": 21.709, "update_time_ms": 12.077, "default": {"entropy": 1.9794076681137085, "cur_kl_coeff": 0.5062499642372131, "total_loss": 48.24522018432617, "kl": 0.016243811696767807, "vf_explained_var": 0.6226784586906433, "vf_loss": 48.2545166015625, "policy_loss": -0.017520252615213394, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 16666271, "sample_time_ms": 15285.025}, "timesteps_since_restore": 16666271, "date": "2019-04-29_23-43-42", "timesteps_total": 16666271, "episodes_this_iter": 66, "episodes_total": 9069, "hostname": "flow-main", "time_total_s": 5958.8373103141785, "custom_metrics": {"cost2_min": -125.87767155233135, "system_level_velocity_mean": 14.214170652352275, "outflow_rate_max": 1069.1348439981975, "outflow_rate_min": 718.1158461073319, "system_level_velocity_min": 8.778523867691979, "outflow_rate_mean": 895.2988701724628, "cost2_max": -22.963409869046576, "cost1_max": 445.63401858319, "cost1_min": 225.97689234873124, "cost1_mean": 368.38014352813406, "system_level_velocity_max": 17.529289215621787, "cost2_mean": -55.61827975330221}, "episode_len_mean": 700.0, "episode_reward_mean": 1062.7992170884238, "pid": 366, "iterations_since_restore": 150, "episode_reward_max": 1261.6092238485537, "node_ip": "10.138.0.2", "timestamp": 1556581422, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 105919, "time_this_iter_s": 37.59023380279541, "training_iteration": 150, "time_since_restore": 5958.8373103141785, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 775.3548603517584, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305160>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33055f8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305550>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 16771033, "grad_time_ms": 22105.33, "load_time_ms": 22.118, "update_time_ms": 12.069, "default": {"entropy": 2.000925302505493, "cur_kl_coeff": 0.5062499046325684, "total_loss": 50.21820068359375, "kl": 0.015912463888525963, "vf_explained_var": 0.6367746591567993, "vf_loss": 50.22703170776367, "policy_loss": -0.016884738579392433, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 16771033, "sample_time_ms": 15247.262}, "timesteps_since_restore": 16771033, "date": "2019-04-29_23-44-19", "timesteps_total": 16771033, "episodes_this_iter": 68, "episodes_total": 9137, "hostname": "flow-main", "time_total_s": 5995.835811138153, "custom_metrics": {"cost2_min": -124.40979475288036, "system_level_velocity_mean": 14.041071231001824, "outflow_rate_max": 1208.92504371437, "outflow_rate_min": 639.7883254502514, "system_level_velocity_min": 6.933232927678803, "outflow_rate_mean": 879.3233115657033, "cost2_max": -24.07030994084124, "cost1_max": 445.63401858319, "cost1_min": 174.62384208686063, "cost1_mean": 361.8533193342315, "system_level_velocity_max": 17.283739364979898, "cost2_mean": -54.15237031711402}, "episode_len_mean": 698.15, "episode_reward_mean": 1046.538234552891, "pid": 366, "iterations_since_restore": 151, "episode_reward_max": 1364.4362806324775, "node_ip": "10.138.0.2", "timestamp": 1556581459, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 104762, "time_this_iter_s": 36.99850082397461, "training_iteration": 151, "time_since_restore": 5995.835811138153, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 756.0242405987267, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309128>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309710>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33095f8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 16877859, "grad_time_ms": 22224.997, "load_time_ms": 23.342, "update_time_ms": 12.047, "default": {"entropy": 1.9832260608673096, "cur_kl_coeff": 0.5062499642372131, "total_loss": 43.957489013671875, "kl": 0.016457073390483856, "vf_explained_var": 0.7212250828742981, "vf_loss": 43.96757125854492, "policy_loss": -0.018409833312034607, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 16877859, "sample_time_ms": 15261.432}, "timesteps_since_restore": 16877859, "date": "2019-04-29_23-44-57", "timesteps_total": 16877859, "episodes_this_iter": 63, "episodes_total": 9200, "hostname": "flow-main", "time_total_s": 6034.489679813385, "custom_metrics": {"cost2_min": -104.8350881365741, "system_level_velocity_mean": 14.330730722960082, "outflow_rate_max": 1208.92504371437, "outflow_rate_min": 696.8441486395193, "system_level_velocity_min": 9.935631851348353, "outflow_rate_mean": 881.588144477974, "cost2_max": -22.42925998223819, "cost1_max": 442.2078066989859, "cost1_min": 252.0914217449809, "cost1_mean": 370.474667427023, "system_level_velocity_max": 17.542904372530533, "cost2_mean": -53.211577685088805}, "episode_len_mean": 700.0, "episode_reward_mean": 1054.1153792691375, "pid": 366, "iterations_since_restore": 152, "episode_reward_max": 1399.8222632518978, "node_ip": "10.138.0.2", "timestamp": 1556581497, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 106826, "time_this_iter_s": 38.653868675231934, "training_iteration": 152, "time_since_restore": 6034.489679813385, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 37.93413062246533, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305630>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305518>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305ac8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 16984942, "grad_time_ms": 22386.481, "load_time_ms": 23.16, "update_time_ms": 11.921, "default": {"entropy": 2.010289192199707, "cur_kl_coeff": 0.5062499046325684, "total_loss": 45.8421745300293, "kl": 0.015714509412646294, "vf_explained_var": 0.7525767087936401, "vf_loss": 45.85125732421875, "policy_loss": -0.017037656158208847, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 16984942, "sample_time_ms": 15385.496}, "timesteps_since_restore": 16984942, "date": "2019-04-29_23-45-38", "timesteps_total": 16984942, "episodes_this_iter": 66, "episodes_total": 9266, "hostname": "flow-main", "time_total_s": 6074.81702208519, "custom_metrics": {"cost2_min": -116.76286783465885, "system_level_velocity_mean": 13.961651684928817, "outflow_rate_max": 1155.1518535738708, "outflow_rate_min": 489.7762375340705, "system_level_velocity_min": 8.58526649118162, "outflow_rate_mean": 872.1958560440014, "cost2_max": -17.799374481347396, "cost1_max": 443.9193060126113, "cost1_min": 16.93848680337634, "cost1_mean": 351.8108669235695, "system_level_velocity_max": 19.210478317771244, "cost2_mean": -56.54902415314966}, "episode_len_mean": 686.55, "episode_reward_mean": 1045.0827011013248, "pid": 366, "iterations_since_restore": 153, "episode_reward_max": 1399.8222632518978, "node_ip": "10.138.0.2", "timestamp": 1556581538, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 107083, "time_this_iter_s": 40.32734227180481, "training_iteration": 153, "time_since_restore": 6074.81702208519, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 48.18002123115334, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309b70>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309b00>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 17090501, "grad_time_ms": 22548.777, "load_time_ms": 23.472, "update_time_ms": 11.715, "default": {"entropy": 1.9822410345077515, "cur_kl_coeff": 0.5062499642372131, "total_loss": 53.64007568359375, "kl": 0.015723226591944695, "vf_explained_var": 0.6868810653686523, "vf_loss": 53.648536682128906, "policy_loss": -0.01642286591231823, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 17090501, "sample_time_ms": 15501.538}, "timesteps_since_restore": 17090501, "date": "2019-04-29_23-46-17", "timesteps_total": 17090501, "episodes_this_iter": 70, "episodes_total": 9336, "hostname": "flow-main", "time_total_s": 6113.483026981354, "custom_metrics": {"cost2_min": -120.88138080542107, "system_level_velocity_mean": 14.013494785575592, "outflow_rate_max": 1155.1518535738708, "outflow_rate_min": 479.74319280324806, "system_level_velocity_min": 8.58526649118162, "outflow_rate_mean": 881.6615005520985, "cost2_max": -16.578082143054047, "cost1_max": 454.4917316315332, "cost1_min": 16.78258299559877, "cost1_mean": 355.1215163241517, "system_level_velocity_max": 17.809501467457398, "cost2_mean": -57.54589109744782}, "episode_len_mean": 689.79, "episode_reward_mean": 1051.2835929401624, "pid": 366, "iterations_since_restore": 154, "episode_reward_max": 1306.8730450315306, "node_ip": "10.138.0.2", "timestamp": 1556581577, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 105559, "time_this_iter_s": 38.66600489616394, "training_iteration": 154, "time_since_restore": 6113.483026981354, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 48.18002123115334, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305860>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305668>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305320>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 17197621, "grad_time_ms": 22773.024, "load_time_ms": 23.438, "update_time_ms": 11.371, "default": {"entropy": 2.00355863571167, "cur_kl_coeff": 0.5062499046325684, "total_loss": 46.18502426147461, "kl": 0.016284750774502754, "vf_explained_var": 0.7648342251777649, "vf_loss": 46.19440460205078, "policy_loss": -0.017624052241444588, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 17197621, "sample_time_ms": 15575.783}, "timesteps_since_restore": 17197621, "date": "2019-04-29_23-46-57", "timesteps_total": 17197621, "episodes_this_iter": 68, "episodes_total": 9404, "hostname": "flow-main", "time_total_s": 6154.228069782257, "custom_metrics": {"cost2_min": -124.82831126302838, "system_level_velocity_mean": 14.143198216684013, "outflow_rate_max": 1171.1868202734277, "outflow_rate_min": 479.74319280324806, "system_level_velocity_min": 6.537169329199143, "outflow_rate_mean": 891.887679697536, "cost2_max": -16.578082143054047, "cost1_max": 454.4917316315332, "cost1_min": 16.78258299559877, "cost1_mean": 360.57454996185123, "system_level_velocity_max": 17.85837031129737, "cost2_mean": -57.802222683459064}, "episode_len_mean": 693.26, "episode_reward_mean": 1057.9985024093514, "pid": 366, "iterations_since_restore": 155, "episode_reward_max": 1343.6350370715516, "node_ip": "10.138.0.2", "timestamp": 1556581617, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 107120, "time_this_iter_s": 40.74504280090332, "training_iteration": 155, "time_since_restore": 6154.228069782257, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 65.1356086209786, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309240>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309be0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309dd8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 17303834, "grad_time_ms": 22611.351, "load_time_ms": 23.347, "update_time_ms": 11.477, "default": {"entropy": 2.0249228477478027, "cur_kl_coeff": 0.5062499642372131, "total_loss": 52.011260986328125, "kl": 0.016432594507932663, "vf_explained_var": 0.7050687074661255, "vf_loss": 52.01961135864258, "policy_loss": -0.01667250692844391, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 17303834, "sample_time_ms": 15526.853}, "timesteps_since_restore": 17303834, "date": "2019-04-29_23-47-35", "timesteps_total": 17303834, "episodes_this_iter": 69, "episodes_total": 9473, "hostname": "flow-main", "time_total_s": 6191.5056273937225, "custom_metrics": {"cost2_min": -119.46200196911862, "system_level_velocity_mean": 13.953100735722025, "outflow_rate_max": 1171.1868202734277, "outflow_rate_min": 499.7987750964985, "system_level_velocity_min": 7.002918702847977, "outflow_rate_mean": 876.7501297964227, "cost2_max": -19.787152233749104, "cost1_max": 444.7451608553099, "cost1_min": 26.337077093936486, "cost1_mean": 355.77165827147974, "system_level_velocity_max": 18.504124139334966, "cost2_mean": -58.51499138515899}, "episode_len_mean": 693.4, "episode_reward_mean": 1048.8214225902268, "pid": 366, "iterations_since_restore": 156, "episode_reward_max": 1300.2189677534323, "node_ip": "10.138.0.2", "timestamp": 1556581655, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 106213, "time_this_iter_s": 37.277557611465454, "training_iteration": 156, "time_since_restore": 6191.5056273937225, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 65.1356086209786, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33056a0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305c50>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305400>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 17411511, "grad_time_ms": 22454.896, "load_time_ms": 23.377, "update_time_ms": 11.555, "default": {"entropy": 2.0015718936920166, "cur_kl_coeff": 0.5062499642372131, "total_loss": 46.50212097167969, "kl": 0.015993596985936165, "vf_explained_var": 0.750751793384552, "vf_loss": 46.51015853881836, "policy_loss": -0.016130613163113594, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 17411511, "sample_time_ms": 15625.811}, "timesteps_since_restore": 17411511, "date": "2019-04-29_23-48-14", "timesteps_total": 17411511, "episodes_this_iter": 62, "episodes_total": 9535, "hostname": "flow-main", "time_total_s": 6230.441379547119, "custom_metrics": {"cost2_min": -121.47168824587737, "system_level_velocity_mean": 14.102808639977336, "outflow_rate_max": 1127.2566484067725, "outflow_rate_min": 499.7987750964985, "system_level_velocity_min": 8.975454514763948, "outflow_rate_mean": 893.3025955949024, "cost2_max": -19.787152233749104, "cost1_max": 441.7356878479191, "cost1_min": 26.337077093936486, "cost1_mean": 360.12168629527594, "system_level_velocity_max": 18.504124139334966, "cost2_mean": -59.84360027904405}, "episode_len_mean": 693.4, "episode_reward_mean": 1068.312959516994, "pid": 366, "iterations_since_restore": 157, "episode_reward_max": 1365.7607760376359, "node_ip": "10.138.0.2", "timestamp": 1556581694, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 107677, "time_this_iter_s": 38.935752153396606, "training_iteration": 157, "time_since_restore": 6230.441379547119, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 406.4442015469401, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309828>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309208>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309898>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 17518516, "grad_time_ms": 22593.345, "load_time_ms": 23.189, "update_time_ms": 11.35, "default": {"entropy": 2.0105602741241455, "cur_kl_coeff": 0.5062499046325684, "total_loss": 45.116905212402344, "kl": 0.015719689428806305, "vf_explained_var": 0.7539446949958801, "vf_loss": 45.12586212158203, "policy_loss": -0.016912791877985, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 17518516, "sample_time_ms": 15552.024}, "timesteps_since_restore": 17518516, "date": "2019-04-29_23-48-52", "timesteps_total": 17518516, "episodes_this_iter": 60, "episodes_total": 9595, "hostname": "flow-main", "time_total_s": 6268.22925901413, "custom_metrics": {"cost2_min": -134.65953352782475, "system_level_velocity_mean": 13.945526463352378, "outflow_rate_max": 1136.8934409048018, "outflow_rate_min": 708.218157917446, "system_level_velocity_min": 8.298618499161046, "outflow_rate_mean": 897.7066851646088, "cost2_max": -25.050884519239148, "cost1_max": 441.7356878479191, "cost1_min": 165.92333246558954, "cost1_mean": 358.9484109068347, "system_level_velocity_max": 17.705418186867504, "cost2_mean": -61.038008544949925}, "episode_len_mean": 695.67, "episode_reward_mean": 1074.8955454410986, "pid": 366, "iterations_since_restore": 158, "episode_reward_max": 1331.1902452013474, "node_ip": "10.138.0.2", "timestamp": 1556581732, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 107005, "time_this_iter_s": 37.7878794670105, "training_iteration": 158, "time_since_restore": 6268.22925901413, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 53.72934658091344, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305630>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305a58>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305eb8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 17626927, "grad_time_ms": 22593.648, "load_time_ms": 23.089, "update_time_ms": 11.448, "default": {"entropy": 2.0324742794036865, "cur_kl_coeff": 0.5062499642372131, "total_loss": 47.771270751953125, "kl": 0.016147756949067116, "vf_explained_var": 0.766886830329895, "vf_loss": 47.78013229370117, "policy_loss": -0.01703454554080963, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 17626927, "sample_time_ms": 15555.396}, "timesteps_since_restore": 17626927, "date": "2019-04-29_23-49-29", "timesteps_total": 17626927, "episodes_this_iter": 70, "episodes_total": 9665, "hostname": "flow-main", "time_total_s": 6305.283878326416, "custom_metrics": {"cost2_min": -138.05850297192393, "system_level_velocity_mean": 13.873363188252732, "outflow_rate_max": 1136.8934409048018, "outflow_rate_min": 489.92596116141834, "system_level_velocity_min": 8.342698968600606, "outflow_rate_mean": 910.4151966587066, "cost2_max": -13.291306264657964, "cost1_max": 450.99913145222615, "cost1_min": 18.381794931867432, "cost1_mean": 355.13656386411543, "system_level_velocity_max": 18.274400548056978, "cost2_mean": -64.68323287569689}, "episode_len_mean": 693.28, "episode_reward_mean": 1086.9725994623377, "pid": 366, "iterations_since_restore": 159, "episode_reward_max": 1331.1902452013474, "node_ip": "10.138.0.2", "timestamp": 1556581769, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 108411, "time_this_iter_s": 37.05461931228638, "training_iteration": 159, "time_since_restore": 6305.283878326416, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 756.7004485036674, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309240>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309b70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309cf8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 17734281, "grad_time_ms": 22538.194, "load_time_ms": 21.876, "update_time_ms": 11.445, "default": {"entropy": 2.045837879180908, "cur_kl_coeff": 0.5062499046325684, "total_loss": 50.35299301147461, "kl": 0.01630835048854351, "vf_explained_var": 0.7362000346183777, "vf_loss": 50.36213302612305, "policy_loss": -0.017397521063685417, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 17734281, "sample_time_ms": 15504.495}, "timesteps_since_restore": 17734281, "date": "2019-04-29_23-50-05", "timesteps_total": 17734281, "episodes_this_iter": 69, "episodes_total": 9734, "hostname": "flow-main", "time_total_s": 6341.793137788773, "custom_metrics": {"cost2_min": -138.05850297192393, "system_level_velocity_mean": 13.354211677679318, "outflow_rate_max": 1089.3129804581836, "outflow_rate_min": 661.227132941352, "system_level_velocity_min": 7.322138260262448, "outflow_rate_mean": 873.7681955499841, "cost2_max": -24.095616512991967, "cost1_max": 436.0538712153086, "cost1_min": 186.4386531490305, "cost1_mean": 345.7860670283542, "system_level_velocity_max": 16.836322070554758, "cost2_mean": -62.23848296490277}, "episode_len_mean": 700.0, "episode_reward_mean": 1061.6750464287347, "pid": 366, "iterations_since_restore": 160, "episode_reward_max": 1318.0246732562266, "node_ip": "10.138.0.2", "timestamp": 1556581805, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 107354, "time_this_iter_s": 36.50925946235657, "training_iteration": 160, "time_since_restore": 6341.793137788773, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 767.3110258712745, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305080>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305860>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305208>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 17841224, "grad_time_ms": 22674.556, "load_time_ms": 21.469, "update_time_ms": 11.556, "default": {"entropy": 2.050713062286377, "cur_kl_coeff": 0.5062499046325684, "total_loss": 43.29648208618164, "kl": 0.0161739494651556, "vf_explained_var": 0.7628520131111145, "vf_loss": 43.30604553222656, "policy_loss": -0.017752263695001602, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 17841224, "sample_time_ms": 15460.202}, "timesteps_since_restore": 17841224, "date": "2019-04-29_23-50-43", "timesteps_total": 17841224, "episodes_this_iter": 60, "episodes_total": 9794, "hostname": "flow-main", "time_total_s": 6379.718109130859, "custom_metrics": {"cost2_min": -143.61646182269163, "system_level_velocity_mean": 13.57440798490807, "outflow_rate_max": 1182.9296962301537, "outflow_rate_min": 673.2398229500379, "system_level_velocity_min": 7.765378749087665, "outflow_rate_mean": 890.4232428876687, "cost2_max": -26.592187622298134, "cost1_max": 432.50454224747915, "cost1_min": 202.11694790964648, "cost1_mean": 351.0856536880734, "system_level_velocity_max": 17.120095214547156, "cost2_mean": -63.782544752006}, "episode_len_mean": 697.97, "episode_reward_mean": 1074.13735798207, "pid": 366, "iterations_since_restore": 161, "episode_reward_max": 1407.0468295996516, "node_ip": "10.138.0.2", "timestamp": 1556581843, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 106943, "time_this_iter_s": 37.92497134208679, "training_iteration": 161, "time_since_restore": 6379.718109130859, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 57.63094583527809, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33097f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309b00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33096a0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 17948499, "grad_time_ms": 22524.57, "load_time_ms": 21.015, "update_time_ms": 11.658, "default": {"entropy": 2.0497937202453613, "cur_kl_coeff": 0.5062499046325684, "total_loss": 45.87059020996094, "kl": 0.01625252515077591, "vf_explained_var": 0.7128875851631165, "vf_loss": 45.879539489746094, "policy_loss": -0.017177065834403038, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 17948499, "sample_time_ms": 15487.563}, "timesteps_since_restore": 17948499, "date": "2019-04-29_23-51-21", "timesteps_total": 17948499, "episodes_this_iter": 67, "episodes_total": 9861, "hostname": "flow-main", "time_total_s": 6417.118008136749, "custom_metrics": {"cost2_min": -135.31211889514685, "system_level_velocity_mean": 13.785474912667475, "outflow_rate_max": 1182.9296962301537, "outflow_rate_min": 504.252583549394, "system_level_velocity_min": 7.867861280178642, "outflow_rate_mean": 897.1702842042126, "cost2_max": -18.582469904238884, "cost1_max": 452.5373853998235, "cost1_min": 22.921292571963452, "cost1_mean": 351.9543556238752, "system_level_velocity_max": 18.346218638034365, "cost2_mean": -62.10934440301617}, "episode_len_mean": 691.31, "episode_reward_mean": 1079.054921243411, "pid": 366, "iterations_since_restore": 162, "episode_reward_max": 1407.0468295996516, "node_ip": "10.138.0.2", "timestamp": 1556581881, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 107275, "time_this_iter_s": 37.39989900588989, "training_iteration": 162, "time_since_restore": 6417.118008136749, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 44.920259525058896, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305240>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305978>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33050f0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 18054924, "grad_time_ms": 22448.015, "load_time_ms": 21.092, "update_time_ms": 11.804, "default": {"entropy": 2.051888942718506, "cur_kl_coeff": 0.5062499046325684, "total_loss": 46.37245559692383, "kl": 0.01596776209771633, "vf_explained_var": 0.679632842540741, "vf_loss": 46.38142013549805, "policy_loss": -0.017048794776201248, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 18054924, "sample_time_ms": 15364.756}, "timesteps_since_restore": 18054924, "date": "2019-04-29_23-51-59", "timesteps_total": 18054924, "episodes_this_iter": 66, "episodes_total": 9927, "hostname": "flow-main", "time_total_s": 6455.430048942566, "custom_metrics": {"cost2_min": -130.0679019190884, "system_level_velocity_mean": 14.012616992804187, "outflow_rate_max": 1152.334321732034, "outflow_rate_min": 478.6715823005086, "system_level_velocity_min": 7.867861280178642, "outflow_rate_mean": 895.542868335997, "cost2_max": -16.124644450348303, "cost1_max": 445.4336237777602, "cost1_min": 15.332873721062404, "cost1_mean": 354.8873655632497, "system_level_velocity_max": 18.346218638034365, "cost2_mean": -56.44855897236975}, "episode_len_mean": 686.57, "episode_reward_mean": 1067.255255784221, "pid": 366, "iterations_since_restore": 163, "episode_reward_max": 1331.0353817782106, "node_ip": "10.138.0.2", "timestamp": 1556581919, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 106425, "time_this_iter_s": 38.31204080581665, "training_iteration": 163, "time_since_restore": 6455.430048942566, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 60.1409212491012, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309e80>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309080>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309c50>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 18162520, "grad_time_ms": 22488.219, "load_time_ms": 20.208, "update_time_ms": 11.944, "default": {"entropy": 2.0476443767547607, "cur_kl_coeff": 0.5062499046325684, "total_loss": 46.64132308959961, "kl": 0.015989676117897034, "vf_explained_var": 0.7324770092964172, "vf_loss": 46.649940490722656, "policy_loss": -0.01670864038169384, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 18162520, "sample_time_ms": 15229.242}, "timesteps_since_restore": 18162520, "date": "2019-04-29_23-52-37", "timesteps_total": 18162520, "episodes_this_iter": 64, "episodes_total": 9991, "hostname": "flow-main", "time_total_s": 6493.135209321976, "custom_metrics": {"cost2_min": -131.47060491132953, "system_level_velocity_mean": 13.941300908337201, "outflow_rate_max": 1152.334321732034, "outflow_rate_min": 505.8920429059699, "system_level_velocity_min": 8.464566064523385, "outflow_rate_mean": 892.5890072059457, "cost2_max": -19.082206817611173, "cost1_max": 445.4336237777602, "cost1_min": 23.62103159595853, "cost1_mean": 352.78748003012623, "system_level_velocity_max": 18.93160936100623, "cost2_mean": -58.86346894247301}, "episode_len_mean": 686.83, "episode_reward_mean": 1073.6257537751928, "pid": 366, "iterations_since_restore": 164, "episode_reward_max": 1328.3295224095846, "node_ip": "10.138.0.2", "timestamp": 1556581957, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 107596, "time_this_iter_s": 37.70516037940979, "training_iteration": 164, "time_since_restore": 6493.135209321976, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 38.726457459966504, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33055f8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33050b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305198>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 18270664, "grad_time_ms": 22146.596, "load_time_ms": 19.167, "update_time_ms": 12.115, "default": {"entropy": 2.0778703689575195, "cur_kl_coeff": 0.5062499642372131, "total_loss": 45.475528717041016, "kl": 0.015878619626164436, "vf_explained_var": 0.7775902152061462, "vf_loss": 45.4849739074707, "policy_loss": -0.01747938059270382, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 18270664, "sample_time_ms": 15180.633}, "timesteps_since_restore": 18270664, "date": "2019-04-29_23-53-14", "timesteps_total": 18270664, "episodes_this_iter": 66, "episodes_total": 10057, "hostname": "flow-main", "time_total_s": 6529.994051218033, "custom_metrics": {"cost2_min": -122.87271050422383, "system_level_velocity_mean": 13.69802777448102, "outflow_rate_max": 1151.3245427278928, "outflow_rate_min": 478.6715823005086, "system_level_velocity_min": 8.464566064523385, "outflow_rate_mean": 884.4322515268909, "cost2_max": -16.18024833178925, "cost1_max": 444.44193585419237, "cost1_min": 15.46300517996436, "cost1_mean": 345.9759551705058, "system_level_velocity_max": 18.188421573170686, "cost2_mean": -63.16828607016673}, "episode_len_mean": 686.71, "episode_reward_mean": 1072.206371341837, "pid": 366, "iterations_since_restore": 165, "episode_reward_max": 1317.8340797383344, "node_ip": "10.138.0.2", "timestamp": 1556581994, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 108144, "time_this_iter_s": 36.85884189605713, "training_iteration": 165, "time_since_restore": 6529.994051218033, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 812.8685945164327, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33095c0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33096a0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309a20>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 18377493, "grad_time_ms": 22326.176, "load_time_ms": 19.504, "update_time_ms": 12.253, "default": {"entropy": 2.059166431427002, "cur_kl_coeff": 0.5062499642372131, "total_loss": 46.39048767089844, "kl": 0.016775382682681084, "vf_explained_var": 0.73051917552948, "vf_loss": 46.397735595703125, "policy_loss": -0.015736322849988937, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 18377493, "sample_time_ms": 15213.712}, "timesteps_since_restore": 18377493, "date": "2019-04-29_23-53-53", "timesteps_total": 18377493, "episodes_this_iter": 65, "episodes_total": 10122, "hostname": "flow-main", "time_total_s": 6569.403220653534, "custom_metrics": {"cost2_min": -133.12839138635096, "system_level_velocity_mean": 13.55814508652062, "outflow_rate_max": 1083.15344290239, "outflow_rate_min": 686.532848033053, "system_level_velocity_min": 7.950450400814024, "outflow_rate_mean": 893.9707902398513, "cost2_max": -24.782491899127447, "cost1_max": 443.4858033993645, "cost1_min": 201.36240506108481, "cost1_mean": 350.61583348991735, "system_level_velocity_max": 17.39151622128663, "cost2_mean": -63.842869987458414}, "episode_len_mean": 698.2, "episode_reward_mean": 1087.5625017179584, "pid": 366, "iterations_since_restore": 166, "episode_reward_max": 1331.127097091639, "node_ip": "10.138.0.2", "timestamp": 1556582033, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 106829, "time_this_iter_s": 39.4091694355011, "training_iteration": 166, "time_since_restore": 6569.403220653534, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 843.6894855453123, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33057b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305cc0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305400>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 18484398, "grad_time_ms": 22360.315, "load_time_ms": 19.854, "update_time_ms": 12.432, "default": {"entropy": 2.07989764213562, "cur_kl_coeff": 0.5062499046325684, "total_loss": 46.464012145996094, "kl": 0.01801886409521103, "vf_explained_var": 0.7136482000350952, "vf_loss": 46.471126556396484, "policy_loss": -0.016238218173384666, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 18484398, "sample_time_ms": 15121.206}, "timesteps_since_restore": 18484398, "date": "2019-04-29_23-54-32", "timesteps_total": 18484398, "episodes_this_iter": 64, "episodes_total": 10186, "hostname": "flow-main", "time_total_s": 6607.7742557525635, "custom_metrics": {"cost2_min": -144.29255411047342, "system_level_velocity_mean": 13.509992042280587, "outflow_rate_max": 1113.9369204122238, "outflow_rate_min": 687.1804182529903, "system_level_velocity_min": 7.950450400814024, "outflow_rate_mean": 881.5831030440959, "cost2_max": -24.87465077785396, "cost1_max": 443.4858033993645, "cost1_min": 201.36240506108481, "cost1_mean": 348.91918811124896, "system_level_velocity_max": 17.39151622128663, "cost2_mean": -62.58075036789906}, "episode_len_mean": 698.2, "episode_reward_mean": 1073.558143744382, "pid": 366, "iterations_since_restore": 167, "episode_reward_max": 1331.127097091639, "node_ip": "10.138.0.2", "timestamp": 1556582072, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 106905, "time_this_iter_s": 38.37103509902954, "training_iteration": 167, "time_since_restore": 6607.7742557525635, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 32.90342777091418, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33090f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309f98>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309908>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 18590732, "grad_time_ms": 22295.487, "load_time_ms": 19.626, "update_time_ms": 12.522, "default": {"entropy": 2.043471336364746, "cur_kl_coeff": 0.5062499046325684, "total_loss": 45.18553924560547, "kl": 0.01680549420416355, "vf_explained_var": 0.7202414870262146, "vf_loss": 45.19458770751953, "policy_loss": -0.0175588708370924, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 18590732, "sample_time_ms": 15213.222}, "timesteps_since_restore": 18590732, "date": "2019-04-29_23-55-10", "timesteps_total": 18590732, "episodes_this_iter": 66, "episodes_total": 10252, "hostname": "flow-main", "time_total_s": 6645.870401859283, "custom_metrics": {"cost2_min": -144.29255411047342, "system_level_velocity_mean": 13.621975683905045, "outflow_rate_max": 1113.9369204122238, "outflow_rate_min": 463.6665442790401, "system_level_velocity_min": 8.896229375445841, "outflow_rate_mean": 881.4840157699451, "cost2_max": -14.450774054053886, "cost1_max": 438.6684358459274, "cost1_min": 12.431028151258811, "cost1_mean": 348.42066851975954, "system_level_velocity_max": 17.912442212730266, "cost2_mean": -62.353086368566245}, "episode_len_mean": 693.19, "episode_reward_mean": 1072.018159184322, "pid": 366, "iterations_since_restore": 168, "episode_reward_max": 1336.41783207074, "node_ip": "10.138.0.2", "timestamp": 1556582110, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 106334, "time_this_iter_s": 38.09614610671997, "training_iteration": 168, "time_since_restore": 6645.870401859283, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 32.90342777091418, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305240>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33051d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33058d0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 18697896, "grad_time_ms": 22387.42, "load_time_ms": 18.73, "update_time_ms": 12.58, "default": {"entropy": 2.0597422122955322, "cur_kl_coeff": 0.5062499642372131, "total_loss": 45.28532791137695, "kl": 0.01601841114461422, "vf_explained_var": 0.7272104620933533, "vf_loss": 45.293758392333984, "policy_loss": -0.01653253473341465, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 18697896, "sample_time_ms": 15196.955}, "timesteps_since_restore": 18697896, "date": "2019-04-29_23-55-48", "timesteps_total": 18697896, "episodes_this_iter": 64, "episodes_total": 10316, "hostname": "flow-main", "time_total_s": 6683.674964189529, "custom_metrics": {"cost2_min": -147.3001849212906, "system_level_velocity_mean": 14.000938886843684, "outflow_rate_max": 1122.999720001963, "outflow_rate_min": 463.6665442790401, "system_level_velocity_min": 9.535572002733119, "outflow_rate_mean": 907.4365695063509, "cost2_max": -14.450774054053886, "cost1_max": 451.4582733040313, "cost1_min": 12.431028151258811, "cost1_mean": 357.69087017578204, "system_level_velocity_max": 18.01560026795105, "cost2_mean": -60.89524190677372}, "episode_len_mean": 690.76, "episode_reward_mean": 1085.6543312144966, "pid": 366, "iterations_since_restore": 169, "episode_reward_max": 1325.3496556204655, "node_ip": "10.138.0.2", "timestamp": 1556582148, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 107164, "time_this_iter_s": 37.80456233024597, "training_iteration": 169, "time_since_restore": 6683.674964189529, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 767.942895560944, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33093c8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309080>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309240>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 18805440, "grad_time_ms": 22549.452, "load_time_ms": 19.922, "update_time_ms": 12.483, "default": {"entropy": 2.052185535430908, "cur_kl_coeff": 0.5062499046325684, "total_loss": 46.48529052734375, "kl": 0.01661198027431965, "vf_explained_var": 0.7321690320968628, "vf_loss": 46.49399948120117, "policy_loss": -0.01711440272629261, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 18805440, "sample_time_ms": 15209.964}, "timesteps_since_restore": 18805440, "date": "2019-04-29_23-56-26", "timesteps_total": 18805440, "episodes_this_iter": 66, "episodes_total": 10382, "hostname": "flow-main", "time_total_s": 6721.95552277565, "custom_metrics": {"cost2_min": -147.3001849212906, "system_level_velocity_mean": 13.898189806172324, "outflow_rate_max": 1128.8115539136531, "outflow_rate_min": 684.5365713912201, "system_level_velocity_min": 8.304776103673708, "outflow_rate_mean": 917.5465960807218, "cost2_max": -21.35895927726444, "cost1_max": 444.96051238319114, "cost1_min": 213.76453169388492, "cost1_mean": 358.9039318708525, "system_level_velocity_max": 18.06094630214705, "cost2_mean": -63.00344873612275}, "episode_len_mean": 697.57, "episode_reward_mean": 1104.426619671606, "pid": 366, "iterations_since_restore": 170, "episode_reward_max": 1325.3496556204655, "node_ip": "10.138.0.2", "timestamp": 1556582186, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 107544, "time_this_iter_s": 38.280558586120605, "training_iteration": 170, "time_since_restore": 6721.95552277565, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 66.78852835421405, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305048>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305a58>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305278>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 18911986, "grad_time_ms": 22516.305, "load_time_ms": 19.811, "update_time_ms": 12.43, "default": {"entropy": 2.080732822418213, "cur_kl_coeff": 0.5062499642372131, "total_loss": 48.96926498413086, "kl": 0.016660412773489952, "vf_explained_var": 0.7223945260047913, "vf_loss": 48.97761917114258, "policy_loss": -0.016785459592938423, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 18911986, "sample_time_ms": 15274.375}, "timesteps_since_restore": 18911986, "date": "2019-04-29_23-57-04", "timesteps_total": 18911986, "episodes_this_iter": 66, "episodes_total": 10448, "hostname": "flow-main", "time_total_s": 6760.212854146957, "custom_metrics": {"cost2_min": -146.05079964510412, "system_level_velocity_mean": 14.085532236104248, "outflow_rate_max": 1188.530169192201, "outflow_rate_min": 508.9967741410367, "system_level_velocity_min": 8.078349054985576, "outflow_rate_mean": 918.0764960337847, "cost2_max": -19.141150116211698, "cost1_max": 442.2660870599538, "cost1_min": 25.426480892566545, "cost1_mean": 359.5009824144064, "system_level_velocity_max": 18.45200096710262, "cost2_mean": -61.96754514076784}, "episode_len_mean": 693.39, "episode_reward_mean": 1100.0590649554201, "pid": 366, "iterations_since_restore": 171, "episode_reward_max": 1363.473270942279, "node_ip": "10.138.0.2", "timestamp": 1556582224, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 106546, "time_this_iter_s": 38.25733137130737, "training_iteration": 171, "time_since_restore": 6760.212854146957, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 63.43761378264623, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33098d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305b00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305e48>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 19018139, "grad_time_ms": 22671.34, "load_time_ms": 20.285, "update_time_ms": 12.57, "default": {"entropy": 2.0577151775360107, "cur_kl_coeff": 0.5062499642372131, "total_loss": 45.55046844482422, "kl": 0.016440531238913536, "vf_explained_var": 0.718737781047821, "vf_loss": 45.559391021728516, "policy_loss": -0.01724293828010559, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 19018139, "sample_time_ms": 15252.075}, "timesteps_since_restore": 19018139, "date": "2019-04-29_23-57-43", "timesteps_total": 19018139, "episodes_this_iter": 65, "episodes_total": 10513, "hostname": "flow-main", "time_total_s": 6798.947713851929, "custom_metrics": {"cost2_min": -127.24132494519525, "system_level_velocity_mean": 14.259529919544208, "outflow_rate_max": 1120.7508161723392, "outflow_rate_min": 508.9967741410367, "system_level_velocity_min": 9.536755692094102, "outflow_rate_mean": 906.6314012410436, "cost2_max": -16.128676813636904, "cost1_max": 448.99461971969606, "cost1_min": 24.671576382952253, "cost1_mean": 359.185362692031, "system_level_velocity_max": 18.45200096710262, "cost2_mean": -59.74847908346298}, "episode_len_mean": 686.78, "episode_reward_mean": 1083.1307323896312, "pid": 366, "iterations_since_restore": 172, "episode_reward_max": 1358.6832374411606, "node_ip": "10.138.0.2", "timestamp": 1556582263, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 106153, "time_this_iter_s": 38.73485970497131, "training_iteration": 172, "time_since_restore": 6798.947713851929, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 61.44655637492588, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33056a0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305b38>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305898>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 19125284, "grad_time_ms": 22701.502, "load_time_ms": 20.43, "update_time_ms": 12.466, "default": {"entropy": 2.067591428756714, "cur_kl_coeff": 0.5062499642372131, "total_loss": 47.663211822509766, "kl": 0.016837889328598976, "vf_explained_var": 0.7176507711410522, "vf_loss": 47.671409606933594, "policy_loss": -0.01671985536813736, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 19125284, "sample_time_ms": 15267.504}, "timesteps_since_restore": 19125284, "date": "2019-04-29_23-58-22", "timesteps_total": 19125284, "episodes_this_iter": 68, "episodes_total": 10581, "hostname": "flow-main", "time_total_s": 6837.708741188049, "custom_metrics": {"cost2_min": -124.68095633400944, "system_level_velocity_mean": 14.087639080899564, "outflow_rate_max": 1131.5685221009985, "outflow_rate_min": 501.4827370359695, "system_level_velocity_min": 9.485435372955784, "outflow_rate_mean": 908.2787550988694, "cost2_max": -16.747637899936084, "cost1_max": 455.03135797983555, "cost1_min": 22.823129628536467, "cost1_mean": 360.0586491322372, "system_level_velocity_max": 18.245666632947685, "cost2_mean": -61.23252668517761}, "episode_len_mean": 693.02, "episode_reward_mean": 1087.493544233512, "pid": 366, "iterations_since_restore": 173, "episode_reward_max": 1350.7093283052345, "node_ip": "10.138.0.2", "timestamp": 1556582302, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 107145, "time_this_iter_s": 38.761027336120605, "training_iteration": 173, "time_since_restore": 6837.708741188049, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 810.2542129951736, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309438>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33093c8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309080>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 19230133, "grad_time_ms": 22766.349, "load_time_ms": 20.206, "update_time_ms": 12.211, "default": {"entropy": 2.098496913909912, "cur_kl_coeff": 0.5062499642372131, "total_loss": 47.1518440246582, "kl": 0.017257502302527428, "vf_explained_var": 0.7217288017272949, "vf_loss": 47.1616096496582, "policy_loss": -0.01850791834294796, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 19230133, "sample_time_ms": 15235.258}, "timesteps_since_restore": 19230133, "date": "2019-04-29_23-59-00", "timesteps_total": 19230133, "episodes_this_iter": 65, "episodes_total": 10646, "hostname": "flow-main", "time_total_s": 6875.742027759552, "custom_metrics": {"cost2_min": -146.58379030938627, "system_level_velocity_mean": 13.762258460920455, "outflow_rate_max": 1173.757414568903, "outflow_rate_min": 686.4785269159936, "system_level_velocity_min": 9.380496238545662, "outflow_rate_mean": 887.7404788666064, "cost2_max": -24.327429924913123, "cost1_max": 455.26814373999184, "cost1_min": 237.05287300548838, "cost1_mean": 355.8222851693516, "system_level_velocity_max": 18.245666632947685, "cost2_mean": -60.554145039121096}, "episode_len_mean": 700.0, "episode_reward_mean": 1058.656374501514, "pid": 366, "iterations_since_restore": 174, "episode_reward_max": 1323.9875305467212, "node_ip": "10.138.0.2", "timestamp": 1556582340, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 104849, "time_this_iter_s": 38.033286571502686, "training_iteration": 174, "time_since_restore": 6875.742027759552, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 26.306146807884506, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305cf8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305630>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305160>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 19338551, "grad_time_ms": 23070.879, "load_time_ms": 21.045, "update_time_ms": 12.106, "default": {"entropy": 2.083847761154175, "cur_kl_coeff": 0.5062499642372131, "total_loss": 45.684844970703125, "kl": 0.0176924467086792, "vf_explained_var": 0.7538213729858398, "vf_loss": 45.69417190551758, "policy_loss": -0.018282195553183556, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 19338551, "sample_time_ms": 15240.31}, "timesteps_since_restore": 19338551, "date": "2019-04-29_23-59-40", "timesteps_total": 19338551, "episodes_this_iter": 64, "episodes_total": 10710, "hostname": "flow-main", "time_total_s": 6915.683852434158, "custom_metrics": {"cost2_min": -146.58379030938627, "system_level_velocity_mean": 13.76069544468864, "outflow_rate_max": 1173.757414568903, "outflow_rate_min": 467.7500288525429, "system_level_velocity_min": 8.486570294030061, "outflow_rate_mean": 886.5933326839222, "cost2_max": -13.453767936096716, "cost1_max": 455.26814373999184, "cost1_min": 12.369762723034707, "cost1_mean": 347.41208741770015, "system_level_velocity_max": 18.176869740636395, "cost2_mean": -61.84039634528556}, "episode_len_mean": 686.54, "episode_reward_mean": 1061.6707401630906, "pid": 366, "iterations_since_restore": 175, "episode_reward_max": 1328.055242577595, "node_ip": "10.138.0.2", "timestamp": 1556582380, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 108418, "time_this_iter_s": 39.94182467460632, "training_iteration": 175, "time_since_restore": 6915.683852434158, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 26.306146807884506, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378a90>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33788d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378b00>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 19444413, "grad_time_ms": 22945.219, "load_time_ms": 19.956, "update_time_ms": 11.939, "default": {"entropy": 2.1343765258789062, "cur_kl_coeff": 0.5062499642372131, "total_loss": 45.24829864501953, "kl": 0.016726884990930557, "vf_explained_var": 0.7485727071762085, "vf_loss": 45.25787353515625, "policy_loss": -0.01804536022245884, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 19444413, "sample_time_ms": 15184.596}, "timesteps_since_restore": 19444413, "date": "2019-04-30_00-00-18", "timesteps_total": 19444413, "episodes_this_iter": 63, "episodes_total": 10773, "hostname": "flow-main", "time_total_s": 6953.2392411231995, "custom_metrics": {"cost2_min": -119.19021277462878, "system_level_velocity_mean": 13.67310907185972, "outflow_rate_max": 1098.4334987567868, "outflow_rate_min": 467.7500288525429, "system_level_velocity_min": 8.332522728852114, "outflow_rate_mean": 884.7157916156863, "cost2_max": -13.453767936096716, "cost1_max": 448.1743296987014, "cost1_min": 12.369762723034707, "cost1_mean": 344.8565884522628, "system_level_velocity_max": 17.838467542074522, "cost2_mean": -63.303638953552145}, "episode_len_mean": 686.54, "episode_reward_mean": 1065.4993589005646, "pid": 366, "iterations_since_restore": 176, "episode_reward_max": 1328.055242577595, "node_ip": "10.138.0.2", "timestamp": 1556582418, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 105862, "time_this_iter_s": 37.55538868904114, "training_iteration": 176, "time_since_restore": 6953.2392411231995, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 817.5853103754478, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33098d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309208>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309dd8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 19550538, "grad_time_ms": 22877.005, "load_time_ms": 19.849, "update_time_ms": 11.666, "default": {"entropy": 2.095705986022949, "cur_kl_coeff": 0.5062499642372131, "total_loss": 47.28863525390625, "kl": 0.016681654378771782, "vf_explained_var": 0.7120780944824219, "vf_loss": 47.29747772216797, "policy_loss": -0.01728869043290615, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 19550538, "sample_time_ms": 15163.505}, "timesteps_since_restore": 19550538, "date": "2019-04-30_00-00-55", "timesteps_total": 19550538, "episodes_this_iter": 70, "episodes_total": 10843, "hostname": "flow-main", "time_total_s": 6990.699495792389, "custom_metrics": {"cost2_min": -116.07189695702998, "system_level_velocity_mean": 13.560889810030112, "outflow_rate_max": 1117.6338489377345, "outflow_rate_min": 704.0224851772547, "system_level_velocity_min": 8.827813980227317, "outflow_rate_mean": 893.6919794588395, "cost2_max": -23.718997676046357, "cost1_max": 431.8250495529852, "cost1_min": 221.48699537773786, "cost1_mean": 351.9419599584673, "system_level_velocity_max": 17.284812410555045, "cost2_mean": -62.92337798196275}, "episode_len_mean": 700.0, "episode_reward_mean": 1076.7004456087539, "pid": 366, "iterations_since_restore": 177, "episode_reward_max": 1404.6400668866795, "node_ip": "10.138.0.2", "timestamp": 1556582455, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 106125, "time_this_iter_s": 37.46025466918945, "training_iteration": 177, "time_since_restore": 6990.699495792389, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 769.9148910749703, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378278>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378f28>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33787b8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 19658704, "grad_time_ms": 22966.002, "load_time_ms": 19.467, "update_time_ms": 11.649, "default": {"entropy": 2.12272310256958, "cur_kl_coeff": 0.5062499046325684, "total_loss": 42.65830993652344, "kl": 0.016498351469635963, "vf_explained_var": 0.7535195350646973, "vf_loss": 42.66731643676758, "policy_loss": -0.01735823228955269, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 19658704, "sample_time_ms": 15078.496}, "timesteps_since_restore": 19658704, "date": "2019-04-30_00-01-33", "timesteps_total": 19658704, "episodes_this_iter": 61, "episodes_total": 10904, "hostname": "flow-main", "time_total_s": 7028.8259065151215, "custom_metrics": {"cost2_min": -135.52601341423502, "system_level_velocity_mean": 13.736189879642858, "outflow_rate_max": 1137.5372050260366, "outflow_rate_min": 671.7578648289026, "system_level_velocity_min": 8.723259184829486, "outflow_rate_mean": 890.0885696289737, "cost2_max": -23.718997676046357, "cost1_max": 451.0219820503002, "cost1_min": 221.48699537773786, "cost1_mean": 355.79183059085136, "system_level_velocity_max": 18.12362923231996, "cost2_mean": -60.75579234859472}, "episode_len_mean": 700.0, "episode_reward_mean": 1072.7453877964836, "pid": 366, "iterations_since_restore": 178, "episode_reward_max": 1404.6400668866795, "node_ip": "10.138.0.2", "timestamp": 1556582493, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 108166, "time_this_iter_s": 38.126410722732544, "training_iteration": 178, "time_since_restore": 7028.8259065151215, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 769.9148910749703, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309828>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33090f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3373fd0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 19766040, "grad_time_ms": 23001.708, "load_time_ms": 20.92, "update_time_ms": 11.514, "default": {"entropy": 2.122133493423462, "cur_kl_coeff": 0.5062499046325684, "total_loss": 45.74882507324219, "kl": 0.017061753198504448, "vf_explained_var": 0.7559354305267334, "vf_loss": 45.75798797607422, "policy_loss": -0.01780247688293457, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 19766040, "sample_time_ms": 15137.152}, "timesteps_since_restore": 19766040, "date": "2019-04-30_00-02-12", "timesteps_total": 19766040, "episodes_this_iter": 63, "episodes_total": 10967, "hostname": "flow-main", "time_total_s": 7067.61773109436, "custom_metrics": {"cost2_min": -135.52601341423502, "system_level_velocity_mean": 13.568169153063545, "outflow_rate_max": 1142.9239054103073, "outflow_rate_min": 621.5017084098916, "system_level_velocity_min": 7.073608007536843, "outflow_rate_mean": 888.7790518437758, "cost2_max": -24.72945379245431, "cost1_max": 451.0219820503002, "cost1_min": 181.0154136032969, "cost1_mean": 350.58771906136366, "system_level_velocity_max": 18.12362923231996, "cost2_mean": -62.60948090407423}, "episode_len_mean": 700.0, "episode_reward_mean": 1078.3429261032493, "pid": 366, "iterations_since_restore": 179, "episode_reward_max": 1338.7111553363566, "node_ip": "10.138.0.2", "timestamp": 1556582532, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 107336, "time_this_iter_s": 38.79182457923889, "training_iteration": 179, "time_since_restore": 7067.61773109436, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 827.6319678346282, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378898>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378828>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378e48>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 19874382, "grad_time_ms": 23071.892, "load_time_ms": 20.853, "update_time_ms": 11.641, "default": {"entropy": 2.1266064643859863, "cur_kl_coeff": 0.5062499642372131, "total_loss": 43.09359359741211, "kl": 0.016683489084243774, "vf_explained_var": 0.7551347613334656, "vf_loss": 43.10246276855469, "policy_loss": -0.01731892116367817, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 19874382, "sample_time_ms": 15190.789}, "timesteps_since_restore": 19874382, "date": "2019-04-30_00-02-52", "timesteps_total": 19874382, "episodes_this_iter": 62, "episodes_total": 11029, "hostname": "flow-main", "time_total_s": 7107.17228603363, "custom_metrics": {"cost2_min": -153.59258441243955, "system_level_velocity_mean": 13.484743665958371, "outflow_rate_max": 1142.9239054103073, "outflow_rate_min": 707.2468070843099, "system_level_velocity_min": 8.048824424729723, "outflow_rate_mean": 890.5427651843098, "cost2_max": -22.72248723098588, "cost1_max": 448.6131916323551, "cost1_min": 208.7876894759351, "cost1_mean": 348.8372309557773, "system_level_velocity_max": 17.985088010075877, "cost2_mean": -62.9350972752295}, "episode_len_mean": 700.0, "episode_reward_mean": 1076.1647332847072, "pid": 366, "iterations_since_restore": 180, "episode_reward_max": 1328.0847149852889, "node_ip": "10.138.0.2", "timestamp": 1556582572, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 108342, "time_this_iter_s": 39.55455493927002, "training_iteration": 180, "time_since_restore": 7107.17228603363, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 38.80998781195153, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33093c8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309cf8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309438>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 19983280, "grad_time_ms": 23160.014, "load_time_ms": 21.287, "update_time_ms": 11.719, "default": {"entropy": 2.1465115547180176, "cur_kl_coeff": 0.5062499046325684, "total_loss": 47.80733108520508, "kl": 0.016416160389780998, "vf_explained_var": 0.7533320784568787, "vf_loss": 47.81661605834961, "policy_loss": -0.017606088891625404, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 19983280, "sample_time_ms": 15197.989}, "timesteps_since_restore": 19983280, "date": "2019-04-30_00-03-31", "timesteps_total": 19983280, "episodes_this_iter": 68, "episodes_total": 11097, "hostname": "flow-main", "time_total_s": 7146.377893686295, "custom_metrics": {"cost2_min": -153.59258441243955, "system_level_velocity_mean": 13.538915148628567, "outflow_rate_max": 1185.4229636065022, "outflow_rate_min": 478.74083587680656, "system_level_velocity_min": 8.081128801175772, "outflow_rate_mean": 876.3595422461535, "cost2_max": -14.656477333035062, "cost1_max": 462.34680231981974, "cost1_min": 15.519346085694657, "cost1_mean": 332.5367226883551, "system_level_velocity_max": 18.741593975395507, "cost2_mean": -63.866543357574066}, "episode_len_mean": 673.4, "episode_reward_mean": 1039.3990439333595, "pid": 366, "iterations_since_restore": 181, "episode_reward_max": 1280.945455205016, "node_ip": "10.138.0.2", "timestamp": 1556582611, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 108898, "time_this_iter_s": 39.205607652664185, "training_iteration": 181, "time_since_restore": 7146.377893686295, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 38.80998781195153, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33786d8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378c18>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378278>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 20093069, "grad_time_ms": 23159.29, "load_time_ms": 20.14, "update_time_ms": 11.614, "default": {"entropy": 2.1335086822509766, "cur_kl_coeff": 0.5062499642372131, "total_loss": 42.760292053222656, "kl": 0.016426634043455124, "vf_explained_var": 0.7906959652900696, "vf_loss": 42.76991271972656, "policy_loss": -0.01794147677719593, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 20093069, "sample_time_ms": 15179.008}, "timesteps_since_restore": 20093069, "date": "2019-04-30_00-04-10", "timesteps_total": 20093069, "episodes_this_iter": 62, "episodes_total": 11159, "hostname": "flow-main", "time_total_s": 7184.897275686264, "custom_metrics": {"cost2_min": -158.64196219018186, "system_level_velocity_mean": 13.412105388233304, "outflow_rate_max": 1185.4229636065022, "outflow_rate_min": 478.74083587680656, "system_level_velocity_min": 6.978168009799702, "outflow_rate_mean": 877.7801146045902, "cost2_max": -14.656477333035062, "cost1_max": 462.34680231981974, "cost1_min": 15.519346085694657, "cost1_mean": 330.96349504630103, "system_level_velocity_max": 18.58060269819665, "cost2_mean": -67.14686077440022}, "episode_len_mean": 675.84, "episode_reward_mean": 1043.687180886681, "pid": 366, "iterations_since_restore": 182, "episode_reward_max": 1304.3114789646297, "node_ip": "10.138.0.2", "timestamp": 1556582650, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 109789, "time_this_iter_s": 38.51938199996948, "training_iteration": 182, "time_since_restore": 7184.897275686264, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 73.03436713273844, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309dd8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33090f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33096a0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 20199834, "grad_time_ms": 23034.866, "load_time_ms": 19.357, "update_time_ms": 11.618, "default": {"entropy": 2.1410984992980957, "cur_kl_coeff": 0.5062499642372131, "total_loss": 46.1159782409668, "kl": 0.017061561346054077, "vf_explained_var": 0.7611436247825623, "vf_loss": 46.125736236572266, "policy_loss": -0.018391117453575134, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 20199834, "sample_time_ms": 15144.55}, "timesteps_since_restore": 20199834, "date": "2019-04-30_00-04-47", "timesteps_total": 20199834, "episodes_this_iter": 68, "episodes_total": 11227, "hostname": "flow-main", "time_total_s": 7222.097301244736, "custom_metrics": {"cost2_min": -133.99026090637386, "system_level_velocity_mean": 13.512632337549862, "outflow_rate_max": 1160.194347151667, "outflow_rate_min": 529.0507398682325, "system_level_velocity_min": 6.978168009799702, "outflow_rate_mean": 890.2911787880288, "cost2_max": -18.315513126759395, "cost1_max": 442.805652568259, "cost1_min": 27.453007467862832, "cost1_mean": 344.92260597202613, "system_level_velocity_max": 18.210405423395017, "cost2_mean": -67.66722137431934}, "episode_len_mean": 693.41, "episode_reward_mean": 1080.6008065399367, "pid": 366, "iterations_since_restore": 183, "episode_reward_max": 1413.6254093019506, "node_ip": "10.138.0.2", "timestamp": 1556582687, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 106765, "time_this_iter_s": 37.20002555847168, "training_iteration": 183, "time_since_restore": 7222.097301244736, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 82.1912850305601, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33780f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305780>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305940>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 20306028, "grad_time_ms": 22922.757, "load_time_ms": 20.263, "update_time_ms": 11.997, "default": {"entropy": 2.105717658996582, "cur_kl_coeff": 0.5062499642372131, "total_loss": 46.82332992553711, "kl": 0.016807707026600838, "vf_explained_var": 0.7302436232566833, "vf_loss": 46.83186721801758, "policy_loss": -0.01705147512257099, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 20306028, "sample_time_ms": 15145.457}, "timesteps_since_restore": 20306028, "date": "2019-04-30_00-05-24", "timesteps_total": 20306028, "episodes_this_iter": 66, "episodes_total": 11293, "hostname": "flow-main", "time_total_s": 7259.021080255508, "custom_metrics": {"cost2_min": -129.59893052353542, "system_level_velocity_mean": 13.682393237121657, "outflow_rate_max": 1209.8347848541425, "outflow_rate_min": 515.7961074155786, "system_level_velocity_min": 7.131313198794771, "outflow_rate_mean": 896.9214139298108, "cost2_max": -19.551673436315813, "cost1_max": 447.3124411593675, "cost1_min": 29.73765346263941, "cost1_mean": 349.26903812718393, "system_level_velocity_max": 18.75850362672741, "cost2_mean": -68.48387432608246}, "episode_len_mean": 693.45, "episode_reward_mean": 1078.3434262638061, "pid": 366, "iterations_since_restore": 184, "episode_reward_max": 1413.6254093019506, "node_ip": "10.138.0.2", "timestamp": 1556582724, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 106194, "time_this_iter_s": 36.923779010772705, "training_iteration": 184, "time_since_restore": 7259.021080255508, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 82.1912850305601, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309f98>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309e10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309d30>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 20413158, "grad_time_ms": 22722.147, "load_time_ms": 20.304, "update_time_ms": 12.105, "default": {"entropy": 2.0937936305999756, "cur_kl_coeff": 0.5062499046325684, "total_loss": 48.152320861816406, "kl": 0.016330113634467125, "vf_explained_var": 0.733963668346405, "vf_loss": 48.161865234375, "policy_loss": -0.01781294494867325, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 20413158, "sample_time_ms": 15096.78}, "timesteps_since_restore": 20413158, "date": "2019-04-30_00-06-02", "timesteps_total": 20413158, "episodes_this_iter": 65, "episodes_total": 11358, "hostname": "flow-main", "time_total_s": 7296.488409042358, "custom_metrics": {"cost2_min": -132.25986547153795, "system_level_velocity_mean": 14.038993119170826, "outflow_rate_max": 1163.5059909085485, "outflow_rate_min": 515.7961074155786, "system_level_velocity_min": 8.222840611103495, "outflow_rate_mean": 912.070427099429, "cost2_max": -19.551673436315813, "cost1_max": 454.2422523070279, "cost1_min": 29.73765346263941, "cost1_mean": 357.72021796465555, "system_level_velocity_max": 18.75850362672741, "cost2_mean": -65.89163143415156}, "episode_len_mean": 693.45, "episode_reward_mean": 1086.2378878939987, "pid": 366, "iterations_since_restore": 185, "episode_reward_max": 1345.5334530599698, "node_ip": "10.138.0.2", "timestamp": 1556582762, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 107130, "time_this_iter_s": 37.467328786849976, "training_iteration": 185, "time_since_restore": 7296.488409042358, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 814.1205532668268, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33786a0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378080>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378e80>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 20520914, "grad_time_ms": 22667.498, "load_time_ms": 20.939, "update_time_ms": 12.197, "default": {"entropy": 2.1522786617279053, "cur_kl_coeff": 0.5062499642372131, "total_loss": 45.773990631103516, "kl": 0.017255906015634537, "vf_explained_var": 0.7751925587654114, "vf_loss": 45.783905029296875, "policy_loss": -0.018654752522706985, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 20520914, "sample_time_ms": 15141.283}, "timesteps_since_restore": 20520914, "date": "2019-04-30_00-06-39", "timesteps_total": 20520914, "episodes_this_iter": 65, "episodes_total": 11423, "hostname": "flow-main", "time_total_s": 7333.959450721741, "custom_metrics": {"cost2_min": -139.90159019024833, "system_level_velocity_mean": 14.179968307684774, "outflow_rate_max": 1184.8004235147596, "outflow_rate_min": 739.0235378138588, "system_level_velocity_min": 8.406392639182894, "outflow_rate_mean": 932.2133788775553, "cost2_max": -26.905367126365867, "cost1_max": 454.2422523070279, "cost1_min": 217.66792938093243, "cost1_mean": 367.14737576242146, "system_level_velocity_max": 18.232309105071632, "cost2_mean": -65.99610614063614}, "episode_len_mean": 700.0, "episode_reward_mean": 1110.762915927119, "pid": 366, "iterations_since_restore": 186, "episode_reward_max": 1345.5334530599698, "node_ip": "10.138.0.2", "timestamp": 1556582799, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 107756, "time_this_iter_s": 37.471041679382324, "training_iteration": 186, "time_since_restore": 7333.959450721741, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 870.654824691533, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309828>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33095c0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309dd8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 20628801, "grad_time_ms": 22502.313, "load_time_ms": 20.935, "update_time_ms": 12.225, "default": {"entropy": 2.1514008045196533, "cur_kl_coeff": 0.5062499642372131, "total_loss": 46.99800491333008, "kl": 0.01731354556977749, "vf_explained_var": 0.7490856051445007, "vf_loss": 47.00642013549805, "policy_loss": -0.017183691263198853, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 20628801, "sample_time_ms": 15160.877}, "timesteps_since_restore": 20628801, "date": "2019-04-30_00-07-15", "timesteps_total": 20628801, "episodes_this_iter": 62, "episodes_total": 11485, "hostname": "flow-main", "time_total_s": 7369.9732234478, "custom_metrics": {"cost2_min": -145.61158270801874, "system_level_velocity_mean": 13.699781448777344, "outflow_rate_max": 1184.8004235147596, "outflow_rate_min": 700.3776229597638, "system_level_velocity_min": 7.966866744279276, "outflow_rate_mean": 907.4023851894069, "cost2_max": -26.136831298500894, "cost1_max": 457.30710729872646, "cost1_min": 203.61674287950837, "cost1_mean": 354.40098812753257, "system_level_velocity_max": 17.787016494595346, "cost2_mean": -68.44550123600762}, "episode_len_mean": 700.0, "episode_reward_mean": 1100.7974280374294, "pid": 366, "iterations_since_restore": 187, "episode_reward_max": 1309.6075840182496, "node_ip": "10.138.0.2", "timestamp": 1556582835, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 107887, "time_this_iter_s": 36.01377272605896, "training_iteration": 187, "time_since_restore": 7369.9732234478, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 35.22252022226709, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378898>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378d30>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33786d8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 20736052, "grad_time_ms": 22301.281, "load_time_ms": 21.719, "update_time_ms": 12.437, "default": {"entropy": 2.155758857727051, "cur_kl_coeff": 0.5062499642372131, "total_loss": 43.97724533081055, "kl": 0.01684408262372017, "vf_explained_var": 0.7478852868080139, "vf_loss": 43.98564910888672, "policy_loss": -0.016934948042035103, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 20736052, "sample_time_ms": 15238.595}, "timesteps_since_restore": 20736052, "date": "2019-04-30_00-07-52", "timesteps_total": 20736052, "episodes_this_iter": 62, "episodes_total": 11547, "hostname": "flow-main", "time_total_s": 7406.870464324951, "custom_metrics": {"cost2_min": -145.61158270801874, "system_level_velocity_mean": 13.686208571236056, "outflow_rate_max": 1161.5008097359894, "outflow_rate_min": 470.6106698001805, "system_level_velocity_min": 7.966866744279276, "outflow_rate_mean": 899.736650540879, "cost2_max": -14.60411534793762, "cost1_max": 457.30710729872646, "cost1_min": 13.049726971272943, "cost1_mean": 349.5961022630872, "system_level_velocity_max": 17.787016494595346, "cost2_mean": -67.14160819681895}, "episode_len_mean": 693.2, "episode_reward_mean": 1073.912022067478, "pid": 366, "iterations_since_restore": 188, "episode_reward_max": 1367.1804516253205, "node_ip": "10.138.0.2", "timestamp": 1556582872, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 107251, "time_this_iter_s": 36.89724087715149, "training_iteration": 188, "time_since_restore": 7406.870464324951, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 35.22252022226709, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309f60>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309e80>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33098d0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 20843391, "grad_time_ms": 22259.367, "load_time_ms": 21.214, "update_time_ms": 12.4, "default": {"entropy": 2.143681526184082, "cur_kl_coeff": 0.5062499046325684, "total_loss": 48.10694122314453, "kl": 0.016849219799041748, "vf_explained_var": 0.7210306525230408, "vf_loss": 48.114986419677734, "policy_loss": -0.01657944545149803, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 20843391, "sample_time_ms": 15212.196}, "timesteps_since_restore": 20843391, "date": "2019-04-30_00-08-30", "timesteps_total": 20843391, "episodes_this_iter": 61, "episodes_total": 11608, "hostname": "flow-main", "time_total_s": 7444.970226049423, "custom_metrics": {"cost2_min": -147.51328438137315, "system_level_velocity_mean": 13.745571649129342, "outflow_rate_max": 1126.3451252402017, "outflow_rate_min": 470.6106698001805, "system_level_velocity_min": 8.536827912191256, "outflow_rate_mean": 897.553581986855, "cost2_max": -14.60411534793762, "cost1_max": 441.1846596903755, "cost1_min": 13.049726971272943, "cost1_mean": 351.4038621716239, "system_level_velocity_max": 17.471534756690016, "cost2_mean": -64.2212071373371}, "episode_len_mean": 693.2, "episode_reward_mean": 1076.2838145536841, "pid": 366, "iterations_since_restore": 189, "episode_reward_max": 1342.2236091539119, "node_ip": "10.138.0.2", "timestamp": 1556582910, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 107339, "time_this_iter_s": 38.099761724472046, "training_iteration": 189, "time_since_restore": 7444.970226049423, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 644.6919767575008, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378080>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33787b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33782b0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 20950998, "grad_time_ms": 22060.528, "load_time_ms": 21.276, "update_time_ms": 12.261, "default": {"entropy": 2.157003164291382, "cur_kl_coeff": 0.5062499046325684, "total_loss": 46.20913314819336, "kl": 0.016971344128251076, "vf_explained_var": 0.7310420274734497, "vf_loss": 46.21852493286133, "policy_loss": -0.01799062266945839, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 20950998, "sample_time_ms": 15233.928}, "timesteps_since_restore": 20950998, "date": "2019-04-30_00-09-08", "timesteps_total": 20950998, "episodes_this_iter": 65, "episodes_total": 11673, "hostname": "flow-main", "time_total_s": 7482.719900369644, "custom_metrics": {"cost2_min": -177.2890571719939, "system_level_velocity_mean": 13.618868191704202, "outflow_rate_max": 1105.0021567781018, "outflow_rate_min": 645.1346068354828, "system_level_velocity_min": 7.596173568462543, "outflow_rate_mean": 902.1019918192671, "cost2_max": -27.400063746532062, "cost1_max": 443.6082741549557, "cost1_min": 192.12009143158258, "cost1_mean": 352.3664763659147, "system_level_velocity_max": 17.812968123483714, "cost2_mean": -66.96007674825258}, "episode_len_mean": 700.0, "episode_reward_mean": 1094.5881767331628, "pid": 366, "iterations_since_restore": 190, "episode_reward_max": 1342.2236091539119, "node_ip": "10.138.0.2", "timestamp": 1556582948, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 107607, "time_this_iter_s": 37.74967432022095, "training_iteration": 190, "time_since_restore": 7482.719900369644, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 54.041849523379696, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309c88>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309438>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305dd8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 21059229, "grad_time_ms": 21998.341, "load_time_ms": 20.398, "update_time_ms": 12.696, "default": {"entropy": 2.1629700660705566, "cur_kl_coeff": 0.5062499046325684, "total_loss": 45.90216827392578, "kl": 0.016951818019151688, "vf_explained_var": 0.7289402484893799, "vf_loss": 45.9103889465332, "policy_loss": -0.016802797093987465, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 21059229, "sample_time_ms": 15230.668}, "timesteps_since_restore": 21059229, "date": "2019-04-30_00-09-47", "timesteps_total": 21059229, "episodes_this_iter": 65, "episodes_total": 11738, "hostname": "flow-main", "time_total_s": 7521.256798028946, "custom_metrics": {"cost2_min": -177.2890571719939, "system_level_velocity_mean": 13.709147021028134, "outflow_rate_max": 1158.715169891126, "outflow_rate_min": 458.90056226592014, "system_level_velocity_min": 7.596173568462543, "outflow_rate_mean": 893.8401141707275, "cost2_max": -19.46538173723017, "cost1_max": 443.6082741549557, "cost1_min": 20.255293491564405, "cost1_mean": 349.07684957487885, "system_level_velocity_max": 18.44465435703285, "cost2_mean": -66.87286866074842}, "episode_len_mean": 693.31, "episode_reward_mean": 1070.7118278943612, "pid": 366, "iterations_since_restore": 191, "episode_reward_max": 1334.1978401656827, "node_ip": "10.138.0.2", "timestamp": 1556582987, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 108231, "time_this_iter_s": 38.53689765930176, "training_iteration": 191, "time_since_restore": 7521.256798028946, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 808.549117796971, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378b70>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378b00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378a20>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 21167207, "grad_time_ms": 21900.751, "load_time_ms": 20.308, "update_time_ms": 12.546, "default": {"entropy": 2.1552791595458984, "cur_kl_coeff": 0.5062499046325684, "total_loss": 46.31937026977539, "kl": 0.016998525708913803, "vf_explained_var": 0.7257096171379089, "vf_loss": 46.327308654785156, "policy_loss": -0.01654493622481823, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 21167207, "sample_time_ms": 15203.756}, "timesteps_since_restore": 21167207, "date": "2019-04-30_00-10-24", "timesteps_total": 21167207, "episodes_this_iter": 65, "episodes_total": 11803, "hostname": "flow-main", "time_total_s": 7558.529067993164, "custom_metrics": {"cost2_min": -124.31417305646744, "system_level_velocity_mean": 13.76251685178488, "outflow_rate_max": 1165.0341282143827, "outflow_rate_min": 678.8784395608749, "system_level_velocity_min": 8.647059049918461, "outflow_rate_mean": 897.8524810344, "cost2_max": -25.742795915758016, "cost1_max": 439.1939068805478, "cost1_min": 220.66597340448124, "cost1_mean": 356.06739813094964, "system_level_velocity_max": 17.509059220505847, "cost2_mean": -65.76389745703335}, "episode_len_mean": 700.0, "episode_reward_mean": 1085.8547454272468, "pid": 366, "iterations_since_restore": 192, "episode_reward_max": 1361.089075349768, "node_ip": "10.138.0.2", "timestamp": 1556583024, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 107978, "time_this_iter_s": 37.27226996421814, "training_iteration": 192, "time_since_restore": 7558.529067993164, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 30.81486911281307, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305320>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33053c8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3305470>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 21276440, "grad_time_ms": 21961.214, "load_time_ms": 20.915, "update_time_ms": 12.329, "default": {"entropy": 2.146544933319092, "cur_kl_coeff": 0.5062499046325684, "total_loss": 48.335487365722656, "kl": 0.016919175162911415, "vf_explained_var": 0.7056664228439331, "vf_loss": 48.344512939453125, "policy_loss": -0.01759267784655094, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 21276440, "sample_time_ms": 15205.896}, "timesteps_since_restore": 21276440, "date": "2019-04-30_00-11-02", "timesteps_total": 21276440, "episodes_this_iter": 67, "episodes_total": 11870, "hostname": "flow-main", "time_total_s": 7596.358118772507, "custom_metrics": {"cost2_min": -132.59862057254668, "system_level_velocity_mean": 14.168297826647098, "outflow_rate_max": 1155.481941896373, "outflow_rate_min": 464.2002765876701, "system_level_velocity_min": 9.343873655157884, "outflow_rate_mean": 916.6898346944159, "cost2_max": -13.725337269461658, "cost1_max": 442.33712187949186, "cost1_min": 11.775452481078705, "cost1_mean": 361.45232023725725, "system_level_velocity_max": 17.965060119426756, "cost2_mean": -65.20683868428202}, "episode_len_mean": 693.18, "episode_reward_mean": 1092.1953421246674, "pid": 366, "iterations_since_restore": 193, "episode_reward_max": 1361.089075349768, "node_ip": "10.138.0.2", "timestamp": 1556583062, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 109233, "time_this_iter_s": 37.82905077934265, "training_iteration": 193, "time_since_restore": 7596.358118772507, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 54.65913303322825, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378e80>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378b38>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 21383768, "grad_time_ms": 21926.09, "load_time_ms": 19.964, "update_time_ms": 12.088, "default": {"entropy": 2.154339075088501, "cur_kl_coeff": 0.5062499046325684, "total_loss": 48.44127655029297, "kl": 0.017547311261296272, "vf_explained_var": 0.7319225072860718, "vf_loss": 48.44943618774414, "policy_loss": -0.01704791933298111, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 21383768, "sample_time_ms": 15249.126}, "timesteps_since_restore": 21383768, "date": "2019-04-30_00-11-39", "timesteps_total": 21383768, "episodes_this_iter": 64, "episodes_total": 11934, "hostname": "flow-main", "time_total_s": 7633.357944726944, "custom_metrics": {"cost2_min": -147.48610621594878, "system_level_velocity_mean": 13.753392751380554, "outflow_rate_max": 1166.187905516299, "outflow_rate_min": 478.891003049882, "system_level_velocity_min": 6.853041897211409, "outflow_rate_mean": 907.6900779605111, "cost2_max": -18.82437856601906, "cost1_max": 457.9081930419587, "cost1_min": 20.968621548502252, "cost1_mean": 350.35441768676156, "system_level_velocity_max": 18.67622310851074, "cost2_mean": -70.24880418471517}, "episode_len_mean": 693.32, "episode_reward_mean": 1093.5110881272951, "pid": 366, "iterations_since_restore": 194, "episode_reward_max": 1376.3488538544304, "node_ip": "10.138.0.2", "timestamp": 1556583099, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 107328, "time_this_iter_s": 36.999825954437256, "training_iteration": 194, "time_since_restore": 7633.357944726944, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 555.9597209458434, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309240>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309080>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309278>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 21490743, "grad_time_ms": 21830.371, "load_time_ms": 19.986, "update_time_ms": 12.16, "default": {"entropy": 2.1919403076171875, "cur_kl_coeff": 0.5062499046325684, "total_loss": 48.42646789550781, "kl": 0.018437141552567482, "vf_explained_var": 0.7451906204223633, "vf_loss": 48.434425354003906, "policy_loss": -0.017288632690906525, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 21490743, "sample_time_ms": 15352.649}, "timesteps_since_restore": 21490743, "date": "2019-04-30_00-12-17", "timesteps_total": 21490743, "episodes_this_iter": 68, "episodes_total": 12002, "hostname": "flow-main", "time_total_s": 7670.873558759689, "custom_metrics": {"cost2_min": -138.7176231597541, "system_level_velocity_mean": 13.77673723965189, "outflow_rate_max": 1159.294485863106, "outflow_rate_min": 617.901226767986, "system_level_velocity_min": 6.853041897211409, "outflow_rate_mean": 905.4206754785799, "cost2_max": -25.6963538698242, "cost1_max": 452.12214295656906, "cost1_min": 174.33323532009905, "cost1_mean": 354.0551213760139, "system_level_velocity_max": 17.640059554839446, "cost2_mean": -67.14692499322881}, "episode_len_mean": 696.53, "episode_reward_mean": 1084.673029756328, "pid": 366, "iterations_since_restore": 195, "episode_reward_max": 1380.7587815990094, "node_ip": "10.138.0.2", "timestamp": 1556583137, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 106975, "time_this_iter_s": 37.51561403274536, "training_iteration": 195, "time_since_restore": 7670.873558759689, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 57.59050539979947, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378a20>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378c18>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378898>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 21598560, "grad_time_ms": 21942.236, "load_time_ms": 19.327, "update_time_ms": 11.97, "default": {"entropy": 2.1535587310791016, "cur_kl_coeff": 0.5062499642372131, "total_loss": 50.38181686401367, "kl": 0.018028056249022484, "vf_explained_var": 0.7203646302223206, "vf_loss": 50.38935470581055, "policy_loss": -0.016664711758494377, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 21598560, "sample_time_ms": 15476.407}, "timesteps_since_restore": 21598560, "date": "2019-04-30_00-12-56", "timesteps_total": 21598560, "episodes_this_iter": 66, "episodes_total": 12068, "hostname": "flow-main", "time_total_s": 7710.717932701111, "custom_metrics": {"cost2_min": -138.7176231597541, "system_level_velocity_mean": 14.006417691304845, "outflow_rate_max": 1159.294485863106, "outflow_rate_min": 510.8779134922738, "system_level_velocity_min": 8.92484696533001, "outflow_rate_mean": 897.9975291910522, "cost2_max": -18.95589705201945, "cost1_max": 453.5189679343007, "cost1_min": 21.5465897611488, "cost1_mean": 354.7376143984963, "system_level_velocity_max": 18.834890569109895, "cost2_mean": -64.60519789185604}, "episode_len_mean": 690.59, "episode_reward_mean": 1063.7438669231792, "pid": 366, "iterations_since_restore": 196, "episode_reward_max": 1390.1262717645116, "node_ip": "10.138.0.2", "timestamp": 1556583176, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 107817, "time_this_iter_s": 39.84437394142151, "training_iteration": 196, "time_since_restore": 7710.717932701111, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 57.59050539979947, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33096d8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33098d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309f98>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 21705466, "grad_time_ms": 22013.601, "load_time_ms": 19.16, "update_time_ms": 12.145, "default": {"entropy": 2.1657474040985107, "cur_kl_coeff": 0.5062499046325684, "total_loss": 50.23414993286133, "kl": 0.01714104227721691, "vf_explained_var": 0.7107979655265808, "vf_loss": 50.24226379394531, "policy_loss": -0.016796719282865524, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 21705466, "sample_time_ms": 15453.847}, "timesteps_since_restore": 21705466, "date": "2019-04-30_00-13-33", "timesteps_total": 21705466, "episodes_this_iter": 68, "episodes_total": 12136, "hostname": "flow-main", "time_total_s": 7747.220483779907, "custom_metrics": {"cost2_min": -160.01564940200606, "system_level_velocity_mean": 14.321119918776793, "outflow_rate_max": 1159.066157313324, "outflow_rate_min": 503.36683714853126, "system_level_velocity_min": 8.980892261571169, "outflow_rate_mean": 913.1629399144758, "cost2_max": -18.95589705201945, "cost1_max": 454.8292261879292, "cost1_min": 21.5465897611488, "cost1_mean": 360.0981297555192, "system_level_velocity_max": 19.29045592076155, "cost2_mean": -64.6752164775025}, "episode_len_mean": 686.75, "episode_reward_mean": 1077.8751280371278, "pid": 366, "iterations_since_restore": 197, "episode_reward_max": 1390.1262717645116, "node_ip": "10.138.0.2", "timestamp": 1556583213, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 106906, "time_this_iter_s": 36.50255107879639, "training_iteration": 197, "time_since_restore": 7747.220483779907, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 729.6059826079654, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378470>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378d30>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33056d8>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 21813175, "grad_time_ms": 22213.385, "load_time_ms": 19.384, "update_time_ms": 12.09, "default": {"entropy": 2.202195644378662, "cur_kl_coeff": 0.5062499642372131, "total_loss": 49.73212814331055, "kl": 0.017938487231731415, "vf_explained_var": 0.6898482441902161, "vf_loss": 49.739192962646484, "policy_loss": -0.01615007221698761, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 21813175, "sample_time_ms": 15423.329}, "timesteps_since_restore": 21813175, "date": "2019-04-30_00-14-12", "timesteps_total": 21813175, "episodes_this_iter": 66, "episodes_total": 12202, "hostname": "flow-main", "time_total_s": 7785.8059849739075, "custom_metrics": {"cost2_min": -160.01564940200606, "system_level_velocity_mean": 13.96796655043189, "outflow_rate_max": 1159.066157313324, "outflow_rate_min": 621.8295359247546, "system_level_velocity_min": 8.980892261571169, "outflow_rate_mean": 902.4921002749004, "cost2_max": -27.97348005573665, "cost1_max": 454.8292261879292, "cost1_min": 228.13346048532196, "cost1_mean": 360.77508929134564, "system_level_velocity_max": 17.98141512950133, "cost2_mean": -64.86584680687682}, "episode_len_mean": 700.0, "episode_reward_mean": 1076.0247584068459, "pid": 366, "iterations_since_restore": 198, "episode_reward_max": 1299.2845603983853, "node_ip": "10.138.0.2", "timestamp": 1556583252, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 107709, "time_this_iter_s": 38.585501194000244, "training_iteration": 198, "time_since_restore": 7785.8059849739075, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 729.6059826079654, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309e10>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309048>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3309c88>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 21921269, "grad_time_ms": 22308.999, "load_time_ms": 19.633, "update_time_ms": 11.97, "default": {"entropy": 2.1845486164093018, "cur_kl_coeff": 0.5062499642372131, "total_loss": 47.49507522583008, "kl": 0.01730235293507576, "vf_explained_var": 0.7040765285491943, "vf_loss": 47.5036506652832, "policy_loss": -0.017336271703243256, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 21921269, "sample_time_ms": 15448.852}, "timesteps_since_restore": 21921269, "date": "2019-04-30_00-14-51", "timesteps_total": 21921269, "episodes_this_iter": 66, "episodes_total": 12268, "hostname": "flow-main", "time_total_s": 7825.13706946373, "custom_metrics": {"cost2_min": -136.91063050189848, "system_level_velocity_mean": 13.953334168806471, "outflow_rate_max": 1146.2923880884946, "outflow_rate_min": 621.8295359247546, "system_level_velocity_min": 8.521949615432064, "outflow_rate_mean": 913.8973326949686, "cost2_max": -26.97016142344864, "cost1_max": 455.18340940923355, "cost1_min": 215.2523164983969, "cost1_mean": 360.20572240176966, "system_level_velocity_max": 17.98141512950133, "cost2_mean": -67.17227437140932}, "episode_len_mean": 698.97, "episode_reward_mean": 1098.2996474208185, "pid": 366, "iterations_since_restore": 199, "episode_reward_max": 1328.6803102881456, "node_ip": "10.138.0.2", "timestamp": 1556583291, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 108094, "time_this_iter_s": 39.33108448982239, "training_iteration": 199, "time_since_restore": 7825.13706946373, "done": false}
{"num_metric_batches_dropped": 0, "episode_reward_min": 781.4297784172134, "config": {"kl_coeff": 0.2, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "compress_observations": false, "output": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sample_batch_size": 200, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "num_sgd_iter": 10, "collect_metrics_timeout": 180, "num_workers": 60, "monitor": false, "num_gpus_per_worker": 0, "input": "sampler", "train_batch_size": 90000, "num_cpus_for_driver": 1, "horizon": 1500, "preprocessor_pref": "deepmind", "log_level": "INFO", "batch_mode": "truncate_episodes", "synchronize_filters": true, "lr_schedule": null, "clip_actions": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.5]_t_min:10.0", "optimizer": {}, "output_max_file_size": 67108864, "straggler_mitigation": false, "entropy_coeff": 0.0, "kl_target": 0.01, "lambda": 0.97, "clip_rewards": null, "model": {"free_log_std": false, "custom_model": null, "lstm_cell_size": 256, "custom_options": {}, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "conv_filters": null, "max_seq_len": 20, "channel_major": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_hiddens": [128, 64, 32], "framestack": true, "zero_mean": true, "squash_to_range": false}, "vf_share_layers": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "use_gae": true, "vf_loss_coeff": 1.0, "lr": 0.0005, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 10.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input_evaluation": null, "sample_async": false, "callbacks": {"on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f65a33780f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378940>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f65a3378da0>", "on_train_result": null}, "num_gpus": 0, "sgd_minibatch_size": 128, "observation_filter": "MeanStdFilter", "simple_optimizer": false, "gamma": 0.99, "num_cpus_per_worker": 1}, "info": {"num_steps_trained": 22029477, "grad_time_ms": 22411.066, "load_time_ms": 19.741, "update_time_ms": 11.945, "default": {"entropy": 2.221348285675049, "cur_kl_coeff": 0.5062499046325684, "total_loss": 50.297142028808594, "kl": 0.020283162593841553, "vf_explained_var": 0.6938275694847107, "vf_loss": 50.30318069458008, "policy_loss": -0.016303569078445435, "cur_lr": 0.0005000000237487257}, "num_steps_sampled": 22029477, "sample_time_ms": 15336.409}, "timesteps_since_restore": 22029477, "date": "2019-04-30_00-15-29", "timesteps_total": 22029477, "episodes_this_iter": 65, "episodes_total": 12333, "hostname": "flow-main", "time_total_s": 7862.784277915955, "custom_metrics": {"cost2_min": -148.48984283975747, "system_level_velocity_mean": 13.566575029248524, "outflow_rate_max": 1146.2923880884946, "outflow_rate_min": 633.9180246705401, "system_level_velocity_min": 9.544504632630444, "outflow_rate_mean": 910.9893718729935, "cost2_max": -26.97016142344864, "cost1_max": 455.18340940923355, "cost1_min": 240.34194279014315, "cost1_mean": 351.85143185396095, "system_level_velocity_max": 17.680143874740637, "cost2_mean": -69.8793358648098}, "episode_len_mean": 698.97, "episode_reward_mean": 1101.764102361457, "pid": 366, "iterations_since_restore": 200, "episode_reward_max": 1328.6803102881456, "node_ip": "10.138.0.2", "timestamp": 1556583329, "policy_reward_mean": {}, "experiment_id": "ff201f3083874477be2a46d380dd87e1", "timesteps_this_iter": 108208, "time_this_iter_s": 37.64720845222473, "training_iteration": 200, "time_since_restore": 7862.784277915955, "done": true}
