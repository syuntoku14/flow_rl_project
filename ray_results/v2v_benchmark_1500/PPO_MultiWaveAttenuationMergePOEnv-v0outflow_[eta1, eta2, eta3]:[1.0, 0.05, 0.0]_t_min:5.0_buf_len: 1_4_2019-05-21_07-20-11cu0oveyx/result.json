{"episode_reward_mean": 289.55949288727817, "timesteps_total": 64445, "iterations_since_restore": 1, "timesteps_since_restore": 64445, "episodes_this_iter": 27, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 119.13049180327867, "system_level_velocity_min": 5.73266421062614, "cost1_max": 231.12998445204488, "system_level_velocity_max": 9.161613219945762, "cost2_min": -46.27908376182566, "outflow_rate_max": 638.342685977617, "system_level_velocity_mean": 7.821031669688964, "cost1_mean": 201.53983630568678, "cost2_mean": -28.106083344403974, "outflow_rate_mean": 328.23336298717055, "cost2_max": -17.147456966640718, "cost1_min": 148.40762757874796}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 1, "episode_reward_max": 401.65623711579906, "timestamp": 1558423270, "timesteps_this_iter": 64445, "episodes_total": 27, "episode_reward_min": 212.8616375374725, "pid": 62178, "time_since_restore": 49.10899519920349, "date": "2019-05-21_07-21-10", "info": {"num_steps_trained": 64445, "sample_time_ms": 31321.573, "load_time_ms": 62.567, "grad_time_ms": 16874.851, "update_time_ms": 691.868, "default": {"policy_loss": -0.001641998765990138, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9013600945472717, "total_loss": 0.9162396788597107, "cur_kl_coeff": 0.20000001788139343, "vf_loss": 0.9171937108039856, "entropy": 1.41177499294281, "kl": 0.003439893713220954}, "num_steps_sampled": 64445}, "time_total_s": 49.10899519920349, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c016f28>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c016f60>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e4e6dd8>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 49.10899519920349}
{"episode_reward_mean": 289.55109621836283, "timesteps_total": 124045, "iterations_since_restore": 2, "timesteps_since_restore": 124045, "episodes_this_iter": 27, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 119.13049180327867, "system_level_velocity_min": 5.73266421062614, "cost1_max": 231.12998445204488, "system_level_velocity_max": 9.161613219945762, "cost2_min": -46.27908376182566, "outflow_rate_max": 638.342685977617, "system_level_velocity_mean": 7.728356820270935, "cost1_mean": 199.07975447855745, "cost2_mean": -26.471702570806222, "outflow_rate_mean": 345.13893768735556, "cost2_max": -16.70058885198278, "cost1_min": 148.40762757874796}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 2, "episode_reward_max": 401.65623711579906, "timestamp": 1558423313, "timesteps_this_iter": 59600, "episodes_total": 54, "episode_reward_min": 209.50614364793788, "pid": 62178, "time_since_restore": 92.18281173706055, "date": "2019-05-21_07-21-53", "info": {"num_steps_trained": 124045, "sample_time_ms": 29658.267, "load_time_ms": 34.163, "grad_time_ms": 15922.435, "update_time_ms": 350.156, "default": {"policy_loss": -0.006501492578536272, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9522650241851807, "total_loss": 0.7510058283805847, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 0.7556554675102234, "entropy": 1.4120361804962158, "kl": 0.01851811632514}, "num_steps_sampled": 124045}, "time_total_s": 92.18281173706055, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c016ba8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0167b8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c016c18>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 43.073816537857056}
{"episode_reward_mean": 340.5383549364069, "timesteps_total": 179339, "iterations_since_restore": 3, "timesteps_since_restore": 179339, "episodes_this_iter": 28, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 119.13049180327867, "system_level_velocity_min": 5.73266421062614, "cost1_max": 277.20384257021317, "system_level_velocity_max": 10.697908972375961, "cost2_min": -46.27908376182566, "outflow_rate_max": 756.2891803278691, "system_level_velocity_mean": 8.242417461671751, "cost1_mean": 212.60237699199703, "cost2_mean": -27.43061964716256, "outflow_rate_mean": 438.7464022453236, "cost2_max": -16.70058885198278, "cost1_min": 148.40762757874796}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 3, "episode_reward_max": 504.6568517186928, "timestamp": 1558423356, "timesteps_this_iter": 55294, "episodes_total": 82, "episode_reward_min": 209.50614364793788, "pid": 62178, "time_since_restore": 134.61994314193726, "date": "2019-05-21_07-22-36", "info": {"num_steps_trained": 179339, "sample_time_ms": 28809.495, "load_time_ms": 24.574, "grad_time_ms": 15682.697, "update_time_ms": 236.002, "default": {"policy_loss": -0.009503265842795372, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8825965523719788, "total_loss": 2.3400001525878906, "cur_kl_coeff": 0.10000002384185791, "vf_loss": 2.347986936569214, "entropy": 1.3792085647583008, "kl": 0.01516296062618494}, "num_steps_sampled": 179339}, "time_total_s": 134.61994314193726, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c022cf8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c022358>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c022c50>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 42.43713140487671}
{"episode_reward_mean": 426.31996803323267, "timesteps_total": 241635, "iterations_since_restore": 4, "timesteps_since_restore": 241635, "episodes_this_iter": 27, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 119.13049180327867, "system_level_velocity_min": 5.73266421062614, "cost1_max": 314.3512952177846, "system_level_velocity_max": 11.782006446476323, "cost2_min": -61.88578338624256, "outflow_rate_max": 1142.6053491859184, "system_level_velocity_mean": 8.8678144005733, "cost1_mean": 230.13187204417602, "cost2_mean": -32.12387163390049, "outflow_rate_mean": 570.6592216834837, "cost2_max": -16.70058885198278, "cost1_min": 148.40762757874796}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 4, "episode_reward_max": 814.0480333569919, "timestamp": 1558423403, "timesteps_this_iter": 62296, "episodes_total": 109, "episode_reward_min": 209.50614364793788, "pid": 62178, "time_since_restore": 181.39914679527283, "date": "2019-05-21_07-23-23", "info": {"num_steps_trained": 241635, "sample_time_ms": 29319.808, "load_time_ms": 20.845, "grad_time_ms": 15714.796, "update_time_ms": 179.247, "default": {"policy_loss": -0.005030586384236813, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8523333668708801, "total_loss": 4.705560207366943, "cur_kl_coeff": 0.10000002384185791, "vf_loss": 4.70940637588501, "entropy": 1.3561277389526367, "kl": 0.01184444036334753}, "num_steps_sampled": 241635}, "time_total_s": 181.39914679527283, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c018828>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c018f28>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c018ef0>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 46.77920365333557}
{"episode_reward_mean": 528.4910063924748, "timesteps_total": 320687, "iterations_since_restore": 5, "timesteps_since_restore": 320687, "episodes_this_iter": 26, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 200.65741935483865, "system_level_velocity_min": 6.160531063011868, "cost1_max": 317.1056654610077, "system_level_velocity_max": 11.840797676606508, "cost2_min": -86.79076854908973, "outflow_rate_max": 1220.118454502814, "system_level_velocity_mean": 9.453537236666785, "cost1_mean": 247.38257165954744, "cost2_mean": -42.49951780953159, "outflow_rate_mean": 709.6573088866211, "cost2_max": -17.145958163728388, "cost1_min": 159.83693753474034}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 5, "episode_reward_max": 883.2478559928733, "timestamp": 1558423461, "timesteps_this_iter": 79052, "episodes_total": 135, "episode_reward_min": 214.09606252980086, "pid": 62178, "time_since_restore": 239.78505897521973, "date": "2019-05-21_07-24-21", "info": {"num_steps_trained": 320687, "sample_time_ms": 30996.768, "load_time_ms": 18.934, "grad_time_ms": 16674.872, "update_time_ms": 144.781, "default": {"policy_loss": -0.002571414690464735, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9421521425247192, "total_loss": 4.266308784484863, "cur_kl_coeff": 0.10000000894069672, "vf_loss": 4.268125057220459, "entropy": 1.3828601837158203, "kl": 0.007552222814410925}, "num_steps_sampled": 320687}, "time_total_s": 239.78505897521973, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c031e10>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c022470>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c031ac8>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 58.3859121799469}
{"episode_reward_mean": 624.9298133835666, "timesteps_total": 395585, "iterations_since_restore": 6, "timesteps_since_restore": 395585, "episodes_this_iter": 25, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 486.49656028980513, "system_level_velocity_min": 7.3031255763754945, "cost1_max": 357.19973245083696, "system_level_velocity_max": 13.276546015413697, "cost2_min": -89.94898673755608, "outflow_rate_max": 1220.118454502814, "system_level_velocity_mean": 10.128714360539432, "cost1_mean": 266.9185955912854, "cost2_mean": -53.96114855274275, "outflow_rate_mean": 839.0666450659213, "cost2_max": -19.35434168836993, "cost1_min": 189.79687843566015}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 6, "episode_reward_max": 900.9194076843162, "timestamp": 1558423518, "timesteps_this_iter": 74898, "episodes_total": 160, "episode_reward_min": 372.3141611444006, "pid": 62178, "time_since_restore": 296.8814980983734, "date": "2019-05-21_07-25-18", "info": {"num_steps_trained": 395585, "sample_time_ms": 31883.604, "load_time_ms": 17.516, "grad_time_ms": 17333.993, "update_time_ms": 122.416, "default": {"policy_loss": -0.00436727050691843, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9268890619277954, "total_loss": 5.861940860748291, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 5.865190029144287, "entropy": 1.3683315515518188, "kl": 0.01117692794650793}, "num_steps_sampled": 395585}, "time_total_s": 296.8814980983734, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e502f98>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e502cf8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e502a90>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 57.09643912315369}
{"episode_reward_mean": 700.2385767414931, "timesteps_total": 467181, "iterations_since_restore": 7, "timesteps_since_restore": 467181, "episodes_this_iter": 26, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 486.49656028980513, "system_level_velocity_min": 7.3031255763754945, "cost1_max": 357.19973245083696, "system_level_velocity_max": 13.276546015413697, "cost2_min": -89.94898673755608, "outflow_rate_max": 1224.9775712612263, "system_level_velocity_mean": 10.585764976590353, "cost1_mean": 280.45119834124677, "cost2_mean": -64.11892273105337, "outflow_rate_mean": 936.3075930606251, "cost2_max": -30.617047246620082, "cost1_min": 189.79687843566015}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 7, "episode_reward_max": 907.7747121909478, "timestamp": 1558423569, "timesteps_this_iter": 71596, "episodes_total": 186, "episode_reward_min": 502.6015294540605, "pid": 62178, "time_since_restore": 347.94603300094604, "date": "2019-05-21_07-26-09", "info": {"num_steps_trained": 467181, "sample_time_ms": 32097.175, "load_time_ms": 16.04, "grad_time_ms": 17366.475, "update_time_ms": 105.998, "default": {"policy_loss": -0.0046251374296844006, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9208570718765259, "total_loss": 7.33015775680542, "cur_kl_coeff": 0.10000000149011612, "vf_loss": 7.333779811859131, "entropy": 1.342481255531311, "kl": 0.010029259137809277}, "num_steps_sampled": 467181}, "time_total_s": 347.94603300094604, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0229e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c022400>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c022128>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 51.06453490257263}
{"episode_reward_mean": 736.9563035801284, "timesteps_total": 538185, "iterations_since_restore": 8, "timesteps_since_restore": 538185, "episodes_this_iter": 26, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 486.49656028980513, "system_level_velocity_min": 7.3031255763754945, "cost1_max": 357.19973245083696, "system_level_velocity_max": 13.276546015413697, "cost2_min": -89.94898673755608, "outflow_rate_max": 1275.5481471004246, "system_level_velocity_mean": 10.963150848524023, "cost1_mean": 291.31481581314495, "cost2_mean": -69.55764995076844, "outflow_rate_mean": 984.2191560586871, "cost2_max": -47.64651695279971, "cost1_min": 189.79687843566015}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 8, "episode_reward_max": 907.7747121909478, "timestamp": 1558423619, "timesteps_this_iter": 71004, "episodes_total": 212, "episode_reward_min": 502.6015294540605, "pid": 62178, "time_since_restore": 397.8873841762543, "date": "2019-05-21_07-26-59", "info": {"num_steps_trained": 538185, "sample_time_ms": 32145.13, "load_time_ms": 15.326, "grad_time_ms": 17360.853, "update_time_ms": 93.644, "default": {"policy_loss": -0.003614985616877675, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8945121765136719, "total_loss": 8.51224136352539, "cur_kl_coeff": 0.10000000894069672, "vf_loss": 8.514846801757812, "entropy": 1.3412303924560547, "kl": 0.010099412873387337}, "num_steps_sampled": 538185}, "time_total_s": 397.8873841762543, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c018828>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0182b0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c018f28>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 49.94135117530823}
{"episode_reward_mean": 773.6521154489982, "timesteps_total": 606092, "iterations_since_restore": 9, "timesteps_since_restore": 606092, "episodes_this_iter": 29, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 712.8187826086956, "system_level_velocity_min": 7.340470335856702, "cost1_max": 373.1970122381929, "system_level_velocity_max": 14.014887091113675, "cost2_min": -90.66204769448896, "outflow_rate_max": 1320.1566289608327, "system_level_velocity_mean": 11.443463325025878, "cost1_mean": 304.04277890295975, "cost2_mean": -69.3958831824372, "outflow_rate_mean": 1061.6093950045647, "cost2_max": -51.07539709490659, "cost1_min": 191.92123315713104}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 9, "episode_reward_max": 934.0127969149532, "timestamp": 1558423669, "timesteps_this_iter": 67907, "episodes_total": 241, "episode_reward_min": 545.7420694391589, "pid": 62178, "time_since_restore": 447.86536693573, "date": "2019-05-21_07-27-49", "info": {"num_steps_trained": 606092, "sample_time_ms": 32146.975, "load_time_ms": 14.809, "grad_time_ms": 17394.543, "update_time_ms": 83.965, "default": {"policy_loss": -0.004732855595648289, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9031668305397034, "total_loss": 9.214086532592773, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 9.2178316116333, "entropy": 1.3188433647155762, "kl": 0.00988014880567789}, "num_steps_sampled": 606092}, "time_total_s": 447.86536693573, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e4d5b00>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c016710>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c031780>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 49.97798275947571}
{"episode_reward_mean": 794.9060573191273, "timesteps_total": 669173, "iterations_since_restore": 10, "timesteps_since_restore": 669173, "episodes_this_iter": 32, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 478.03080478352217, "system_level_velocity_min": 7.340470335856702, "cost1_max": 394.67569308532546, "system_level_velocity_max": 17.67933108273165, "cost2_min": -98.50180340517679, "outflow_rate_max": 1411.5062976190477, "system_level_velocity_mean": 12.028372527188692, "cost1_mean": 315.0994326563108, "cost2_mean": -66.32974742192405, "outflow_rate_mean": 1107.8849738450745, "cost2_max": -12.90550119138664, "cost1_min": 17.96179156846667}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 10, "episode_reward_max": 993.4307874041293, "timestamp": 1558423717, "timesteps_this_iter": 63081, "episodes_total": 273, "episode_reward_min": 41.537202976762984, "pid": 62178, "time_since_restore": 495.5882489681244, "date": "2019-05-21_07-28-37", "info": {"num_steps_trained": 669173, "sample_time_ms": 32027.668, "load_time_ms": 13.992, "grad_time_ms": 17318.391, "update_time_ms": 76.416, "default": {"policy_loss": -0.004478802438825369, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8932900428771973, "total_loss": 11.184858322143555, "cur_kl_coeff": 0.10000000894069672, "vf_loss": 11.188478469848633, "entropy": 1.2928227186203003, "kl": 0.008590481244027615}, "num_steps_sampled": 669173}, "time_total_s": 495.5882489681244, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c022f98>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c022898>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c022d68>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 693.27, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 47.72288203239441}
{"episode_reward_mean": 814.3105231577272, "timesteps_total": 734993, "iterations_since_restore": 11, "timesteps_since_restore": 734993, "episodes_this_iter": 32, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 478.03080478352217, "system_level_velocity_min": 9.350166106916058, "cost1_max": 407.3791063075355, "system_level_velocity_max": 17.67933108273165, "cost2_min": -98.50180340517679, "outflow_rate_max": 1411.5062976190477, "system_level_velocity_mean": 12.326653900990003, "cost1_mean": 322.78972170344804, "cost2_mean": -66.63670533838236, "outflow_rate_mean": 1147.9393978912228, "cost2_max": -12.90550119138664, "cost1_min": 17.96179156846667}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 11, "episode_reward_max": 995.9412274631768, "timestamp": 1558423765, "timesteps_this_iter": 65820, "episodes_total": 305, "episode_reward_min": 41.537202976762984, "pid": 62178, "time_since_restore": 543.9533722400665, "date": "2019-05-21_07-29-25", "info": {"num_steps_trained": 734993, "sample_time_ms": 31925.526, "load_time_ms": 8.71, "grad_time_ms": 17421.246, "update_time_ms": 7.883, "default": {"policy_loss": -0.004609342198818922, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.874133288860321, "total_loss": 11.39260482788086, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 11.39616584777832, "entropy": 1.303088665008545, "kl": 0.01047239638864994}, "num_steps_sampled": 734993}, "time_total_s": 543.9533722400665, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e502940>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e502cf8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0229b0>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 693.27, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 48.36512327194214}
{"episode_reward_mean": 822.1201588431152, "timesteps_total": 799166, "iterations_since_restore": 12, "timesteps_since_restore": 799166, "episodes_this_iter": 31, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 478.03080478352217, "system_level_velocity_min": 9.460940822161097, "cost1_max": 407.3791063075355, "system_level_velocity_max": 17.67933108273165, "cost2_min": -98.50180340517679, "outflow_rate_max": 1411.5062976190477, "system_level_velocity_mean": 12.519286087774647, "cost1_mean": 327.508622369439, "cost2_mean": -67.57039445119688, "outflow_rate_mean": 1173.6024865773577, "cost2_max": -12.90550119138664, "cost1_min": 17.96179156846667}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 12, "episode_reward_max": 995.9412274631768, "timestamp": 1558423814, "timesteps_this_iter": 64173, "episodes_total": 336, "episode_reward_min": 41.537202976762984, "pid": 62178, "time_since_restore": 592.7207567691803, "date": "2019-05-21_07-30-14", "info": {"num_steps_trained": 799166, "sample_time_ms": 32315.014, "load_time_ms": 8.8, "grad_time_ms": 17599.189, "update_time_ms": 8.026, "default": {"policy_loss": -0.0036410074681043625, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8737639784812927, "total_loss": 12.405466079711914, "cur_kl_coeff": 0.10000000894069672, "vf_loss": 12.408242225646973, "entropy": 1.2980791330337524, "kl": 0.008663319051265717}, "num_steps_sampled": 799166}, "time_total_s": 592.7207567691803, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c022dd8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c022b70>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c022518>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 693.27, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 48.76738452911377}
{"episode_reward_mean": 827.8796526012957, "timesteps_total": 865592, "iterations_since_restore": 13, "timesteps_since_restore": 865592, "episodes_this_iter": 28, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 478.03080478352217, "system_level_velocity_min": 9.974765751897396, "cost1_max": 407.3791063075355, "system_level_velocity_max": 17.67933108273165, "cost2_min": -96.49853548480813, "outflow_rate_max": 1462.3429069954439, "system_level_velocity_mean": 12.605157412635693, "cost1_mean": 329.8631045475208, "cost2_mean": -69.75670960017231, "outflow_rate_mean": 1187.6082871008139, "cost2_max": -12.90550119138664, "cost1_min": 17.96179156846667}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 13, "episode_reward_max": 1010.9647943760172, "timestamp": 1558423864, "timesteps_this_iter": 66426, "episodes_total": 364, "episode_reward_min": 41.537202976762984, "pid": 62178, "time_since_restore": 642.1443526744843, "date": "2019-05-21_07-31-04", "info": {"num_steps_trained": 865592, "sample_time_ms": 32792.962, "load_time_ms": 9.088, "grad_time_ms": 17818.415, "update_time_ms": 8.196, "default": {"policy_loss": -0.005481038708239794, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8756586909294128, "total_loss": 11.922255516052246, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 11.92674446105957, "entropy": 1.2822253704071045, "kl": 0.009921436198055744}, "num_steps_sampled": 865592}, "time_total_s": 642.1443526744843, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c022470>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0220b8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c022b38>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 693.27, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 49.423595905303955}
{"episode_reward_mean": 835.0363853137479, "timesteps_total": 928846, "iterations_since_restore": 14, "timesteps_since_restore": 928846, "episodes_this_iter": 26, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1034.371583100321, "system_level_velocity_min": 9.599826566793375, "cost1_max": 404.0792559438423, "system_level_velocity_max": 15.127893366630586, "cost2_min": -104.03308175542992, "outflow_rate_max": 1462.3429069954439, "system_level_velocity_mean": 12.546543660888904, "cost1_mean": 332.6241752470698, "cost2_mean": -71.54774640216905, "outflow_rate_mean": 1198.7504802683306, "cost2_max": -47.17982536859264, "cost1_min": 250.29976674066359}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 14, "episode_reward_max": 1010.9647943760172, "timestamp": 1558423913, "timesteps_this_iter": 63254, "episodes_total": 390, "episode_reward_min": 720.7889319842694, "pid": 62178, "time_since_restore": 691.4155566692352, "date": "2019-05-21_07-31-53", "info": {"num_steps_trained": 928846, "sample_time_ms": 32899.597, "load_time_ms": 9.066, "grad_time_ms": 17960.303, "update_time_ms": 8.306, "default": {"policy_loss": -0.00559812830761075, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8591413497924805, "total_loss": 12.493267059326172, "cur_kl_coeff": 0.10000000894069672, "vf_loss": 12.497736930847168, "entropy": 1.271957278251648, "kl": 0.011286193504929543}, "num_steps_sampled": 928846}, "time_total_s": 691.4155566692352, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00d128>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00dc88>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00d9b0>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 49.27120399475098}
{"episode_reward_mean": 841.3455230305215, "timesteps_total": 992522, "iterations_since_restore": 15, "timesteps_since_restore": 992522, "episodes_this_iter": 27, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1025.5692765399401, "system_level_velocity_min": 9.599826566793375, "cost1_max": 410.9893726576005, "system_level_velocity_max": 15.473035372206782, "cost2_min": -104.03308175542992, "outflow_rate_max": 1462.3429069954439, "system_level_velocity_mean": 12.688181544332533, "cost1_mean": 336.5091593162667, "cost2_mean": -70.85772385685817, "outflow_rate_mean": 1206.4501827955883, "cost2_max": -41.63989210005938, "cost1_min": 250.29976674066359}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 15, "episode_reward_max": 1010.9647943760172, "timestamp": 1558423962, "timesteps_this_iter": 63676, "episodes_total": 417, "episode_reward_min": 722.8935606933327, "pid": 62178, "time_since_restore": 740.4642021656036, "date": "2019-05-21_07-32-42", "info": {"num_steps_trained": 992522, "sample_time_ms": 32294.622, "load_time_ms": 8.892, "grad_time_ms": 17635.9, "update_time_ms": 8.354, "default": {"policy_loss": -0.006253215949982405, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8708940148353577, "total_loss": 13.731793403625488, "cur_kl_coeff": 0.10000000894069672, "vf_loss": 13.736774444580078, "entropy": 1.2572332620620728, "kl": 0.012730407528579235}, "num_steps_sampled": 992522}, "time_total_s": 740.4642021656036, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00d630>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00d7f0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00d550>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 49.04864549636841}
{"episode_reward_mean": 852.1820283606819, "timesteps_total": 1056344, "iterations_since_restore": 16, "timesteps_since_restore": 1056344, "episodes_this_iter": 27, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1025.5692765399401, "system_level_velocity_min": 9.599826566793375, "cost1_max": 410.9893726576005, "system_level_velocity_max": 15.473035372206782, "cost2_min": -104.03308175542992, "outflow_rate_max": 1447.5724094292805, "system_level_velocity_mean": 12.913382104069647, "cost1_mean": 342.9037127301111, "cost2_mean": -69.02266239518859, "outflow_rate_mean": 1220.0565003900438, "cost2_max": -38.348576503838935, "cost1_min": 250.29976674066359}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 16, "episode_reward_max": 1010.9647943760172, "timestamp": 1558424013, "timesteps_this_iter": 63822, "episodes_total": 444, "episode_reward_min": 737.9112687214894, "pid": 62178, "time_since_restore": 791.5765404701233, "date": "2019-05-21_07-33-33", "info": {"num_steps_trained": 1056344, "sample_time_ms": 31910.341, "load_time_ms": 8.754, "grad_time_ms": 17423.243, "update_time_ms": 8.029, "default": {"policy_loss": -0.006643351633101702, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8649006485939026, "total_loss": 13.465682983398438, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 13.471187591552734, "entropy": 1.2594966888427734, "kl": 0.011397689580917358}, "num_steps_sampled": 1056344}, "time_total_s": 791.5765404701233, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00dfd0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00d0b8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00d5f8>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 51.11233830451965}
{"episode_reward_mean": 861.3306040804938, "timesteps_total": 1119457, "iterations_since_restore": 17, "timesteps_since_restore": 1119457, "episodes_this_iter": 27, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1025.5692765399401, "system_level_velocity_min": 9.549308555111784, "cost1_max": 410.9893726576005, "system_level_velocity_max": 15.473035372206782, "cost2_min": -112.0344076742616, "outflow_rate_max": 1448.318417894761, "system_level_velocity_mean": 13.078259873062967, "cost1_mean": 347.31397910780396, "cost2_mean": -67.04271491696956, "outflow_rate_mean": 1233.6266235706667, "cost2_max": -38.348576503838935, "cost1_min": 249.83845328591232}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 17, "episode_reward_max": 994.5451421341213, "timestamp": 1558424062, "timesteps_this_iter": 63113, "episodes_total": 471, "episode_reward_min": 717.384429389172, "pid": 62178, "time_since_restore": 840.3639104366302, "date": "2019-05-21_07-34-22", "info": {"num_steps_trained": 1119457, "sample_time_ms": 31749.652, "load_time_ms": 8.705, "grad_time_ms": 17355.91, "update_time_ms": 8.08, "default": {"policy_loss": -0.006838245317339897, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8614928126335144, "total_loss": 15.372661590576172, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 15.378113746643066, "entropy": 1.2674528360366821, "kl": 0.013858748599886894}, "num_steps_sampled": 1119457}, "time_total_s": 840.3639104366302, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c018dd8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c018390>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c018d68>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 48.78736996650696}
{"episode_reward_mean": 854.9545220875044, "timesteps_total": 1183204, "iterations_since_restore": 18, "timesteps_since_restore": 1183204, "episodes_this_iter": 28, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 485.8629864444024, "system_level_velocity_min": 9.549308555111784, "cost1_max": 414.8192578967328, "system_level_velocity_max": 17.65140609493819, "cost2_min": -112.0344076742616, "outflow_rate_max": 1448.318417894761, "system_level_velocity_mean": 13.209679522383764, "cost1_mean": 346.2510165242628, "cost2_mean": -65.74057204575857, "outflow_rate_mean": 1227.5218521429708, "cost2_max": -12.059832163651379, "cost1_min": 17.909062263675153}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 18, "episode_reward_max": 998.9182809623297, "timestamp": 1558424112, "timesteps_this_iter": 63747, "episodes_total": 499, "episode_reward_min": 40.81947558947305, "pid": 62178, "time_since_restore": 890.2702264785767, "date": "2019-05-21_07-35-12", "info": {"num_steps_trained": 1183204, "sample_time_ms": 31726.487, "load_time_ms": 8.495, "grad_time_ms": 17377.091, "update_time_ms": 8.26, "default": {"policy_loss": -0.006050678435713053, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8529120683670044, "total_loss": 16.41652488708496, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 16.421409606933594, "entropy": 1.2713348865509033, "kl": 0.011681797914206982}, "num_steps_sampled": 1183204}, "time_total_s": 890.2702264785767, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0221d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c022898>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c022d30>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 693.27, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 49.90631604194641}
{"episode_reward_mean": 863.1013451523282, "timesteps_total": 1245695, "iterations_since_restore": 19, "timesteps_since_restore": 1245695, "episodes_this_iter": 30, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 485.8629864444024, "system_level_velocity_min": 9.549308555111784, "cost1_max": 436.0230825319433, "system_level_velocity_max": 17.65140609493819, "cost2_min": -112.0344076742616, "outflow_rate_max": 1502.6730717712294, "system_level_velocity_mean": 13.391310358797634, "cost1_mean": 350.56951458097166, "cost2_mean": -65.49981640021004, "outflow_rate_mean": 1244.3312834845133, "cost2_max": -12.059832163651379, "cost1_min": 17.909062263675153}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 19, "episode_reward_max": 1028.6849095506204, "timestamp": 1558424160, "timesteps_this_iter": 62491, "episodes_total": 529, "episode_reward_min": 40.81947558947305, "pid": 62178, "time_since_restore": 938.0627536773682, "date": "2019-05-21_07-36-00", "info": {"num_steps_trained": 1245695, "sample_time_ms": 31534.092, "load_time_ms": 8.383, "grad_time_ms": 17353.707, "update_time_ms": 8.323, "default": {"policy_loss": -0.0073804366402328014, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8634846210479736, "total_loss": 16.175373077392578, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 16.181438446044922, "entropy": 1.256540060043335, "kl": 0.01316943857818842}, "num_steps_sampled": 1245695}, "time_total_s": 938.0627536773682, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c018cc0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c018c88>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e502860>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 693.27, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 47.792527198791504}
{"episode_reward_mean": 860.8866178256795, "timesteps_total": 1308773, "iterations_since_restore": 20, "timesteps_since_restore": 1308773, "episodes_this_iter": 32, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 485.8629864444024, "system_level_velocity_min": 9.549308555111784, "cost1_max": 436.0230825319433, "system_level_velocity_max": 17.65140609493819, "cost2_min": -115.67210567271218, "outflow_rate_max": 1502.6730717712294, "system_level_velocity_mean": 13.549167430243742, "cost1_mean": 353.70276797203667, "cost2_mean": -65.82087799609786, "outflow_rate_mean": 1243.7965773415103, "cost2_max": -12.059832163651379, "cost1_min": 17.909062263675153}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 20, "episode_reward_max": 1028.6849095506204, "timestamp": 1558424210, "timesteps_this_iter": 63078, "episodes_total": 561, "episode_reward_min": 40.81947558947305, "pid": 62178, "time_since_restore": 988.363765001297, "date": "2019-05-21_07-36-50", "info": {"num_steps_trained": 1308773, "sample_time_ms": 31743.309, "load_time_ms": 8.784, "grad_time_ms": 17402.028, "update_time_ms": 8.223, "default": {"policy_loss": -0.006184999831020832, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8801753520965576, "total_loss": 16.54937744140625, "cur_kl_coeff": 0.10000000894069672, "vf_loss": 16.55432891845703, "entropy": 1.2647556066513062, "kl": 0.012339559383690357}, "num_steps_sampled": 1308773}, "time_total_s": 988.363765001297, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00d400>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00dac8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00d518>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 693.27, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 50.30101132392883}
{"episode_reward_mean": 873.642813847575, "timesteps_total": 1368539, "iterations_since_restore": 21, "timesteps_since_restore": 1368539, "episodes_this_iter": 30, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1070.0488849211017, "system_level_velocity_min": 10.386947823503782, "cost1_max": 436.0230825319433, "system_level_velocity_max": 16.455125763359792, "cost2_min": -115.67210567271218, "outflow_rate_max": 1502.6730717712294, "system_level_velocity_mean": 13.724799412904419, "cost1_mean": 362.1152184515198, "cost2_mean": -66.74412747578216, "outflow_rate_mean": 1258.079245263772, "cost2_max": -35.01222863382196, "cost1_min": 273.3463175633547}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 21, "episode_reward_max": 1028.6849095506204, "timestamp": 1558424257, "timesteps_this_iter": 59766, "episodes_total": 591, "episode_reward_min": 734.2405757906615, "pid": 62178, "time_since_restore": 1034.5582282543182, "date": "2019-05-21_07-37-37", "info": {"num_steps_trained": 1368539, "sample_time_ms": 31895.945, "load_time_ms": 8.687, "grad_time_ms": 17036.719, "update_time_ms": 8.328, "default": {"policy_loss": -0.006823546253144741, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.875616192817688, "total_loss": 17.453142166137695, "cur_kl_coeff": 0.10000002384185791, "vf_loss": 17.458778381347656, "entropy": 1.2500767707824707, "kl": 0.011879228055477142}, "num_steps_sampled": 1368539}, "time_total_s": 1034.5582282543182, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00da58>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00dcc0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00df98>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 46.19446325302124}
{"episode_reward_mean": 873.340666892059, "timesteps_total": 1428853, "iterations_since_restore": 22, "timesteps_since_restore": 1428853, "episodes_this_iter": 32, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1009.622447723023, "system_level_velocity_min": 9.735437835173347, "cost1_max": 438.82744810814665, "system_level_velocity_max": 17.266774222266207, "cost2_min": -126.79659398756442, "outflow_rate_max": 1481.741869764555, "system_level_velocity_mean": 13.963888334467017, "cost1_mean": 364.71519473658867, "cost2_mean": -66.9903838361839, "outflow_rate_mean": 1265.1146023561687, "cost2_max": -28.506247014277406, "cost1_min": 137.2887247703049}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 22, "episode_reward_max": 1012.5670940441993, "timestamp": 1558424304, "timesteps_this_iter": 60314, "episodes_total": 623, "episode_reward_min": 301.1605631368168, "pid": 62178, "time_since_restore": 1082.3685388565063, "date": "2019-05-21_07-38-24", "info": {"num_steps_trained": 1428853, "sample_time_ms": 32113.004, "load_time_ms": 8.9, "grad_time_ms": 16725.239, "update_time_ms": 8.287, "default": {"policy_loss": -0.0078109027817845345, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8619295954704285, "total_loss": 20.208023071289062, "cur_kl_coeff": 0.10000002384185791, "vf_loss": 20.214359283447266, "entropy": 1.2587817907333374, "kl": 0.014759545214474201}, "num_steps_sampled": 1428853}, "time_total_s": 1082.3685388565063, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00d668>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e4e6588>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00dba8>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 695.15, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 47.81031060218811}
{"episode_reward_mean": 876.3444931948247, "timesteps_total": 1490166, "iterations_since_restore": 23, "timesteps_since_restore": 1490166, "episodes_this_iter": 31, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1009.622447723023, "system_level_velocity_min": 9.735437835173347, "cost1_max": 438.82744810814665, "system_level_velocity_max": 17.266774222266207, "cost2_min": -126.79659398756442, "outflow_rate_max": 1481.741869764555, "system_level_velocity_mean": 14.095585317079774, "cost1_mean": 367.84251484462055, "cost2_mean": -66.46096807151712, "outflow_rate_mean": 1273.1145271073185, "cost2_max": -28.506247014277406, "cost1_min": 137.2887247703049}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 23, "episode_reward_max": 1012.5670940441993, "timestamp": 1558424354, "timesteps_this_iter": 61313, "episodes_total": 654, "episode_reward_min": 301.1605631368168, "pid": 62178, "time_since_restore": 1131.7464127540588, "date": "2019-05-21_07-39-14", "info": {"num_steps_trained": 1490166, "sample_time_ms": 32306.616, "load_time_ms": 8.572, "grad_time_ms": 16528.798, "update_time_ms": 8.185, "default": {"policy_loss": -0.006632402539253235, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8579224348068237, "total_loss": 19.807086944580078, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 19.812288284301758, "entropy": 1.2556333541870117, "kl": 0.014293423853814602}, "num_steps_sampled": 1490166}, "time_total_s": 1131.7464127540588, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00de48>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00dcf8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00d7b8>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 695.15, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 49.37787389755249}
{"episode_reward_mean": 872.9375150093554, "timesteps_total": 1552218, "iterations_since_restore": 24, "timesteps_since_restore": 1552218, "episodes_this_iter": 28, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1009.622447723023, "system_level_velocity_min": 9.735437835173347, "cost1_max": 438.82744810814665, "system_level_velocity_max": 17.266774222266207, "cost2_min": -126.79659398756442, "outflow_rate_max": 1481.6933974208944, "system_level_velocity_mean": 14.069572971574148, "cost1_mean": 366.9855417560814, "cost2_mean": -68.40353189170152, "outflow_rate_mean": 1272.0913484296852, "cost2_max": -28.506247014277406, "cost1_min": 137.2887247703049}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 24, "episode_reward_max": 1012.5670940441993, "timestamp": 1558424402, "timesteps_this_iter": 62052, "episodes_total": 682, "episode_reward_min": 301.1605631368168, "pid": 62178, "time_since_restore": 1179.9252808094025, "date": "2019-05-21_07-40-02", "info": {"num_steps_trained": 1552218, "sample_time_ms": 32385.494, "load_time_ms": 8.424, "grad_time_ms": 16340.668, "update_time_ms": 7.877, "default": {"policy_loss": -0.007340987678617239, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.890419065952301, "total_loss": 16.31836700439453, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 16.324377059936523, "entropy": 1.2762306928634644, "kl": 0.013322374783456326}, "num_steps_sampled": 1552218}, "time_total_s": 1179.9252808094025, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e502a90>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e502f98>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c018dd8>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 695.15, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 48.17886805534363}
{"episode_reward_mean": 868.6600219371114, "timesteps_total": 1612514, "iterations_since_restore": 25, "timesteps_since_restore": 1612514, "episodes_this_iter": 29, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 482.0722371697821, "system_level_velocity_min": 9.989629750609396, "cost1_max": 438.82744810814665, "system_level_velocity_max": 17.64377596199722, "cost2_min": -117.86568667629362, "outflow_rate_max": 1481.6933974208944, "system_level_velocity_mean": 14.115556948741723, "cost1_mean": 366.68154252077125, "cost2_mean": -67.28801619486097, "outflow_rate_mean": 1269.3492126716376, "cost2_max": -12.118532999285849, "cost1_min": 17.92341520818577}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 25, "episode_reward_max": 1006.1949626770029, "timestamp": 1558424449, "timesteps_this_iter": 60296, "episodes_total": 711, "episode_reward_min": 42.23762205070595, "pid": 62178, "time_since_restore": 1226.8856649398804, "date": "2019-05-21_07-40-49", "info": {"num_steps_trained": 1612514, "sample_time_ms": 32431.106, "load_time_ms": 8.463, "grad_time_ms": 16085.73, "update_time_ms": 7.934, "default": {"policy_loss": -0.007875488139688969, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8452743887901306, "total_loss": 20.504043579101562, "cur_kl_coeff": 0.10000002384185791, "vf_loss": 20.510337829589844, "entropy": 1.2430816888809204, "kl": 0.015814801678061485}, "num_steps_sampled": 1612514}, "time_total_s": 1226.8856649398804, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c022ac8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0229b0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0220f0>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 693.27, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 46.960384130477905}
{"episode_reward_mean": 869.6286143573534, "timesteps_total": 1672100, "iterations_since_restore": 26, "timesteps_since_restore": 1672100, "episodes_this_iter": 28, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 482.0722371697821, "system_level_velocity_min": 9.989629750609396, "cost1_max": 427.8677572683122, "system_level_velocity_max": 17.64377596199722, "cost2_min": -117.86568667629362, "outflow_rate_max": 1495.5926497726475, "system_level_velocity_mean": 14.059034326787145, "cost1_mean": 365.6306758823791, "cost2_mean": -67.26845021979422, "outflow_rate_mean": 1272.550648549957, "cost2_max": -12.118532999285849, "cost1_min": 17.92341520818577}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 26, "episode_reward_max": 999.2994855472765, "timestamp": 1558424496, "timesteps_this_iter": 59586, "episodes_total": 739, "episode_reward_min": 42.23762205070595, "pid": 62178, "time_since_restore": 1273.6301109790802, "date": "2019-05-21_07-41-36", "info": {"num_steps_trained": 1672100, "sample_time_ms": 32302.951, "load_time_ms": 8.166, "grad_time_ms": 15777.87, "update_time_ms": 8.056, "default": {"policy_loss": -0.007878311909735203, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8558480739593506, "total_loss": 18.830406188964844, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 18.836605072021484, "entropy": 1.2336126565933228, "kl": 0.016790879890322685}, "num_steps_sampled": 1672100}, "time_total_s": 1273.6301109790802, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c016438>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e4e6588>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c016470>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 693.27, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 46.74444603919983}
{"episode_reward_mean": 879.3313282109875, "timesteps_total": 1732901, "iterations_since_restore": 27, "timesteps_since_restore": 1732901, "episodes_this_iter": 28, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 482.0722371697821, "system_level_velocity_min": 9.989629750609396, "cost1_max": 432.8363907367849, "system_level_velocity_max": 17.64377596199722, "cost2_min": -117.86568667629362, "outflow_rate_max": 1495.5926497726475, "system_level_velocity_mean": 14.240420464420433, "cost1_mean": 370.82075592040417, "cost2_mean": -64.96343731606575, "outflow_rate_mean": 1282.562150827576, "cost2_max": -12.118532999285849, "cost1_min": 17.92341520818577}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 27, "episode_reward_max": 999.2994855472765, "timestamp": 1558424544, "timesteps_this_iter": 60801, "episodes_total": 767, "episode_reward_min": 42.23762205070595, "pid": 62178, "time_since_restore": 1321.4307179450989, "date": "2019-05-21_07-42-24", "info": {"num_steps_trained": 1732901, "sample_time_ms": 32290.559, "load_time_ms": 8.003, "grad_time_ms": 15693.314, "update_time_ms": 8.053, "default": {"policy_loss": -0.006710816640406847, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.862592875957489, "total_loss": 19.797813415527344, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 19.802886962890625, "entropy": 1.2623966932296753, "kl": 0.016399219632148743}, "num_steps_sampled": 1732901}, "time_total_s": 1321.4307179450989, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfaffd0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfaf5c0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfaf5f8>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 693.27, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 47.80060696601868}
{"episode_reward_mean": 882.7506120022314, "timesteps_total": 1794323, "iterations_since_restore": 28, "timesteps_since_restore": 1794323, "episodes_this_iter": 27, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 482.0722371697821, "system_level_velocity_min": 10.147568776756273, "cost1_max": 440.1189319790987, "system_level_velocity_max": 17.64377596199722, "cost2_min": -115.47473757538701, "outflow_rate_max": 1546.8780530061858, "system_level_velocity_mean": 14.174034995509594, "cost1_mean": 369.4802360969646, "cost2_mean": -65.46427764946625, "outflow_rate_mean": 1287.0575211028356, "cost2_max": -12.118532999285849, "cost1_min": 17.92341520818577}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 28, "episode_reward_max": 1025.0772988583099, "timestamp": 1558424591, "timesteps_this_iter": 61422, "episodes_total": 794, "episode_reward_min": 42.23762205070595, "pid": 62178, "time_since_restore": 1368.4333047866821, "date": "2019-05-21_07-43-11", "info": {"num_steps_trained": 1794323, "sample_time_ms": 32207.13, "load_time_ms": 8.11, "grad_time_ms": 15485.159, "update_time_ms": 7.918, "default": {"policy_loss": -0.007814829237759113, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8732854127883911, "total_loss": 19.569591522216797, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 19.575695037841797, "entropy": 1.2697334289550781, "kl": 0.017104966565966606}, "num_steps_sampled": 1794323}, "time_total_s": 1368.4333047866821, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00dfd0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00d550>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00d5c0>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 693.27, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 47.00258684158325}
{"episode_reward_mean": 891.5006379187506, "timesteps_total": 1855666, "iterations_since_restore": 29, "timesteps_since_restore": 1855666, "episodes_this_iter": 30, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1082.5218944393987, "system_level_velocity_min": 10.147568776756273, "cost1_max": 440.1189319790987, "system_level_velocity_max": 16.697205512689106, "cost2_min": -115.47473757538701, "outflow_rate_max": 1546.8780530061858, "system_level_velocity_mean": 14.061698802420322, "cost1_mean": 371.3615531738188, "cost2_mean": -67.78143530989475, "outflow_rate_mean": 1299.9646235558048, "cost2_max": -34.81913831706348, "cost1_min": 269.112828773219}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 29, "episode_reward_max": 1025.0772988583099, "timestamp": 1558424637, "timesteps_this_iter": 61343, "episodes_total": 824, "episode_reward_min": 737.4963303233476, "pid": 62178, "time_since_restore": 1414.583277463913, "date": "2019-05-21_07-43-57", "info": {"num_steps_trained": 1855666, "sample_time_ms": 32314.83, "load_time_ms": 7.764, "grad_time_ms": 15214.218, "update_time_ms": 7.901, "default": {"policy_loss": -0.007261070888489485, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8660520315170288, "total_loss": 20.149791717529297, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 20.155397415161133, "entropy": 1.269826054573059, "kl": 0.01655079796910286}, "num_steps_sampled": 1855666}, "time_total_s": 1414.583277463913, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e4d99b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfaf780>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c031898>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 46.149972677230835}
{"episode_reward_mean": 876.5089152512209, "timesteps_total": 1915693, "iterations_since_restore": 30, "timesteps_since_restore": 1915693, "episodes_this_iter": 32, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 501.62470491789117, "system_level_velocity_min": 10.147568776756273, "cost1_max": 440.1189319790987, "system_level_velocity_max": 18.401609656962588, "cost2_min": -115.47473757538701, "outflow_rate_max": 1546.8780530061858, "system_level_velocity_mean": 13.877799316547625, "cost1_mean": 362.2191259097028, "cost2_mean": -70.10605995666343, "outflow_rate_mean": 1282.688495080737, "cost2_max": -13.68199500772299, "cost1_min": 22.966308703986098}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 30, "episode_reward_max": 1025.0772988583099, "timestamp": 1558424683, "timesteps_this_iter": 60027, "episodes_total": 856, "episode_reward_min": 50.853212261697, "pid": 62178, "time_since_restore": 1460.9710965156555, "date": "2019-05-21_07-44-43", "info": {"num_steps_trained": 1915693, "sample_time_ms": 32258.843, "load_time_ms": 7.507, "grad_time_ms": 14880.258, "update_time_ms": 7.836, "default": {"policy_loss": -0.008846578188240528, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.857819139957428, "total_loss": 21.88766098022461, "cur_kl_coeff": 0.10000002384185791, "vf_loss": 21.89468765258789, "entropy": 1.260910987854004, "kl": 0.018192389979958534}, "num_steps_sampled": 1915693}, "time_total_s": 1460.9710965156555, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfaf4e0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfafa20>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfafa58>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 693.35, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 46.387819051742554}
{"episode_reward_mean": 871.2169809995981, "timesteps_total": 1975984, "iterations_since_restore": 31, "timesteps_since_restore": 1975984, "episodes_this_iter": 30, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 501.62470491789117, "system_level_velocity_min": 10.549433443335596, "cost1_max": 437.935715254929, "system_level_velocity_max": 18.401609656962588, "cost2_min": -115.47473757538701, "outflow_rate_max": 1499.1182602770846, "system_level_velocity_mean": 13.851952425481997, "cost1_mean": 361.4762349544334, "cost2_mean": -69.8547881319738, "outflow_rate_mean": 1277.422793367946, "cost2_max": -13.68199500772299, "cost1_min": 22.966308703986098}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 31, "episode_reward_max": 1028.4154911110984, "timestamp": 1558424730, "timesteps_this_iter": 60291, "episodes_total": 886, "episode_reward_min": 50.853212261697, "pid": 62178, "time_since_restore": 1507.5829889774323, "date": "2019-05-21_07-45-30", "info": {"num_steps_trained": 1975984, "sample_time_ms": 32294.378, "load_time_ms": 7.458, "grad_time_ms": 14886.386, "update_time_ms": 7.854, "default": {"policy_loss": -0.008155479095876217, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8660335540771484, "total_loss": 21.139429092407227, "cur_kl_coeff": 0.10000002384185791, "vf_loss": 21.145784378051758, "entropy": 1.2571518421173096, "kl": 0.018021108582615852}, "num_steps_sampled": 1975984}, "time_total_s": 1507.5829889774323, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfba278>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfba668>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfba198>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 693.35, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 46.61189246177673}
{"episode_reward_mean": 875.4526040133056, "timesteps_total": 2033241, "iterations_since_restore": 32, "timesteps_since_restore": 2033241, "episodes_this_iter": 31, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 501.62470491789117, "system_level_velocity_min": 10.549433443335596, "cost1_max": 437.935715254929, "system_level_velocity_max": 18.401609656962588, "cost2_min": -110.60751075291057, "outflow_rate_max": 1499.1182602770846, "system_level_velocity_mean": 14.061831902110317, "cost1_mean": 366.73128121995074, "cost2_mean": -66.7653036689099, "outflow_rate_mean": 1281.5007881217894, "cost2_max": -13.68199500772299, "cost1_min": 22.966308703986098}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 32, "episode_reward_max": 1028.4154911110984, "timestamp": 1558424774, "timesteps_this_iter": 57257, "episodes_total": 917, "episode_reward_min": 50.853212261697, "pid": 62178, "time_since_restore": 1550.9677693843842, "date": "2019-05-21_07-46-14", "info": {"num_steps_trained": 2033241, "sample_time_ms": 31814.762, "load_time_ms": 7.206, "grad_time_ms": 14924.319, "update_time_ms": 7.564, "default": {"policy_loss": -0.008653444238007069, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.852143406867981, "total_loss": 23.35365104675293, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 23.36055564880371, "entropy": 1.2329427003860474, "kl": 0.017510661855340004}, "num_steps_sampled": 2033241}, "time_total_s": 1550.9677693843842, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c022438>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c022d30>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c022fd0>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 693.35, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 43.384780406951904}
{"episode_reward_mean": 880.493598471472, "timesteps_total": 2092611, "iterations_since_restore": 33, "timesteps_since_restore": 2092611, "episodes_this_iter": 29, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 501.62470491789117, "system_level_velocity_min": 10.549433443335596, "cost1_max": 437.935715254929, "system_level_velocity_max": 18.401609656962588, "cost2_min": -109.26588663147052, "outflow_rate_max": 1530.5047172461068, "system_level_velocity_mean": 14.269354096590488, "cost1_mean": 372.0800514568036, "cost2_mean": -64.79485376063137, "outflow_rate_mean": 1287.762551242457, "cost2_max": -13.68199500772299, "cost1_min": 22.966308703986098}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 33, "episode_reward_max": 1028.4154911110984, "timestamp": 1558424820, "timesteps_this_iter": 59370, "episodes_total": 946, "episode_reward_min": 50.853212261697, "pid": 62178, "time_since_restore": 1597.5287640094757, "date": "2019-05-21_07-47-00", "info": {"num_steps_trained": 2092611, "sample_time_ms": 31403.067, "load_time_ms": 7.243, "grad_time_ms": 15054.695, "update_time_ms": 7.479, "default": {"policy_loss": -0.007728033699095249, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.863501787185669, "total_loss": 21.512826919555664, "cur_kl_coeff": 0.10000002384185791, "vf_loss": 21.518789291381836, "entropy": 1.2475999593734741, "kl": 0.017639778554439545}, "num_steps_sampled": 2092611}, "time_total_s": 1597.5287640094757, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfba668>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfba198>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfba5f8>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 693.35, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 46.56099462509155}
{"episode_reward_mean": 883.0845957470287, "timesteps_total": 2154090, "iterations_since_restore": 34, "timesteps_since_restore": 2154090, "episodes_this_iter": 29, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1105.1576129311588, "system_level_velocity_min": 10.838244717022798, "cost1_max": 446.9890270095359, "system_level_velocity_max": 17.116887340817758, "cost2_min": -109.26588663147052, "outflow_rate_max": 1566.3142877947141, "system_level_velocity_mean": 14.141312594091792, "cost1_mean": 373.0992769654042, "cost2_mean": -66.90421428597487, "outflow_rate_mean": 1290.1822321267082, "cost2_max": -37.862972847406624, "cost1_min": 283.82506803365334}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 34, "episode_reward_max": 1034.6672617311463, "timestamp": 1558424868, "timesteps_this_iter": 61479, "episodes_total": 975, "episode_reward_min": 746.4425214353635, "pid": 62178, "time_since_restore": 1645.053970336914, "date": "2019-05-21_07-47-48", "info": {"num_steps_trained": 2154090, "sample_time_ms": 31123.149, "load_time_ms": 7.363, "grad_time_ms": 15268.811, "update_time_ms": 7.778, "default": {"policy_loss": -0.008840490132570267, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8794734477996826, "total_loss": 20.81964111328125, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 20.82657814025879, "entropy": 1.2668673992156982, "kl": 0.019037781283259392}, "num_steps_sampled": 2154090}, "time_total_s": 1645.053970336914, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e502a90>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e502e10>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e502860>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 47.525206327438354}
{"episode_reward_mean": 887.5287299325643, "timesteps_total": 2214805, "iterations_since_restore": 35, "timesteps_since_restore": 2214805, "episodes_this_iter": 27, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1120.8831082492168, "system_level_velocity_min": 10.838244717022798, "cost1_max": 449.23210325122045, "system_level_velocity_max": 17.139372089270406, "cost2_min": -98.81491523928989, "outflow_rate_max": 1566.3142877947141, "system_level_velocity_mean": 14.185332653231868, "cost1_mean": 374.4865098911043, "cost2_mean": -69.16602487115748, "outflow_rate_mean": 1297.2243071608877, "cost2_max": -43.246187566684924, "cost1_min": 283.82506803365334}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 35, "episode_reward_max": 1034.6672617311463, "timestamp": 1558424913, "timesteps_this_iter": 60715, "episodes_total": 1002, "episode_reward_min": 749.4009257253864, "pid": 62178, "time_since_restore": 1690.4120342731476, "date": "2019-05-21_07-48-33", "info": {"num_steps_trained": 2214805, "sample_time_ms": 30729.371, "load_time_ms": 7.29, "grad_time_ms": 15502.37, "update_time_ms": 7.967, "default": {"policy_loss": -0.0080671152099967, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8821109533309937, "total_loss": 19.692365646362305, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 19.698617935180664, "entropy": 1.2691009044647217, "kl": 0.018148180097341537}, "num_steps_sampled": 2214805}, "time_total_s": 1690.4120342731476, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00d4a8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00d1d0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00d780>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 45.35806393623352}
{"episode_reward_mean": 878.7517721719047, "timesteps_total": 2277914, "iterations_since_restore": 36, "timesteps_since_restore": 2277914, "episodes_this_iter": 28, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1120.8831082492168, "system_level_velocity_min": 10.838244717022798, "cost1_max": 449.23210325122045, "system_level_velocity_max": 17.139372089270406, "cost2_min": -100.16938236349228, "outflow_rate_max": 1566.3142877947141, "system_level_velocity_mean": 14.022482936285835, "cost1_mean": 370.19786000528956, "cost2_mean": -72.84966920948354, "outflow_rate_mean": 1283.9421968924712, "cost2_max": -43.246187566684924, "cost1_min": 283.82506803365334}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 36, "episode_reward_max": 1034.6672617311463, "timestamp": 1558424962, "timesteps_this_iter": 63109, "episodes_total": 1030, "episode_reward_min": 749.4009257253864, "pid": 62178, "time_since_restore": 1739.4739544391632, "date": "2019-05-21_07-49-22", "info": {"num_steps_trained": 2277914, "sample_time_ms": 30807.348, "load_time_ms": 7.217, "grad_time_ms": 15655.385, "update_time_ms": 7.905, "default": {"policy_loss": -0.007721430622041225, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8850311636924744, "total_loss": 19.11826515197754, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 19.12400245666504, "entropy": 1.276767373085022, "kl": 0.019845157861709595}, "num_steps_sampled": 2277914}, "time_total_s": 1739.4739544391632, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfaff60>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfaf748>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfaf518>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 49.061920166015625}
{"episode_reward_mean": 872.5916677590765, "timesteps_total": 2338771, "iterations_since_restore": 37, "timesteps_since_restore": 2338771, "episodes_this_iter": 27, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1120.8831082492168, "system_level_velocity_min": 10.515513316739511, "cost1_max": 449.23210325122045, "system_level_velocity_max": 17.139372089270406, "cost2_min": -109.14665006266776, "outflow_rate_max": 1566.3142877947141, "system_level_velocity_mean": 13.829020981932192, "cost1_mean": 364.9766967997801, "cost2_mean": -76.58649842219853, "outflow_rate_mean": 1277.4757533672987, "cost2_max": -43.246187566684924, "cost1_min": 274.2884842397117}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 37, "episode_reward_max": 1034.6672617311463, "timestamp": 1558425008, "timesteps_this_iter": 60857, "episodes_total": 1057, "episode_reward_min": 749.4009257253864, "pid": 62178, "time_since_restore": 1785.7153837680817, "date": "2019-05-21_07-50-08", "info": {"num_steps_trained": 2338771, "sample_time_ms": 30655.78, "load_time_ms": 7.232, "grad_time_ms": 15650.684, "update_time_ms": 7.907, "default": {"policy_loss": -0.008850659243762493, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8737877011299133, "total_loss": 21.302040100097656, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 21.308996200561523, "entropy": 1.2449452877044678, "kl": 0.018907450139522552}, "num_steps_sampled": 2338771}, "time_total_s": 1785.7153837680817, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfba4e0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfba668>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfba160>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 46.24142932891846}
{"episode_reward_mean": 880.4375158380415, "timesteps_total": 2400668, "iterations_since_restore": 38, "timesteps_since_restore": 2400668, "episodes_this_iter": 28, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1137.0657458993212, "system_level_velocity_min": 10.515513316739511, "cost1_max": 449.23210325122045, "system_level_velocity_max": 17.139372089270406, "cost2_min": -109.14665006266776, "outflow_rate_max": 1549.772254327549, "system_level_velocity_mean": 14.024127057231278, "cost1_mean": 370.2106865070159, "cost2_mean": -75.20357110943449, "outflow_rate_mean": 1285.1723779598358, "cost2_max": -45.43058105138731, "cost1_min": 274.2884842397117}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 38, "episode_reward_max": 1028.9715329718233, "timestamp": 1558425056, "timesteps_this_iter": 61897, "episodes_total": 1085, "episode_reward_min": 752.789125285722, "pid": 62178, "time_since_restore": 1833.6707260608673, "date": "2019-05-21_07-50-56", "info": {"num_steps_trained": 2400668, "sample_time_ms": 30639.768, "load_time_ms": 6.897, "grad_time_ms": 15762.574, "update_time_ms": 7.907, "default": {"policy_loss": -0.007475424557924271, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8668504953384399, "total_loss": 21.655485153198242, "cur_kl_coeff": 0.10000002384185791, "vf_loss": 21.66109848022461, "entropy": 1.2589995861053467, "kl": 0.018624750897288322}, "num_steps_sampled": 2400668}, "time_total_s": 1833.6707260608673, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfba6a0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbae48>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbaf98>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 47.955342292785645}
{"episode_reward_mean": 874.1522353740515, "timesteps_total": 2463695, "iterations_since_restore": 39, "timesteps_since_restore": 2463695, "episodes_this_iter": 31, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1137.0657458993212, "system_level_velocity_min": 10.515513316739511, "cost1_max": 447.54694631366897, "system_level_velocity_max": 16.949841085029178, "cost2_min": -109.57224124271485, "outflow_rate_max": 1549.772254327549, "system_level_velocity_mean": 13.847213208348169, "cost1_mean": 365.21475997019377, "cost2_mean": -77.35061549522847, "outflow_rate_mean": 1279.5680129558825, "cost2_max": -47.36704128874975, "cost1_min": 274.2884842397117}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 39, "episode_reward_max": 1032.7964029312875, "timestamp": 1558425106, "timesteps_this_iter": 63027, "episodes_total": 1116, "episode_reward_min": 752.789125285722, "pid": 62178, "time_since_restore": 1883.315648317337, "date": "2019-05-21_07-51-46", "info": {"num_steps_trained": 2463695, "sample_time_ms": 30744.966, "load_time_ms": 7.215, "grad_time_ms": 16003.341, "update_time_ms": 8.119, "default": {"policy_loss": -0.006889057345688343, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8576508164405823, "total_loss": 23.359037399291992, "cur_kl_coeff": 0.10000000894069672, "vf_loss": 23.364124298095703, "entropy": 1.269919753074646, "kl": 0.018042486160993576}, "num_steps_sampled": 2463695}, "time_total_s": 1883.315648317337, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc10f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc1ba8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc1cf8>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 49.64492225646973}
{"episode_reward_mean": 869.7741385350326, "timesteps_total": 2526257, "iterations_since_restore": 40, "timesteps_since_restore": 2526257, "episodes_this_iter": 28, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1093.009437936407, "system_level_velocity_min": 10.634384397839707, "cost1_max": 447.54694631366897, "system_level_velocity_max": 16.949841085029178, "cost2_min": -111.74279087410014, "outflow_rate_max": 1540.9604162701144, "system_level_velocity_mean": 13.688510703791962, "cost1_mean": 361.0626758035917, "cost2_mean": -78.92095145769416, "outflow_rate_mean": 1276.0833887445065, "cost2_max": -47.36704128874975, "cost1_min": 277.605368705772}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 40, "episode_reward_max": 1032.7964029312875, "timestamp": 1558425155, "timesteps_this_iter": 62562, "episodes_total": 1144, "episode_reward_min": 739.4046513103467, "pid": 62178, "time_since_restore": 1932.4461078643799, "date": "2019-05-21_07-52-35", "info": {"num_steps_trained": 2526257, "sample_time_ms": 30651.86, "load_time_ms": 7.205, "grad_time_ms": 16370.077, "update_time_ms": 8.454, "default": {"policy_loss": -0.009085357189178467, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8716869950294495, "total_loss": 21.277803421020508, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 21.284887313842773, "entropy": 1.264668345451355, "kl": 0.020009994506835938}, "num_steps_sampled": 2526257}, "time_total_s": 1932.4461078643799, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfaf630>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfaf4e0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfaf978>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 49.13045954704285}
{"episode_reward_mean": 863.6746080754463, "timesteps_total": 2588595, "iterations_since_restore": 41, "timesteps_since_restore": 2588595, "episodes_this_iter": 31, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1093.009437936407, "system_level_velocity_min": 10.634384397839707, "cost1_max": 447.54694631366897, "system_level_velocity_max": 16.949841085029178, "cost2_min": -111.74279087410014, "outflow_rate_max": 1540.9604162701144, "system_level_velocity_mean": 13.57242461374472, "cost1_mean": 358.1627304246948, "cost2_mean": -80.31119672760819, "outflow_rate_mean": 1270.9576355948534, "cost2_max": -50.07083975870593, "cost1_min": 277.605368705772}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 41, "episode_reward_max": 1032.7964029312875, "timestamp": 1558425203, "timesteps_this_iter": 62338, "episodes_total": 1175, "episode_reward_min": 739.4046513103467, "pid": 62178, "time_since_restore": 1980.2852261066437, "date": "2019-05-21_07-53-23", "info": {"num_steps_trained": 2588595, "sample_time_ms": 30557.183, "load_time_ms": 7.23, "grad_time_ms": 16585.142, "update_time_ms": 8.586, "default": {"policy_loss": -0.008456235751509666, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8694578409194946, "total_loss": 21.29060173034668, "cur_kl_coeff": 0.14999999105930328, "vf_loss": 21.296506881713867, "entropy": 1.281022310256958, "kl": 0.01701349951326847}, "num_steps_sampled": 2588595}, "time_total_s": 1980.2852261066437, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfaf0b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfaf1d0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfaf198>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 47.839118242263794}
{"episode_reward_mean": 859.5802475494086, "timesteps_total": 2651674, "iterations_since_restore": 42, "timesteps_since_restore": 2651674, "episodes_this_iter": 31, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1093.009437936407, "system_level_velocity_min": 10.634384397839707, "cost1_max": 447.54694631366897, "system_level_velocity_max": 16.949841085029178, "cost2_min": -111.74279087410014, "outflow_rate_max": 1540.9604162701144, "system_level_velocity_mean": 13.349215813878347, "cost1_mean": 352.8332514672771, "cost2_mean": -81.3157784065755, "outflow_rate_mean": 1265.454709698181, "cost2_max": -50.07083975870593, "cost1_min": 277.605368705772}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 42, "episode_reward_max": 1032.7964029312875, "timestamp": 1558425253, "timesteps_this_iter": 63079, "episodes_total": 1206, "episode_reward_min": 739.4046513103467, "pid": 62178, "time_since_restore": 2030.0723178386688, "date": "2019-05-21_07-54-13", "info": {"num_steps_trained": 2651674, "sample_time_ms": 30974.073, "load_time_ms": 7.542, "grad_time_ms": 16802.243, "update_time_ms": 8.761, "default": {"policy_loss": -0.006730861961841583, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8444564938545227, "total_loss": 24.544340133666992, "cur_kl_coeff": 0.14999999105930328, "vf_loss": 24.54865837097168, "entropy": 1.3026788234710693, "kl": 0.016093967482447624}, "num_steps_sampled": 2651674}, "time_total_s": 2030.0723178386688, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfba208>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfba978>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfba0b8>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 49.78709173202515}
{"episode_reward_mean": 864.1680535945526, "timesteps_total": 2713009, "iterations_since_restore": 43, "timesteps_since_restore": 2713009, "episodes_this_iter": 29, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1093.009437936407, "system_level_velocity_min": 10.634384397839707, "cost1_max": 455.33423695133234, "system_level_velocity_max": 17.285458022252424, "cost2_min": -107.07926584984102, "outflow_rate_max": 1630.5127373059722, "system_level_velocity_mean": 13.33392857361335, "cost1_mean": 353.0929493134408, "cost2_mean": -81.10648475645695, "outflow_rate_mean": 1269.5461744923964, "cost2_max": -54.879266598325685, "cost1_min": 277.605368705772}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 43, "episode_reward_max": 1075.7951259553179, "timestamp": 1558425301, "timesteps_this_iter": 61335, "episodes_total": 1235, "episode_reward_min": 739.4046513103467, "pid": 62178, "time_since_restore": 2078.182062149048, "date": "2019-05-21_07-55-01", "info": {"num_steps_trained": 2713009, "sample_time_ms": 31081.456, "load_time_ms": 7.782, "grad_time_ms": 16845.95, "update_time_ms": 8.939, "default": {"policy_loss": -0.008280427195131779, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8539599180221558, "total_loss": 24.764009475708008, "cur_kl_coeff": 0.1499999761581421, "vf_loss": 24.76944923400879, "entropy": 1.2938954830169678, "kl": 0.018947280943393707}, "num_steps_sampled": 2713009}, "time_total_s": 2078.182062149048, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00dc50>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00d780>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00de80>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 48.10974431037903}
{"episode_reward_mean": 864.6794605626098, "timesteps_total": 2774137, "iterations_since_restore": 44, "timesteps_since_restore": 2774137, "episodes_this_iter": 29, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1111.393741012132, "system_level_velocity_min": 10.798487821863564, "cost1_max": 455.33423695133234, "system_level_velocity_max": 17.411055214254066, "cost2_min": -107.07926584984102, "outflow_rate_max": 1630.5127373059722, "system_level_velocity_mean": 13.483759903348513, "cost1_mean": 354.7398429780449, "cost2_mean": -79.49950497688378, "outflow_rate_mean": 1275.7984681825733, "cost2_max": -43.5990953329504, "cost1_min": 194.24759922301993}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 44, "episode_reward_max": 1075.7951259553179, "timestamp": 1558425350, "timesteps_this_iter": 61128, "episodes_total": 1264, "episode_reward_min": 451.28599365352477, "pid": 62178, "time_since_restore": 2127.0825855731964, "date": "2019-05-21_07-55-50", "info": {"num_steps_trained": 2774137, "sample_time_ms": 31231.071, "load_time_ms": 7.73, "grad_time_ms": 16834.319, "update_time_ms": 9.002, "default": {"policy_loss": -0.0077014281414449215, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8604246377944946, "total_loss": 24.433900833129883, "cur_kl_coeff": 0.15000000596046448, "vf_loss": 24.439193725585938, "entropy": 1.28584623336792, "kl": 0.016063684597611427}, "num_steps_sampled": 2774137}, "time_total_s": 2127.0825855731964, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc1a58>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc1550>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc1c88>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 695.97, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 48.90052342414856}
{"episode_reward_mean": 865.4475099148135, "timesteps_total": 2835554, "iterations_since_restore": 45, "timesteps_since_restore": 2835554, "episodes_this_iter": 28, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1111.393741012132, "system_level_velocity_min": 10.589780601097836, "cost1_max": 455.33423695133234, "system_level_velocity_max": 17.411055214254066, "cost2_min": -107.29423396102308, "outflow_rate_max": 1630.5127373059722, "system_level_velocity_mean": 13.5681280235861, "cost1_mean": 356.8329400780523, "cost2_mean": -79.29007291598528, "outflow_rate_mean": 1274.1905544860151, "cost2_max": -43.5990953329504, "cost1_min": 194.24759922301993}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 45, "episode_reward_max": 1075.7951259553179, "timestamp": 1558425398, "timesteps_this_iter": 61417, "episodes_total": 1292, "episode_reward_min": 451.28599365352477, "pid": 62178, "time_since_restore": 2174.4853541851044, "date": "2019-05-21_07-56-38", "info": {"num_steps_trained": 2835554, "sample_time_ms": 31490.352, "load_time_ms": 7.49, "grad_time_ms": 16779.036, "update_time_ms": 8.849, "default": {"policy_loss": -0.00939133856445551, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8584168553352356, "total_loss": 24.17542266845703, "cur_kl_coeff": 0.1499999761581421, "vf_loss": 24.182109832763672, "entropy": 1.2900187969207764, "kl": 0.018034109845757484}, "num_steps_sampled": 2835554}, "time_total_s": 2174.4853541851044, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc19e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc18d0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc1048>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 695.97, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 47.40276861190796}
{"episode_reward_mean": 879.3102691054534, "timesteps_total": 2895556, "iterations_since_restore": 46, "timesteps_since_restore": 2895556, "episodes_this_iter": 29, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1112.2512060301506, "system_level_velocity_min": 10.589780601097836, "cost1_max": 461.9056873320918, "system_level_velocity_max": 17.617424657623587, "cost2_min": -107.29423396102308, "outflow_rate_max": 1630.5127373059722, "system_level_velocity_mean": 13.969705615249493, "cost1_mean": 367.2079649351441, "cost2_mean": -78.78478786288333, "outflow_rate_mean": 1294.4534750243383, "cost2_max": -43.5990953329504, "cost1_min": 194.24759922301993}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 46, "episode_reward_max": 1076.0185910721616, "timestamp": 1558425442, "timesteps_this_iter": 60002, "episodes_total": 1321, "episode_reward_min": 451.28599365352477, "pid": 62178, "time_since_restore": 2219.00093626976, "date": "2019-05-21_07-57-22", "info": {"num_steps_trained": 2895556, "sample_time_ms": 31170.705, "load_time_ms": 7.747, "grad_time_ms": 16645.871, "update_time_ms": 8.739, "default": {"policy_loss": -0.009148994460701942, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8629253506660461, "total_loss": 25.121986389160156, "cur_kl_coeff": 0.14999999105930328, "vf_loss": 25.128442764282227, "entropy": 1.2680580615997314, "kl": 0.017944641411304474}, "num_steps_sampled": 2895556}, "time_total_s": 2219.00093626976, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfafa20>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfafb00>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfaf128>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 695.97, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 44.51558208465576}
{"episode_reward_mean": 877.6295846198992, "timesteps_total": 2958428, "iterations_since_restore": 47, "timesteps_since_restore": 2958428, "episodes_this_iter": 27, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1114.0813130115298, "system_level_velocity_min": 10.589780601097836, "cost1_max": 461.9056873320918, "system_level_velocity_max": 17.617424657623587, "cost2_min": -107.29423396102308, "outflow_rate_max": 1624.8753706212028, "system_level_velocity_mean": 13.802871873541536, "cost1_mean": 365.37692469958364, "cost2_mean": -79.68052375651989, "outflow_rate_mean": 1286.0548652946077, "cost2_max": -49.932083178858775, "cost1_min": 281.4010510298039}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 47, "episode_reward_max": 1076.0185910721616, "timestamp": 1558425489, "timesteps_this_iter": 62872, "episodes_total": 1348, "episode_reward_min": 761.3575606296499, "pid": 62178, "time_since_restore": 2266.0015234947205, "date": "2019-05-21_07-58-09", "info": {"num_steps_trained": 2958428, "sample_time_ms": 31221.638, "load_time_ms": 8.214, "grad_time_ms": 16669.486, "update_time_ms": 8.599, "default": {"policy_loss": -0.00845164991915226, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.863634467124939, "total_loss": 22.200654983520508, "cur_kl_coeff": 0.14999999105930328, "vf_loss": 22.20638656616211, "entropy": 1.2887850999832153, "kl": 0.018135501071810722}, "num_steps_sampled": 2958428}, "time_total_s": 2266.0015234947205, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c022898>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c022438>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c022208>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 47.00058722496033}
{"episode_reward_mean": 878.8557694090616, "timesteps_total": 3019819, "iterations_since_restore": 48, "timesteps_since_restore": 3019819, "episodes_this_iter": 28, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1114.0813130115298, "system_level_velocity_min": 10.589780601097836, "cost1_max": 461.9056873320918, "system_level_velocity_max": 17.617424657623587, "cost2_min": -107.29423396102308, "outflow_rate_max": 1624.8753706212028, "system_level_velocity_mean": 13.833758814373683, "cost1_mean": 365.9329393756112, "cost2_mean": -79.9257844696598, "outflow_rate_mean": 1287.4771484378225, "cost2_max": -49.932083178858775, "cost1_min": 277.91149370867294}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 48, "episode_reward_max": 1076.0185910721616, "timestamp": 1558425537, "timesteps_this_iter": 61391, "episodes_total": 1376, "episode_reward_min": 739.6951326887751, "pid": 62178, "time_since_restore": 2313.995784521103, "date": "2019-05-21_07-58-57", "info": {"num_steps_trained": 3019819, "sample_time_ms": 31173.207, "load_time_ms": 8.432, "grad_time_ms": 16719.481, "update_time_ms": 8.588, "default": {"policy_loss": -0.008577278815209866, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8591964840888977, "total_loss": 24.53024673461914, "cur_kl_coeff": 0.1499999761581421, "vf_loss": 24.5361385345459, "entropy": 1.2745712995529175, "kl": 0.01790056936442852}, "num_steps_sampled": 3019819}, "time_total_s": 2313.995784521103, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc1b38>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc1400>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc14a8>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 47.994261026382446}
{"episode_reward_mean": 871.5983984300427, "timesteps_total": 3080856, "iterations_since_restore": 49, "timesteps_since_restore": 3080856, "episodes_this_iter": 27, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1114.0813130115298, "system_level_velocity_min": 10.63166004553818, "cost1_max": 465.4008124988982, "system_level_velocity_max": 17.748449512788095, "cost2_min": -108.93614967192899, "outflow_rate_max": 1615.8601309937692, "system_level_velocity_mean": 13.74500560005385, "cost1_mean": 363.2135501449061, "cost2_mean": -80.54072430617778, "outflow_rate_mean": 1282.4363851502849, "cost2_max": -49.932083178858775, "cost1_min": 277.91149370867294}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 49, "episode_reward_max": 1069.9416610245626, "timestamp": 1558425586, "timesteps_this_iter": 61037, "episodes_total": 1403, "episode_reward_min": 739.6951326887751, "pid": 62178, "time_since_restore": 2362.5371963977814, "date": "2019-05-21_07-59-46", "info": {"num_steps_trained": 3080856, "sample_time_ms": 31038.886, "load_time_ms": 8.082, "grad_time_ms": 16745.669, "update_time_ms": 8.593, "default": {"policy_loss": -0.007587626110762358, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8602314591407776, "total_loss": 24.687332153320312, "cur_kl_coeff": 0.14999999105930328, "vf_loss": 24.692398071289062, "entropy": 1.274743676185608, "kl": 0.01679881289601326}, "num_steps_sampled": 3080856}, "time_total_s": 2362.5371963977814, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfaf320>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfaf2b0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e502518>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 48.54141187667847}
{"episode_reward_mean": 867.449608412911, "timesteps_total": 3141658, "iterations_since_restore": 50, "timesteps_since_restore": 3141658, "episodes_this_iter": 29, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1140.1576813430474, "system_level_velocity_min": 10.63166004553818, "cost1_max": 465.4008124988982, "system_level_velocity_max": 17.748449512788095, "cost2_min": -108.93614967192899, "outflow_rate_max": 1615.8601309937692, "system_level_velocity_mean": 13.82476357175161, "cost1_mean": 364.9086622526449, "cost2_mean": -79.87882067970767, "outflow_rate_mean": 1276.8134496897242, "cost2_max": -52.95247984638283, "cost1_min": 277.91149370867294}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 50, "episode_reward_max": 1069.9416610245626, "timestamp": 1558425632, "timesteps_this_iter": 60802, "episodes_total": 1432, "episode_reward_min": 739.6951326887751, "pid": 62178, "time_since_restore": 2408.866789340973, "date": "2019-05-21_08-00-32", "info": {"num_steps_trained": 3141658, "sample_time_ms": 30954.178, "load_time_ms": 8.063, "grad_time_ms": 16549.335, "update_time_ms": 8.531, "default": {"policy_loss": -0.008649791590869427, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8626542687416077, "total_loss": 24.67243003845215, "cur_kl_coeff": 0.15000000596046448, "vf_loss": 24.678560256958008, "entropy": 1.2719517946243286, "kl": 0.016780056059360504}, "num_steps_sampled": 3141658}, "time_total_s": 2408.866789340973, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc1240>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc1048>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc19b0>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 46.32959294319153}
{"episode_reward_mean": 863.0690228061029, "timesteps_total": 3202822, "iterations_since_restore": 51, "timesteps_since_restore": 3202822, "episodes_this_iter": 33, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 504.740621259614, "system_level_velocity_min": 10.63166004553818, "cost1_max": 465.4008124988982, "system_level_velocity_max": 18.553988060514005, "cost2_min": -108.93614967192899, "outflow_rate_max": 1615.8601309937692, "system_level_velocity_mean": 14.001240136163398, "cost1_mean": 364.87707209144975, "cost2_mean": -77.70943746977674, "outflow_rate_mean": 1275.0954968628328, "cost2_max": -15.218883406746613, "cost1_min": 23.072319656943737}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 51, "episode_reward_max": 1069.9416610245626, "timestamp": 1558425679, "timesteps_this_iter": 61164, "episodes_total": 1465, "episode_reward_min": 50.178974438732304, "pid": 62178, "time_since_restore": 2455.964775323868, "date": "2019-05-21_08-01-19", "info": {"num_steps_trained": 3202822, "sample_time_ms": 31097.897, "load_time_ms": 8.07, "grad_time_ms": 16332.41, "update_time_ms": 8.367, "default": {"policy_loss": -0.008453666232526302, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8459035158157349, "total_loss": 27.39151954650879, "cur_kl_coeff": 0.15000000596046448, "vf_loss": 27.397159576416016, "entropy": 1.2691867351531982, "kl": 0.018753867596387863}, "num_steps_sampled": 3202822}, "time_total_s": 2455.964775323868, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c018f60>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c018ef0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c018390>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 693.35, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 47.0979859828949}
{"episode_reward_mean": 860.6279409389956, "timesteps_total": 3263762, "iterations_since_restore": 52, "timesteps_since_restore": 3263762, "episodes_this_iter": 32, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 504.740621259614, "system_level_velocity_min": 10.55634365036924, "cost1_max": 447.7082171191624, "system_level_velocity_max": 18.553988060514005, "cost2_min": -108.93614967192899, "outflow_rate_max": 1565.3282625715592, "system_level_velocity_mean": 13.892244864447445, "cost1_mean": 362.3494645217339, "cost2_mean": -76.29075657059661, "outflow_rate_mean": 1269.326349918375, "cost2_max": -15.218883406746613, "cost1_min": 23.072319656943737}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 52, "episode_reward_max": 1038.5115497474887, "timestamp": 1558425727, "timesteps_this_iter": 60940, "episodes_total": 1497, "episode_reward_min": 50.178974438732304, "pid": 62178, "time_since_restore": 2503.9254405498505, "date": "2019-05-21_08-02-07", "info": {"num_steps_trained": 3263762, "sample_time_ms": 30964.166, "load_time_ms": 7.936, "grad_time_ms": 16288.956, "update_time_ms": 8.288, "default": {"policy_loss": -0.008910088799893856, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8502192497253418, "total_loss": 27.03466033935547, "cur_kl_coeff": 0.14999999105930328, "vf_loss": 27.040935516357422, "entropy": 1.2622562646865845, "kl": 0.01756395772099495}, "num_steps_sampled": 3263762}, "time_total_s": 2503.9254405498505, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c022748>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0229b0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c022a90>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 693.35, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 47.960665225982666}
{"episode_reward_mean": 862.7204413656212, "timesteps_total": 3323145, "iterations_since_restore": 53, "timesteps_since_restore": 3323145, "episodes_this_iter": 29, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 504.740621259614, "system_level_velocity_min": 10.55634365036924, "cost1_max": 458.90366189996826, "system_level_velocity_max": 18.553988060514005, "cost2_min": -101.54802931963391, "outflow_rate_max": 1565.3282625715592, "system_level_velocity_mean": 13.918954508920443, "cost1_mean": 363.2249373515796, "cost2_mean": -73.08939050473492, "outflow_rate_mean": 1268.7251586204081, "cost2_max": -15.218883406746613, "cost1_min": 23.072319656943737}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 53, "episode_reward_max": 1038.5115497474887, "timestamp": 1558425774, "timesteps_this_iter": 59383, "episodes_total": 1526, "episode_reward_min": 50.178974438732304, "pid": 62178, "time_since_restore": 2550.420683860779, "date": "2019-05-21_08-02-54", "info": {"num_steps_trained": 3323145, "sample_time_ms": 30938.381, "load_time_ms": 7.765, "grad_time_ms": 16155.835, "update_time_ms": 8.269, "default": {"policy_loss": -0.009705184027552605, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8543955087661743, "total_loss": 26.461223602294922, "cur_kl_coeff": 0.14999999105930328, "vf_loss": 26.468238830566406, "entropy": 1.2489538192749023, "kl": 0.017936356365680695}, "num_steps_sampled": 3323145}, "time_total_s": 2550.420683860779, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c031710>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e502898>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c031390>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 693.35, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 46.495243310928345}
{"episode_reward_mean": 860.7350100569166, "timesteps_total": 3382583, "iterations_since_restore": 54, "timesteps_since_restore": 3382583, "episodes_this_iter": 28, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 504.740621259614, "system_level_velocity_min": 10.55634365036924, "cost1_max": 458.90366189996826, "system_level_velocity_max": 18.553988060514005, "cost2_min": -101.54802931963391, "outflow_rate_max": 1565.3282625715592, "system_level_velocity_mean": 13.851851640721707, "cost1_mean": 361.576275143659, "cost2_mean": -71.69274720373582, "outflow_rate_mean": 1267.1039329528967, "cost2_max": -15.218883406746613, "cost1_min": 23.072319656943737}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 54, "episode_reward_max": 1038.5115497474887, "timestamp": 1558425822, "timesteps_this_iter": 59438, "episodes_total": 1554, "episode_reward_min": 50.178974438732304, "pid": 62178, "time_since_restore": 2598.234773159027, "date": "2019-05-21_08-03-42", "info": {"num_steps_trained": 3382583, "sample_time_ms": 30929.371, "load_time_ms": 7.405, "grad_time_ms": 16053.132, "update_time_ms": 8.269, "default": {"policy_loss": -0.007486297283321619, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8517776131629944, "total_loss": 25.037155151367188, "cur_kl_coeff": 0.14999999105930328, "vf_loss": 25.04195785522461, "entropy": 1.2406704425811768, "kl": 0.01791219785809517}, "num_steps_sampled": 3382583}, "time_total_s": 2598.234773159027, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfba240>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbac50>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbaeb8>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 693.35, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 47.81408929824829}
{"episode_reward_mean": 870.6357666289645, "timesteps_total": 3441721, "iterations_since_restore": 55, "timesteps_since_restore": 3441721, "episodes_this_iter": 28, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1106.6673784355178, "system_level_velocity_min": 10.55634365036924, "cost1_max": 458.90366189996826, "system_level_velocity_max": 17.509472130930433, "cost2_min": -100.08414262068723, "outflow_rate_max": 1565.3282625715592, "system_level_velocity_mean": 13.911162486374101, "cost1_mean": 367.61418839356935, "cost2_mean": -70.4053452736096, "outflow_rate_mean": 1275.4875013343335, "cost2_max": -40.07312428393635, "cost1_min": 275.3415909344028}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 55, "episode_reward_max": 1038.5115497474887, "timestamp": 1558425868, "timesteps_this_iter": 59138, "episodes_total": 1582, "episode_reward_min": 734.232999910544, "pid": 62178, "time_since_restore": 2644.770770549774, "date": "2019-05-21_08-04-28", "info": {"num_steps_trained": 3441721, "sample_time_ms": 30916.84, "load_time_ms": 7.278, "grad_time_ms": 15977.804, "update_time_ms": 8.219, "default": {"policy_loss": -0.009601757861673832, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.847223699092865, "total_loss": 27.479961395263672, "cur_kl_coeff": 0.14999999105930328, "vf_loss": 27.486675262451172, "entropy": 1.2434122562408447, "kl": 0.019265025854110718}, "num_steps_sampled": 3441721}, "time_total_s": 2644.770770549774, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00d3c8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00d7b8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c016b00>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 46.53599739074707}
{"episode_reward_mean": 878.0600378194404, "timesteps_total": 3499522, "iterations_since_restore": 56, "timesteps_since_restore": 3499522, "episodes_this_iter": 29, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1106.6673784355178, "system_level_velocity_min": 10.757758736614605, "cost1_max": 458.90366189996826, "system_level_velocity_max": 17.509472130930433, "cost2_min": -100.08414262068723, "outflow_rate_max": 1552.8528996223677, "system_level_velocity_mean": 14.195741726824158, "cost1_mean": 374.6797404762519, "cost2_mean": -66.67987295584454, "outflow_rate_mean": 1286.0325807046659, "cost2_max": -37.70376158268829, "cost1_min": 281.36995971236644}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 56, "episode_reward_max": 1032.7724552323753, "timestamp": 1558425911, "timesteps_this_iter": 57801, "episodes_total": 1611, "episode_reward_min": 734.232999910544, "pid": 62178, "time_since_restore": 2687.71236371994, "date": "2019-05-21_08-05-11", "info": {"num_steps_trained": 3499522, "sample_time_ms": 31106.831, "load_time_ms": 6.997, "grad_time_ms": 15630.289, "update_time_ms": 8.369, "default": {"policy_loss": -0.009556839242577553, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.852465808391571, "total_loss": 26.770442962646484, "cur_kl_coeff": 0.14999999105930328, "vf_loss": 26.777002334594727, "entropy": 1.209272861480713, "kl": 0.019979819655418396}, "num_steps_sampled": 3499522}, "time_total_s": 2687.71236371994, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c031390>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c018ef0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c031b38>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 42.941593170166016}
{"episode_reward_mean": 884.0434412066709, "timesteps_total": 3557971, "iterations_since_restore": 57, "timesteps_since_restore": 3557971, "episodes_this_iter": 30, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1106.6673784355178, "system_level_velocity_min": 10.757758736614605, "cost1_max": 455.64103162705226, "system_level_velocity_max": 17.351878892316645, "cost2_min": -97.35279599367203, "outflow_rate_max": 1513.9736828854627, "system_level_velocity_mean": 14.438005217956517, "cost1_mean": 380.62027492448027, "cost2_mean": -64.1692453020122, "outflow_rate_mean": 1293.9162216127356, "cost2_max": -37.70376158268829, "cost1_min": 281.36995971236644}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 57, "episode_reward_max": 1017.5075921204946, "timestamp": 1558425956, "timesteps_this_iter": 58449, "episodes_total": 1641, "episode_reward_min": 734.232999910544, "pid": 62178, "time_since_restore": 2731.9601833820343, "date": "2019-05-21_08-05-56", "info": {"num_steps_trained": 3557971, "sample_time_ms": 31088.307, "load_time_ms": 6.481, "grad_time_ms": 15374.679, "update_time_ms": 8.493, "default": {"policy_loss": -0.009406903758645058, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8451008200645447, "total_loss": 28.554122924804688, "cur_kl_coeff": 0.14999999105930328, "vf_loss": 28.560609817504883, "entropy": 1.2252579927444458, "kl": 0.019457004964351654}, "num_steps_sampled": 3557971}, "time_total_s": 2731.9601833820343, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c003048>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c003e80>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c003fd0>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 44.247819662094116}
{"episode_reward_mean": 892.0601523881207, "timesteps_total": 3616195, "iterations_since_restore": 58, "timesteps_since_restore": 3616195, "episodes_this_iter": 29, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1123.358061169716, "system_level_velocity_min": 10.643336111689617, "cost1_max": 465.1739831231363, "system_level_velocity_max": 17.869668403947713, "cost2_min": -97.85848738968905, "outflow_rate_max": 1533.206678695692, "system_level_velocity_mean": 14.660872554709428, "cost1_mean": 385.85149155954525, "cost2_mean": -62.56198415969299, "outflow_rate_mean": 1308.5840489015134, "cost2_max": -37.61337675416814, "cost1_min": 279.40708347062434}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 58, "episode_reward_max": 1021.0098468255682, "timestamp": 1558425999, "timesteps_this_iter": 58224, "episodes_total": 1670, "episode_reward_min": 741.1782336274264, "pid": 62178, "time_since_restore": 2775.225012779236, "date": "2019-05-21_08-06-39", "info": {"num_steps_trained": 3616195, "sample_time_ms": 31039.996, "load_time_ms": 6.26, "grad_time_ms": 14953.209, "update_time_ms": 8.466, "default": {"policy_loss": -0.010630840435624123, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.851265013217926, "total_loss": 28.58713150024414, "cur_kl_coeff": 0.1499999761581421, "vf_loss": 28.594804763793945, "entropy": 1.2127344608306885, "kl": 0.019732102751731873}, "num_steps_sampled": 3616195}, "time_total_s": 2775.225012779236, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc1470>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc1828>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc1d30>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 43.26482939720154}
{"episode_reward_mean": 898.5868926103229, "timesteps_total": 3674145, "iterations_since_restore": 59, "timesteps_since_restore": 3674145, "episodes_this_iter": 28, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1123.358061169716, "system_level_velocity_min": 10.643336111689617, "cost1_max": 465.1739831231363, "system_level_velocity_max": 17.869668403947713, "cost2_min": -100.28302164783719, "outflow_rate_max": 1533.206678695692, "system_level_velocity_mean": 14.911622193421628, "cost1_mean": 392.0116825834097, "cost2_mean": -61.63295905893403, "outflow_rate_mean": 1316.6800343415268, "cost2_max": -35.90234218884838, "cost1_min": 279.40708347062434}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 59, "episode_reward_max": 1021.0098468255682, "timestamp": 1558426044, "timesteps_this_iter": 57950, "episodes_total": 1698, "episode_reward_min": 741.1782336274264, "pid": 62178, "time_since_restore": 2820.3689250946045, "date": "2019-05-21_08-07-24", "info": {"num_steps_trained": 3674145, "sample_time_ms": 30918.631, "load_time_ms": 6.249, "grad_time_ms": 14731.701, "update_time_ms": 8.282, "default": {"policy_loss": -0.010656210593879223, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8690991401672363, "total_loss": 26.03314208984375, "cur_kl_coeff": 0.14999999105930328, "vf_loss": 26.04070472717285, "entropy": 1.220488429069519, "kl": 0.02062544785439968}, "num_steps_sampled": 3674145}, "time_total_s": 2820.3689250946045, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c003780>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c003470>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c003c50>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 45.14391231536865}
{"episode_reward_mean": 888.4000639430377, "timesteps_total": 3732808, "iterations_since_restore": 60, "timesteps_since_restore": 3732808, "episodes_this_iter": 29, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1123.358061169716, "system_level_velocity_min": 10.643336111689617, "cost1_max": 465.1739831231363, "system_level_velocity_max": 17.869668403947713, "cost2_min": -100.28302164783719, "outflow_rate_max": 1533.206678695692, "system_level_velocity_mean": 14.6797918331828, "cost1_mean": 385.66990934125283, "cost2_mean": -65.5929938361115, "outflow_rate_mean": 1305.3961416440384, "cost2_max": -35.90234218884838, "cost1_min": 279.40708347062434}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 60, "episode_reward_max": 1028.080074677975, "timestamp": 1558426090, "timesteps_this_iter": 58663, "episodes_total": 1727, "episode_reward_min": 741.1782336274264, "pid": 62178, "time_since_restore": 2865.647387981415, "date": "2019-05-21_08-08-10", "info": {"num_steps_trained": 3732808, "sample_time_ms": 30710.122, "load_time_ms": 5.972, "grad_time_ms": 14837.2, "update_time_ms": 8.371, "default": {"policy_loss": -0.009921525605022907, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8694853782653809, "total_loss": 25.985015869140625, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 25.99118995666504, "entropy": 1.2390611171722412, "kl": 0.016656745225191116}, "num_steps_sampled": 3732808}, "time_total_s": 2865.647387981415, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbae48>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfba8d0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbab00>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 45.2784628868103}
{"episode_reward_mean": 881.3147812868895, "timesteps_total": 3790436, "iterations_since_restore": 61, "timesteps_since_restore": 3790436, "episodes_this_iter": 30, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1123.358061169716, "system_level_velocity_min": 10.643336111689617, "cost1_max": 467.4974424974658, "system_level_velocity_max": 17.954449396891395, "cost2_min": -100.28302164783719, "outflow_rate_max": 1525.6630692481426, "system_level_velocity_mean": 14.6874575070735, "cost1_mean": 385.29097865094394, "cost2_mean": -67.63367216591706, "outflow_rate_mean": 1296.7575774359068, "cost2_max": -35.90234218884838, "cost1_min": 279.40708347062434}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 61, "episode_reward_max": 1028.080074677975, "timestamp": 1558426133, "timesteps_this_iter": 57628, "episodes_total": 1757, "episode_reward_min": 741.1782336274264, "pid": 62178, "time_since_restore": 2909.1419854164124, "date": "2019-05-21_08-08-53", "info": {"num_steps_trained": 3790436, "sample_time_ms": 30208.306, "load_time_ms": 5.709, "grad_time_ms": 14979.127, "update_time_ms": 8.384, "default": {"policy_loss": -0.01105434913188219, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8519569635391235, "total_loss": 30.121253967285156, "cur_kl_coeff": 0.22499996423721313, "vf_loss": 30.128456115722656, "entropy": 1.22394859790802, "kl": 0.017127007246017456}, "num_steps_sampled": 3790436}, "time_total_s": 2909.1419854164124, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc1748>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc15f8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc1828>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 43.49459743499756}
{"episode_reward_mean": 870.7888868660849, "timesteps_total": 3848189, "iterations_since_restore": 62, "timesteps_since_restore": 3848189, "episodes_this_iter": 34, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1015.5827592765688, "system_level_velocity_min": 11.678940101045262, "cost1_max": 467.4974424974658, "system_level_velocity_max": 18.295713431862264, "cost2_min": -96.98884781760843, "outflow_rate_max": 1525.6630692481426, "system_level_velocity_mean": 14.730351272176783, "cost1_mean": 382.34867667423475, "cost2_mean": -67.97110811067246, "outflow_rate_mean": 1290.5251645175483, "cost2_max": -25.75058288959861, "cost1_min": 139.64526740409337}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 62, "episode_reward_max": 1028.080074677975, "timestamp": 1558426178, "timesteps_this_iter": 57753, "episodes_total": 1791, "episode_reward_min": 297.3372355708311, "pid": 62178, "time_since_restore": 2954.318767309189, "date": "2019-05-21_08-09-38", "info": {"num_steps_trained": 3848189, "sample_time_ms": 29972.03, "load_time_ms": 5.45, "grad_time_ms": 14935.87, "update_time_ms": 8.388, "default": {"policy_loss": -0.009930902160704136, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.831038236618042, "total_loss": 34.799983978271484, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 34.80603790283203, "entropy": 1.2115309238433838, "kl": 0.017239391803741455}, "num_steps_sampled": 3848189}, "time_total_s": 2954.318767309189, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e502518>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfafbe0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c003898>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 695.07, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 45.17678189277649}
{"episode_reward_mean": 868.039373264176, "timesteps_total": 3907070, "iterations_since_restore": 63, "timesteps_since_restore": 3907070, "episodes_this_iter": 30, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1015.5827592765688, "system_level_velocity_min": 11.403958444616313, "cost1_max": 467.4974424974658, "system_level_velocity_max": 18.295713431862264, "cost2_min": -97.90810367782835, "outflow_rate_max": 1525.6630692481426, "system_level_velocity_mean": 14.683713123487834, "cost1_mean": 380.82275051719336, "cost2_mean": -68.24397635040485, "outflow_rate_mean": 1288.9084161268233, "cost2_max": -25.75058288959861, "cost1_min": 139.64526740409337}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 63, "episode_reward_max": 1018.1394182218439, "timestamp": 1558426223, "timesteps_this_iter": 58881, "episodes_total": 1821, "episode_reward_min": 297.3372355708311, "pid": 62178, "time_since_restore": 2999.298450231552, "date": "2019-05-21_08-10-23", "info": {"num_steps_trained": 3907070, "sample_time_ms": 29950.079, "load_time_ms": 5.399, "grad_time_ms": 14806.349, "update_time_ms": 8.512, "default": {"policy_loss": -0.00948646292090416, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8482697606086731, "total_loss": 29.146238327026367, "cur_kl_coeff": 0.22499996423721313, "vf_loss": 29.1521053314209, "entropy": 1.2108999490737915, "kl": 0.01608075201511383}, "num_steps_sampled": 3907070}, "time_total_s": 2999.298450231552, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfba128>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbaac8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfba320>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 695.07, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 44.97968292236328}
{"episode_reward_mean": 865.28297906445, "timesteps_total": 3964426, "iterations_since_restore": 64, "timesteps_since_restore": 3964426, "episodes_this_iter": 30, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 968.0026770523755, "system_level_velocity_min": 11.403958444616313, "cost1_max": 467.4974424974658, "system_level_velocity_max": 18.295713431862264, "cost2_min": -97.90810367782835, "outflow_rate_max": 1525.6630692481426, "system_level_velocity_mean": 14.777649859926585, "cost1_mean": 379.8900919894379, "cost2_mean": -66.9904765871433, "outflow_rate_mean": 1287.333188547706, "cost2_max": -24.588504085616098, "cost1_min": 136.8379282057943}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 64, "episode_reward_max": 1018.1394182218439, "timestamp": 1558426269, "timesteps_this_iter": 57356, "episodes_total": 1851, "episode_reward_min": 273.9170614580145, "pid": 62178, "time_since_restore": 3045.3108174800873, "date": "2019-05-21_08-11-09", "info": {"num_steps_trained": 3964426, "sample_time_ms": 29895.927, "load_time_ms": 5.422, "grad_time_ms": 14684.155, "update_time_ms": 8.21, "default": {"policy_loss": -0.009470601566135883, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8568930625915527, "total_loss": 27.572391510009766, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 27.57834243774414, "entropy": 1.222288727760315, "kl": 0.015636619180440903}, "num_steps_sampled": 3964426}, "time_total_s": 3045.3108174800873, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c003550>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c003048>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c031b38>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 690.14, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 46.012367248535156}
{"episode_reward_mean": 859.4085428995138, "timesteps_total": 4022126, "iterations_since_restore": 65, "timesteps_since_restore": 4022126, "episodes_this_iter": 30, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 968.0026770523755, "system_level_velocity_min": 11.403958444616313, "cost1_max": 461.28299593720163, "system_level_velocity_max": 18.295713431862264, "cost2_min": -98.42325657394142, "outflow_rate_max": 1519.4348177380862, "system_level_velocity_mean": 14.818135242269804, "cost1_mean": 378.1541020850252, "cost2_mean": -66.87660655992495, "outflow_rate_mean": 1283.400512950611, "cost2_max": -24.588504085616098, "cost1_min": 136.8379282057943}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 65, "episode_reward_max": 1019.1111573045719, "timestamp": 1558426315, "timesteps_this_iter": 57700, "episodes_total": 1881, "episode_reward_min": 273.9170614580145, "pid": 62178, "time_since_restore": 3090.837463617325, "date": "2019-05-21_08-11-55", "info": {"num_steps_trained": 4022126, "sample_time_ms": 29808.228, "load_time_ms": 5.337, "grad_time_ms": 14674.672, "update_time_ms": 8.154, "default": {"policy_loss": -0.009795998223125935, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8438377976417542, "total_loss": 30.576045989990234, "cur_kl_coeff": 0.22499996423721313, "vf_loss": 30.58177947998047, "entropy": 1.2228935956954956, "kl": 0.01806224323809147}, "num_steps_sampled": 4022126}, "time_total_s": 3090.837463617325, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00d668>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00d7b8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00d240>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 686.11, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 45.52664613723755}
{"episode_reward_mean": 856.1502695784225, "timesteps_total": 4080834, "iterations_since_restore": 66, "timesteps_since_restore": 4080834, "episodes_this_iter": 29, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 968.0026770523755, "system_level_velocity_min": 11.403958444616313, "cost1_max": 468.2370953892745, "system_level_velocity_max": 18.505320306620014, "cost2_min": -101.57489183522623, "outflow_rate_max": 1519.4348177380862, "system_level_velocity_mean": 14.73122253304792, "cost1_mean": 376.07498811919396, "cost2_mean": -68.62036445723722, "outflow_rate_mean": 1277.1732288067315, "cost2_max": -24.588504085616098, "cost1_min": 136.8379282057943}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 66, "episode_reward_max": 1019.1111573045719, "timestamp": 1558426361, "timesteps_this_iter": 58708, "episodes_total": 1910, "episode_reward_min": 273.9170614580145, "pid": 62178, "time_since_restore": 3136.4568724632263, "date": "2019-05-21_08-12-41", "info": {"num_steps_trained": 4080834, "sample_time_ms": 29890.204, "load_time_ms": 5.458, "grad_time_ms": 14859.308, "update_time_ms": 8.105, "default": {"policy_loss": -0.011500921100378036, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8618696928024292, "total_loss": 27.560832977294922, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 27.568708419799805, "entropy": 1.2354083061218262, "kl": 0.016111377626657486}, "num_steps_sampled": 4080834}, "time_total_s": 3136.4568724632263, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbab00>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbac88>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0165f8>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 686.19, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 45.61940884590149}
{"episode_reward_mean": 861.2174477334603, "timesteps_total": 4139081, "iterations_since_restore": 67, "timesteps_since_restore": 4139081, "episodes_this_iter": 29, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 968.0026770523755, "system_level_velocity_min": 10.295691214397843, "cost1_max": 469.97098334551, "system_level_velocity_max": 18.505320306620014, "cost2_min": -112.93503249843951, "outflow_rate_max": 1519.4348177380862, "system_level_velocity_mean": 14.806531955905132, "cost1_mean": 378.0986384435801, "cost2_mean": -68.42986286679057, "outflow_rate_mean": 1287.592778003446, "cost2_max": -24.588504085616098, "cost1_min": 136.8379282057943}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 67, "episode_reward_max": 1019.1111573045719, "timestamp": 1558426404, "timesteps_this_iter": 58247, "episodes_total": 1939, "episode_reward_min": 273.9170614580145, "pid": 62178, "time_since_restore": 3180.0328443050385, "date": "2019-05-21_08-13-24", "info": {"num_steps_trained": 4139081, "sample_time_ms": 29849.857, "load_time_ms": 5.578, "grad_time_ms": 14831.637, "update_time_ms": 8.076, "default": {"policy_loss": -0.009485570713877678, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8368936777114868, "total_loss": 31.128206253051758, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 31.134288787841797, "entropy": 1.228179693222046, "kl": 0.015110872685909271}, "num_steps_sampled": 4139081}, "time_total_s": 3180.0328443050385, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c003c50>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c003748>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c003e80>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 686.19, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 43.575971841812134}
{"episode_reward_mean": 874.0549856612005, "timesteps_total": 4198320, "iterations_since_restore": 68, "timesteps_since_restore": 4198320, "episodes_this_iter": 30, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1045.9459067420548, "system_level_velocity_min": 10.295691214397843, "cost1_max": 469.97098334551, "system_level_velocity_max": 18.505320306620014, "cost2_min": -112.93503249843951, "outflow_rate_max": 1519.4348177380862, "system_level_velocity_mean": 14.747882408095812, "cost1_mean": 382.61306756101425, "cost2_mean": -70.30032432770608, "outflow_rate_mean": 1295.138759483743, "cost2_max": -26.261177149061282, "cost1_min": 146.5402127142135}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 68, "episode_reward_max": 1019.1111573045719, "timestamp": 1558426449, "timesteps_this_iter": 59239, "episodes_total": 1969, "episode_reward_min": 310.6448522183658, "pid": 62178, "time_since_restore": 3224.5373356342316, "date": "2019-05-21_08-14-09", "info": {"num_steps_trained": 4198320, "sample_time_ms": 29838.34, "load_time_ms": 5.591, "grad_time_ms": 14967.571, "update_time_ms": 8.122, "default": {"policy_loss": -0.011238490231335163, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8496143817901611, "total_loss": 29.18170166015625, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 29.189067840576172, "entropy": 1.2299680709838867, "kl": 0.01720292679965496}, "num_steps_sampled": 4198320}, "time_total_s": 3224.5373356342316, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfaf438>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfafe48>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfaf390>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 695.15, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 44.504491329193115}
{"episode_reward_mean": 871.8646329851437, "timesteps_total": 4255117, "iterations_since_restore": 69, "timesteps_since_restore": 4255117, "episodes_this_iter": 29, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1034.1319037594449, "system_level_velocity_min": 10.295691214397843, "cost1_max": 469.97098334551, "system_level_velocity_max": 18.575809397866188, "cost2_min": -112.93503249843951, "outflow_rate_max": 1516.643527634229, "system_level_velocity_mean": 14.839851237201314, "cost1_mean": 381.6937124862333, "cost2_mean": -68.4464341680284, "outflow_rate_mean": 1295.4723686899463, "cost2_max": -25.395138640424193, "cost1_min": 141.83673908020853}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 69, "episode_reward_max": 1016.1894212480041, "timestamp": 1558426495, "timesteps_this_iter": 56797, "episodes_total": 1998, "episode_reward_min": 305.5373933393764, "pid": 62178, "time_since_restore": 3270.5921087265015, "date": "2019-05-21_08-14-55", "info": {"num_steps_trained": 4255117, "sample_time_ms": 29667.798, "load_time_ms": 5.549, "grad_time_ms": 15233.626, "update_time_ms": 8.408, "default": {"policy_loss": -0.010543201118707657, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8587053418159485, "total_loss": 27.608652114868164, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 27.61520767211914, "entropy": 1.218369722366333, "kl": 0.017725223675370216}, "num_steps_sampled": 4255117}, "time_total_s": 3270.5921087265015, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc7e48>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc7d30>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc74a8>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 690.22, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 46.0547730922699}
{"episode_reward_mean": 881.6839697425357, "timesteps_total": 4312201, "iterations_since_restore": 70, "timesteps_since_restore": 4312201, "episodes_this_iter": 29, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1034.1319037594449, "system_level_velocity_min": 10.295691214397843, "cost1_max": 470.32357520612976, "system_level_velocity_max": 18.575809397866188, "cost2_min": -112.93503249843951, "outflow_rate_max": 1498.643897552625, "system_level_velocity_mean": 15.011765465828432, "cost1_mean": 389.30046990337706, "cost2_mean": -65.74304443857635, "outflow_rate_mean": 1304.0266601596209, "cost2_max": -25.395138640424193, "cost1_min": 141.83673908020853}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 70, "episode_reward_max": 1011.1701875994361, "timestamp": 1558426540, "timesteps_this_iter": 57084, "episodes_total": 2027, "episode_reward_min": 305.5373933393764, "pid": 62178, "time_since_restore": 3315.9010293483734, "date": "2019-05-21_08-15-40", "info": {"num_steps_trained": 4312201, "sample_time_ms": 29676.082, "load_time_ms": 5.566, "grad_time_ms": 15229.162, "update_time_ms": 8.091, "default": {"policy_loss": -0.009381245821714401, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.830481767654419, "total_loss": 32.26189041137695, "cur_kl_coeff": 0.22499996423721313, "vf_loss": 32.267337799072266, "entropy": 1.2237296104431152, "kl": 0.017473004758358}, "num_steps_sampled": 4312201}, "time_total_s": 3315.9010293483734, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c016438>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c016a20>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc1d68>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 695.07, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 45.30892062187195}
{"episode_reward_mean": 881.4549242284735, "timesteps_total": 4366722, "iterations_since_restore": 71, "timesteps_since_restore": 4366722, "episodes_this_iter": 32, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1034.1319037594449, "system_level_velocity_min": 11.200564315606742, "cost1_max": 470.32357520612976, "system_level_velocity_max": 18.575809397866188, "cost2_min": -99.79508173576858, "outflow_rate_max": 1514.9704896043688, "system_level_velocity_mean": 15.10535595425412, "cost1_mean": 390.6973650923709, "cost2_mean": -63.166169526858404, "outflow_rate_mean": 1304.25909077761, "cost2_max": -25.395138640424193, "cost1_min": 141.83673908020853}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 71, "episode_reward_max": 1006.2844925235651, "timestamp": 1558426583, "timesteps_this_iter": 54521, "episodes_total": 2059, "episode_reward_min": 305.5373933393764, "pid": 62178, "time_since_restore": 3358.677700281143, "date": "2019-05-21_08-16-23", "info": {"num_steps_trained": 4366722, "sample_time_ms": 29683.626, "load_time_ms": 5.492, "grad_time_ms": 15151.344, "update_time_ms": 8.124, "default": {"policy_loss": -0.009847220033407211, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8199052214622498, "total_loss": 33.93442916870117, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 33.94035720825195, "entropy": 1.215307593345642, "kl": 0.017425471916794777}, "num_steps_sampled": 4366722}, "time_total_s": 3358.677700281143, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfaf400>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfaf668>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfafc18>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 693.74, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 42.776670932769775}
{"episode_reward_mean": 895.5262084366674, "timesteps_total": 4421308, "iterations_since_restore": 72, "timesteps_since_restore": 4421308, "episodes_this_iter": 30, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1153.00272440282, "system_level_velocity_min": 11.200564315606742, "cost1_max": 470.5461869370675, "system_level_velocity_max": 18.20824971893434, "cost2_min": -99.19699109742469, "outflow_rate_max": 1514.9704896043688, "system_level_velocity_mean": 15.44080371114808, "cost1_mean": 402.23308836528116, "cost2_mean": -59.01863753936648, "outflow_rate_mean": 1317.2711157285091, "cost2_max": -31.292530589243388, "cost1_min": 291.83652592697774}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 72, "episode_reward_max": 997.3068937654192, "timestamp": 1558426624, "timesteps_this_iter": 54586, "episodes_total": 2089, "episode_reward_min": 745.3838708664575, "pid": 62178, "time_since_restore": 3399.511950492859, "date": "2019-05-21_08-17-04", "info": {"num_steps_trained": 4421308, "sample_time_ms": 29304.471, "load_time_ms": 5.425, "grad_time_ms": 15096.985, "update_time_ms": 8.146, "default": {"policy_loss": -0.010698724538087845, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7763610482215881, "total_loss": 35.98583221435547, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 35.99281692504883, "entropy": 1.196995735168457, "kl": 0.01650463044643402}, "num_steps_sampled": 4421308}, "time_total_s": 3399.511950492859, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c003748>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c003780>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c003b38>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 698.67, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 40.8342502117157}
{"episode_reward_mean": 899.9173937428475, "timesteps_total": 4474971, "iterations_since_restore": 73, "timesteps_since_restore": 4474971, "episodes_this_iter": 30, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1127.9976923076924, "system_level_velocity_min": 11.200564315606742, "cost1_max": 470.5461869370675, "system_level_velocity_max": 18.20824971893434, "cost2_min": -99.19699109742469, "outflow_rate_max": 1514.9704896043688, "system_level_velocity_mean": 15.653360814209686, "cost1_mean": 407.54601887895706, "cost2_mean": -55.98026564998535, "outflow_rate_mean": 1319.127990812221, "cost2_max": -31.292530589243388, "cost1_min": 291.83652592697774}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 73, "episode_reward_max": 997.3068937654192, "timestamp": 1558426666, "timesteps_this_iter": 53663, "episodes_total": 2119, "episode_reward_min": 745.3838708664575, "pid": 62178, "time_since_restore": 3441.6976466178894, "date": "2019-05-21_08-17-46", "info": {"num_steps_trained": 4474971, "sample_time_ms": 29212.411, "load_time_ms": 5.42, "grad_time_ms": 14911.815, "update_time_ms": 7.976, "default": {"policy_loss": -0.011393321678042412, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8041161298751831, "total_loss": 33.12993621826172, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 33.13762664794922, "entropy": 1.2050375938415527, "kl": 0.016456959769129753}, "num_steps_sampled": 4474971}, "time_total_s": 3441.6976466178894, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc1470>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c018940>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc1d68>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 698.67, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 42.18569612503052}
{"episode_reward_mean": 900.5476602625697, "timesteps_total": 4528280, "iterations_since_restore": 74, "timesteps_since_restore": 4528280, "episodes_this_iter": 33, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1127.9976923076924, "system_level_velocity_min": 11.200564315606742, "cost1_max": 470.5461869370675, "system_level_velocity_max": 18.20824971893434, "cost2_min": -88.70143637081244, "outflow_rate_max": 1478.1287832434575, "system_level_velocity_mean": 15.762960324952944, "cost1_mean": 411.16626204829817, "cost2_mean": -52.978484151416666, "outflow_rate_mean": 1318.2083581418544, "cost2_max": -31.292530589243388, "cost1_min": 291.83652592697774}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 74, "episode_reward_max": 997.3068937654192, "timestamp": 1558426707, "timesteps_this_iter": 53309, "episodes_total": 2152, "episode_reward_min": 745.3838708664575, "pid": 62178, "time_since_restore": 3482.353952407837, "date": "2019-05-21_08-18-27", "info": {"num_steps_trained": 4528280, "sample_time_ms": 29007.146, "load_time_ms": 5.388, "grad_time_ms": 14581.884, "update_time_ms": 7.931, "default": {"policy_loss": -0.010148168541491032, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7326135635375977, "total_loss": 41.120540618896484, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 41.12692642211914, "entropy": 1.1950606107711792, "kl": 0.016711419448256493}, "num_steps_sampled": 4528280}, "time_total_s": 3482.353952407837, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfafac8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfaf6a0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfafbe0>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 40.65630578994751}
{"episode_reward_mean": 894.4553275544581, "timesteps_total": 4580697, "iterations_since_restore": 75, "timesteps_since_restore": 4580697, "episodes_this_iter": 32, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1127.9976923076924, "system_level_velocity_min": 11.579672500315807, "cost1_max": 466.13668455149514, "system_level_velocity_max": 18.002495909096538, "cost2_min": -91.45499519226429, "outflow_rate_max": 1463.4972877353239, "system_level_velocity_mean": 15.653510952921076, "cost1_mean": 408.3301088653879, "cost2_mean": -52.109537403602054, "outflow_rate_mean": 1310.5965833474795, "cost2_max": -27.47926914428121, "cost1_min": 305.9876965423899}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 75, "episode_reward_max": 988.2332055721342, "timestamp": 1558426747, "timesteps_this_iter": 52417, "episodes_total": 2184, "episode_reward_min": 766.1817806583645, "pid": 62178, "time_since_restore": 3522.102641582489, "date": "2019-05-21_08-19-07", "info": {"num_steps_trained": 4580697, "sample_time_ms": 28747.196, "load_time_ms": 5.394, "grad_time_ms": 14264.511, "update_time_ms": 8.047, "default": {"policy_loss": -0.01110829971730709, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.754615306854248, "total_loss": 35.82731628417969, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 35.83477783203125, "entropy": 1.1845089197158813, "kl": 0.016231445595622063}, "num_steps_sampled": 4580697}, "time_total_s": 3522.102641582489, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c016c18>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c016198>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc7080>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 39.7486891746521}
{"episode_reward_mean": 893.8236666975189, "timesteps_total": 4634679, "iterations_since_restore": 76, "timesteps_since_restore": 4634679, "episodes_this_iter": 30, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 984.7076658490076, "system_level_velocity_min": 11.579672500315807, "cost1_max": 466.13668455149514, "system_level_velocity_max": 18.002495909096538, "cost2_min": -91.45499519226429, "outflow_rate_max": 1463.4972877353239, "system_level_velocity_mean": 15.829872501913362, "cost1_mean": 409.2385362823193, "cost2_mean": -50.69780204264219, "outflow_rate_mean": 1317.4734414690768, "cost2_max": -27.47926914428121, "cost1_min": 134.33553726722897}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 76, "episode_reward_max": 988.2332055721342, "timestamp": 1558426791, "timesteps_this_iter": 53982, "episodes_total": 2214, "episode_reward_min": 268.37818045816965, "pid": 62178, "time_since_restore": 3566.5975012779236, "date": "2019-05-21_08-19-51", "info": {"num_steps_trained": 4634679, "sample_time_ms": 28552.97, "load_time_ms": 5.286, "grad_time_ms": 14347.536, "update_time_ms": 7.967, "default": {"policy_loss": -0.011326262727379799, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7894271016120911, "total_loss": 33.61049270629883, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 33.61756134033203, "entropy": 1.1865075826644897, "kl": 0.01892980746924877}, "num_steps_sampled": 4634679}, "time_total_s": 3566.5975012779236, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfafb00>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc1d30>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfaf470>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 695.07, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 44.49485969543457}
{"episode_reward_mean": 880.754767423797, "timesteps_total": 4688287, "iterations_since_restore": 77, "timesteps_since_restore": 4688287, "episodes_this_iter": 32, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 497.27589197147734, "system_level_velocity_min": 11.579672500315807, "cost1_max": 469.75560826422867, "system_level_velocity_max": 18.891152957794603, "cost2_min": -91.45499519226429, "outflow_rate_max": 1469.413606204933, "system_level_velocity_mean": 15.912705756390606, "cost1_mean": 403.60200910345577, "cost2_mean": -51.06034939885999, "outflow_rate_mean": 1307.9654285517481, "cost2_max": -13.046836218063737, "cost1_min": 23.395822304684607}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 77, "episode_reward_max": 988.2037691987912, "timestamp": 1558426834, "timesteps_this_iter": 53608, "episodes_total": 2246, "episode_reward_min": 52.56096450808694, "pid": 62178, "time_since_restore": 3609.035438299179, "date": "2019-05-21_08-20-34", "info": {"num_steps_trained": 4688287, "sample_time_ms": 28316.987, "load_time_ms": 5.277, "grad_time_ms": 14470.201, "update_time_ms": 8.189, "default": {"policy_loss": -0.0134822903200984, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7946255803108215, "total_loss": 35.28312683105469, "cur_kl_coeff": 0.22499996423721313, "vf_loss": 35.292362213134766, "entropy": 1.1823468208312988, "kl": 0.018871286883950233}, "num_steps_sampled": 4688287}, "time_total_s": 3609.035438299179, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfafbe0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfafd68>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfaf5f8>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 684.39, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 42.43793702125549}
{"episode_reward_mean": 882.591860300602, "timesteps_total": 4742950, "iterations_since_restore": 78, "timesteps_since_restore": 4742950, "episodes_this_iter": 31, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 497.27589197147734, "system_level_velocity_min": 12.177850876727073, "cost1_max": 469.75560826422867, "system_level_velocity_max": 18.891152957794603, "cost2_min": -91.29298860796743, "outflow_rate_max": 1513.4751701565017, "system_level_velocity_mean": 15.882057930819938, "cost1_mean": 402.8830148001806, "cost2_mean": -53.79022958142429, "outflow_rate_mean": 1311.2942970925078, "cost2_max": -13.046836218063737, "cost1_min": 23.395822304684607}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 78, "episode_reward_max": 988.5629113763159, "timestamp": 1558426878, "timesteps_this_iter": 54663, "episodes_total": 2277, "episode_reward_min": 52.56096450808694, "pid": 62178, "time_since_restore": 3652.7610733509064, "date": "2019-05-21_08-21-18", "info": {"num_steps_trained": 4742950, "sample_time_ms": 28109.651, "load_time_ms": 5.17, "grad_time_ms": 14599.971, "update_time_ms": 8.442, "default": {"policy_loss": -0.009922766126692295, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8261876702308655, "total_loss": 31.242809295654297, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 31.248849868774414, "entropy": 1.1915873289108276, "kl": 0.017258843407034874}, "num_steps_sampled": 4742950}, "time_total_s": 3652.7610733509064, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc7898>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c018e48>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc77b8>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 684.39, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 43.725635051727295}
{"episode_reward_mean": 891.7826636441516, "timesteps_total": 4798049, "iterations_since_restore": 79, "timesteps_since_restore": 4798049, "episodes_this_iter": 30, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 497.27589197147734, "system_level_velocity_min": 11.54314473760168, "cost1_max": 474.3373774764008, "system_level_velocity_max": 18.891152957794603, "cost2_min": -91.29298860796743, "outflow_rate_max": 1513.4751701565017, "system_level_velocity_mean": 15.950104330334618, "cost1_mean": 407.71218360550944, "cost2_mean": -54.5573170608121, "outflow_rate_mean": 1323.7658749197813, "cost2_max": -13.046836218063737, "cost1_min": 23.395822304684607}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 79, "episode_reward_max": 988.5629113763159, "timestamp": 1558426920, "timesteps_this_iter": 55099, "episodes_total": 2307, "episode_reward_min": 52.56096450808694, "pid": 62178, "time_since_restore": 3695.3747396469116, "date": "2019-05-21_08-22-00", "info": {"num_steps_trained": 4798049, "sample_time_ms": 28051.586, "load_time_ms": 5.15, "grad_time_ms": 14313.816, "update_time_ms": 8.197, "default": {"policy_loss": -0.010454020462930202, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7950156927108765, "total_loss": 31.753408432006836, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 31.75977897644043, "entropy": 1.1882778406143188, "kl": 0.01814345456659794}, "num_steps_sampled": 4798049}, "time_total_s": 3695.3747396469116, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfaf518>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfaf470>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfaf128>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 689.32, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 42.61366629600525}
{"episode_reward_mean": 886.2517218733215, "timesteps_total": 4850931, "iterations_since_restore": 80, "timesteps_since_restore": 4850931, "episodes_this_iter": 29, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1158.854669696113, "system_level_velocity_min": 11.54314473760168, "cost1_max": 474.3373774764008, "system_level_velocity_max": 18.39433533837254, "cost2_min": -91.29298860796743, "outflow_rate_max": 1513.4751701565017, "system_level_velocity_mean": 15.525872378715981, "cost1_mean": 401.7573066877817, "cost2_mean": -57.18661453146439, "outflow_rate_mean": 1318.2940098077631, "cost2_max": -29.717314480227234, "cost1_min": 196.7012379528088}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 80, "episode_reward_max": 992.3312276210924, "timestamp": 1558426961, "timesteps_this_iter": 52882, "episodes_total": 2336, "episode_reward_min": 414.21233350058, "pid": 62178, "time_since_restore": 3736.041141271591, "date": "2019-05-21_08-22-41", "info": {"num_steps_trained": 4850931, "sample_time_ms": 27978.749, "load_time_ms": 5.149, "grad_time_ms": 13921.63, "update_time_ms": 8.205, "default": {"policy_loss": -0.012066355906426907, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7909241914749146, "total_loss": 33.1013069152832, "cur_kl_coeff": 0.22499996423721313, "vf_loss": 33.10898208618164, "entropy": 1.2036240100860596, "kl": 0.019529690966010094}, "num_steps_sampled": 4850931}, "time_total_s": 3736.041141271591, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfafdd8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfaffd0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfaf390>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 695.97, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 40.666401624679565}
{"episode_reward_mean": 885.0534023672815, "timesteps_total": 4906412, "iterations_since_restore": 81, "timesteps_since_restore": 4906412, "episodes_this_iter": 31, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1129.0208233276157, "system_level_velocity_min": 11.030724702002605, "cost1_max": 474.3373774764008, "system_level_velocity_max": 18.449385963607433, "cost2_min": -96.14410987714342, "outflow_rate_max": 1493.6585364506795, "system_level_velocity_mean": 15.596400760099575, "cost1_mean": 403.2464647307642, "cost2_mean": -56.00298691863693, "outflow_rate_mean": 1322.1474569711518, "cost2_max": -29.717314480227234, "cost1_min": 196.7012379528088}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 81, "episode_reward_max": 992.3312276210924, "timestamp": 1558427004, "timesteps_this_iter": 55481, "episodes_total": 2367, "episode_reward_min": 414.21233350058, "pid": 62178, "time_since_restore": 3778.610440015793, "date": "2019-05-21_08-23-24", "info": {"num_steps_trained": 4906412, "sample_time_ms": 28174.832, "load_time_ms": 5.13, "grad_time_ms": 13704.514, "update_time_ms": 8.154, "default": {"policy_loss": -0.011123097501695156, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7647507786750793, "total_loss": 35.91815185546875, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 35.92494583129883, "entropy": 1.2081458568572998, "kl": 0.01925499737262726}, "num_steps_sampled": 4906412}, "time_total_s": 3778.610440015793, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c016a20>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc1668>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c016eb8>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 695.97, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 42.56929874420166}
{"episode_reward_mean": 878.7509414073559, "timesteps_total": 4959602, "iterations_since_restore": 82, "timesteps_since_restore": 4959602, "episodes_this_iter": 32, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1129.0208233276157, "system_level_velocity_min": 11.030724702002605, "cost1_max": 472.44874090932933, "system_level_velocity_max": 18.449385963607433, "cost2_min": -96.14410987714342, "outflow_rate_max": 1505.8413544757623, "system_level_velocity_mean": 15.30813611572744, "cost1_mean": 396.1931160698729, "cost2_mean": -57.94699143026088, "outflow_rate_mean": 1314.122661906264, "cost2_max": -29.717314480227234, "cost1_min": 196.7012379528088}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 82, "episode_reward_max": 992.3312276210924, "timestamp": 1558427045, "timesteps_this_iter": 53190, "episodes_total": 2399, "episode_reward_min": 414.21233350058, "pid": 62178, "time_since_restore": 3819.6938004493713, "date": "2019-05-21_08-24-05", "info": {"num_steps_trained": 4959602, "sample_time_ms": 28466.335, "load_time_ms": 5.136, "grad_time_ms": 13439.336, "update_time_ms": 8.063, "default": {"policy_loss": -0.011359336785972118, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7609269022941589, "total_loss": 35.914337158203125, "cur_kl_coeff": 0.22499999403953552, "vf_loss": 35.92154312133789, "entropy": 1.1927130222320557, "kl": 0.018449928611516953}, "num_steps_sampled": 4959602}, "time_total_s": 3819.6938004493713, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc1400>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc1710>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc1dd8>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 695.97, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 41.08336043357849}
{"episode_reward_mean": 884.7558369394967, "timesteps_total": 5014732, "iterations_since_restore": 83, "timesteps_since_restore": 5014732, "episodes_this_iter": 32, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1129.0208233276157, "system_level_velocity_min": 11.030724702002605, "cost1_max": 472.44874090932933, "system_level_velocity_max": 18.57302315418786, "cost2_min": -96.14410987714342, "outflow_rate_max": 1520.499701761653, "system_level_velocity_mean": 15.415051403132615, "cost1_mean": 399.03286319617933, "cost2_mean": -58.46903106640126, "outflow_rate_mean": 1319.5358232494766, "cost2_max": -29.960187543299725, "cost1_min": 208.40762155381165}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 83, "episode_reward_max": 990.2571868809251, "timestamp": 1558427087, "timesteps_this_iter": 55130, "episodes_total": 2431, "episode_reward_min": 438.0645290541683, "pid": 62178, "time_since_restore": 3862.182927131653, "date": "2019-05-21_08-24-47", "info": {"num_steps_trained": 5014732, "sample_time_ms": 28375.098, "load_time_ms": 5.08, "grad_time_ms": 13560.275, "update_time_ms": 7.909, "default": {"policy_loss": -0.008631711825728416, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8167818188667297, "total_loss": 32.038604736328125, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 32.043365478515625, "entropy": 1.21676504611969, "kl": 0.017186712473630905}, "num_steps_sampled": 5014732}, "time_total_s": 3862.182927131653, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0186a0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc7c18>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc1ef0>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 696.08, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 42.489126682281494}
{"episode_reward_mean": 880.5904569605799, "timesteps_total": 5068785, "iterations_since_restore": 84, "timesteps_since_restore": 5068785, "episodes_this_iter": 31, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1030.092717136634, "system_level_velocity_min": 11.390102145119403, "cost1_max": 472.76598222924986, "system_level_velocity_max": 18.57302315418786, "cost2_min": -91.34691397742785, "outflow_rate_max": 1520.499701761653, "system_level_velocity_mean": 15.559508746948712, "cost1_mean": 397.07793212055833, "cost2_mean": -57.95041011390581, "outflow_rate_mean": 1319.5486063739309, "cost2_max": -28.98272594971643, "cost1_min": 145.40549625172173}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 84, "episode_reward_max": 990.2571868809251, "timestamp": 1558427131, "timesteps_this_iter": 54053, "episodes_total": 2462, "episode_reward_min": 297.78617324354445, "pid": 62178, "time_since_restore": 3906.134604215622, "date": "2019-05-21_08-25-31", "info": {"num_steps_trained": 5068785, "sample_time_ms": 28368.022, "load_time_ms": 5.025, "grad_time_ms": 13896.635, "update_time_ms": 7.958, "default": {"policy_loss": -0.01077195443212986, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8189885020256042, "total_loss": 32.252685546875, "cur_kl_coeff": 0.22499999403953552, "vf_loss": 32.259368896484375, "entropy": 1.2103931903839111, "kl": 0.01817891001701355}, "num_steps_sampled": 5068785}, "time_total_s": 3906.134604215622, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfba9b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfba470>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfba438>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 687.34, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 43.951677083969116}
{"episode_reward_mean": 886.8554412477591, "timesteps_total": 5122083, "iterations_since_restore": 85, "timesteps_since_restore": 5122083, "episodes_this_iter": 31, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1030.092717136634, "system_level_velocity_min": 11.390102145119403, "cost1_max": 473.96072961876246, "system_level_velocity_max": 18.57302315418786, "cost2_min": -91.34691397742785, "outflow_rate_max": 1520.499701761653, "system_level_velocity_mean": 15.836346838025474, "cost1_mean": 404.1832219208885, "cost2_mean": -54.83042287213546, "outflow_rate_mean": 1320.2134583154414, "cost2_max": -28.98272594971643, "cost1_min": 145.40549625172173}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 85, "episode_reward_max": 993.1317914339373, "timestamp": 1558427173, "timesteps_this_iter": 53298, "episodes_total": 2493, "episode_reward_min": 297.78617324354445, "pid": 62178, "time_since_restore": 3948.268674850464, "date": "2019-05-21_08-26-13", "info": {"num_steps_trained": 5122083, "sample_time_ms": 28370.343, "load_time_ms": 5.004, "grad_time_ms": 14132.064, "update_time_ms": 7.99, "default": {"policy_loss": -0.01085309311747551, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7579357624053955, "total_loss": 34.357975006103516, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 34.36475372314453, "entropy": 1.188762903213501, "kl": 0.018107838928699493}, "num_steps_sampled": 5122083}, "time_total_s": 3948.268674850464, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc1240>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc16a0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc10f0>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 687.34, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 42.13407063484192}
{"episode_reward_mean": 888.3477521781205, "timesteps_total": 5176289, "iterations_since_restore": 86, "timesteps_since_restore": 5176289, "episodes_this_iter": 31, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 434.44599691538906, "system_level_velocity_min": 11.390102145119403, "cost1_max": 473.96072961876246, "system_level_velocity_max": 18.444815443183625, "cost2_min": -89.31601795576618, "outflow_rate_max": 1481.6899921981708, "system_level_velocity_mean": 15.985566408387967, "cost1_mean": 406.78804058685216, "cost2_mean": -51.69280872661378, "outflow_rate_mean": 1316.53710028383, "cost2_max": -16.061434000963256, "cost1_min": 17.921568224259804}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 86, "episode_reward_max": 993.1317914339373, "timestamp": 1558427216, "timesteps_this_iter": 54206, "episodes_total": 2524, "episode_reward_min": 42.37174091127258, "pid": 62178, "time_since_restore": 3990.657478094101, "date": "2019-05-21_08-26-56", "info": {"num_steps_trained": 5176289, "sample_time_ms": 28364.464, "load_time_ms": 4.964, "grad_time_ms": 13928.189, "update_time_ms": 8.28, "default": {"policy_loss": -0.011323518119752407, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7845661044120789, "total_loss": 35.92972946166992, "cur_kl_coeff": 0.22499999403953552, "vf_loss": 35.93692398071289, "entropy": 1.2026267051696777, "kl": 0.018336819484829903}, "num_steps_sampled": 5176289}, "time_total_s": 3990.657478094101, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfafcf8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfaf7b8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfaf358>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 684.53, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 42.388803243637085}
{"episode_reward_mean": 899.7727822616727, "timesteps_total": 5229034, "iterations_since_restore": 87, "timesteps_since_restore": 5229034, "episodes_this_iter": 31, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 434.44599691538906, "system_level_velocity_min": 11.748179764680259, "cost1_max": 473.96072961876246, "system_level_velocity_max": 18.33195646760998, "cost2_min": -89.31601795576618, "outflow_rate_max": 1481.6899921981708, "system_level_velocity_mean": 15.959120305486264, "cost1_mean": 412.4584027639929, "cost2_mean": -50.48237647723594, "outflow_rate_mean": 1321.0696029102446, "cost2_max": -16.061434000963256, "cost1_min": 17.921568224259804}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 87, "episode_reward_max": 993.1317914339373, "timestamp": 1558427257, "timesteps_this_iter": 52745, "episodes_total": 2555, "episode_reward_min": 42.37174091127258, "pid": 62178, "time_since_restore": 4031.5273406505585, "date": "2019-05-21_08-27-37", "info": {"num_steps_trained": 5229034, "sample_time_ms": 28467.213, "load_time_ms": 4.849, "grad_time_ms": 13670.427, "update_time_ms": 8.283, "default": {"policy_loss": -0.012073393911123276, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7646602392196655, "total_loss": 34.25102233886719, "cur_kl_coeff": 0.22499999403953552, "vf_loss": 34.25873565673828, "entropy": 1.1915239095687866, "kl": 0.01937031000852585}, "num_steps_sampled": 5229034}, "time_total_s": 4031.5273406505585, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc16a0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbaa58>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfba5f8>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 693.27, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 40.86986255645752}
{"episode_reward_mean": 884.4665173394451, "timesteps_total": 5282663, "iterations_since_restore": 88, "timesteps_since_restore": 5282663, "episodes_this_iter": 33, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 434.44599691538906, "system_level_velocity_min": 11.399255852748189, "cost1_max": 469.8451429422229, "system_level_velocity_max": 18.544605895378755, "cost2_min": -88.35936810857038, "outflow_rate_max": 1492.781562788734, "system_level_velocity_mean": 16.004333223917957, "cost1_mean": 404.8689820971208, "cost2_mean": -49.61959464554795, "outflow_rate_mean": 1319.6395741932572, "cost2_max": -16.061434000963256, "cost1_min": 17.921568224259804}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 88, "episode_reward_max": 1000.2030483705305, "timestamp": 1558427299, "timesteps_this_iter": 53629, "episodes_total": 2588, "episode_reward_min": 42.37174091127258, "pid": 62178, "time_since_restore": 4073.598865509033, "date": "2019-05-21_08-28-19", "info": {"num_steps_trained": 5282663, "sample_time_ms": 28581.106, "load_time_ms": 4.928, "grad_time_ms": 13390.43, "update_time_ms": 7.992, "default": {"policy_loss": -0.011741243302822113, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7201482653617859, "total_loss": 40.83061981201172, "cur_kl_coeff": 0.22499996423721313, "vf_loss": 40.838287353515625, "entropy": 1.2171125411987305, "kl": 0.018101755529642105}, "num_steps_sampled": 5282663}, "time_total_s": 4073.598865509033, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc1048>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc1278>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc1710>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 680.44, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 42.07152485847473}
{"episode_reward_mean": 897.8301515909213, "timesteps_total": 5335203, "iterations_since_restore": 89, "timesteps_since_restore": 5335203, "episodes_this_iter": 29, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1039.9117096608056, "system_level_velocity_min": 11.399255852748189, "cost1_max": 469.8479140304781, "system_level_velocity_max": 18.544605895378755, "cost2_min": -88.35936810857038, "outflow_rate_max": 1492.781562788734, "system_level_velocity_mean": 16.192557066439754, "cost1_mean": 413.6240380058252, "cost2_mean": -48.14259926053742, "outflow_rate_mean": 1342.0139673001706, "cost2_max": -25.312177059667267, "cost1_min": 146.62709256953752}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 89, "episode_reward_max": 1000.7522851671013, "timestamp": 1558427340, "timesteps_this_iter": 52540, "episodes_total": 2617, "episode_reward_min": 313.3808840656549, "pid": 62178, "time_since_restore": 4114.263782501221, "date": "2019-05-21_08-29-00", "info": {"num_steps_trained": 5335203, "sample_time_ms": 28522.038, "load_time_ms": 4.946, "grad_time_ms": 13254.932, "update_time_ms": 8.025, "default": {"policy_loss": -0.011581700295209885, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.6826716661453247, "total_loss": 38.77262878417969, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 38.77971649169922, "entropy": 1.2181981801986694, "kl": 0.019974229857325554}, "num_steps_sampled": 5335203}, "time_total_s": 4114.263782501221, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc7da0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc7a20>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e502518>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 687.17, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 40.6649169921875}
{"episode_reward_mean": 870.4007090351599, "timesteps_total": 5388225, "iterations_since_restore": 90, "timesteps_since_restore": 5388225, "episodes_this_iter": 33, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 469.45002216272013, "system_level_velocity_min": 11.399255852748189, "cost1_max": 469.8479140304781, "system_level_velocity_max": 18.889286239607387, "cost2_min": -81.71558843854879, "outflow_rate_max": 1492.781562788734, "system_level_velocity_mean": 16.156810964611683, "cost1_mean": 400.223472256749, "cost2_mean": -47.348221985687125, "outflow_rate_mean": 1320.5962378529566, "cost2_max": -15.597015503159364, "cost1_min": 23.16423726164723}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 90, "episode_reward_max": 1000.7522851671013, "timestamp": 1558427381, "timesteps_this_iter": 53022, "episodes_total": 2650, "episode_reward_min": 53.409363100752145, "pid": 62178, "time_since_restore": 4155.494565963745, "date": "2019-05-21_08-29-41", "info": {"num_steps_trained": 5388225, "sample_time_ms": 28303.244, "load_time_ms": 5.017, "grad_time_ms": 13527.23, "update_time_ms": 8.081, "default": {"policy_loss": -0.01185112725943327, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.6923778057098389, "total_loss": 41.252925872802734, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 41.260658264160156, "entropy": 1.216701626777649, "kl": 0.018295975401997566}, "num_steps_sampled": 5388225}, "time_total_s": 4155.494565963745, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00d4e0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00da90>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc74e0>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 668.65, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 41.230783462524414}
{"episode_reward_mean": 880.4367701617202, "timesteps_total": 5439982, "iterations_since_restore": 91, "timesteps_since_restore": 5439982, "episodes_this_iter": 33, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 469.45002216272013, "system_level_velocity_min": 11.666619324076166, "cost1_max": 470.06531895610703, "system_level_velocity_max": 18.889286239607387, "cost2_min": -83.4235218427027, "outflow_rate_max": 1484.1215069931668, "system_level_velocity_mean": 16.044153171259193, "cost1_mean": 405.84289028088506, "cost2_mean": -46.73250135807679, "outflow_rate_mean": 1316.8271498158415, "cost2_max": -15.597015503159364, "cost1_min": 23.16423726164723}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 91, "episode_reward_max": 1000.7522851671013, "timestamp": 1558427423, "timesteps_this_iter": 51757, "episodes_total": 2683, "episode_reward_min": 53.409363100752145, "pid": 62178, "time_since_restore": 4197.646142721176, "date": "2019-05-21_08-30-23", "info": {"num_steps_trained": 5439982, "sample_time_ms": 27949.852, "load_time_ms": 4.969, "grad_time_ms": 13836.656, "update_time_ms": 8.252, "default": {"policy_loss": -0.011720983311533928, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.648166835308075, "total_loss": 43.466102600097656, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 43.47354507446289, "entropy": 1.2213547229766846, "kl": 0.019008029252290726}, "num_steps_sampled": 5439982}, "time_total_s": 4197.646142721176, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfaf5f8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfafc88>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfaf390>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 681.48, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 42.15157675743103}
{"episode_reward_mean": 872.5245059880057, "timesteps_total": 5490309, "iterations_since_restore": 92, "timesteps_since_restore": 5490309, "episodes_this_iter": 32, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 469.45002216272013, "system_level_velocity_min": 11.666619324076166, "cost1_max": 470.06531895610703, "system_level_velocity_max": 18.889286239607387, "cost2_min": -83.4235218427027, "outflow_rate_max": 1468.5429289659928, "system_level_velocity_mean": 15.910592332213982, "cost1_mean": 402.562746408817, "cost2_mean": -45.88898651720781, "outflow_rate_mean": 1303.4228916853124, "cost2_max": -15.597015503159364, "cost1_min": 23.16423726164723}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 92, "episode_reward_max": 983.5233925942167, "timestamp": 1558427462, "timesteps_this_iter": 50327, "episodes_total": 2715, "episode_reward_min": 53.409363100752145, "pid": 62178, "time_since_restore": 4236.18980383873, "date": "2019-05-21_08-31-02", "info": {"num_steps_trained": 5490309, "sample_time_ms": 27709.439, "load_time_ms": 5.013, "grad_time_ms": 13821.818, "update_time_ms": 8.494, "default": {"policy_loss": -0.011063002981245518, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5878705382347107, "total_loss": 40.425785064697266, "cur_kl_coeff": 0.22499999403953552, "vf_loss": 40.43278884887695, "entropy": 1.2018746137619019, "kl": 0.018035486340522766}, "num_steps_sampled": 5490309}, "time_total_s": 4236.18980383873, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfaf518>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfaf198>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfafa20>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 681.48, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 38.54366111755371}
{"episode_reward_mean": 893.8543151092333, "timesteps_total": 5540408, "iterations_since_restore": 93, "timesteps_since_restore": 5540408, "episodes_this_iter": 30, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1099.2137402653434, "system_level_velocity_min": 11.666619324076166, "cost1_max": 470.06531895610703, "system_level_velocity_max": 18.464745008318726, "cost2_min": -83.4235218427027, "outflow_rate_max": 1437.1212140275381, "system_level_velocity_mean": 16.105911484861558, "cost1_mean": 416.2312942426316, "cost2_mean": -43.744909803793924, "outflow_rate_mean": 1321.8041664814007, "cost2_max": -24.81738824927962, "cost1_min": 202.20028305755466}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 93, "episode_reward_max": 983.5233925942167, "timestamp": 1558427500, "timesteps_this_iter": 50099, "episodes_total": 2745, "episode_reward_min": 419.2723295816585, "pid": 62178, "time_since_restore": 4274.429098367691, "date": "2019-05-21_08-31-40", "info": {"num_steps_trained": 5540408, "sample_time_ms": 27546.107, "load_time_ms": 5.022, "grad_time_ms": 13560.762, "update_time_ms": 8.616, "default": {"policy_loss": -0.009378167800605297, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5243306159973145, "total_loss": 40.852664947509766, "cur_kl_coeff": 0.22499999403953552, "vf_loss": 40.8577766418457, "entropy": 1.1939777135849, "kl": 0.01897587813436985}, "num_steps_sampled": 5540408}, "time_total_s": 4274.429098367691, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00dcf8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00d6a0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc1b38>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 693.82, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 38.23929452896118}
{"episode_reward_mean": 896.7092730854915, "timesteps_total": 5591961, "iterations_since_restore": 94, "timesteps_since_restore": 5591961, "episodes_this_iter": 31, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1059.9551746740485, "system_level_velocity_min": 11.666619324076166, "cost1_max": 469.0795914737911, "system_level_velocity_max": 18.687486814238802, "cost2_min": -83.4235218427027, "outflow_rate_max": 1434.0566700044283, "system_level_velocity_mean": 16.21740024516265, "cost1_mean": 418.6335467932721, "cost2_mean": -43.00077619152467, "outflow_rate_mean": 1320.6350554673272, "cost2_max": -23.151850644471402, "cost1_min": 153.22087605021312}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 94, "episode_reward_max": 979.1686773179056, "timestamp": 1558427539, "timesteps_this_iter": 51553, "episodes_total": 2776, "episode_reward_min": 317.4839995634377, "pid": 62178, "time_since_restore": 4313.641061544418, "date": "2019-05-21_08-32-19", "info": {"num_steps_trained": 5591961, "sample_time_ms": 27374.657, "load_time_ms": 5.113, "grad_time_ms": 13257.199, "update_time_ms": 8.602, "default": {"policy_loss": -0.011861908249557018, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.6396493315696716, "total_loss": 39.56067657470703, "cur_kl_coeff": 0.22499999403953552, "vf_loss": 39.56843566894531, "entropy": 1.2309600114822388, "kl": 0.018237357959151268}, "num_steps_sampled": 5591961}, "time_total_s": 4313.641061544418, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfaf358>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfaf390>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfaf438>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 693.09, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 39.211963176727295}
{"episode_reward_mean": 893.1033992110875, "timesteps_total": 5641641, "iterations_since_restore": 95, "timesteps_since_restore": 5641641, "episodes_this_iter": 33, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1059.9551746740485, "system_level_velocity_min": 11.63283756999658, "cost1_max": 469.0795914737911, "system_level_velocity_max": 18.687486814238802, "cost2_min": -76.00252352218914, "outflow_rate_max": 1436.47449693164, "system_level_velocity_mean": 16.251527125299305, "cost1_mean": 419.222455073426, "cost2_mean": -42.32295830745556, "outflow_rate_mean": 1312.598846548274, "cost2_max": -23.151850644471402, "cost1_min": 153.22087605021312}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 95, "episode_reward_max": 979.1686773179056, "timestamp": 1558427577, "timesteps_this_iter": 49680, "episodes_total": 2809, "episode_reward_min": 317.4839995634377, "pid": 62178, "time_since_restore": 4351.57683968544, "date": "2019-05-21_08-32-57", "info": {"num_steps_trained": 5641641, "sample_time_ms": 27171.409, "load_time_ms": 5.155, "grad_time_ms": 13037.435, "update_time_ms": 8.392, "default": {"policy_loss": -0.011733056046068668, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5708930492401123, "total_loss": 42.44275665283203, "cur_kl_coeff": 0.22499999403953552, "vf_loss": 42.4501953125, "entropy": 1.2296102046966553, "kl": 0.019074896350502968}, "num_steps_sampled": 5641641}, "time_total_s": 4351.57683968544, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbaf60>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbac50>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbadd8>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 693.09, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 37.93577814102173}
{"episode_reward_mean": 886.3768570726975, "timesteps_total": 5690666, "iterations_since_restore": 96, "timesteps_since_restore": 5690666, "episodes_this_iter": 34, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1052.7631548570657, "system_level_velocity_min": 11.63283756999658, "cost1_max": 469.0795914737911, "system_level_velocity_max": 18.687486814238802, "cost2_min": -76.00252352218914, "outflow_rate_max": 1436.47449693164, "system_level_velocity_mean": 16.217436713171484, "cost1_mean": 417.34832068704304, "cost2_mean": -41.659695837536184, "outflow_rate_mean": 1300.9867718152436, "cost2_max": -23.151850644471402, "cost1_min": 153.22087605021312}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 96, "episode_reward_max": 979.1686773179056, "timestamp": 1558427615, "timesteps_this_iter": 49025, "episodes_total": 2843, "episode_reward_min": 317.4839995634377, "pid": 62178, "time_since_restore": 4389.553615093231, "date": "2019-05-21_08-33-35", "info": {"num_steps_trained": 5690666, "sample_time_ms": 26766.496, "load_time_ms": 5.25, "grad_time_ms": 12999.715, "update_time_ms": 8.462, "default": {"policy_loss": -0.011455059982836246, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.552636981010437, "total_loss": 41.27252960205078, "cur_kl_coeff": 0.22500000894069672, "vf_loss": 41.2796630859375, "entropy": 1.2369941473007202, "kl": 0.019173042848706245}, "num_steps_sampled": 5690666}, "time_total_s": 4389.553615093231, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfafa58>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfafd30>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfaf208>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 692.11, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 37.97677540779114}
{"episode_reward_mean": 886.5257725386476, "timesteps_total": 5739590, "iterations_since_restore": 97, "timesteps_since_restore": 5739590, "episodes_this_iter": 30, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1052.7631548570657, "system_level_velocity_min": 11.63283756999658, "cost1_max": 468.29105176690825, "system_level_velocity_max": 18.19808083779126, "cost2_min": -76.00252352218914, "outflow_rate_max": 1436.47449693164, "system_level_velocity_mean": 16.158334931879505, "cost1_mean": 418.9092331411259, "cost2_mean": -40.95484514797226, "outflow_rate_mean": 1294.8184886736171, "cost2_max": -25.808407493739388, "cost1_min": 255.8779894594289}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 97, "episode_reward_max": 969.716615517263, "timestamp": 1558427653, "timesteps_this_iter": 48924, "episodes_total": 2873, "episode_reward_min": 535.8580507490021, "pid": 62178, "time_since_restore": 4427.417344331741, "date": "2019-05-21_08-34-13", "info": {"num_steps_trained": 5739590, "sample_time_ms": 26537.1, "load_time_ms": 5.374, "grad_time_ms": 12928.714, "update_time_ms": 8.319, "default": {"policy_loss": -0.01084158942103386, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5529922842979431, "total_loss": 41.68053436279297, "cur_kl_coeff": 0.22499999403953552, "vf_loss": 41.68741226196289, "entropy": 1.2387285232543945, "kl": 0.017621181905269623}, "num_steps_sampled": 5739590}, "time_total_s": 4427.417344331741, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfaf390>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfaf5f8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfaf1d0>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 696.87, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 37.86372923851013}
{"episode_reward_mean": 885.7369258642119, "timesteps_total": 5789386, "iterations_since_restore": 98, "timesteps_since_restore": 5789386, "episodes_this_iter": 30, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1010.1925622195572, "system_level_velocity_min": 11.63283756999658, "cost1_max": 468.9743767642617, "system_level_velocity_max": 18.23912507934178, "cost2_min": -76.00252352218914, "outflow_rate_max": 1430.2827242413134, "system_level_velocity_mean": 16.414505886984152, "cost1_mean": 421.83588190639443, "cost2_mean": -39.47124228018032, "outflow_rate_mean": 1299.067923411035, "cost2_max": -25.808407493739388, "cost1_min": 138.2864576444981}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 98, "episode_reward_max": 967.0489312421635, "timestamp": 1558427693, "timesteps_this_iter": 49796, "episodes_total": 2903, "episode_reward_min": 293.6089228109618, "pid": 62178, "time_since_restore": 4466.959166765213, "date": "2019-05-21_08-34-53", "info": {"num_steps_trained": 5789386, "sample_time_ms": 26443.648, "load_time_ms": 5.221, "grad_time_ms": 12770.653, "update_time_ms": 8.467, "default": {"policy_loss": -0.010843735188245773, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5674173831939697, "total_loss": 39.93003463745117, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 39.936859130859375, "entropy": 1.23959219455719, "kl": 0.017874911427497864}, "num_steps_sampled": 5789386}, "time_total_s": 4466.959166765213, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc1780>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc14e0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc1710>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 691.94, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 39.54182243347168}
{"episode_reward_mean": 883.563956554255, "timesteps_total": 5839766, "iterations_since_restore": 99, "timesteps_since_restore": 5839766, "episodes_this_iter": 32, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1001.4899973127041, "system_level_velocity_min": 12.388612024691184, "cost1_max": 468.9743767642617, "system_level_velocity_max": 18.536631938232215, "cost2_min": -65.65876514309483, "outflow_rate_max": 1467.1048253037284, "system_level_velocity_mean": 16.323045340551474, "cost1_mean": 418.58962202662684, "cost2_mean": -40.12857123171006, "outflow_rate_mean": 1302.410541740372, "cost2_max": -22.318913481840603, "cost1_min": 138.2864576444981}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 99, "episode_reward_max": 974.0671902429009, "timestamp": 1558427733, "timesteps_this_iter": 50380, "episodes_total": 2935, "episode_reward_min": 284.6874726914653, "pid": 62178, "time_since_restore": 4507.166371583939, "date": "2019-05-21_08-35-33", "info": {"num_steps_trained": 5839766, "sample_time_ms": 26374.02, "load_time_ms": 5.184, "grad_time_ms": 12794.312, "update_time_ms": 8.665, "default": {"policy_loss": -0.011352915316820145, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5418835282325745, "total_loss": 42.1065673828125, "cur_kl_coeff": 0.22499999403953552, "vf_loss": 42.11336135864258, "entropy": 1.2608046531677246, "kl": 0.020273756235837936}, "num_steps_sampled": 5839766}, "time_total_s": 4507.166371583939, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc70b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc7390>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c016390>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 690.14, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 40.207204818725586}
{"episode_reward_mean": 878.2865439178431, "timesteps_total": 5891136, "iterations_since_restore": 100, "timesteps_since_restore": 5891136, "episodes_this_iter": 30, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1001.4899973127041, "system_level_velocity_min": 11.668688149356777, "cost1_max": 470.23039103098233, "system_level_velocity_max": 18.536631938232215, "cost2_min": -69.07924633327761, "outflow_rate_max": 1470.5270661142133, "system_level_velocity_mean": 16.06384252586544, "cost1_mean": 412.219170060062, "cost2_mean": -42.39508494977785, "outflow_rate_mean": 1299.9830124738928, "cost2_max": -22.318913481840603, "cost1_min": 138.2864576444981}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 100, "episode_reward_max": 974.0671902429009, "timestamp": 1558427773, "timesteps_this_iter": 51370, "episodes_total": 2965, "episode_reward_min": 284.6874726914653, "pid": 62178, "time_since_restore": 4547.499319553375, "date": "2019-05-21_08-36-13", "info": {"num_steps_trained": 5891136, "sample_time_ms": 26381.527, "load_time_ms": 5.039, "grad_time_ms": 12700.747, "update_time_ms": 8.777, "default": {"policy_loss": -0.012821839191019535, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.6195379495620728, "total_loss": 37.79436492919922, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 37.801692962646484, "entropy": 1.2723231315612793, "kl": 0.01628252863883972}, "num_steps_sampled": 5891136}, "time_total_s": 4547.499319553375, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc1400>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc11d0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc1198>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 690.14, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 40.332947969436646}
{"episode_reward_mean": 894.3385321806459, "timesteps_total": 5940424, "iterations_since_restore": 101, "timesteps_since_restore": 5940424, "episodes_this_iter": 30, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1001.4899973127041, "system_level_velocity_min": 11.668688149356777, "cost1_max": 476.8059467873019, "system_level_velocity_max": 18.536631938232215, "cost2_min": -69.07924633327761, "outflow_rate_max": 1470.5270661142133, "system_level_velocity_mean": 16.122126419181544, "cost1_mean": 417.11374099338036, "cost2_mean": -42.21704165089334, "outflow_rate_mean": 1323.5620852834427, "cost2_max": -21.378435883294742, "cost1_min": 139.4861937615608}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 101, "episode_reward_max": 979.6473144521043, "timestamp": 1558427812, "timesteps_this_iter": 49288, "episodes_total": 2995, "episode_reward_min": 284.6874726914653, "pid": 62178, "time_since_restore": 4586.215391874313, "date": "2019-05-21_08-36-52", "info": {"num_steps_trained": 5940424, "sample_time_ms": 26297.72, "load_time_ms": 5.108, "grad_time_ms": 12443.589, "update_time_ms": 8.612, "default": {"policy_loss": -0.009668388403952122, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.45540839433670044, "total_loss": 44.88196563720703, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 44.88654708862305, "entropy": 1.24204421043396, "kl": 0.01506560854613781}, "num_steps_sampled": 5940424}, "time_total_s": 4586.215391874313, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc1f60>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc1710>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc1240>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 695.07, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 38.71607232093811}
{"episode_reward_mean": 896.5203219648679, "timesteps_total": 5990568, "iterations_since_restore": 102, "timesteps_since_restore": 5990568, "episodes_this_iter": 33, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1001.4899973127041, "system_level_velocity_min": 11.668688149356777, "cost1_max": 476.8059467873019, "system_level_velocity_max": 18.536631938232215, "cost2_min": -69.07924633327761, "outflow_rate_max": 1470.5270661142133, "system_level_velocity_mean": 16.24674446683986, "cost1_mean": 420.2440248431032, "cost2_mean": -41.66246239747134, "outflow_rate_mean": 1324.8936063121548, "cost2_max": -21.378435883294742, "cost1_min": 139.4861937615608}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 102, "episode_reward_max": 979.6473144521043, "timestamp": 1558427852, "timesteps_this_iter": 50144, "episodes_total": 3028, "episode_reward_min": 284.6874726914653, "pid": 62178, "time_since_restore": 4626.136682748795, "date": "2019-05-21_08-37-32", "info": {"num_steps_trained": 5990568, "sample_time_ms": 26253.204, "load_time_ms": 5.055, "grad_time_ms": 12626.828, "update_time_ms": 8.729, "default": {"policy_loss": -0.01166443433612585, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5487537384033203, "total_loss": 40.48841857910156, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 40.494266510009766, "entropy": 1.2762266397476196, "kl": 0.017232108861207962}, "num_steps_sampled": 5990568}, "time_total_s": 4626.136682748795, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc7080>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc73c8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc7390>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 695.07, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 39.9212908744812}
{"episode_reward_mean": 908.8419037360762, "timesteps_total": 6039494, "iterations_since_restore": 103, "timesteps_since_restore": 6039494, "episodes_this_iter": 30, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1150.7830398566955, "system_level_velocity_min": 11.668688149356777, "cost1_max": 476.8059467873019, "system_level_velocity_max": 18.535787629333377, "cost2_min": -69.01370670260137, "outflow_rate_max": 1453.1861920959884, "system_level_velocity_mean": 16.454724804136514, "cost1_mean": 428.23889446190714, "cost2_mean": -40.74053111608175, "outflow_rate_mean": 1337.925002933651, "cost2_max": -21.378435883294742, "cost1_min": 306.2888090693185}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 103, "episode_reward_max": 979.6473144521043, "timestamp": 1558427890, "timesteps_this_iter": 48926, "episodes_total": 3058, "episode_reward_min": 772.8684587829249, "pid": 62178, "time_since_restore": 4663.900782108307, "date": "2019-05-21_08-38-10", "info": {"num_steps_trained": 6039494, "sample_time_ms": 26143.755, "load_time_ms": 5.098, "grad_time_ms": 12689.536, "update_time_ms": 8.601, "default": {"policy_loss": -0.009614204056560993, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.49339962005615234, "total_loss": 41.09139633178711, "cur_kl_coeff": 0.33750009536743164, "vf_loss": 41.095821380615234, "entropy": 1.2447412014007568, "kl": 0.01538807712495327}, "num_steps_sampled": 6039494}, "time_total_s": 4663.900782108307, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfaf358>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfaf7b8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfaf438>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 37.76409935951233}
{"episode_reward_mean": 902.3090962254305, "timesteps_total": 6089518, "iterations_since_restore": 104, "timesteps_since_restore": 6089518, "episodes_this_iter": 33, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1106.5258368974264, "system_level_velocity_min": 13.069354531642182, "cost1_max": 473.9733727710382, "system_level_velocity_max": 18.535787629333377, "cost2_min": -59.56852372434889, "outflow_rate_max": 1442.2268348697676, "system_level_velocity_mean": 16.54722859398601, "cost1_mean": 427.89088794263125, "cost2_mean": -40.04883323320982, "outflow_rate_mean": 1330.5454694673972, "cost2_max": -23.706738643996204, "cost1_min": 189.426777759659}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 104, "episode_reward_max": 974.012829308476, "timestamp": 1558427929, "timesteps_this_iter": 50024, "episodes_total": 3091, "episode_reward_min": 392.42295732823305, "pid": 62178, "time_since_restore": 4702.67337846756, "date": "2019-05-21_08-38-49", "info": {"num_steps_trained": 6089518, "sample_time_ms": 26062.816, "load_time_ms": 5.018, "grad_time_ms": 12728.352, "update_time_ms": 8.519, "default": {"policy_loss": -0.011629496701061726, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5431130528450012, "total_loss": 43.11539840698242, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 43.12147903442383, "entropy": 1.2762541770935059, "kl": 0.01643311232328415}, "num_steps_sampled": 6089518}, "time_total_s": 4702.67337846756, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8860>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfafc18>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8e48>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 696.05, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 38.77259635925293}
{"episode_reward_mean": 884.8000892504226, "timesteps_total": 6137622, "iterations_since_restore": 105, "timesteps_since_restore": 6137622, "episodes_this_iter": 32, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 509.2633683444688, "system_level_velocity_min": 12.646825853560383, "cost1_max": 473.9733727710382, "system_level_velocity_max": 18.712617896258017, "cost2_min": -62.02386679969594, "outflow_rate_max": 1442.2268348697676, "system_level_velocity_mean": 16.53496891129247, "cost1_mean": 420.50870837471683, "cost2_mean": -39.805911744352386, "outflow_rate_mean": 1318.575265358787, "cost2_max": -15.150725853361438, "cost1_min": 23.077756855036977}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 105, "episode_reward_max": 964.4468020592941, "timestamp": 1558427965, "timesteps_this_iter": 48104, "episodes_total": 3123, "episode_reward_min": 49.57021086967601, "pid": 62178, "time_since_restore": 4738.969127178192, "date": "2019-05-21_08-39-25", "info": {"num_steps_trained": 6137622, "sample_time_ms": 25872.69, "load_time_ms": 5.061, "grad_time_ms": 12754.842, "update_time_ms": 8.584, "default": {"policy_loss": -0.01375983189791441, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5155259370803833, "total_loss": 42.16893768310547, "cur_kl_coeff": 0.33750009536743164, "vf_loss": 42.17695236206055, "entropy": 1.2697378396987915, "kl": 0.017006278038024902}, "num_steps_sampled": 6137622}, "time_total_s": 4738.969127178192, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc7208>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc7da0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc7128>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 686.27, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 36.295748710632324}
{"episode_reward_mean": 874.8178161504495, "timesteps_total": 6186684, "iterations_since_restore": 106, "timesteps_since_restore": 6186684, "episodes_this_iter": 34, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 486.7721791254835, "system_level_velocity_min": 12.646825853560383, "cost1_max": 470.2696720621596, "system_level_velocity_max": 18.72485589054883, "cost2_min": -62.02386679969594, "outflow_rate_max": 1419.7749798418185, "system_level_velocity_mean": 16.629228756503764, "cost1_mean": 417.9004287821369, "cost2_mean": -39.185713415882795, "outflow_rate_mean": 1307.394385337289, "cost2_max": -15.150725853361438, "cost1_min": 23.077756855036977}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 106, "episode_reward_max": 962.375306862079, "timestamp": 1558428002, "timesteps_this_iter": 49062, "episodes_total": 3157, "episode_reward_min": 49.57021086967601, "pid": 62178, "time_since_restore": 4776.175143480301, "date": "2019-05-21_08-40-02", "info": {"num_steps_trained": 6186684, "sample_time_ms": 25805.039, "load_time_ms": 5.004, "grad_time_ms": 12746.793, "update_time_ms": 8.273, "default": {"policy_loss": -0.010181795805692673, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.520806074142456, "total_loss": 46.54291915893555, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 46.54794692993164, "entropy": 1.2770864963531494, "kl": 0.015268746763467789}, "num_steps_sampled": 6186684}, "time_total_s": 4776.175143480301, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbaba8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc1470>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbaeb8>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 679.62, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 37.206016302108765}
{"episode_reward_mean": 869.4221129502278, "timesteps_total": 6235839, "iterations_since_restore": 107, "timesteps_since_restore": 6235839, "episodes_this_iter": 30, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 486.7721791254835, "system_level_velocity_min": 12.646825853560383, "cost1_max": 470.2696720621596, "system_level_velocity_max": 18.73605938940277, "cost2_min": -63.781634801503955, "outflow_rate_max": 1440.234254873361, "system_level_velocity_mean": 16.584521873379618, "cost1_mean": 415.27210092981227, "cost2_mean": -39.1732771311482, "outflow_rate_mean": 1300.9554559691187, "cost2_max": -15.150725853361438, "cost1_min": 23.077756855036977}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 107, "episode_reward_max": 962.375306862079, "timestamp": 1558428043, "timesteps_this_iter": 49155, "episodes_total": 3187, "episode_reward_min": 49.57021086967601, "pid": 62178, "time_since_restore": 4816.5866112709045, "date": "2019-05-21_08-40-43", "info": {"num_steps_trained": 6235839, "sample_time_ms": 25869.479, "load_time_ms": 4.958, "grad_time_ms": 12937.108, "update_time_ms": 8.392, "default": {"policy_loss": -0.011000695638358593, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5524901151657104, "total_loss": 41.46596908569336, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 41.47206497192383, "entropy": 1.2920008897781372, "kl": 0.014528934843838215}, "num_steps_sampled": 6235839}, "time_total_s": 4816.5866112709045, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8c88>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc88d0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8a90>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 677.74, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 40.41146779060364}
{"episode_reward_mean": 873.9697382700554, "timesteps_total": 6285830, "iterations_since_restore": 108, "timesteps_since_restore": 6285830, "episodes_this_iter": 32, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 486.7721791254835, "system_level_velocity_min": 12.32682810715962, "cost1_max": 473.0188211358059, "system_level_velocity_max": 18.73605938940277, "cost2_min": -63.781634801503955, "outflow_rate_max": 1440.234254873361, "system_level_velocity_mean": 16.528938761509377, "cost1_mean": 416.01530115232833, "cost2_mean": -39.1086868133802, "outflow_rate_mean": 1298.760602415066, "cost2_max": -15.150725853361438, "cost1_min": 23.077756855036977}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 108, "episode_reward_max": 962.2608858872151, "timestamp": 1558428081, "timesteps_this_iter": 49991, "episodes_total": 3219, "episode_reward_min": 49.57021086967601, "pid": 62178, "time_since_restore": 4854.8487775325775, "date": "2019-05-21_08-41-21", "info": {"num_steps_trained": 6285830, "sample_time_ms": 25757.72, "load_time_ms": 5.063, "grad_time_ms": 12920.707, "update_time_ms": 8.203, "default": {"policy_loss": -0.0101727694272995, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.6003215909004211, "total_loss": 39.71811294555664, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 39.72332763671875, "entropy": 1.3041578531265259, "kl": 0.014681754633784294}, "num_steps_sampled": 6285830}, "time_total_s": 4854.8487775325775, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc72e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc7160>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc70b8>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 680.87, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 38.262166261672974}
{"episode_reward_mean": 876.5332090772171, "timesteps_total": 6336128, "iterations_since_restore": 109, "timesteps_since_restore": 6336128, "episodes_this_iter": 31, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 761.9789684896565, "system_level_velocity_min": 10.88098895360274, "cost1_max": 473.0188211358059, "system_level_velocity_max": 18.790463813122486, "cost2_min": -63.781634801503955, "outflow_rate_max": 1440.234254873361, "system_level_velocity_mean": 16.213065080648168, "cost1_mean": 414.3575498986687, "cost2_mean": -40.35583972673393, "outflow_rate_mean": 1300.9704734544468, "cost2_max": -22.350081779591147, "cost1_min": 80.4680601540377}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 109, "episode_reward_max": 962.2608858872151, "timestamp": 1558428121, "timesteps_this_iter": 50298, "episodes_total": 3250, "episode_reward_min": 167.95677730680566, "pid": 62178, "time_since_restore": 4894.4823162555695, "date": "2019-05-21_08-42-01", "info": {"num_steps_trained": 6336128, "sample_time_ms": 25902.761, "load_time_ms": 5.139, "grad_time_ms": 12719.492, "update_time_ms": 7.972, "default": {"policy_loss": -0.011233211494982243, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.6178917288780212, "total_loss": 39.29875183105469, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 39.304832458496094, "entropy": 1.3198058605194092, "kl": 0.015270072966814041}, "num_steps_sampled": 6336128}, "time_total_s": 4894.4823162555695, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00db00>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00dd68>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00d828>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 689.32, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 39.63353872299194}
{"episode_reward_mean": 871.4540743545062, "timesteps_total": 6385803, "iterations_since_restore": 110, "timesteps_since_restore": 6385803, "episodes_this_iter": 32, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 458.7643428802759, "system_level_velocity_min": 10.88098895360274, "cost1_max": 473.0188211358059, "system_level_velocity_max": 18.790463813122486, "cost2_min": -63.781634801503955, "outflow_rate_max": 1440.1327992245674, "system_level_velocity_mean": 16.080254588589888, "cost1_mean": 410.4679179735891, "cost2_mean": -40.18126659823143, "outflow_rate_mean": 1295.3117413046164, "cost2_max": -14.350718880612654, "cost1_min": 18.168381573679262}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 110, "episode_reward_max": 960.7704235179012, "timestamp": 1558428160, "timesteps_this_iter": 49675, "episodes_total": 3282, "episode_reward_min": 42.607277956675034, "pid": 62178, "time_since_restore": 4933.178968429565, "date": "2019-05-21_08-42-40", "info": {"num_steps_trained": 6385803, "sample_time_ms": 25922.798, "load_time_ms": 5.181, "grad_time_ms": 12534.038, "update_time_ms": 7.74, "default": {"policy_loss": -0.009716203436255455, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5211668610572815, "total_loss": 43.77663803100586, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 43.78179931640625, "entropy": 1.3168102502822876, "kl": 0.01351257972419262}, "num_steps_sampled": 6385803}, "time_total_s": 4933.178968429565, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfaf710>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfafdd8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfaf400>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 688.42, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 38.69665217399597}
{"episode_reward_mean": 859.4356311927454, "timesteps_total": 6434836, "iterations_since_restore": 111, "timesteps_since_restore": 6434836, "episodes_this_iter": 33, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 458.7643428802759, "system_level_velocity_min": 10.88098895360274, "cost1_max": 475.29763387736364, "system_level_velocity_max": 18.795322982328603, "cost2_min": -59.92349253010755, "outflow_rate_max": 1440.1327992245674, "system_level_velocity_mean": 16.099792139393365, "cost1_mean": 406.94849046769525, "cost2_mean": -40.146207622334224, "outflow_rate_mean": 1283.2617238813575, "cost2_max": -14.350718880612654, "cost1_min": 18.168381573679262}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 111, "episode_reward_max": 955.808661062836, "timestamp": 1558428198, "timesteps_this_iter": 49033, "episodes_total": 3315, "episode_reward_min": 42.607277956675034, "pid": 62178, "time_since_restore": 4971.192300319672, "date": "2019-05-21_08-43-18", "info": {"num_steps_trained": 6434836, "sample_time_ms": 25929.714, "load_time_ms": 5.093, "grad_time_ms": 12457.069, "update_time_ms": 7.91, "default": {"policy_loss": -0.010656372644007206, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5222606062889099, "total_loss": 45.64502716064453, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 45.650634765625, "entropy": 1.307012915611267, "kl": 0.014959702268242836}, "num_steps_sampled": 6434836}, "time_total_s": 4971.192300319672, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8f60>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8470>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8668>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 683.57, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 38.0133318901062}
{"episode_reward_mean": 858.3893871671718, "timesteps_total": 6485821, "iterations_since_restore": 112, "timesteps_since_restore": 6485821, "episodes_this_iter": 31, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 458.7643428802759, "system_level_velocity_min": 10.88098895360274, "cost1_max": 475.29763387736364, "system_level_velocity_max": 18.795322982328603, "cost2_min": -61.783594398493, "outflow_rate_max": 1440.1327992245674, "system_level_velocity_mean": 16.098768703093853, "cost1_mean": 405.3153103153153, "cost2_mean": -40.717519493767966, "outflow_rate_mean": 1281.3738995541537, "cost2_max": -11.602143277108052, "cost1_min": 18.168381573679262}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 112, "episode_reward_max": 967.1317142261723, "timestamp": 1558428238, "timesteps_this_iter": 50985, "episodes_total": 3346, "episode_reward_min": 42.607277956675034, "pid": 62178, "time_since_restore": 5011.8870985507965, "date": "2019-05-21_08-43-58", "info": {"num_steps_trained": 6485821, "sample_time_ms": 26155.198, "load_time_ms": 5.077, "grad_time_ms": 12307.922, "update_time_ms": 7.631, "default": {"policy_loss": -0.011633379384875298, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5620128512382507, "total_loss": 42.94068908691406, "cur_kl_coeff": 0.33750009536743164, "vf_loss": 42.94717788696289, "entropy": 1.3454242944717407, "kl": 0.015247122384607792}, "num_steps_sampled": 6485821}, "time_total_s": 5011.8870985507965, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc7320>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc72e8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc7b70>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 681.77, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 40.69479823112488}
{"episode_reward_mean": 863.1287399985813, "timesteps_total": 6535157, "iterations_since_restore": 113, "timesteps_since_restore": 6535157, "episodes_this_iter": 29, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 491.61637924011427, "system_level_velocity_min": 12.578755978926015, "cost1_max": 475.29763387736364, "system_level_velocity_max": 18.795322982328603, "cost2_min": -61.783594398493, "outflow_rate_max": 1439.186497892351, "system_level_velocity_mean": 16.08060537856493, "cost1_mean": 408.31941936474044, "cost2_mean": -41.811357751767694, "outflow_rate_mean": 1287.0918162105645, "cost2_max": -11.602143277108052, "cost1_min": 23.033257992071132}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 113, "episode_reward_max": 967.1317142261723, "timestamp": 1558428277, "timesteps_this_iter": 49336, "episodes_total": 3375, "episode_reward_min": 53.618154863327334, "pid": 62178, "time_since_restore": 5050.748784303665, "date": "2019-05-21_08-44-37", "info": {"num_steps_trained": 6535157, "sample_time_ms": 26336.797, "load_time_ms": 4.955, "grad_time_ms": 12236.267, "update_time_ms": 7.9, "default": {"policy_loss": -0.011967485770583153, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5280342102050781, "total_loss": 41.522037506103516, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 41.52883529663086, "entropy": 1.3195921182632446, "kl": 0.015330799855291843}, "num_steps_sampled": 6535157}, "time_total_s": 5050.748784303665, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfafb38>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfaf400>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfaf518>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 687.17, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 38.86168575286865}
{"episode_reward_mean": 873.9808342686783, "timesteps_total": 6584387, "iterations_since_restore": 114, "timesteps_since_restore": 6584387, "episodes_this_iter": 32, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 491.61637924011427, "system_level_velocity_min": 12.286746903859473, "cost1_max": 475.70775144677157, "system_level_velocity_max": 18.61520614513149, "cost2_min": -64.51906576281952, "outflow_rate_max": 1439.186497892351, "system_level_velocity_mean": 16.14951035524053, "cost1_mean": 413.48451064113146, "cost2_mean": -42.09272356371889, "outflow_rate_mean": 1299.2489730784202, "cost2_max": -11.602143277108052, "cost1_min": 23.033257992071132}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 114, "episode_reward_max": 967.1317142261723, "timestamp": 1558428314, "timesteps_this_iter": 49230, "episodes_total": 3407, "episode_reward_min": 53.618154863327334, "pid": 62178, "time_since_restore": 5087.864840507507, "date": "2019-05-21_08-45-14", "info": {"num_steps_trained": 6584387, "sample_time_ms": 26350.213, "load_time_ms": 5.02, "grad_time_ms": 12056.64, "update_time_ms": 7.895, "default": {"policy_loss": -0.012440291233360767, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5528572797775269, "total_loss": 42.653541564941406, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 42.6607780456543, "entropy": 1.3318194150924683, "kl": 0.015432752668857574}, "num_steps_sampled": 6584387}, "time_total_s": 5087.864840507507, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc76a0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc7f60>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc7e10>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 692.02, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 37.11605620384216}
{"episode_reward_mean": 869.4189816974196, "timesteps_total": 6634190, "iterations_since_restore": 115, "timesteps_since_restore": 6634190, "episodes_this_iter": 34, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1045.9434095653157, "system_level_velocity_min": 12.286746903859473, "cost1_max": 475.70775144677157, "system_level_velocity_max": 18.856769369597657, "cost2_min": -64.51906576281952, "outflow_rate_max": 1439.186497892351, "system_level_velocity_mean": 16.186428331593728, "cost1_mean": 412.5396907744751, "cost2_mean": -41.56191390589056, "outflow_rate_mean": 1295.1917590743838, "cost2_max": -26.408390695540298, "cost1_min": 148.5754400021508}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 115, "episode_reward_max": 963.906339053064, "timestamp": 1558428355, "timesteps_this_iter": 49803, "episodes_total": 3441, "episode_reward_min": 302.5903905806024, "pid": 62178, "time_since_restore": 5128.429398775101, "date": "2019-05-21_08-45-55", "info": {"num_steps_trained": 6634190, "sample_time_ms": 26610.949, "load_time_ms": 4.979, "grad_time_ms": 12225.091, "update_time_ms": 8.049, "default": {"policy_loss": -0.012212978675961494, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.54944908618927, "total_loss": 45.37743377685547, "cur_kl_coeff": 0.33750009536743164, "vf_loss": 45.38435745239258, "entropy": 1.3564560413360596, "kl": 0.015661660581827164}, "num_steps_sampled": 6634190}, "time_total_s": 5128.429398775101, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4c18>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4278>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4eb8>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 689.38, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 40.564558267593384}
{"episode_reward_mean": 860.7080606619295, "timesteps_total": 6684451, "iterations_since_restore": 116, "timesteps_since_restore": 6684451, "episodes_this_iter": 32, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 462.7169295230079, "system_level_velocity_min": 12.187264483834923, "cost1_max": 475.70775144677157, "system_level_velocity_max": 18.856769369597657, "cost2_min": -64.51906576281952, "outflow_rate_max": 1424.4607828234482, "system_level_velocity_mean": 16.197603569036055, "cost1_mean": 409.4312551423207, "cost2_mean": -41.03703389024606, "outflow_rate_mean": 1282.5433528394535, "cost2_max": -11.997307942606405, "cost1_min": 17.864730103853248}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 116, "episode_reward_max": 955.4308399289087, "timestamp": 1558428394, "timesteps_this_iter": 50261, "episodes_total": 3473, "episode_reward_min": 42.7127295891235, "pid": 62178, "time_since_restore": 5167.2900331020355, "date": "2019-05-21_08-46-34", "info": {"num_steps_trained": 6684451, "sample_time_ms": 26595.069, "load_time_ms": 4.966, "grad_time_ms": 12403.805, "update_time_ms": 8.171, "default": {"policy_loss": -0.011577394790947437, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5936810970306396, "total_loss": 40.4410514831543, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 40.447601318359375, "entropy": 1.3560506105422974, "kl": 0.014897334389388561}, "num_steps_sampled": 6684451}, "time_total_s": 5167.2900331020355, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbacc0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfba240>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfba9b0>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 683.98, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 38.860634326934814}
{"episode_reward_mean": 858.9763702774316, "timesteps_total": 6734339, "iterations_since_restore": 117, "timesteps_since_restore": 6734339, "episodes_this_iter": 30, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 462.7169295230079, "system_level_velocity_min": 12.187264483834923, "cost1_max": 468.91608204791163, "system_level_velocity_max": 18.856769369597657, "cost2_min": -63.217048205880076, "outflow_rate_max": 1424.4607828234482, "system_level_velocity_mean": 16.155328167157894, "cost1_mean": 406.2705666121967, "cost2_mean": -40.717280305659884, "outflow_rate_mean": 1283.9939462605312, "cost2_max": -11.997307942606405, "cost1_min": 17.864730103853248}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 117, "episode_reward_max": 960.4215970409508, "timestamp": 1558428433, "timesteps_this_iter": 49888, "episodes_total": 3503, "episode_reward_min": 42.7127295891235, "pid": 62178, "time_since_restore": 5206.569359302521, "date": "2019-05-21_08-47-13", "info": {"num_steps_trained": 6734339, "sample_time_ms": 26407.092, "load_time_ms": 4.989, "grad_time_ms": 12475.339, "update_time_ms": 8.252, "default": {"policy_loss": -0.013083643279969692, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5619443655014038, "total_loss": 41.15647506713867, "cur_kl_coeff": 0.33750009536743164, "vf_loss": 41.16423416137695, "entropy": 1.357839584350586, "kl": 0.01577746868133545}, "num_steps_sampled": 6734339}, "time_total_s": 5206.569359302521, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc7cc0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc7438>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc77f0>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 680.85, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 39.27932620048523}
{"episode_reward_mean": 873.5727572807233, "timesteps_total": 6784304, "iterations_since_restore": 118, "timesteps_since_restore": 6784304, "episodes_this_iter": 32, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 462.7169295230079, "system_level_velocity_min": 12.187264483834923, "cost1_max": 468.91608204791163, "system_level_velocity_max": 18.540816734832557, "cost2_min": -63.217048205880076, "outflow_rate_max": 1414.7981045307895, "system_level_velocity_mean": 16.111320825426606, "cost1_mean": 412.04622880893794, "cost2_mean": -41.12307717692179, "outflow_rate_mean": 1293.688233267547, "cost2_max": -11.997307942606405, "cost1_min": 17.864730103853248}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 118, "episode_reward_max": 960.4215970409508, "timestamp": 1558428472, "timesteps_this_iter": 49965, "episodes_total": 3535, "episode_reward_min": 42.7127295891235, "pid": 62178, "time_since_restore": 5245.670425891876, "date": "2019-05-21_08-47-52", "info": {"num_steps_trained": 6784304, "sample_time_ms": 26335.435, "load_time_ms": 4.965, "grad_time_ms": 12630.468, "update_time_ms": 8.646, "default": {"policy_loss": -0.013288834132254124, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5580224990844727, "total_loss": 40.02386474609375, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 40.0318603515625, "entropy": 1.370460033416748, "kl": 0.015685414895415306}, "num_steps_sampled": 6784304}, "time_total_s": 5245.670425891876, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c022f60>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc15c0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd44a8>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 690.14, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 39.10106658935547}
{"episode_reward_mean": 881.4889200607632, "timesteps_total": 6833052, "iterations_since_restore": 119, "timesteps_since_restore": 6833052, "episodes_this_iter": 30, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1123.218979219306, "system_level_velocity_min": 12.421207171806808, "cost1_max": 471.10380252388484, "system_level_velocity_max": 18.534506528127263, "cost2_min": -61.56958523834691, "outflow_rate_max": 1408.2740926815125, "system_level_velocity_mean": 16.185152114436807, "cost1_mean": 415.54171473728763, "cost2_mean": -40.604588197719906, "outflow_rate_mean": 1304.4926904500958, "cost2_max": -26.61208524242172, "cost1_min": 263.02052313269235}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 119, "episode_reward_max": 960.4215970409508, "timestamp": 1558428510, "timesteps_this_iter": 48748, "episodes_total": 3565, "episode_reward_min": 534.2777439918368, "pid": 62178, "time_since_restore": 5283.065576314926, "date": "2019-05-21_08-48-30", "info": {"num_steps_trained": 6833052, "sample_time_ms": 26110.4, "load_time_ms": 4.92, "grad_time_ms": 12631.887, "update_time_ms": 8.636, "default": {"policy_loss": -0.01021496206521988, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5025697946548462, "total_loss": 43.159847259521484, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 43.16463851928711, "entropy": 1.329136610031128, "kl": 0.016077252104878426}, "num_steps_sampled": 6833052}, "time_total_s": 5283.065576314926, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc7860>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc7128>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c022320>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 692.57, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 37.39515042304993}
{"episode_reward_mean": 882.7201714733055, "timesteps_total": 6882426, "iterations_since_restore": 120, "timesteps_since_restore": 6882426, "episodes_this_iter": 34, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1068.274705443828, "system_level_velocity_min": 12.398225543138196, "cost1_max": 475.3389577953707, "system_level_velocity_max": 18.72081250832193, "cost2_min": -70.73107559015405, "outflow_rate_max": 1408.2740926815125, "system_level_velocity_mean": 16.301111180697994, "cost1_mean": 417.34742859180267, "cost2_mean": -40.18521429036263, "outflow_rate_mean": 1309.2131376246791, "cost2_max": -29.643287109359893, "cost1_min": 171.02098858275053}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 120, "episode_reward_max": 960.4215970409508, "timestamp": 1558428548, "timesteps_this_iter": 49374, "episodes_total": 3599, "episode_reward_min": 378.4858100060266, "pid": 62178, "time_since_restore": 5321.62860417366, "date": "2019-05-21_08-49-08", "info": {"num_steps_trained": 6882426, "sample_time_ms": 26156.014, "load_time_ms": 5.008, "grad_time_ms": 12575.066, "update_time_ms": 8.723, "default": {"policy_loss": -0.01245085522532463, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.494322806596756, "total_loss": 49.36274719238281, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 49.369956970214844, "entropy": 1.344997525215149, "kl": 0.015540407970547676}, "num_steps_sampled": 6882426}, "time_total_s": 5321.62860417366, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c018a90>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c016470>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8390>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 690.5, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 38.56302785873413}
{"episode_reward_mean": 888.92919671896, "timesteps_total": 6930927, "iterations_since_restore": 121, "timesteps_since_restore": 6930927, "episodes_this_iter": 33, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1068.274705443828, "system_level_velocity_min": 12.398225543138196, "cost1_max": 475.3389577953707, "system_level_velocity_max": 18.72081250832193, "cost2_min": -70.73107559015405, "outflow_rate_max": 1417.686350456767, "system_level_velocity_mean": 16.47675982812474, "cost1_mean": 421.38877292288964, "cost2_mean": -39.52976956831522, "outflow_rate_mean": 1320.0075986086363, "cost2_max": -27.852648198866795, "cost1_min": 171.02098858275053}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 121, "episode_reward_max": 954.4768789324911, "timestamp": 1558428588, "timesteps_this_iter": 48501, "episodes_total": 3632, "episode_reward_min": 378.4858100060266, "pid": 62178, "time_since_restore": 5360.650445222855, "date": "2019-05-21_08-49-48", "info": {"num_steps_trained": 6930927, "sample_time_ms": 26264.888, "load_time_ms": 5.085, "grad_time_ms": 12567.859, "update_time_ms": 8.596, "default": {"policy_loss": -0.011530274525284767, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.49671491980552673, "total_loss": 48.762874603271484, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 48.76940155029297, "entropy": 1.3196673393249512, "kl": 0.014823127537965775}, "num_steps_sampled": 6930927}, "time_total_s": 5360.650445222855, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4630>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4518>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4550>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 690.5, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 39.021841049194336}
{"episode_reward_mean": 887.7311984679676, "timesteps_total": 6982016, "iterations_since_restore": 122, "timesteps_since_restore": 6982016, "episodes_this_iter": 30, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1028.7984405475158, "system_level_velocity_min": 11.284174715362015, "cost1_max": 475.3389577953707, "system_level_velocity_max": 18.72081250832193, "cost2_min": -70.73107559015405, "outflow_rate_max": 1447.1877751516774, "system_level_velocity_mean": 16.466303057631006, "cost1_mean": 419.90762270000414, "cost2_mean": -39.80308542432771, "outflow_rate_mean": 1319.426676759401, "cost2_max": -23.668304331436776, "cost1_min": 147.19234186951266}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 122, "episode_reward_max": 954.8058071044203, "timestamp": 1558428626, "timesteps_this_iter": 51089, "episodes_total": 3662, "episode_reward_min": 299.3098019874696, "pid": 62178, "time_since_restore": 5399.463349103928, "date": "2019-05-21_08-50-26", "info": {"num_steps_trained": 6982016, "sample_time_ms": 25997.901, "load_time_ms": 5.103, "grad_time_ms": 12646.793, "update_time_ms": 8.567, "default": {"policy_loss": -0.01057166513055563, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5352451801300049, "total_loss": 41.595062255859375, "cur_kl_coeff": 0.33750009536743164, "vf_loss": 41.60074996948242, "entropy": 1.413407802581787, "kl": 0.014468190260231495}, "num_steps_sampled": 6982016}, "time_total_s": 5399.463349103928, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc7908>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc7c50>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc7940>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 688.73, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 38.812903881073}
{"episode_reward_mean": 885.2645853520621, "timesteps_total": 7032204, "iterations_since_restore": 123, "timesteps_since_restore": 7032204, "episodes_this_iter": 31, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1028.7984405475158, "system_level_velocity_min": 11.284174715362015, "cost1_max": 472.16591243740385, "system_level_velocity_max": 18.513747215464132, "cost2_min": -63.379324054387425, "outflow_rate_max": 1447.1877751516774, "system_level_velocity_mean": 16.12694470287645, "cost1_mean": 415.5820738916508, "cost2_mean": -40.94727605490926, "outflow_rate_mean": 1305.684642876101, "cost2_max": -23.668304331436776, "cost1_min": 147.19234186951266}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 123, "episode_reward_max": 954.8058071044203, "timestamp": 1558428666, "timesteps_this_iter": 50188, "episodes_total": 3693, "episode_reward_min": 299.3098019874696, "pid": 62178, "time_since_restore": 5439.524061203003, "date": "2019-05-21_08-51-06", "info": {"num_steps_trained": 7032204, "sample_time_ms": 25826.462, "load_time_ms": 5.193, "grad_time_ms": 12937.666, "update_time_ms": 8.369, "default": {"policy_loss": -0.013267755508422852, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5770599842071533, "total_loss": 43.053871154785156, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 43.061683654785156, "entropy": 1.3797025680541992, "kl": 0.01617029309272766}, "num_steps_sampled": 7032204}, "time_total_s": 5439.524061203003, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfba518>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfba7f0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfba048>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 695.18, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 40.06071209907532}
{"episode_reward_mean": 884.252910581936, "timesteps_total": 7083566, "iterations_since_restore": 124, "timesteps_since_restore": 7083566, "episodes_this_iter": 31, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1028.7984405475158, "system_level_velocity_min": 11.284174715362015, "cost1_max": 472.5750422756198, "system_level_velocity_max": 18.753563624178643, "cost2_min": -63.379324054387425, "outflow_rate_max": 1447.1877751516774, "system_level_velocity_mean": 16.18462340273894, "cost1_mean": 414.8995932574592, "cost2_mean": -40.044948693428665, "outflow_rate_mean": 1307.5607209157251, "cost2_max": -23.668304331436776, "cost1_min": 147.19234186951266}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 124, "episode_reward_max": 958.1513274029147, "timestamp": 1558428707, "timesteps_this_iter": 51362, "episodes_total": 3724, "episode_reward_min": 299.3098019874696, "pid": 62178, "time_since_restore": 5479.801213026047, "date": "2019-05-21_08-51-47", "info": {"num_steps_trained": 7083566, "sample_time_ms": 25931.484, "load_time_ms": 5.128, "grad_time_ms": 13149.659, "update_time_ms": 8.505, "default": {"policy_loss": -0.011527511291205883, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5778457522392273, "total_loss": 41.80598449707031, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 41.81242370605469, "entropy": 1.3688921928405762, "kl": 0.01508812140673399}, "num_steps_sampled": 7083566}, "time_total_s": 5479.801213026047, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfafb38>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfafac8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfafbe0>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 692.05, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 40.27715182304382}
{"episode_reward_mean": 891.9602234492028, "timesteps_total": 7131922, "iterations_since_restore": 125, "timesteps_since_restore": 7131922, "episodes_this_iter": 32, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1119.5109480122328, "system_level_velocity_min": 11.895958618436698, "cost1_max": 472.65437939398413, "system_level_velocity_max": 18.753563624178643, "cost2_min": -63.379324054387425, "outflow_rate_max": 1427.21262279829, "system_level_velocity_mean": 16.264580016418172, "cost1_mean": 419.9626276530666, "cost2_mean": -39.38934146513844, "outflow_rate_mean": 1315.358524746188, "cost2_max": -26.007551943363687, "cost1_min": 262.8161923190596}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 125, "episode_reward_max": 958.1513274029147, "timestamp": 1558428746, "timesteps_this_iter": 48356, "episodes_total": 3756, "episode_reward_min": 518.2172535565866, "pid": 62178, "time_since_restore": 5519.20409822464, "date": "2019-05-21_08-52-26", "info": {"num_steps_trained": 7131922, "sample_time_ms": 26039.46, "load_time_ms": 5.145, "grad_time_ms": 12926.718, "update_time_ms": 8.432, "default": {"policy_loss": -0.01088589895516634, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5214534997940063, "total_loss": 44.37853240966797, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 44.38424301147461, "entropy": 1.3350770473480225, "kl": 0.015335367992520332}, "num_steps_sampled": 7131922}, "time_total_s": 5519.20409822464, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbaef0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbaf28>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfba7f0>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 696.87, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 39.40288519859314}
{"episode_reward_mean": 897.9182911785518, "timesteps_total": 7182267, "iterations_since_restore": 126, "timesteps_since_restore": 7182267, "episodes_this_iter": 32, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1140.6647321923501, "system_level_velocity_min": 12.231793016750105, "cost1_max": 472.65437939398413, "system_level_velocity_max": 18.753563624178643, "cost2_min": -65.0588703897401, "outflow_rate_max": 1420.6600012253832, "system_level_velocity_mean": 16.42241315473894, "cost1_mean": 423.92267018652205, "cost2_mean": -39.05399659355417, "outflow_rate_mean": 1325.0590278994305, "cost2_max": -26.007551943363687, "cost1_min": 262.8161923190596}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 126, "episode_reward_max": 963.6489171002487, "timestamp": 1558428787, "timesteps_this_iter": 50345, "episodes_total": 3788, "episode_reward_min": 518.2172535565866, "pid": 62178, "time_since_restore": 5560.252462387085, "date": "2019-05-21_08-53-07", "info": {"num_steps_trained": 7182267, "sample_time_ms": 26360.632, "load_time_ms": 5.131, "grad_time_ms": 12826.549, "update_time_ms": 8.52, "default": {"policy_loss": -0.01270323432981968, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5640397667884827, "total_loss": 45.83524703979492, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 45.84246826171875, "entropy": 1.3731049299240112, "kl": 0.016259541735053062}, "num_steps_sampled": 7182267}, "time_total_s": 5560.252462387085, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc7390>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc77b8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc7978>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 696.52, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 41.04836416244507}
{"episode_reward_mean": 896.6376022520599, "timesteps_total": 7231393, "iterations_since_restore": 127, "timesteps_since_restore": 7231393, "episodes_this_iter": 30, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1114.659317346257, "system_level_velocity_min": 12.231793016750105, "cost1_max": 473.6760174824584, "system_level_velocity_max": 18.753563624178643, "cost2_min": -65.0588703897401, "outflow_rate_max": 1420.6600012253832, "system_level_velocity_mean": 16.47098621897668, "cost1_mean": 424.958209841266, "cost2_mean": -38.48506274050429, "outflow_rate_mean": 1323.1743532564585, "cost2_max": -26.007551943363687, "cost1_min": 262.8161923190596}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 127, "episode_reward_max": 963.6489171002487, "timestamp": 1558428828, "timesteps_this_iter": 49126, "episodes_total": 3818, "episode_reward_min": 518.2172535565866, "pid": 62178, "time_since_restore": 5600.458213567734, "date": "2019-05-21_08-53-48", "info": {"num_steps_trained": 7231393, "sample_time_ms": 26566.233, "load_time_ms": 4.986, "grad_time_ms": 12716.296, "update_time_ms": 8.223, "default": {"policy_loss": -0.011457081884145737, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5418832898139954, "total_loss": 44.35062789916992, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 44.35674285888672, "entropy": 1.3733974695205688, "kl": 0.015803050249814987}, "num_steps_sampled": 7231393}, "time_total_s": 5600.458213567734, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc15c0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc1c18>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc1eb8>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 696.52, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 40.205751180648804}
{"episode_reward_mean": 890.2317002512584, "timesteps_total": 7281173, "iterations_since_restore": 128, "timesteps_since_restore": 7281173, "episodes_this_iter": 32, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1025.8611813449481, "system_level_velocity_min": 12.050028734410521, "cost1_max": 473.6760174824584, "system_level_velocity_max": 18.673913792307097, "cost2_min": -65.0588703897401, "outflow_rate_max": 1420.6600012253832, "system_level_velocity_mean": 16.451807686216796, "cost1_mean": 420.58321762078674, "cost2_mean": -38.8579503955103, "outflow_rate_mean": 1321.7261460875793, "cost2_max": -24.574983625749564, "cost1_min": 146.268218050062}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 128, "episode_reward_max": 963.6489171002487, "timestamp": 1558428866, "timesteps_this_iter": 49780, "episodes_total": 3850, "episode_reward_min": 295.1224352649621, "pid": 62178, "time_since_restore": 5638.420443058014, "date": "2019-05-21_08-54-26", "info": {"num_steps_trained": 7281173, "sample_time_ms": 26441.944, "load_time_ms": 5.04, "grad_time_ms": 12727.495, "update_time_ms": 7.869, "default": {"policy_loss": -0.01103630755096674, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5553311109542847, "total_loss": 45.28608322143555, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 45.29212188720703, "entropy": 1.380649209022522, "kl": 0.014798883348703384}, "num_steps_sampled": 7281173}, "time_total_s": 5638.420443058014, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfba6a0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfba080>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfba320>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 690.43, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 37.96222949028015}
{"episode_reward_mean": 889.0373170925792, "timesteps_total": 7330993, "iterations_since_restore": 129, "timesteps_since_restore": 7330993, "episodes_this_iter": 31, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1025.8611813449481, "system_level_velocity_min": 12.050028734410521, "cost1_max": 473.6760174824584, "system_level_velocity_max": 18.673913792307097, "cost2_min": -60.138137342845255, "outflow_rate_max": 1426.0712049332851, "system_level_velocity_mean": 16.468547499682, "cost1_mean": 420.99955217236754, "cost2_mean": -38.053799141257684, "outflow_rate_mean": 1318.990189613834, "cost2_max": -24.574983625749564, "cost1_min": 146.268218050062}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 129, "episode_reward_max": 961.4742872410279, "timestamp": 1558428904, "timesteps_this_iter": 49820, "episodes_total": 3881, "episode_reward_min": 295.1224352649621, "pid": 62178, "time_since_restore": 5677.118743658066, "date": "2019-05-21_08-55-04", "info": {"num_steps_trained": 7330993, "sample_time_ms": 26422.14, "load_time_ms": 4.997, "grad_time_ms": 12874.151, "update_time_ms": 8.006, "default": {"policy_loss": -0.01215830072760582, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5584443211555481, "total_loss": 45.40232849121094, "cur_kl_coeff": 0.33750009536743164, "vf_loss": 45.40919876098633, "entropy": 1.397096037864685, "kl": 0.01566855050623417}, "num_steps_sampled": 7330993}, "time_total_s": 5677.118743658066, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc7a90>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc7d68>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc75f8>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 690.78, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 38.69830060005188}
{"episode_reward_mean": 888.0903864723015, "timesteps_total": 7379257, "iterations_since_restore": 130, "timesteps_since_restore": 7379257, "episodes_this_iter": 32, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1025.8611813449481, "system_level_velocity_min": 12.050028734410521, "cost1_max": 471.3723542336273, "system_level_velocity_max": 18.673913792307097, "cost2_min": -59.006208803921794, "outflow_rate_max": 1426.0712049332851, "system_level_velocity_mean": 16.485385061753803, "cost1_mean": 421.36826647135166, "cost2_mean": -37.70667855176641, "outflow_rate_mean": 1317.1863334539896, "cost2_max": -24.574983625749564, "cost1_min": 146.268218050062}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 130, "episode_reward_max": 961.4742872410279, "timestamp": 1558428942, "timesteps_this_iter": 48264, "episodes_total": 3913, "episode_reward_min": 295.1224352649621, "pid": 62178, "time_since_restore": 5714.753129005432, "date": "2019-05-21_08-55-42", "info": {"num_steps_trained": 7379257, "sample_time_ms": 26297.721, "load_time_ms": 4.918, "grad_time_ms": 12905.087, "update_time_ms": 7.977, "default": {"policy_loss": -0.011632580310106277, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.515312671661377, "total_loss": 47.233680725097656, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 47.240264892578125, "entropy": 1.3788120746612549, "kl": 0.014944341965019703}, "num_steps_sampled": 7379257}, "time_total_s": 5714.753129005432, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4080>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4940>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd44e0>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 690.78, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 37.63438534736633}
{"episode_reward_mean": 898.6209135319937, "timesteps_total": 7428768, "iterations_since_restore": 131, "timesteps_since_restore": 7428768, "episodes_this_iter": 31, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1102.5315435269474, "system_level_velocity_min": 12.050028734410521, "cost1_max": 471.29004942525586, "system_level_velocity_max": 18.496092252830167, "cost2_min": -59.006208803921794, "outflow_rate_max": 1426.0712049332851, "system_level_velocity_mean": 16.444184066647043, "cost1_mean": 426.154788835605, "cost2_mean": -37.443439635544884, "outflow_rate_mean": 1316.8173711121622, "cost2_max": -24.895680134530405, "cost1_min": 316.332239032145}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 131, "episode_reward_max": 955.1024745001478, "timestamp": 1558428982, "timesteps_this_iter": 49511, "episodes_total": 3944, "episode_reward_min": 764.105135675866, "pid": 62178, "time_since_restore": 5754.584038972855, "date": "2019-05-21_08-56-22", "info": {"num_steps_trained": 7428768, "sample_time_ms": 26420.192, "load_time_ms": 4.816, "grad_time_ms": 12863.275, "update_time_ms": 8.048, "default": {"policy_loss": -0.012442217208445072, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5511197447776794, "total_loss": 45.893699645996094, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 45.900936126708984, "entropy": 1.3802214860916138, "kl": 0.015440423041582108}, "num_steps_sampled": 7428768}, "time_total_s": 5754.584038972855, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfaf5f8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfafac8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfaf6a0>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 698.75, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 39.830909967422485}
{"episode_reward_mean": 897.7707693609477, "timesteps_total": 7478374, "iterations_since_restore": 132, "timesteps_since_restore": 7478374, "episodes_this_iter": 32, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1102.5315435269474, "system_level_velocity_min": 12.079031912845567, "cost1_max": 471.29004942525586, "system_level_velocity_max": 18.496092252830167, "cost2_min": -59.006208803921794, "outflow_rate_max": 1429.2422084962475, "system_level_velocity_mean": 16.31008348603393, "cost1_mean": 423.24222485111227, "cost2_mean": -37.135538014889235, "outflow_rate_mean": 1314.25991391157, "cost2_max": -20.527840626547963, "cost1_min": 316.332239032145}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 132, "episode_reward_max": 966.9168354417803, "timestamp": 1558429020, "timesteps_this_iter": 49606, "episodes_total": 3976, "episode_reward_min": 764.105135675866, "pid": 62178, "time_since_restore": 5793.00518155098, "date": "2019-05-21_08-57-00", "info": {"num_steps_trained": 7478374, "sample_time_ms": 26532.969, "load_time_ms": 4.841, "grad_time_ms": 12713.136, "update_time_ms": 8.211, "default": {"policy_loss": -0.010881229303777218, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5450135469436646, "total_loss": 44.29807662963867, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 44.30403518676758, "entropy": 1.4027045965194702, "kl": 0.014578788541257381}, "num_steps_sampled": 7478374}, "time_total_s": 5793.00518155098, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4978>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4b38>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4748>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 698.75, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 38.421142578125}
{"episode_reward_mean": 893.9476315485543, "timesteps_total": 7529584, "iterations_since_restore": 133, "timesteps_since_restore": 7529584, "episodes_this_iter": 32, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1110.4599430398546, "system_level_velocity_min": 11.744544249628627, "cost1_max": 471.04190789677165, "system_level_velocity_max": 18.305491392457746, "cost2_min": -58.302248909803, "outflow_rate_max": 1429.2422084962475, "system_level_velocity_mean": 16.178404887469377, "cost1_mean": 419.70650941468614, "cost2_mean": -36.858018897458784, "outflow_rate_mean": 1308.6283313677952, "cost2_max": -20.527840626547963, "cost1_min": 300.54033177337953}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 133, "episode_reward_max": 966.9168354417803, "timestamp": 1558429062, "timesteps_this_iter": 51210, "episodes_total": 4008, "episode_reward_min": 715.9719502431977, "pid": 62178, "time_since_restore": 5834.309265136719, "date": "2019-05-21_08-57-42", "info": {"num_steps_trained": 7529584, "sample_time_ms": 26815.567, "load_time_ms": 4.789, "grad_time_ms": 12553.764, "update_time_ms": 8.194, "default": {"policy_loss": -0.011511909775435925, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5827839374542236, "total_loss": 44.72059631347656, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 44.72685623168945, "entropy": 1.452055811882019, "kl": 0.01557113602757454}, "num_steps_sampled": 7529584}, "time_total_s": 5834.309265136719, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4358>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4a20>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4198>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 697.09, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 41.304083585739136}
{"episode_reward_mean": 891.2220267834264, "timesteps_total": 7579929, "iterations_since_restore": 134, "timesteps_since_restore": 7579929, "episodes_this_iter": 30, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1098.3051244019139, "system_level_velocity_min": 11.744544249628627, "cost1_max": 471.04190789677165, "system_level_velocity_max": 18.282881256396326, "cost2_min": -63.912617622266126, "outflow_rate_max": 1429.2422084962475, "system_level_velocity_mean": 15.984937603223138, "cost1_mean": 416.1285775045002, "cost2_mean": -37.036354081875416, "outflow_rate_mean": 1299.1665322773897, "cost2_max": -20.527840626547963, "cost1_min": 300.54033177337953}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 134, "episode_reward_max": 966.9168354417803, "timestamp": 1558429101, "timesteps_this_iter": 50345, "episodes_total": 4038, "episode_reward_min": 715.9719502431977, "pid": 62178, "time_since_restore": 5873.331622123718, "date": "2019-05-21_08-58-21", "info": {"num_steps_trained": 7579929, "sample_time_ms": 26930.79, "load_time_ms": 4.858, "grad_time_ms": 12313.964, "update_time_ms": 8.121, "default": {"policy_loss": -0.012323840521275997, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.6117644309997559, "total_loss": 40.443206787109375, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 40.45011520385742, "entropy": 1.4345848560333252, "kl": 0.016047615557909012}, "num_steps_sampled": 7579929}, "time_total_s": 5873.331622123718, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfaf400>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfaf710>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfafac8>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 698.34, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 39.02235698699951}
{"episode_reward_mean": 886.2558078158024, "timesteps_total": 7629320, "iterations_since_restore": 135, "timesteps_since_restore": 7629320, "episodes_this_iter": 31, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1068.3310513859622, "system_level_velocity_min": 11.744544249628627, "cost1_max": 470.25641365205354, "system_level_velocity_max": 18.320046738350428, "cost2_min": -63.912617622266126, "outflow_rate_max": 1404.745084636868, "system_level_velocity_mean": 15.974597236410377, "cost1_mean": 415.4203348252189, "cost2_mean": -36.71175294297574, "outflow_rate_mean": 1289.6771829424304, "cost2_max": -23.42213060192369, "cost1_min": 300.54033177337953}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 135, "episode_reward_max": 965.0012864299849, "timestamp": 1558429140, "timesteps_this_iter": 49391, "episodes_total": 4069, "episode_reward_min": 715.9719502431977, "pid": 62178, "time_since_restore": 5912.848259210587, "date": "2019-05-21_08-59-00", "info": {"num_steps_trained": 7629320, "sample_time_ms": 26972.969, "load_time_ms": 4.785, "grad_time_ms": 12282.036, "update_time_ms": 8.001, "default": {"policy_loss": -0.012213748879730701, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5982783436775208, "total_loss": 42.434295654296875, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 42.44131851196289, "entropy": 1.4290492534637451, "kl": 0.015362904407083988}, "num_steps_sampled": 7629320}, "time_total_s": 5912.848259210587, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4898>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4588>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4ac8>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 698.34, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 39.516637086868286}
{"episode_reward_mean": 889.5653621626583, "timesteps_total": 7678540, "iterations_since_restore": 136, "timesteps_since_restore": 7678540, "episodes_this_iter": 30, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1068.3310513859622, "system_level_velocity_min": 11.98479992586047, "cost1_max": 470.25641365205354, "system_level_velocity_max": 18.320046738350428, "cost2_min": -63.912617622266126, "outflow_rate_max": 1401.811539897739, "system_level_velocity_mean": 16.128987451454392, "cost1_mean": 419.6881515464678, "cost2_mean": -35.38375350654463, "outflow_rate_mean": 1290.4646284863281, "cost2_max": -23.42213060192369, "cost1_min": 300.54033177337953}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 136, "episode_reward_max": 965.0012864299849, "timestamp": 1558429180, "timesteps_this_iter": 49220, "episodes_total": 4099, "episode_reward_min": 734.5272651630967, "pid": 62178, "time_since_restore": 5952.17927646637, "date": "2019-05-21_08-59-40", "info": {"num_steps_trained": 7678540, "sample_time_ms": 26821.853, "load_time_ms": 4.734, "grad_time_ms": 12262.449, "update_time_ms": 7.908, "default": {"policy_loss": -0.012149319052696228, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5273943543434143, "total_loss": 44.532867431640625, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 44.539886474609375, "entropy": 1.4542932510375977, "kl": 0.015198275446891785}, "num_steps_sampled": 7678540}, "time_total_s": 5952.17927646637, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c003fd0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00d320>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc7320>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 699.57, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 39.33101725578308}
{"episode_reward_mean": 859.4145900816812, "timesteps_total": 7727293, "iterations_since_restore": 137, "timesteps_since_restore": 7727293, "episodes_this_iter": 34, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 475.5105622595724, "system_level_velocity_min": 12.360844190134387, "cost1_max": 470.25641365205354, "system_level_velocity_max": 18.753068684565452, "cost2_min": -53.60774889388515, "outflow_rate_max": 1396.3215792822996, "system_level_velocity_mean": 16.32233324556521, "cost1_mean": 408.73193639444804, "cost2_mean": -34.23513856532432, "outflow_rate_mean": 1272.585627751008, "cost2_max": -15.539304173908969, "cost1_min": 24.58362947152154}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 137, "episode_reward_max": 957.7362870586851, "timestamp": 1558429218, "timesteps_this_iter": 48753, "episodes_total": 4133, "episode_reward_min": 56.390300451691495, "pid": 62178, "time_since_restore": 5990.698944807053, "date": "2019-05-21_09-00-18", "info": {"num_steps_trained": 7727293, "sample_time_ms": 26534.636, "load_time_ms": 4.827, "grad_time_ms": 12376.945, "update_time_ms": 8.072, "default": {"policy_loss": -0.010301363654434681, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5635496973991394, "total_loss": 47.3059196472168, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 47.30943298339844, "entropy": 1.439184546470642, "kl": 0.020114293321967125}, "num_steps_sampled": 7727293}, "time_total_s": 5990.698944807053, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8ac8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfaf7b8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc80f0>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 677.44, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 38.51966834068298}
{"episode_reward_mean": 856.2358750562638, "timesteps_total": 7776624, "iterations_since_restore": 138, "timesteps_since_restore": 7776624, "episodes_this_iter": 31, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 475.5105622595724, "system_level_velocity_min": 12.212743976115542, "cost1_max": 468.8829021485459, "system_level_velocity_max": 18.753068684565452, "cost2_min": -55.328180222394245, "outflow_rate_max": 1389.2852496870216, "system_level_velocity_mean": 16.265430068958434, "cost1_mean": 407.1942364934511, "cost2_mean": -34.32652821573128, "outflow_rate_mean": 1272.7136723828114, "cost2_max": -15.539304173908969, "cost1_min": 24.58362947152154}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 138, "episode_reward_max": 945.8491390787893, "timestamp": 1558429256, "timesteps_this_iter": 49331, "episodes_total": 4164, "episode_reward_min": 56.390300451691495, "pid": 62178, "time_since_restore": 6028.799080610275, "date": "2019-05-21_09-00-56", "info": {"num_steps_trained": 7776624, "sample_time_ms": 26422.01, "load_time_ms": 4.736, "grad_time_ms": 12503.54, "update_time_ms": 8.388, "default": {"policy_loss": -0.00934858713299036, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5002992153167725, "total_loss": 45.085819244384766, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 45.08970260620117, "entropy": 1.4784047603607178, "kl": 0.010802610777318478}, "num_steps_sampled": 7776624}, "time_total_s": 6028.799080610275, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4d68>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8a20>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd45f8>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 677.44, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 38.100135803222656}
{"episode_reward_mean": 847.321465187676, "timesteps_total": 7825318, "iterations_since_restore": 139, "timesteps_since_restore": 7825318, "episodes_this_iter": 31, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 475.5105622595724, "system_level_velocity_min": 12.212743976115542, "cost1_max": 468.8695516904054, "system_level_velocity_max": 18.753068684565452, "cost2_min": -55.328180222394245, "outflow_rate_max": 1403.7401919990123, "system_level_velocity_mean": 16.024086158788567, "cost1_mean": 401.1167588654981, "cost2_mean": -34.61131900928297, "outflow_rate_mean": 1264.641902344195, "cost2_max": -15.539304173908969, "cost1_min": 24.58362947152154}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 139, "episode_reward_max": 945.6165559574769, "timestamp": 1558429296, "timesteps_this_iter": 48694, "episodes_total": 4195, "episode_reward_min": 56.390300451691495, "pid": 62178, "time_since_restore": 6068.426039218903, "date": "2019-05-21_09-01-36", "info": {"num_steps_trained": 7825318, "sample_time_ms": 26502.679, "load_time_ms": 4.724, "grad_time_ms": 12518.247, "update_time_ms": 8.567, "default": {"policy_loss": -0.011474328115582466, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5495209693908691, "total_loss": 41.73292541503906, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 41.73857498168945, "entropy": 1.4508579969406128, "kl": 0.011518430896103382}, "num_steps_sampled": 7825318}, "time_total_s": 6068.426039218903, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbac18>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbae48>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbaba8>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 677.44, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 39.62695860862732}
{"episode_reward_mean": 871.7141903368034, "timesteps_total": 7873249, "iterations_since_restore": 140, "timesteps_since_restore": 7873249, "episodes_this_iter": 31, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1019.3262695203708, "system_level_velocity_min": 12.212743976115542, "cost1_max": 472.134965252915, "system_level_velocity_max": 18.6110140683058, "cost2_min": -55.328180222394245, "outflow_rate_max": 1403.7401919990123, "system_level_velocity_mean": 16.102764774256684, "cost1_mean": 415.02725965081487, "cost2_mean": -34.182220147246646, "outflow_rate_mean": 1281.0421074847943, "cost2_max": -21.40961886683438, "cost1_min": 146.1013104052522}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 140, "episode_reward_max": 957.2724805358043, "timestamp": 1558429333, "timesteps_this_iter": 47931, "episodes_total": 4226, "episode_reward_min": 295.71775807363565, "pid": 62178, "time_since_restore": 6105.36338019371, "date": "2019-05-21_09-02-13", "info": {"num_steps_trained": 7873249, "sample_time_ms": 26532.219, "load_time_ms": 4.723, "grad_time_ms": 12419.754, "update_time_ms": 8.589, "default": {"policy_loss": -0.011056375689804554, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.445300817489624, "total_loss": 47.23817825317383, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 47.24365997314453, "entropy": 1.4299609661102295, "kl": 0.011001117527484894}, "num_steps_sampled": 7873249}, "time_total_s": 6105.36338019371, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8898>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8940>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8c50>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 695.15, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 36.93734097480774}
{"episode_reward_mean": 876.3873979391763, "timesteps_total": 7921974, "iterations_since_restore": 141, "timesteps_since_restore": 7921974, "episodes_this_iter": 32, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1019.3262695203708, "system_level_velocity_min": 12.509975666208488, "cost1_max": 472.134965252915, "system_level_velocity_max": 18.6110140683058, "cost2_min": -55.328180222394245, "outflow_rate_max": 1403.7401919990123, "system_level_velocity_mean": 16.195911279583736, "cost1_mean": 417.34304248090723, "cost2_mean": -34.201988300595424, "outflow_rate_mean": 1285.164263294856, "cost2_max": -21.40961886683438, "cost1_min": 146.1013104052522}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 141, "episode_reward_max": 957.2724805358043, "timestamp": 1558429372, "timesteps_this_iter": 48725, "episodes_total": 4258, "episode_reward_min": 295.71775807363565, "pid": 62178, "time_since_restore": 6143.862864494324, "date": "2019-05-21_09-02-52", "info": {"num_steps_trained": 7921974, "sample_time_ms": 26452.645, "load_time_ms": 4.77, "grad_time_ms": 12367.146, "update_time_ms": 8.468, "default": {"policy_loss": -0.010356277227401733, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.4779477119445801, "total_loss": 46.364742279052734, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 46.36942672729492, "entropy": 1.4479385614395142, "kl": 0.011191305704414845}, "num_steps_sampled": 7921974}, "time_total_s": 6143.862864494324, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4518>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4f98>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4710>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 695.15, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 38.4994843006134}
{"episode_reward_mean": 879.3314238767848, "timesteps_total": 7970935, "iterations_since_restore": 142, "timesteps_since_restore": 7970935, "episodes_this_iter": 33, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1019.3262695203708, "system_level_velocity_min": 13.1815892756759, "cost1_max": 472.134965252915, "system_level_velocity_max": 18.6110140683058, "cost2_min": -54.604471123349164, "outflow_rate_max": 1405.3574457292725, "system_level_velocity_mean": 16.442273202427653, "cost1_mean": 421.54632755604894, "cost2_mean": -33.97820181924473, "outflow_rate_mean": 1293.0210554459245, "cost2_max": -21.40961886683438, "cost1_min": 146.1013104052522}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 142, "episode_reward_max": 960.9658268645957, "timestamp": 1558429409, "timesteps_this_iter": 48961, "episodes_total": 4291, "episode_reward_min": 295.71775807363565, "pid": 62178, "time_since_restore": 6181.291433811188, "date": "2019-05-21_09-03-29", "info": {"num_steps_trained": 7970935, "sample_time_ms": 26305.042, "load_time_ms": 4.812, "grad_time_ms": 12415.512, "update_time_ms": 8.27, "default": {"policy_loss": -0.010404631495475769, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.48027369379997253, "total_loss": 46.11460494995117, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 46.119632720947266, "entropy": 1.4718345403671265, "kl": 0.010613958351314068}, "num_steps_sampled": 7970935}, "time_total_s": 6181.291433811188, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc81d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8240>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8400>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 691.77, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 37.428569316864014}
{"episode_reward_mean": 882.1039901450582, "timesteps_total": 8020001, "iterations_since_restore": 143, "timesteps_since_restore": 8020001, "episodes_this_iter": 31, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1080.5944437687692, "system_level_velocity_min": 13.227217916240388, "cost1_max": 473.25327980212774, "system_level_velocity_max": 18.581397475602763, "cost2_min": -54.604471123349164, "outflow_rate_max": 1413.4756017153582, "system_level_velocity_mean": 16.29185171798734, "cost1_mean": 421.0346345769927, "cost2_mean": -34.843088389296824, "outflow_rate_mean": 1291.7467549867629, "cost2_max": -22.804437681772832, "cost1_min": 211.7361128319747}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 143, "episode_reward_max": 960.9658268645957, "timestamp": 1558429447, "timesteps_this_iter": 49066, "episodes_total": 4322, "episode_reward_min": 466.85409516445736, "pid": 62178, "time_since_restore": 6218.963871479034, "date": "2019-05-21_09-04-07", "info": {"num_steps_trained": 8020001, "sample_time_ms": 25930.48, "load_time_ms": 4.829, "grad_time_ms": 12425.898, "update_time_ms": 8.205, "default": {"policy_loss": -0.01219676248729229, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5160657167434692, "total_loss": 44.74235916137695, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 44.74850082397461, "entropy": 1.4609854221343994, "kl": 0.011965876445174217}, "num_steps_sampled": 8020001}, "time_total_s": 6218.963871479034, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbceb8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc080>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc0f0>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 696.62, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 37.67243766784668}
{"episode_reward_mean": 881.9307108628082, "timesteps_total": 8069969, "iterations_since_restore": 144, "timesteps_since_restore": 8069969, "episodes_this_iter": 31, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1080.5944437687692, "system_level_velocity_min": 12.817245842643128, "cost1_max": 473.25327980212774, "system_level_velocity_max": 18.581397475602763, "cost2_min": -60.567439660030075, "outflow_rate_max": 1426.8812120264886, "system_level_velocity_mean": 16.244912731286227, "cost1_mean": 419.82775757472876, "cost2_mean": -36.05912096965199, "outflow_rate_mean": 1294.544198215575, "cost2_max": -24.01150187548737, "cost1_min": 211.7361128319747}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 144, "episode_reward_max": 969.2414924718861, "timestamp": 1558429486, "timesteps_this_iter": 49968, "episodes_total": 4353, "episode_reward_min": 466.85409516445736, "pid": 62178, "time_since_restore": 6258.175506353378, "date": "2019-05-21_09-04-46", "info": {"num_steps_trained": 8069969, "sample_time_ms": 25752.976, "load_time_ms": 4.845, "grad_time_ms": 12620.836, "update_time_ms": 8.178, "default": {"policy_loss": -0.010619116947054863, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5712949633598328, "total_loss": 42.058963775634766, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 42.06354522705078, "entropy": 1.4651902914047241, "kl": 0.011928617022931576}, "num_steps_sampled": 8069969}, "time_total_s": 6258.175506353378, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8860>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8ac8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8978>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 696.62, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 39.21163487434387}
{"episode_reward_mean": 891.4743790768745, "timesteps_total": 8119638, "iterations_since_restore": 145, "timesteps_since_restore": 8119638, "episodes_this_iter": 31, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1080.5944437687692, "system_level_velocity_min": 12.817245842643128, "cost1_max": 473.8122828798822, "system_level_velocity_max": 18.647541657173306, "cost2_min": -60.567439660030075, "outflow_rate_max": 1426.8812120264886, "system_level_velocity_mean": 16.292837577935735, "cost1_mean": 422.6165763189965, "cost2_mean": -36.61771383106339, "outflow_rate_mean": 1306.4445085635136, "cost2_max": -24.01150187548737, "cost1_min": 332.435990055749}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 145, "episode_reward_max": 969.2414924718861, "timestamp": 1558429525, "timesteps_this_iter": 49669, "episodes_total": 4384, "episode_reward_min": 740.0669184478471, "pid": 62178, "time_since_restore": 6297.277432441711, "date": "2019-05-21_09-05-25", "info": {"num_steps_trained": 8119638, "sample_time_ms": 25616.013, "load_time_ms": 4.966, "grad_time_ms": 12716.671, "update_time_ms": 8.369, "default": {"policy_loss": -0.010670505464076996, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5482165217399597, "total_loss": 44.01079177856445, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 44.015560150146484, "entropy": 1.4455736875534058, "kl": 0.011669347062706947}, "num_steps_sampled": 8119638}, "time_total_s": 6297.277432441711, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00dcf8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00db00>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00d320>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 39.10192608833313}
{"episode_reward_mean": 891.194276010602, "timesteps_total": 8169295, "iterations_since_restore": 146, "timesteps_since_restore": 8169295, "episodes_this_iter": 31, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1093.9157461048642, "system_level_velocity_min": 12.817245842643128, "cost1_max": 473.8122828798822, "system_level_velocity_max": 18.647541657173306, "cost2_min": -60.567439660030075, "outflow_rate_max": 1431.1073026013103, "system_level_velocity_mean": 16.275746562809758, "cost1_mean": 420.7510750022997, "cost2_mean": -37.60226688226441, "outflow_rate_mean": 1313.0715319754513, "cost2_max": -26.79552370108045, "cost1_min": 278.7893384817411}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 146, "episode_reward_max": 969.2414924718861, "timestamp": 1558429564, "timesteps_this_iter": 49657, "episodes_total": 4415, "episode_reward_min": 599.6402277755396, "pid": 62178, "time_since_restore": 6336.384692192078, "date": "2019-05-21_09-06-04", "info": {"num_steps_trained": 8169295, "sample_time_ms": 25644.615, "load_time_ms": 5.025, "grad_time_ms": 12665.649, "update_time_ms": 8.281, "default": {"policy_loss": -0.011459155939519405, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5640358328819275, "total_loss": 42.085323333740234, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 42.090885162353516, "entropy": 1.4542444944381714, "kl": 0.011640198528766632}, "num_steps_sampled": 8169295}, "time_total_s": 6336.384692192078, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbabe0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8a20>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbac18>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 697.85, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 39.10725975036621}
{"episode_reward_mean": 896.9963482882781, "timesteps_total": 8219567, "iterations_since_restore": 147, "timesteps_since_restore": 8219567, "episodes_this_iter": 29, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1120.3615461703653, "system_level_velocity_min": 12.848015468968203, "cost1_max": 473.8122828798822, "system_level_velocity_max": 18.647541657173306, "cost2_min": -60.0873086011767, "outflow_rate_max": 1431.1073026013103, "system_level_velocity_mean": 16.332589753800402, "cost1_mean": 421.99388930618784, "cost2_mean": -37.49157199988551, "outflow_rate_mean": 1321.5998170417902, "cost2_max": -26.79552370108045, "cost1_min": 278.7893384817411}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 147, "episode_reward_max": 967.3821337626769, "timestamp": 1558429606, "timesteps_this_iter": 50272, "episodes_total": 4444, "episode_reward_min": 599.6402277755396, "pid": 62178, "time_since_restore": 6377.796224355698, "date": "2019-05-21_09-06-46", "info": {"num_steps_trained": 8219567, "sample_time_ms": 26049.168, "load_time_ms": 4.968, "grad_time_ms": 12554.588, "update_time_ms": 8.272, "default": {"policy_loss": -0.011418459005653858, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5647954940795898, "total_loss": 41.66144943237305, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 41.66656494140625, "entropy": 1.4602411985397339, "kl": 0.012456877157092094}, "num_steps_sampled": 8219567}, "time_total_s": 6377.796224355698, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00d320>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00d668>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00d208>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 697.42, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 41.411532163619995}
{"episode_reward_mean": 886.3279432786604, "timesteps_total": 8269557, "iterations_since_restore": 148, "timesteps_since_restore": 8269557, "episodes_this_iter": 32, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1110.253405330468, "system_level_velocity_min": 11.699817307416833, "cost1_max": 475.3851844873084, "system_level_velocity_max": 18.943960575719007, "cost2_min": -66.8459038611248, "outflow_rate_max": 1445.8322874329797, "system_level_velocity_mean": 16.354587780641314, "cost1_mean": 417.478790570374, "cost2_mean": -37.51130623565992, "outflow_rate_mean": 1314.9219536897385, "cost2_max": -23.76418539031784, "cost1_min": 202.0907388743238}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 148, "episode_reward_max": 963.7697268834539, "timestamp": 1558429648, "timesteps_this_iter": 49990, "episodes_total": 4476, "episode_reward_min": 403.60430909798947, "pid": 62178, "time_since_restore": 6420.064614057541, "date": "2019-05-21_09-07-28", "info": {"num_steps_trained": 8269557, "sample_time_ms": 26534.893, "load_time_ms": 5.03, "grad_time_ms": 12485.272, "update_time_ms": 8.101, "default": {"policy_loss": -0.010486357845366001, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5950999855995178, "total_loss": 41.600791931152344, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 41.60564422607422, "entropy": 1.4657049179077148, "kl": 0.011126009747385979}, "num_steps_sampled": 8269557}, "time_total_s": 6420.064614057541, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc16a0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc1f98>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc1358>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 690.26, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 42.26838970184326}
{"episode_reward_mean": 877.1130005968166, "timesteps_total": 8319802, "iterations_since_restore": 149, "timesteps_since_restore": 8319802, "episodes_this_iter": 34, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 474.3699846082663, "system_level_velocity_min": 11.699817307416833, "cost1_max": 475.3851844873084, "system_level_velocity_max": 18.943960575719007, "cost2_min": -66.8459038611248, "outflow_rate_max": 1445.8322874329797, "system_level_velocity_mean": 16.327693280608145, "cost1_mean": 414.12811312888675, "cost2_mean": -36.78920490003344, "outflow_rate_mean": 1300.6901547720424, "cost2_max": -10.041664957272987, "cost1_min": 17.68874555423853}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 149, "episode_reward_max": 960.7490017087242, "timestamp": 1558429687, "timesteps_this_iter": 50245, "episodes_total": 4510, "episode_reward_min": 42.466869184160984, "pid": 62178, "time_since_restore": 6459.170065641403, "date": "2019-05-21_09-08-07", "info": {"num_steps_trained": 8319802, "sample_time_ms": 26588.33, "load_time_ms": 5.022, "grad_time_ms": 12379.201, "update_time_ms": 7.991, "default": {"policy_loss": -0.010800366289913654, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5546078085899353, "total_loss": 48.455902099609375, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 48.46088790893555, "entropy": 1.4825379848480225, "kl": 0.011489118449389935}, "num_steps_sampled": 8319802}, "time_total_s": 6459.170065641403, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbca20>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbcb70>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbcd30>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 685.68, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 39.105451583862305}
{"episode_reward_mean": 868.7440748666812, "timesteps_total": 8370751, "iterations_since_restore": 150, "timesteps_since_restore": 8370751, "episodes_this_iter": 31, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 474.3699846082663, "system_level_velocity_min": 11.699817307416833, "cost1_max": 475.3851844873084, "system_level_velocity_max": 18.943960575719007, "cost2_min": -66.8459038611248, "outflow_rate_max": 1445.8322874329797, "system_level_velocity_mean": 16.261719887771214, "cost1_mean": 409.71211067338095, "cost2_mean": -36.45983271220155, "outflow_rate_mean": 1293.3276948968178, "cost2_max": -10.041664957272987, "cost1_min": 17.68874555423853}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 150, "episode_reward_max": 971.5620548837804, "timestamp": 1558429726, "timesteps_this_iter": 50949, "episodes_total": 4541, "episode_reward_min": 42.466869184160984, "pid": 62178, "time_since_restore": 6498.2029395103455, "date": "2019-05-21_09-08-46", "info": {"num_steps_trained": 8370751, "sample_time_ms": 26618.186, "load_time_ms": 5.146, "grad_time_ms": 12556.874, "update_time_ms": 8.007, "default": {"policy_loss": -0.010847117751836777, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.6244279742240906, "total_loss": 39.525115966796875, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 39.530067443847656, "entropy": 1.499528169631958, "kl": 0.011637629009783268}, "num_steps_sampled": 8370751}, "time_total_s": 6498.2029395103455, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfaf240>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8a90>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc72e8>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 681.28, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 39.03287386894226}
{"episode_reward_mean": 875.9888921811512, "timesteps_total": 8421912, "iterations_since_restore": 151, "timesteps_since_restore": 8421912, "episodes_this_iter": 32, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 474.3699846082663, "system_level_velocity_min": 12.266777293347698, "cost1_max": 473.3458469333156, "system_level_velocity_max": 18.91451069181145, "cost2_min": -52.8230069210661, "outflow_rate_max": 1439.6291859020293, "system_level_velocity_mean": 16.104805194604634, "cost1_mean": 411.0617102380628, "cost2_mean": -36.730653559879336, "outflow_rate_mean": 1291.1233676634174, "cost2_max": -10.041664957272987, "cost1_min": 17.68874555423853}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 151, "episode_reward_max": 976.801555583935, "timestamp": 1558429766, "timesteps_this_iter": 51161, "episodes_total": 4573, "episode_reward_min": 42.466869184160984, "pid": 62178, "time_since_restore": 6537.850373506546, "date": "2019-05-21_09-09-26", "info": {"num_steps_trained": 8421912, "sample_time_ms": 26597.866, "load_time_ms": 5.183, "grad_time_ms": 12690.085, "update_time_ms": 8.022, "default": {"policy_loss": -0.011352546513080597, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5738739371299744, "total_loss": 44.35178756713867, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 44.357364654541016, "entropy": 1.5192745923995972, "kl": 0.011412709020078182}, "num_steps_sampled": 8421912}, "time_total_s": 6537.850373506546, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8ac8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfafe80>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8240>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 688.44, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 39.64743399620056}
{"episode_reward_mean": 880.2105741261416, "timesteps_total": 8471774, "iterations_since_restore": 152, "timesteps_since_restore": 8471774, "episodes_this_iter": 33, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1045.679187160947, "system_level_velocity_min": 12.43974921823645, "cost1_max": 473.3458469333156, "system_level_velocity_max": 18.91451069181145, "cost2_min": -52.8230069210661, "outflow_rate_max": 1439.6291859020293, "system_level_velocity_mean": 15.957723342081351, "cost1_mean": 411.13252532979465, "cost2_mean": -37.53202452744107, "outflow_rate_mean": 1296.142919000814, "cost2_max": -24.292161735610744, "cost1_min": 148.81641927393267}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 152, "episode_reward_max": 976.801555583935, "timestamp": 1558429804, "timesteps_this_iter": 49862, "episodes_total": 4606, "episode_reward_min": 299.96416860344647, "pid": 62178, "time_since_restore": 6575.930780887604, "date": "2019-05-21_09-10-04", "info": {"num_steps_trained": 8471774, "sample_time_ms": 26551.723, "load_time_ms": 5.146, "grad_time_ms": 12801.068, "update_time_ms": 8.006, "default": {"policy_loss": -0.01051117293536663, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5433682203292847, "total_loss": 43.79430389404297, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 43.7990837097168, "entropy": 1.499060034751892, "kl": 0.011314565315842628}, "num_steps_sampled": 8471774}, "time_total_s": 6575.930780887604, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc71d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc76d8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc7390>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 693.59, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 38.08040738105774}
{"episode_reward_mean": 870.724183052087, "timesteps_total": 8521246, "iterations_since_restore": 153, "timesteps_since_restore": 8521246, "episodes_this_iter": 33, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1023.6719356616394, "system_level_velocity_min": 12.43974921823645, "cost1_max": 473.3458469333156, "system_level_velocity_max": 18.788895998340582, "cost2_min": -52.8230069210661, "outflow_rate_max": 1450.8369263301483, "system_level_velocity_mean": 15.88565468816624, "cost1_mean": 406.7144091448159, "cost2_mean": -37.755263280539516, "outflow_rate_mean": 1287.3221715570783, "cost2_max": -24.15648761519367, "cost1_min": 142.544269381314}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 153, "episode_reward_max": 976.801555583935, "timestamp": 1558429841, "timesteps_this_iter": 49472, "episodes_total": 4639, "episode_reward_min": 295.6067914010913, "pid": 62178, "time_since_restore": 6612.915194034576, "date": "2019-05-21_09-10-41", "info": {"num_steps_trained": 8521246, "sample_time_ms": 26477.092, "load_time_ms": 5.121, "grad_time_ms": 12808.622, "update_time_ms": 7.978, "default": {"policy_loss": -0.011019392870366573, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.4954081177711487, "total_loss": 45.186527252197266, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 45.19135665893555, "entropy": 1.5095670223236084, "kl": 0.012233458459377289}, "num_steps_sampled": 8521246}, "time_total_s": 6612.915194034576, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c022320>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8b70>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc2e8>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 689.46, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 36.984413146972656}
{"episode_reward_mean": 858.9777037508976, "timesteps_total": 8571511, "iterations_since_restore": 154, "timesteps_since_restore": 8571511, "episodes_this_iter": 31, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 485.8782326247146, "system_level_velocity_min": 12.785266529200378, "cost1_max": 472.76160279640845, "system_level_velocity_max": 18.788895998340582, "cost2_min": -51.77038449426091, "outflow_rate_max": 1450.8369263301483, "system_level_velocity_mean": 15.986224519773788, "cost1_mean": 403.7937850270922, "cost2_mean": -36.867238508386635, "outflow_rate_mean": 1276.4170667764595, "cost2_max": -13.817197089180482, "cost1_min": 24.38615384814168}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 154, "episode_reward_max": 976.2235987474318, "timestamp": 1558429879, "timesteps_this_iter": 50265, "episodes_total": 4670, "episode_reward_min": 56.11568317680375, "pid": 62178, "time_since_restore": 6650.744432449341, "date": "2019-05-21_09-11-19", "info": {"num_steps_trained": 8571511, "sample_time_ms": 26398.247, "load_time_ms": 5.108, "grad_time_ms": 12749.033, "update_time_ms": 8.344, "default": {"policy_loss": -0.010881248861551285, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5029917359352112, "total_loss": 43.59495162963867, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 43.60004425048828, "entropy": 1.5244967937469482, "kl": 0.011443035677075386}, "num_steps_sampled": 8571511}, "time_total_s": 6650.744432449341, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbca58>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc0b8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbce48>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 681.58, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 37.829238414764404}
{"episode_reward_mean": 843.7990988267238, "timesteps_total": 8622438, "iterations_since_restore": 155, "timesteps_since_restore": 8622438, "episodes_this_iter": 32, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 471.084583467557, "system_level_velocity_min": 12.064806153580472, "cost1_max": 472.76160279640845, "system_level_velocity_max": 18.788895998340582, "cost2_min": -58.84753357380934, "outflow_rate_max": 1450.8369263301483, "system_level_velocity_mean": 15.97198153834318, "cost1_mean": 395.50263720249205, "cost2_mean": -36.344972390393814, "outflow_rate_mean": 1259.499970871628, "cost2_max": -11.984114607456538, "cost1_min": 18.018879087418366}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 155, "episode_reward_max": 976.2235987474318, "timestamp": 1558429919, "timesteps_this_iter": 50927, "episodes_total": 4702, "episode_reward_min": 41.101432243779115, "pid": 62178, "time_since_restore": 6690.727930307388, "date": "2019-05-21_09-11-59", "info": {"num_steps_trained": 8622438, "sample_time_ms": 26620.477, "load_time_ms": 5.036, "grad_time_ms": 12614.736, "update_time_ms": 8.182, "default": {"policy_loss": -0.0093327471986413, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.47108325362205505, "total_loss": 43.98972702026367, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 43.99280548095703, "entropy": 1.5412858724594116, "kl": 0.012342402711510658}, "num_steps_sampled": 8622438}, "time_total_s": 6690.727930307388, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00d828>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00d208>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00d4e0>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 669.78, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 39.983497858047485}
{"episode_reward_mean": 845.0762471086621, "timesteps_total": 8673207, "iterations_since_restore": 156, "timesteps_since_restore": 8673207, "episodes_this_iter": 29, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 471.084583467557, "system_level_velocity_min": 12.064806153580472, "cost1_max": 471.437857095279, "system_level_velocity_max": 18.71825433276109, "cost2_min": -58.84753357380934, "outflow_rate_max": 1431.5850617466856, "system_level_velocity_mean": 15.865418760445309, "cost1_mean": 396.2896404875296, "cost2_mean": -36.37364910107529, "outflow_rate_mean": 1254.4965490525892, "cost2_max": -11.984114607456538, "cost1_min": 18.018879087418366}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 156, "episode_reward_max": 974.1319441505805, "timestamp": 1558429958, "timesteps_this_iter": 50769, "episodes_total": 4731, "episode_reward_min": 41.101432243779115, "pid": 62178, "time_since_restore": 6729.386640071869, "date": "2019-05-21_09-12-38", "info": {"num_steps_trained": 8673207, "sample_time_ms": 26686.275, "load_time_ms": 4.971, "grad_time_ms": 12502.962, "update_time_ms": 8.429, "default": {"policy_loss": -0.011952152475714684, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5653489232063293, "total_loss": 37.080955505371094, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 37.08698654174805, "entropy": 1.5285778045654297, "kl": 0.011692685075104237}, "num_steps_sampled": 8673207}, "time_total_s": 6729.386640071869, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbaba8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfba8d0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfba518>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 674.71, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 38.65870976448059}
{"episode_reward_mean": 855.9439792955667, "timesteps_total": 8723965, "iterations_since_restore": 157, "timesteps_since_restore": 8723965, "episodes_this_iter": 33, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 471.084583467557, "system_level_velocity_min": 12.064806153580472, "cost1_max": 476.2610387817325, "system_level_velocity_max": 18.393352109212245, "cost2_min": -58.84753357380934, "outflow_rate_max": 1464.0209304029302, "system_level_velocity_mean": 15.67074021854076, "cost1_mean": 399.63138033164125, "cost2_mean": -37.00483266286173, "outflow_rate_mean": 1259.8233964014562, "cost2_max": -11.984114607456538, "cost1_min": 18.018879087418366}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 157, "episode_reward_max": 994.2673305504974, "timestamp": 1558429998, "timesteps_this_iter": 50758, "episodes_total": 4764, "episode_reward_min": 41.101432243779115, "pid": 62178, "time_since_restore": 6769.440273284912, "date": "2019-05-21_09-13-18", "info": {"num_steps_trained": 8723965, "sample_time_ms": 26657.352, "load_time_ms": 4.823, "grad_time_ms": 12396.456, "update_time_ms": 8.286, "default": {"policy_loss": -0.013133194297552109, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5006111264228821, "total_loss": 43.60245132446289, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 43.609336853027344, "entropy": 1.5513553619384766, "kl": 0.012333669699728489}, "num_steps_sampled": 8723965}, "time_total_s": 6769.440273284912, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc0f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc198>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbcef0>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 686.62, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 40.05363321304321}
{"episode_reward_mean": 866.7813712913567, "timesteps_total": 8774301, "iterations_since_restore": 158, "timesteps_since_restore": 8774301, "episodes_this_iter": 31, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1045.5671376561002, "system_level_velocity_min": 12.140533675142075, "cost1_max": 476.2610387817325, "system_level_velocity_max": 18.525595782812346, "cost2_min": -58.53191153156996, "outflow_rate_max": 1464.0209304029302, "system_level_velocity_mean": 15.633852792580724, "cost1_mean": 404.50453708337693, "cost2_mean": -37.18708726748634, "outflow_rate_mean": 1272.26594625761, "cost2_max": -23.87530652680859, "cost1_min": 147.3815932181034}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 158, "episode_reward_max": 994.2673305504974, "timestamp": 1558430038, "timesteps_this_iter": 50336, "episodes_total": 4795, "episode_reward_min": 309.33984632498596, "pid": 62178, "time_since_restore": 6809.341867208481, "date": "2019-05-21_09-13-58", "info": {"num_steps_trained": 8774301, "sample_time_ms": 26560.741, "load_time_ms": 4.726, "grad_time_ms": 12257.258, "update_time_ms": 8.167, "default": {"policy_loss": -0.011654084548354149, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5218824148178101, "total_loss": 40.39809036254883, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 40.4038200378418, "entropy": 1.5282326936721802, "kl": 0.011704083532094955}, "num_steps_sampled": 8774301}, "time_total_s": 6809.341867208481, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8128>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8630>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc80f0>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 695.17, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 39.901593923568726}
{"episode_reward_mean": 868.4831846462152, "timesteps_total": 8825115, "iterations_since_restore": 159, "timesteps_since_restore": 8825115, "episodes_this_iter": 29, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1045.5671376561002, "system_level_velocity_min": 12.438795796407337, "cost1_max": 476.2610387817325, "system_level_velocity_max": 18.525595782812346, "cost2_min": -58.53191153156996, "outflow_rate_max": 1464.0209304029302, "system_level_velocity_mean": 15.755904571070847, "cost1_mean": 407.3139009219877, "cost2_mean": -36.92293211819556, "outflow_rate_mean": 1273.6777839280724, "cost2_max": -23.87530652680859, "cost1_min": 147.3815932181034}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 159, "episode_reward_max": 994.2673305504974, "timestamp": 1558430077, "timesteps_this_iter": 50814, "episodes_total": 4824, "episode_reward_min": 309.33984632498596, "pid": 62178, "time_since_restore": 6848.606087684631, "date": "2019-05-21_09-14-37", "info": {"num_steps_trained": 8825115, "sample_time_ms": 26571.179, "load_time_ms": 4.795, "grad_time_ms": 12263.155, "update_time_ms": 7.943, "default": {"policy_loss": -0.010222229175269604, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5378958582878113, "total_loss": 38.992740631103516, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 38.997066497802734, "entropy": 1.5414166450500488, "kl": 0.011644604615867138}, "num_steps_sampled": 8825115}, "time_total_s": 6848.606087684631, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c031240>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0312b0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c031400>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 695.17, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 39.26422047615051}
{"episode_reward_mean": 861.5661616632153, "timesteps_total": 8873735, "iterations_since_restore": 160, "timesteps_since_restore": 8873735, "episodes_this_iter": 34, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1028.512145710578, "system_level_velocity_min": 12.190660247792158, "cost1_max": 474.4976935693057, "system_level_velocity_max": 18.75022564142602, "cost2_min": -56.00120676214835, "outflow_rate_max": 1437.5442145987804, "system_level_velocity_mean": 15.85142456047703, "cost1_mean": 405.98816766229305, "cost2_mean": -35.98748272891694, "outflow_rate_mean": 1268.550546031926, "cost2_max": -23.36608241989466, "cost1_min": 144.97578392074638}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 160, "episode_reward_max": 981.3102179688062, "timestamp": 1558430116, "timesteps_this_iter": 48620, "episodes_total": 4858, "episode_reward_min": 299.8357009718805, "pid": 62178, "time_since_restore": 6887.094936847687, "date": "2019-05-21_09-15-16", "info": {"num_steps_trained": 8873735, "sample_time_ms": 26689.445, "load_time_ms": 4.685, "grad_time_ms": 12093.346, "update_time_ms": 7.867, "default": {"policy_loss": -0.010944165289402008, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.4834769368171692, "total_loss": 43.802791595458984, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 43.80812072753906, "entropy": 1.4745832681655884, "kl": 0.011095975525677204}, "num_steps_sampled": 8873735}, "time_total_s": 6887.094936847687, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfba978>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfba828>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbae48>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 690.29, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 38.48884916305542}
{"episode_reward_mean": 871.1084540613357, "timesteps_total": 8924013, "iterations_since_restore": 161, "timesteps_since_restore": 8924013, "episodes_this_iter": 33, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1028.512145710578, "system_level_velocity_min": 12.190660247792158, "cost1_max": 474.4976935693057, "system_level_velocity_max": 18.75022564142602, "cost2_min": -51.83066757827168, "outflow_rate_max": 1448.3555757879874, "system_level_velocity_mean": 16.026830718790993, "cost1_mean": 413.58009334169896, "cost2_mean": -35.749874743047066, "outflow_rate_mean": 1275.0683688995173, "cost2_max": -23.20645965108814, "cost1_min": 144.97578392074638}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 161, "episode_reward_max": 987.4751468103392, "timestamp": 1558430155, "timesteps_this_iter": 50278, "episodes_total": 4891, "episode_reward_min": 299.8357009718805, "pid": 62178, "time_since_restore": 6926.355943202972, "date": "2019-05-21_09-15-55", "info": {"num_steps_trained": 8924013, "sample_time_ms": 26525.005, "load_time_ms": 4.772, "grad_time_ms": 12218.406, "update_time_ms": 7.874, "default": {"policy_loss": -0.010945625603199005, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5701338648796082, "total_loss": 41.987449645996094, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 41.99090576171875, "entropy": 1.5024675130844116, "kl": 0.014791560359299183}, "num_steps_sampled": 8924013}, "time_total_s": 6926.355943202972, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8358>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff00f0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8ac8>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 695.12, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 39.261006355285645}
{"episode_reward_mean": 860.2283343034603, "timesteps_total": 8974239, "iterations_since_restore": 162, "timesteps_since_restore": 8974239, "episodes_this_iter": 32, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 511.17688865063195, "system_level_velocity_min": 12.190660247792158, "cost1_max": 474.4976935693057, "system_level_velocity_max": 18.75022564142602, "cost2_min": -59.751552163223764, "outflow_rate_max": 1448.3555757879874, "system_level_velocity_mean": 15.97014495961476, "cost1_mean": 407.4166768849684, "cost2_mean": -36.76953227487896, "outflow_rate_mean": 1266.4073274579093, "cost2_max": -14.746100312318227, "cost1_min": 22.94837954526644}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 162, "episode_reward_max": 987.4751468103392, "timestamp": 1558430193, "timesteps_this_iter": 50226, "episodes_total": 4923, "episode_reward_min": 48.53988759345688, "pid": 62178, "time_since_restore": 6963.957366704941, "date": "2019-05-21_09-16-33", "info": {"num_steps_trained": 8974239, "sample_time_ms": 26367.759, "load_time_ms": 4.535, "grad_time_ms": 12326.639, "update_time_ms": 7.98, "default": {"policy_loss": -0.010774583555758, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5254705548286438, "total_loss": 43.78872299194336, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 43.79325866699219, "entropy": 1.5026524066925049, "kl": 0.012320061214268208}, "num_steps_sampled": 8974239}, "time_total_s": 6963.957366704941, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4160>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4a90>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4c88>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 688.47, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 37.601423501968384}
{"episode_reward_mean": 863.2137422802057, "timesteps_total": 9023442, "iterations_since_restore": 163, "timesteps_since_restore": 9023442, "episodes_this_iter": 32, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 511.17688865063195, "system_level_velocity_min": 12.542070339933721, "cost1_max": 475.6280085877788, "system_level_velocity_max": 18.75022564142602, "cost2_min": -60.62393417133768, "outflow_rate_max": 1448.3555757879874, "system_level_velocity_mean": 16.1667793980302, "cost1_mean": 409.8549898382285, "cost2_mean": -36.22385533442954, "outflow_rate_mean": 1274.5240776163712, "cost2_max": -14.746100312318227, "cost1_min": 22.94837954526644}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 163, "episode_reward_max": 987.4751468103392, "timestamp": 1558430231, "timesteps_this_iter": 49203, "episodes_total": 4955, "episode_reward_min": 48.53988759345688, "pid": 62178, "time_since_restore": 7002.1427693367, "date": "2019-05-21_09-17-11", "info": {"num_steps_trained": 9023442, "sample_time_ms": 26408.879, "load_time_ms": 4.593, "grad_time_ms": 12402.537, "update_time_ms": 8.431, "default": {"policy_loss": -0.011149915866553783, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5118443369865417, "total_loss": 40.943058013916016, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 40.9482536315918, "entropy": 1.4875255823135376, "kl": 0.011767623014748096}, "num_steps_sampled": 9023442}, "time_total_s": 7002.1427693367, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc5c0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbcfd0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc748>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 684.54, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 38.185402631759644}
{"episode_reward_mean": 862.3796614239247, "timesteps_total": 9072850, "iterations_since_restore": 164, "timesteps_since_restore": 9072850, "episodes_this_iter": 30, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 511.17688865063195, "system_level_velocity_min": 12.124767557703027, "cost1_max": 475.6280085877788, "system_level_velocity_max": 18.523520452652424, "cost2_min": -61.28264726062733, "outflow_rate_max": 1443.5182524287304, "system_level_velocity_mean": 16.03904998930117, "cost1_mean": 407.05273103750716, "cost2_mean": -36.528859283224534, "outflow_rate_mean": 1273.7280135113797, "cost2_max": -14.746100312318227, "cost1_min": 22.94837954526644}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 164, "episode_reward_max": 986.6080943084802, "timestamp": 1558430270, "timesteps_this_iter": 49408, "episodes_total": 4985, "episode_reward_min": 48.53988759345688, "pid": 62178, "time_since_restore": 7041.111688137054, "date": "2019-05-21_09-17-50", "info": {"num_steps_trained": 9072850, "sample_time_ms": 26411.097, "load_time_ms": 4.655, "grad_time_ms": 12514.11, "update_time_ms": 8.391, "default": {"policy_loss": -0.012815925292670727, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.524293065071106, "total_loss": 38.136619567871094, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 38.14346694946289, "entropy": 1.4960945844650269, "kl": 0.011788387782871723}, "num_steps_sampled": 9072850}, "time_total_s": 7041.111688137054, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc87b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8e10>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc80f0>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 685.15, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 38.968918800354004}
{"episode_reward_mean": 879.6655933189962, "timesteps_total": 9121657, "iterations_since_restore": 165, "timesteps_since_restore": 9121657, "episodes_this_iter": 31, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 997.225162723322, "system_level_velocity_min": 12.124767557703027, "cost1_max": 475.6280085877788, "system_level_velocity_max": 18.515930902026557, "cost2_min": -62.009529450095584, "outflow_rate_max": 1443.5182524287304, "system_level_velocity_mean": 16.278845612334084, "cost1_mean": 417.51565483996586, "cost2_mean": -35.334688939966256, "outflow_rate_mean": 1292.9213686785718, "cost2_max": -23.45637930630881, "cost1_min": 179.62722778279993}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 165, "episode_reward_max": 986.6080943084802, "timestamp": 1558430310, "timesteps_this_iter": 48807, "episodes_total": 5016, "episode_reward_min": 384.52929946126335, "pid": 62178, "time_since_restore": 7080.603890657425, "date": "2019-05-21_09-18-30", "info": {"num_steps_trained": 9121657, "sample_time_ms": 26318.956, "load_time_ms": 4.722, "grad_time_ms": 12557.45, "update_time_ms": 8.547, "default": {"policy_loss": -0.012010469101369381, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5290824770927429, "total_loss": 38.16367721557617, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 38.16990661621094, "entropy": 1.4702880382537842, "kl": 0.011422215960919857}, "num_steps_sampled": 9121657}, "time_total_s": 7080.603890657425, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd42b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4e48>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4518>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 691.8, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 39.49220252037048}
{"episode_reward_mean": 884.064681369872, "timesteps_total": 9170722, "iterations_since_restore": 166, "timesteps_since_restore": 9170722, "episodes_this_iter": 31, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 997.225162723322, "system_level_velocity_min": 12.124767557703027, "cost1_max": 475.6280085877788, "system_level_velocity_max": 18.515930902026557, "cost2_min": -62.009529450095584, "outflow_rate_max": 1443.5182524287304, "system_level_velocity_mean": 16.241035813899718, "cost1_mean": 419.0189639951082, "cost2_mean": -35.51295486613465, "outflow_rate_mean": 1290.9079428128562, "cost2_max": -23.45637930630881, "cost1_min": 206.308004407125}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 166, "episode_reward_max": 986.6080943084802, "timestamp": 1558430349, "timesteps_this_iter": 49065, "episodes_total": 5047, "episode_reward_min": 422.9835362824489, "pid": 62178, "time_since_restore": 7120.125570058823, "date": "2019-05-21_09-19-09", "info": {"num_steps_trained": 9170722, "sample_time_ms": 26288.249, "load_time_ms": 4.83, "grad_time_ms": 12675.065, "update_time_ms": 8.367, "default": {"policy_loss": -0.011991875246167183, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5352513790130615, "total_loss": 40.99031448364258, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 40.9962272644043, "entropy": 1.5015699863433838, "kl": 0.012004128657281399}, "num_steps_sampled": 9170722}, "time_total_s": 7120.125570058823, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc9e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbcb70>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc828>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 695.73, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 39.521679401397705}
{"episode_reward_mean": 883.5965858481139, "timesteps_total": 9218850, "iterations_since_restore": 167, "timesteps_since_restore": 9218850, "episodes_this_iter": 31, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 997.225162723322, "system_level_velocity_min": 12.124767557703027, "cost1_max": 474.4881368101519, "system_level_velocity_max": 18.484323450778728, "cost2_min": -62.009529450095584, "outflow_rate_max": 1443.5182524287304, "system_level_velocity_mean": 16.33836672084128, "cost1_mean": 421.2263699773659, "cost2_mean": -35.28123232654908, "outflow_rate_mean": 1291.1238628986923, "cost2_max": -23.45637930630881, "cost1_min": 206.308004407125}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 167, "episode_reward_max": 986.6080943084802, "timestamp": 1558430386, "timesteps_this_iter": 48128, "episodes_total": 5078, "episode_reward_min": 422.9835362824489, "pid": 62178, "time_since_restore": 7157.3311195373535, "date": "2019-05-21_09-19-46", "info": {"num_steps_trained": 9218850, "sample_time_ms": 25987.737, "load_time_ms": 4.985, "grad_time_ms": 12689.324, "update_time_ms": 8.359, "default": {"policy_loss": -0.012773286551237106, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.4995308220386505, "total_loss": 41.88505172729492, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 41.89155960083008, "entropy": 1.480702519416809, "kl": 0.01236867904663086}, "num_steps_sampled": 9218850}, "time_total_s": 7157.3311195373535, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc87b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8978>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8780>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 695.42, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 37.205549478530884}
{"episode_reward_mean": 889.3060890499472, "timesteps_total": 9267681, "iterations_since_restore": 168, "timesteps_since_restore": 9267681, "episodes_this_iter": 30, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 997.225162723322, "system_level_velocity_min": 12.292594162765786, "cost1_max": 473.8427683505274, "system_level_velocity_max": 18.40763220627462, "cost2_min": -55.52713536455001, "outflow_rate_max": 1431.343302584665, "system_level_velocity_mean": 16.3470453918402, "cost1_mean": 424.46436648281485, "cost2_mean": -34.938637935135986, "outflow_rate_mean": 1293.1557180527336, "cost2_max": -23.705783515010683, "cost1_min": 323.1488582097935}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 168, "episode_reward_max": 987.6865090686487, "timestamp": 1558430425, "timesteps_this_iter": 48831, "episodes_total": 5108, "episode_reward_min": 715.1312164522344, "pid": 62178, "time_since_restore": 7195.617670297623, "date": "2019-05-21_09-20-25", "info": {"num_steps_trained": 9267681, "sample_time_ms": 25871.317, "load_time_ms": 5.049, "grad_time_ms": 12642.632, "update_time_ms": 8.518, "default": {"policy_loss": -0.013439783826470375, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.4740380346775055, "total_loss": 39.90629959106445, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 39.913185119628906, "entropy": 1.5061168670654297, "kl": 0.012947077862918377}, "num_steps_sampled": 9267681}, "time_total_s": 7195.617670297623, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00dd68>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4278>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00d828>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 699.69, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 38.286550760269165}
{"episode_reward_mean": 887.9301611159575, "timesteps_total": 9316536, "iterations_since_restore": 169, "timesteps_since_restore": 9316536, "episodes_this_iter": 30, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1090.5281953664817, "system_level_velocity_min": 12.292594162765786, "cost1_max": 473.8427683505274, "system_level_velocity_max": 18.40763220627462, "cost2_min": -55.52713536455001, "outflow_rate_max": 1431.343302584665, "system_level_velocity_mean": 16.42561222091139, "cost1_mean": 426.54220554129506, "cost2_mean": -34.20108240027348, "outflow_rate_mean": 1290.862461433806, "cost2_max": -23.705783515010683, "cost1_min": 323.1488582097935}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 169, "episode_reward_max": 987.6865090686487, "timestamp": 1558430463, "timesteps_this_iter": 48855, "episodes_total": 5138, "episode_reward_min": 721.6790298987144, "pid": 62178, "time_since_restore": 7233.505945682526, "date": "2019-05-21_09-21-03", "info": {"num_steps_trained": 9316536, "sample_time_ms": 25726.963, "load_time_ms": 4.858, "grad_time_ms": 12650.432, "update_time_ms": 8.498, "default": {"policy_loss": -0.011653972789645195, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.4203236401081085, "total_loss": 41.890892028808594, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 41.89661407470703, "entropy": 1.5441468954086304, "kl": 0.011722232215106487}, "num_steps_sampled": 9316536}, "time_total_s": 7233.505945682526, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc15f8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc16a0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc1470>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 699.69, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 37.888275384902954}
{"episode_reward_mean": 867.5531545842392, "timesteps_total": 9363725, "iterations_since_restore": 170, "timesteps_since_restore": 9363725, "episodes_this_iter": 33, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1010.5667874323746, "system_level_velocity_min": 12.292594162765786, "cost1_max": 473.8427683505274, "system_level_velocity_max": 18.567290831253413, "cost2_min": -55.52713536455001, "outflow_rate_max": 1431.343302584665, "system_level_velocity_mean": 16.265386113937982, "cost1_mean": 415.8683529599281, "cost2_mean": -34.164452642537604, "outflow_rate_mean": 1271.509519703292, "cost2_max": -20.75048148445012, "cost1_min": 140.97089812716635}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 170, "episode_reward_max": 987.6865090686487, "timestamp": 1558430500, "timesteps_this_iter": 47189, "episodes_total": 5171, "episode_reward_min": 292.115622927364, "pid": 62178, "time_since_restore": 7270.474520683289, "date": "2019-05-21_09-21-40", "info": {"num_steps_trained": 9363725, "sample_time_ms": 25409.322, "load_time_ms": 4.934, "grad_time_ms": 12813.9, "update_time_ms": 8.54, "default": {"policy_loss": -0.013074854388833046, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.4365641176700592, "total_loss": 42.30093765258789, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 42.307533264160156, "entropy": 1.5274827480316162, "kl": 0.012797661125659943}, "num_steps_sampled": 9363725}, "time_total_s": 7270.474520683289, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdb160>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdb5c0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdb0f0>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 690.14, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 36.96857500076294}
{"episode_reward_mean": 855.0931534586023, "timesteps_total": 9410391, "iterations_since_restore": 171, "timesteps_since_restore": 9410391, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 493.8825459601812, "system_level_velocity_min": 12.962175117453013, "cost1_max": 472.7158885107134, "system_level_velocity_max": 18.989101661547835, "cost2_min": -55.45253836333828, "outflow_rate_max": 1414.866242693477, "system_level_velocity_mean": 16.38144855768758, "cost1_mean": 413.64621766963575, "cost2_mean": -32.880413476646346, "outflow_rate_mean": 1255.233039164288, "cost2_max": -14.644349249467899, "cost1_min": 24.741916179106575}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 171, "episode_reward_max": 958.4665477931043, "timestamp": 1558430539, "timesteps_this_iter": 46666, "episodes_total": 5207, "episode_reward_min": 53.7288507855914, "pid": 62178, "time_since_restore": 7309.356622219086, "date": "2019-05-21_09-22-19", "info": {"num_steps_trained": 9410391, "sample_time_ms": 25442.053, "load_time_ms": 4.924, "grad_time_ms": 12743.637, "update_time_ms": 8.614, "default": {"policy_loss": -0.010802199132740498, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.36923661828041077, "total_loss": 49.39204788208008, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 49.39665603637695, "entropy": 1.48095703125, "kl": 0.012236291542649269}, "num_steps_sampled": 9410391}, "time_total_s": 7309.356622219086, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdb9b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdb940>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdb588>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 683.51, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 38.88210153579712}
{"episode_reward_mean": 847.980212347596, "timesteps_total": 9458506, "iterations_since_restore": 172, "timesteps_since_restore": 9458506, "episodes_this_iter": 32, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 493.8825459601812, "system_level_velocity_min": 12.962175117453013, "cost1_max": 473.10550298012424, "system_level_velocity_max": 18.989101661547835, "cost2_min": -55.45253836333828, "outflow_rate_max": 1403.4690662932692, "system_level_velocity_mean": 16.471247898224927, "cost1_mean": 412.98994982050345, "cost2_mean": -32.329520374677934, "outflow_rate_mean": 1252.2919288069022, "cost2_max": -14.644349249467899, "cost1_min": 24.741916179106575}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 172, "episode_reward_max": 955.6483748658616, "timestamp": 1558430577, "timesteps_this_iter": 48115, "episodes_total": 5239, "episode_reward_min": 53.7288507855914, "pid": 62178, "time_since_restore": 7347.364972829819, "date": "2019-05-21_09-22-57", "info": {"num_steps_trained": 9458506, "sample_time_ms": 25671.938, "load_time_ms": 5.142, "grad_time_ms": 12554.379, "update_time_ms": 8.569, "default": {"policy_loss": -0.012716791592538357, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.4155735671520233, "total_loss": 39.68478775024414, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 39.69168472290039, "entropy": 1.4975930452346802, "kl": 0.011495881713926792}, "num_steps_sampled": 9458506}, "time_total_s": 7347.364972829819, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc1240>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc14e0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc16a0>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 680.14, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 38.00835061073303}
{"episode_reward_mean": 860.4195381676393, "timesteps_total": 9506861, "iterations_since_restore": 173, "timesteps_since_restore": 9506861, "episodes_this_iter": 32, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 493.8825459601812, "system_level_velocity_min": 13.39416622670054, "cost1_max": 473.10550298012424, "system_level_velocity_max": 18.989101661547835, "cost2_min": -51.64102216227687, "outflow_rate_max": 1409.8103652602647, "system_level_velocity_mean": 16.65814977011222, "cost1_mean": 421.95311162152854, "cost2_mean": -31.223721832163875, "outflow_rate_mean": 1264.4677099606042, "cost2_max": -14.644349249467899, "cost1_min": 24.741916179106575}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 173, "episode_reward_max": 956.4597146400623, "timestamp": 1558430614, "timesteps_this_iter": 48355, "episodes_total": 5271, "episode_reward_min": 53.7288507855914, "pid": 62178, "time_since_restore": 7384.602911233902, "date": "2019-05-21_09-23-34", "info": {"num_steps_trained": 9506861, "sample_time_ms": 25558.001, "load_time_ms": 5.055, "grad_time_ms": 12576.658, "update_time_ms": 8.208, "default": {"policy_loss": -0.012540456838905811, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.47362983226776123, "total_loss": 36.01032638549805, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 36.016357421875, "entropy": 1.5116589069366455, "kl": 0.012855276465415955}, "num_steps_sampled": 9506861}, "time_total_s": 7384.602911233902, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd47b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4a20>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc7cc0>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 687.0, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 37.23793840408325}
{"episode_reward_mean": 860.3038247474458, "timesteps_total": 9553590, "iterations_since_restore": 174, "timesteps_since_restore": 9553590, "episodes_this_iter": 33, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1046.9982438741483, "system_level_velocity_min": 13.447633413786887, "cost1_max": 473.10550298012424, "system_level_velocity_max": 18.47457716956847, "cost2_min": -44.005924792521085, "outflow_rate_max": 1409.8103652602647, "system_level_velocity_mean": 16.495030550770846, "cost1_mean": 422.06696234141526, "cost2_mean": -31.185843068873595, "outflow_rate_mean": 1260.4902894617292, "cost2_max": -23.63371965247881, "cost1_min": 267.0164214390386}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 174, "episode_reward_max": 956.4597146400623, "timestamp": 1558430651, "timesteps_this_iter": 46729, "episodes_total": 5304, "episode_reward_min": 549.9547711281921, "pid": 62178, "time_since_restore": 7421.459563970566, "date": "2019-05-21_09-24-11", "info": {"num_steps_trained": 9553590, "sample_time_ms": 25473.701, "load_time_ms": 4.908, "grad_time_ms": 12450.356, "update_time_ms": 8.053, "default": {"policy_loss": -0.011894213035702705, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.4227272868156433, "total_loss": 40.16071701049805, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 40.1662712097168, "entropy": 1.5560834407806396, "kl": 0.012526561506092548}, "num_steps_sampled": 9553590}, "time_total_s": 7421.459563970566, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbac88>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfba4e0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfba160>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 692.42, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 36.85665273666382}
{"episode_reward_mean": 860.5827911406799, "timesteps_total": 9601498, "iterations_since_restore": 175, "timesteps_since_restore": 9601498, "episodes_this_iter": 30, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1047.2504253393665, "system_level_velocity_min": 13.671751301390614, "cost1_max": 469.0362999217212, "system_level_velocity_max": 18.373573090098454, "cost2_min": -44.2651045306282, "outflow_rate_max": 1409.8103652602647, "system_level_velocity_mean": 16.34785445742886, "cost1_mean": 420.60217690119674, "cost2_mean": -31.047967148116662, "outflow_rate_mean": 1251.2436990505814, "cost2_max": -23.402087807042655, "cost1_min": 267.0164214390386}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 175, "episode_reward_max": 962.2655347567575, "timestamp": 1558430687, "timesteps_this_iter": 47908, "episodes_total": 5334, "episode_reward_min": 549.9547711281921, "pid": 62178, "time_since_restore": 7457.947748661041, "date": "2019-05-21_09-24-47", "info": {"num_steps_trained": 9601498, "sample_time_ms": 25352.647, "load_time_ms": 4.797, "grad_time_ms": 12272.285, "update_time_ms": 8.059, "default": {"policy_loss": -0.011652418412268162, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.3898705542087555, "total_loss": 39.1551628112793, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 39.160823822021484, "entropy": 1.5217405557632446, "kl": 0.011838090606033802}, "num_steps_sampled": 9601498}, "time_total_s": 7457.947748661041, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdb438>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdbd30>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdb2e8>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 695.44, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 36.488184690475464}
{"episode_reward_mean": 838.8034510297014, "timesteps_total": 9648390, "iterations_since_restore": 176, "timesteps_since_restore": 9648390, "episodes_this_iter": 35, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 490.0651633837853, "system_level_velocity_min": 13.55559762302757, "cost1_max": 469.8156048231176, "system_level_velocity_max": 18.88054531604472, "cost2_min": -44.2651045306282, "outflow_rate_max": 1397.3045466728393, "system_level_velocity_mean": 16.42819810839822, "cost1_mean": 413.2089886978349, "cost2_mean": -30.074152329057384, "outflow_rate_mean": 1227.7239508600042, "cost2_max": -15.451510401216236, "cost1_min": 24.544725358930272}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 176, "episode_reward_max": 962.2655347567575, "timestamp": 1558430725, "timesteps_this_iter": 46892, "episodes_total": 5369, "episode_reward_min": 53.886260960433106, "pid": 62178, "time_since_restore": 7495.165728569031, "date": "2019-05-21_09-25-25", "info": {"num_steps_trained": 9648390, "sample_time_ms": 25153.112, "load_time_ms": 4.716, "grad_time_ms": 12242.304, "update_time_ms": 7.948, "default": {"policy_loss": -0.012186807580292225, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.42419806122779846, "total_loss": 40.439300537109375, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 40.444766998291016, "entropy": 1.5621284246444702, "kl": 0.01326728519052267}, "num_steps_sampled": 9648390}, "time_total_s": 7495.165728569031, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdbf98>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0030f0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc7cc0>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 681.52, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 37.2179799079895}
{"episode_reward_mean": 841.3938764471895, "timesteps_total": 9696396, "iterations_since_restore": 177, "timesteps_since_restore": 9696396, "episodes_this_iter": 31, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 490.0651633837853, "system_level_velocity_min": 13.55559762302757, "cost1_max": 469.8156048231176, "system_level_velocity_max": 18.88054531604472, "cost2_min": -44.2651045306282, "outflow_rate_max": 1397.3045466728393, "system_level_velocity_mean": 16.46434613366617, "cost1_mean": 414.72235170330913, "cost2_mean": -30.044560134130712, "outflow_rate_mean": 1227.3231394054571, "cost2_max": -15.451510401216236, "cost1_min": 24.544725358930272}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 177, "episode_reward_max": 962.2655347567575, "timestamp": 1558430763, "timesteps_this_iter": 48006, "episodes_total": 5400, "episode_reward_min": 53.886260960433106, "pid": 62178, "time_since_restore": 7533.08358335495, "date": "2019-05-21_09-26-03", "info": {"num_steps_trained": 9696396, "sample_time_ms": 25195.084, "load_time_ms": 4.741, "grad_time_ms": 12271.498, "update_time_ms": 8.191, "default": {"policy_loss": -0.012716774828732014, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.456351101398468, "total_loss": 37.67412185668945, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 37.68077087402344, "entropy": 1.5602034330368042, "kl": 0.011991075240075588}, "num_steps_sampled": 9696396}, "time_total_s": 7533.08358335495, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfba9b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00af60>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc1dd8>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 682.73, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 37.91785478591919}
{"episode_reward_mean": 826.0571383377936, "timesteps_total": 9744575, "iterations_since_restore": 178, "timesteps_since_restore": 9744575, "episodes_this_iter": 33, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 478.03080478352217, "system_level_velocity_min": 12.940068391827092, "cost1_max": 469.8156048231176, "system_level_velocity_max": 18.88054531604472, "cost2_min": -40.18539403584934, "outflow_rate_max": 1397.3045466728393, "system_level_velocity_mean": 16.492908704674154, "cost1_mean": 407.85113959728073, "cost2_mean": -29.442040133263266, "outflow_rate_mean": 1218.7060712536816, "cost2_max": -11.71548390440842, "cost1_min": 18.097828846725868}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 178, "episode_reward_max": 956.2698508894549, "timestamp": 1558430801, "timesteps_this_iter": 48179, "episodes_total": 5433, "episode_reward_min": 42.0222850496277, "pid": 62178, "time_since_restore": 7571.899407625198, "date": "2019-05-21_09-26-41", "info": {"num_steps_trained": 9744575, "sample_time_ms": 25144.583, "load_time_ms": 4.68, "grad_time_ms": 12375.905, "update_time_ms": 8.041, "default": {"policy_loss": -0.011646260507404804, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.39855700731277466, "total_loss": 43.57525634765625, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 43.580726623535156, "entropy": 1.5287219285964966, "kl": 0.012199376709759235}, "num_steps_sampled": 9744575}, "time_total_s": 7571.899407625198, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbce10>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc400>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc908>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 671.5, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 38.81582427024841}
{"episode_reward_mean": 845.74385584054, "timesteps_total": 9791874, "iterations_since_restore": 179, "timesteps_since_restore": 9791874, "episodes_this_iter": 29, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 478.03080478352217, "system_level_velocity_min": 12.940068391827092, "cost1_max": 467.80197735720617, "system_level_velocity_max": 18.430636395292474, "cost2_min": -45.149166152668855, "outflow_rate_max": 1389.0620236693326, "system_level_velocity_mean": 16.353864665692452, "cost1_mean": 415.1438862443616, "cost2_mean": -30.240885815307134, "outflow_rate_mean": 1233.789972466436, "cost2_max": -11.71548390440842, "cost1_min": 18.097828846725868}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 179, "episode_reward_max": 956.2698508894549, "timestamp": 1558430841, "timesteps_this_iter": 47299, "episodes_total": 5462, "episode_reward_min": 42.0222850496277, "pid": 62178, "time_since_restore": 7611.39329457283, "date": "2019-05-21_09-27-21", "info": {"num_steps_trained": 9791874, "sample_time_ms": 25056.564, "load_time_ms": 4.847, "grad_time_ms": 12619.268, "update_time_ms": 8.107, "default": {"policy_loss": -0.01247106958180666, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.39064687490463257, "total_loss": 40.8357048034668, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 40.841392517089844, "entropy": 1.5685062408447266, "kl": 0.013401093892753124}, "num_steps_sampled": 9791874}, "time_total_s": 7611.39329457283, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4898>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4668>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd47f0>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 687.09, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 39.493886947631836}
{"episode_reward_mean": 848.3763043034414, "timesteps_total": 9839133, "iterations_since_restore": 180, "timesteps_since_restore": 9839133, "episodes_this_iter": 34, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 478.03080478352217, "system_level_velocity_min": 12.609931113107146, "cost1_max": 470.11563602472535, "system_level_velocity_max": 18.430636395292474, "cost2_min": -53.09487291316937, "outflow_rate_max": 1408.428570792581, "system_level_velocity_mean": 16.399606523121125, "cost1_mean": 414.3191219812543, "cost2_mean": -30.394244528034275, "outflow_rate_mean": 1244.8856025862258, "cost2_max": -11.71548390440842, "cost1_min": 18.097828846725868}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 180, "episode_reward_max": 946.4297974209726, "timestamp": 1558430880, "timesteps_this_iter": 47259, "episodes_total": 5496, "episode_reward_min": 42.0222850496277, "pid": 62178, "time_since_restore": 7649.977230548859, "date": "2019-05-21_09-28-00", "info": {"num_steps_trained": 9839133, "sample_time_ms": 25159.492, "load_time_ms": 4.547, "grad_time_ms": 12676.555, "update_time_ms": 8.367, "default": {"policy_loss": -0.011426931247115135, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.4016222059726715, "total_loss": 44.905033111572266, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 44.91060256958008, "entropy": 1.5776530504226685, "kl": 0.011574567295610905}, "num_steps_sampled": 9839133}, "time_total_s": 7649.977230548859, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdb1d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdb0f0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdbc18>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 683.96, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 38.58393597602844}
{"episode_reward_mean": 863.5452835283734, "timesteps_total": 9886648, "iterations_since_restore": 181, "timesteps_since_restore": 9886648, "episodes_this_iter": 31, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1092.9678753950068, "system_level_velocity_min": 12.609931113107146, "cost1_max": 471.4654660862592, "system_level_velocity_max": 18.541778974033225, "cost2_min": -53.09487291316937, "outflow_rate_max": 1408.428570792581, "system_level_velocity_mean": 16.374881587069723, "cost1_mean": 421.32674638346066, "cost2_mean": -30.994611125661585, "outflow_rate_mean": 1253.277583298769, "cost2_max": -23.60655167531955, "cost1_min": 257.2504492426679}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 181, "episode_reward_max": 945.952263652539, "timestamp": 1558430917, "timesteps_this_iter": 47515, "episodes_total": 5527, "episode_reward_min": 524.4765707963095, "pid": 62178, "time_since_restore": 7687.46365737915, "date": "2019-05-21_09-28-37", "info": {"num_steps_trained": 9886648, "sample_time_ms": 25152.451, "load_time_ms": 4.382, "grad_time_ms": 12545.635, "update_time_ms": 8.578, "default": {"policy_loss": -0.01145074050873518, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.4289354085922241, "total_loss": 39.549766540527344, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 39.55487823486328, "entropy": 1.5902267694473267, "kl": 0.012519711628556252}, "num_steps_sampled": 9886648}, "time_total_s": 7687.46365737915, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff00f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4048>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e4d9940>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 695.54, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 37.48642683029175}
{"episode_reward_mean": 860.9443072788948, "timesteps_total": 9934292, "iterations_since_restore": 182, "timesteps_since_restore": 9934292, "episodes_this_iter": 31, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1097.7168161246552, "system_level_velocity_min": 12.609931113107146, "cost1_max": 471.4654660862592, "system_level_velocity_max": 18.541778974033225, "cost2_min": -53.09487291316937, "outflow_rate_max": 1408.428570792581, "system_level_velocity_mean": 16.27899740631882, "cost1_mean": 419.20883420902663, "cost2_mean": -30.793632938331196, "outflow_rate_mean": 1246.9704208501892, "cost2_max": -23.60655167531955, "cost1_min": 257.2504492426679}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 182, "episode_reward_max": 951.4123978525369, "timestamp": 1558430956, "timesteps_this_iter": 47644, "episodes_total": 5558, "episode_reward_min": 524.4765707963095, "pid": 62178, "time_since_restore": 7726.166693687439, "date": "2019-05-21_09-29-16", "info": {"num_steps_trained": 9934292, "sample_time_ms": 25327.836, "load_time_ms": 4.416, "grad_time_ms": 12440.686, "update_time_ms": 8.639, "default": {"policy_loss": -0.01158335991203785, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.41579219698905945, "total_loss": 39.21352767944336, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 39.21891403198242, "entropy": 1.5942661762237549, "kl": 0.012236698530614376}, "num_steps_sampled": 9934292}, "time_total_s": 7726.166693687439, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc0f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbcf60>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc160>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 695.54, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 38.703036308288574}
{"episode_reward_mean": 859.2366201900847, "timesteps_total": 9982517, "iterations_since_restore": 183, "timesteps_since_restore": 9982517, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 889.4591087390788, "system_level_velocity_min": 12.909871655133053, "cost1_max": 472.4520881359735, "system_level_velocity_max": 18.541778974033225, "cost2_min": -44.11570857151828, "outflow_rate_max": 1409.5720030135292, "system_level_velocity_mean": 16.38350681717458, "cost1_mean": 419.04922031459245, "cost2_mean": -30.44672160143128, "outflow_rate_mean": 1247.1357418914265, "cost2_max": -21.729743328166613, "cost1_min": 120.2112356010595}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 183, "episode_reward_max": 961.1356060200801, "timestamp": 1558430996, "timesteps_this_iter": 48225, "episodes_total": 5594, "episode_reward_min": 261.7620327297418, "pid": 62178, "time_since_restore": 7765.670734167099, "date": "2019-05-21_09-29-56", "info": {"num_steps_trained": 9982517, "sample_time_ms": 25609.283, "load_time_ms": 4.563, "grad_time_ms": 12383.77, "update_time_ms": 8.714, "default": {"policy_loss": -0.013847239315509796, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.42680999636650085, "total_loss": 42.8456916809082, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 42.852569580078125, "entropy": 1.5280609130859375, "kl": 0.013772712089121342}, "num_steps_sampled": 9982517}, "time_total_s": 7765.670734167099, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8f60>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8400>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8470>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 691.59, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 39.504040479660034}
{"episode_reward_mean": 856.6426377696554, "timesteps_total": 10029310, "iterations_since_restore": 184, "timesteps_since_restore": 10029310, "episodes_this_iter": 31, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 889.4591087390788, "system_level_velocity_min": 12.909871655133053, "cost1_max": 472.4520881359735, "system_level_velocity_max": 18.541778974033225, "cost2_min": -44.11570857151828, "outflow_rate_max": 1409.5720030135292, "system_level_velocity_mean": 16.50679181153635, "cost1_mean": 417.7817043380585, "cost2_mean": -30.261939059706812, "outflow_rate_mean": 1257.5572563482613, "cost2_max": -21.729743328166613, "cost1_min": 120.2112356010595}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 184, "episode_reward_max": 961.1356060200801, "timestamp": 1558431032, "timesteps_this_iter": 46793, "episodes_total": 5625, "episode_reward_min": 261.7620327297418, "pid": 62178, "time_since_restore": 7801.8733966350555, "date": "2019-05-21_09-30-32", "info": {"num_steps_trained": 10029310, "sample_time_ms": 25512.379, "load_time_ms": 4.602, "grad_time_ms": 12414.094, "update_time_ms": 8.888, "default": {"policy_loss": -0.013094094581902027, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.48817962408065796, "total_loss": 38.14170455932617, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 38.14838790893555, "entropy": 1.5527747869491577, "kl": 0.012664422392845154}, "num_steps_sampled": 10029310}, "time_total_s": 7801.8733966350555, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdb1d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdb978>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdbf60>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 684.59, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 36.20266246795654}
{"episode_reward_mean": 850.5346412391056, "timesteps_total": 10078042, "iterations_since_restore": 185, "timesteps_since_restore": 10078042, "episodes_this_iter": 33, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 889.4591087390788, "system_level_velocity_min": 13.075951331834807, "cost1_max": 472.4520881359735, "system_level_velocity_max": 18.503567817477602, "cost2_min": -44.11570857151828, "outflow_rate_max": 1409.5720030135292, "system_level_velocity_mean": 16.604602455868598, "cost1_mean": 416.66230665015996, "cost2_mean": -30.43336001998037, "outflow_rate_mean": 1260.443983872522, "cost2_max": -21.729743328166613, "cost1_min": 120.2112356010595}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 185, "episode_reward_max": 961.1356060200801, "timestamp": 1558431070, "timesteps_this_iter": 48732, "episodes_total": 5658, "episode_reward_min": 261.7620327297418, "pid": 62178, "time_since_restore": 7840.096408843994, "date": "2019-05-21_09-31-10", "info": {"num_steps_trained": 10078042, "sample_time_ms": 25411.194, "load_time_ms": 4.758, "grad_time_ms": 12686.613, "update_time_ms": 9.056, "default": {"policy_loss": -0.011155175976455212, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.4728696346282959, "total_loss": 43.19116973876953, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 43.196258544921875, "entropy": 1.5844942331314087, "kl": 0.011968540959060192}, "num_steps_sampled": 10078042}, "time_total_s": 7840.096408843994, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc7b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc908>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8c50>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 679.39, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 38.2230122089386}
{"episode_reward_mean": 844.0120522100962, "timesteps_total": 10124902, "iterations_since_restore": 186, "timesteps_since_restore": 10124902, "episodes_this_iter": 31, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1072.0027321104617, "system_level_velocity_min": 13.574573180023009, "cost1_max": 472.282733892091, "system_level_velocity_max": 18.554901485902786, "cost2_min": -41.76992288016369, "outflow_rate_max": 1397.7818270200828, "system_level_velocity_mean": 16.38395391664219, "cost1_mean": 411.80265121185874, "cost2_mean": -30.638361732178847, "outflow_rate_mean": 1249.3247823322872, "cost2_max": -21.729743328166613, "cost1_min": 181.46474245954255}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 186, "episode_reward_max": 958.9192205344955, "timestamp": 1558431107, "timesteps_this_iter": 46860, "episodes_total": 5689, "episode_reward_min": 389.9090787221794, "pid": 62178, "time_since_restore": 7877.23802447319, "date": "2019-05-21_09-31-47", "info": {"num_steps_trained": 10124902, "sample_time_ms": 25371.964, "load_time_ms": 4.788, "grad_time_ms": 12712.574, "update_time_ms": 9.109, "default": {"policy_loss": -0.013606790453195572, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.4827183783054352, "total_loss": 38.821414947509766, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 38.82875061035156, "entropy": 1.5979911088943481, "kl": 0.012390793301165104}, "num_steps_sampled": 10124902}, "time_total_s": 7877.23802447319, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc4e0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8d30>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc710>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 680.21, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 37.14161562919617}
{"episode_reward_mean": 834.6307229639483, "timesteps_total": 10172676, "iterations_since_restore": 187, "timesteps_since_restore": 10172676, "episodes_this_iter": 31, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 986.2696808178574, "system_level_velocity_min": 13.574573180023009, "cost1_max": 472.282733892091, "system_level_velocity_max": 18.554901485902786, "cost2_min": -41.76992288016369, "outflow_rate_max": 1397.7818270200828, "system_level_velocity_mean": 16.379746181244972, "cost1_mean": 408.53404116373576, "cost2_mean": -30.35370203446887, "outflow_rate_mean": 1238.8869758350183, "cost2_max": -23.28387253626624, "cost1_min": 141.76804496699418}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 187, "episode_reward_max": 958.9192205344955, "timestamp": 1558431146, "timesteps_this_iter": 47774, "episodes_total": 5720, "episode_reward_min": 282.6372775406112, "pid": 62178, "time_since_restore": 7915.502793312073, "date": "2019-05-21_09-32-26", "info": {"num_steps_trained": 10172676, "sample_time_ms": 25159.89, "load_time_ms": 4.714, "grad_time_ms": 12957.668, "update_time_ms": 9.11, "default": {"policy_loss": -0.011390026658773422, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.43323493003845215, "total_loss": 37.50678253173828, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 37.51222610473633, "entropy": 1.6005443334579468, "kl": 0.011746427044272423}, "num_steps_sampled": 10172676}, "time_total_s": 7915.502793312073, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4f60>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4f28>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4c18>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 675.05, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 38.264768838882446}
{"episode_reward_mean": 844.8506849395712, "timesteps_total": 10221541, "iterations_since_restore": 188, "timesteps_since_restore": 10221541, "episodes_this_iter": 34, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 986.2696808178574, "system_level_velocity_min": 13.339578099152979, "cost1_max": 472.282733892091, "system_level_velocity_max": 18.554901485902786, "cost2_min": -41.76992288016369, "outflow_rate_max": 1397.7818270200828, "system_level_velocity_mean": 16.322331861500153, "cost1_mean": 413.4642534619411, "cost2_mean": -30.061970034335033, "outflow_rate_mean": 1232.2740518104679, "cost2_max": -22.829918069858955, "cost1_min": 141.76804496699418}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 188, "episode_reward_max": 958.9192205344955, "timestamp": 1558431184, "timesteps_this_iter": 48865, "episodes_total": 5754, "episode_reward_min": 282.6372775406112, "pid": 62178, "time_since_restore": 7954.021183729172, "date": "2019-05-21_09-33-04", "info": {"num_steps_trained": 10221541, "sample_time_ms": 25139.023, "load_time_ms": 4.745, "grad_time_ms": 12949.041, "update_time_ms": 9.465, "default": {"policy_loss": -0.012332775630056858, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.43326741456985474, "total_loss": 43.481632232666016, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 43.48771667480469, "entropy": 1.619541883468628, "kl": 0.012335316278040409}, "num_steps_sampled": 10221541}, "time_total_s": 7954.021183729172, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc80f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8240>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8a58>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 685.45, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 38.518390417099}
{"episode_reward_mean": 856.202802824851, "timesteps_total": 10270377, "iterations_since_restore": 189, "timesteps_since_restore": 10270377, "episodes_this_iter": 30, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 986.2696808178574, "system_level_velocity_min": 12.875433528702665, "cost1_max": 473.38487204876947, "system_level_velocity_max": 18.554901485902786, "cost2_min": -41.84339517936542, "outflow_rate_max": 1397.7818270200828, "system_level_velocity_mean": 16.372687214339788, "cost1_mean": 418.8096809613089, "cost2_mean": -29.646860279560855, "outflow_rate_mean": 1237.0547709676803, "cost2_max": -22.829918069858955, "cost1_min": 141.76804496699418}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 189, "episode_reward_max": 952.4725370273146, "timestamp": 1558431222, "timesteps_this_iter": 48836, "episodes_total": 5784, "episode_reward_min": 282.6372775406112, "pid": 62178, "time_since_restore": 7991.621368169785, "date": "2019-05-21_09-33-42", "info": {"num_steps_trained": 10270377, "sample_time_ms": 25365.815, "load_time_ms": 4.546, "grad_time_ms": 12537.617, "update_time_ms": 9.454, "default": {"policy_loss": -0.01153566688299179, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.4035758376121521, "total_loss": 39.907073974609375, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 39.91286087036133, "entropy": 1.62418794631958, "kl": 0.011351187713444233}, "num_steps_sampled": 10270377}, "time_total_s": 7991.621368169785, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbcc88>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8668>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc240>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 691.71, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 37.60018444061279}
{"episode_reward_mean": 864.0751766788962, "timesteps_total": 10317092, "iterations_since_restore": 190, "timesteps_since_restore": 10317092, "episodes_this_iter": 32, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1049.055319802149, "system_level_velocity_min": 12.875433528702665, "cost1_max": 473.38487204876947, "system_level_velocity_max": 18.53922804625162, "cost2_min": -41.84339517936542, "outflow_rate_max": 1396.5162056004567, "system_level_velocity_mean": 16.31124463342189, "cost1_mean": 420.979146563162, "cost2_mean": -29.614375566312674, "outflow_rate_mean": 1242.1209036952944, "cost2_max": -22.829918069858955, "cost1_min": 259.3650907719864}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 190, "episode_reward_max": 952.4725370273146, "timestamp": 1558431258, "timesteps_this_iter": 46715, "episodes_total": 5816, "episode_reward_min": 526.0685611207479, "pid": 62178, "time_since_restore": 8028.043003320694, "date": "2019-05-21_09-34-18", "info": {"num_steps_trained": 10317092, "sample_time_ms": 25276.48, "load_time_ms": 4.797, "grad_time_ms": 12413.966, "update_time_ms": 9.168, "default": {"policy_loss": -0.011615263298153877, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.3900342285633087, "total_loss": 38.59408187866211, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 38.59971237182617, "entropy": 1.605361819267273, "kl": 0.011831683106720448}, "num_steps_sampled": 10317092}, "time_total_s": 8028.043003320694, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdb390>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8588>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc7f0>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 696.87, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 36.421635150909424}
{"episode_reward_mean": 861.8241080153279, "timesteps_total": 10365565, "iterations_since_restore": 191, "timesteps_since_restore": 10365565, "episodes_this_iter": 31, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1040.678759830193, "system_level_velocity_min": 12.875433528702665, "cost1_max": 473.38487204876947, "system_level_velocity_max": 18.53922804625162, "cost2_min": -41.84339517936542, "outflow_rate_max": 1391.9894747188293, "system_level_velocity_mean": 16.245314154340516, "cost1_mean": 419.3282744615109, "cost2_mean": -29.503983545727316, "outflow_rate_mean": 1243.3985948999534, "cost2_max": -20.84679125869662, "cost1_min": 259.3650907719864}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 191, "episode_reward_max": 952.4725370273146, "timestamp": 1558431296, "timesteps_this_iter": 48473, "episodes_total": 5847, "episode_reward_min": 526.0685611207479, "pid": 62178, "time_since_restore": 8065.29373383522, "date": "2019-05-21_09-34-56", "info": {"num_steps_trained": 10365565, "sample_time_ms": 25057.781, "load_time_ms": 4.926, "grad_time_ms": 12608.673, "update_time_ms": 9.166, "default": {"policy_loss": -0.011136002838611603, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.447731614112854, "total_loss": 39.13124084472656, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 39.136409759521484, "entropy": 1.6386321783065796, "kl": 0.011794320307672024}, "num_steps_sampled": 10365565}, "time_total_s": 8065.29373383522, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8908>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8e48>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc89b0>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 696.55, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 37.25073051452637}
{"episode_reward_mean": 863.8141956634568, "timesteps_total": 10412391, "iterations_since_restore": 192, "timesteps_since_restore": 10412391, "episodes_this_iter": 35, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1040.678759830193, "system_level_velocity_min": 13.6192994827807, "cost1_max": 469.91264497773415, "system_level_velocity_max": 18.3268313425679, "cost2_min": -40.206329679354994, "outflow_rate_max": 1387.577112995368, "system_level_velocity_mean": 16.35121377804623, "cost1_mean": 423.78627116225834, "cost2_mean": -29.014634876063433, "outflow_rate_mean": 1239.745882785494, "cost2_max": -20.199973247397065, "cost1_min": 356.8641655151798}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 192, "episode_reward_max": 950.1885707027444, "timestamp": 1558431335, "timesteps_this_iter": 46826, "episodes_total": 5882, "episode_reward_min": 726.8457118007401, "pid": 62178, "time_since_restore": 8104.991741657257, "date": "2019-05-21_09-35-35", "info": {"num_steps_trained": 10412391, "sample_time_ms": 24938.199, "load_time_ms": 4.914, "grad_time_ms": 12827.435, "update_time_ms": 9.086, "default": {"policy_loss": -0.013503879308700562, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.50677889585495, "total_loss": 38.17253112792969, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 38.179412841796875, "entropy": 1.627312421798706, "kl": 0.013072013854980469}, "num_steps_sampled": 10412391}, "time_total_s": 8104.991741657257, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc2e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc400>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc9b0>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 699.25, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 39.69800782203674}
{"episode_reward_mean": 847.4957179476139, "timesteps_total": 10460066, "iterations_since_restore": 193, "timesteps_since_restore": 10460066, "episodes_this_iter": 33, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 498.09477319998877, "system_level_velocity_min": 13.6192994827807, "cost1_max": 469.91264497773415, "system_level_velocity_max": 18.868381505285747, "cost2_min": -40.206329679354994, "outflow_rate_max": 1382.6470490300571, "system_level_velocity_mean": 16.29597777247044, "cost1_mean": 415.8050516986335, "cost2_mean": -28.58189247263498, "outflow_rate_mean": 1226.134243685313, "cost2_max": -11.737842520884236, "cost1_min": 24.499819672661268}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 193, "episode_reward_max": 950.1885707027444, "timestamp": 1558431374, "timesteps_this_iter": 47675, "episodes_total": 5915, "episode_reward_min": 56.019397791407876, "pid": 62178, "time_since_restore": 8143.907130241394, "date": "2019-05-21_09-36-14", "info": {"num_steps_trained": 10460066, "sample_time_ms": 24848.309, "load_time_ms": 4.854, "grad_time_ms": 12858.545, "update_time_ms": 8.998, "default": {"policy_loss": -0.013994523324072361, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.4369654953479767, "total_loss": 43.328338623046875, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 43.33588790893555, "entropy": 1.6700754165649414, "kl": 0.01273812260478735}, "num_steps_sampled": 10460066}, "time_total_s": 8143.907130241394, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4828>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4f28>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4f60>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 688.29, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 38.91538858413696}
{"episode_reward_mean": 850.1135503429688, "timesteps_total": 10507560, "iterations_since_restore": 194, "timesteps_since_restore": 10507560, "episodes_this_iter": 32, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 498.09477319998877, "system_level_velocity_min": 13.141197256961142, "cost1_max": 469.91264497773415, "system_level_velocity_max": 18.868381505285747, "cost2_min": -36.195515044416226, "outflow_rate_max": 1387.0810263849378, "system_level_velocity_mean": 16.281016076488857, "cost1_mean": 415.0793442298109, "cost2_mean": -28.357715562553008, "outflow_rate_mean": 1228.9798193126462, "cost2_max": -11.737842520884236, "cost1_min": 24.499819672661268}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 194, "episode_reward_max": 951.9538166203583, "timestamp": 1558431411, "timesteps_this_iter": 47494, "episodes_total": 5947, "episode_reward_min": 56.019397791407876, "pid": 62178, "time_since_restore": 8181.10600566864, "date": "2019-05-21_09-36-51", "info": {"num_steps_trained": 10507560, "sample_time_ms": 24767.344, "load_time_ms": 4.849, "grad_time_ms": 13039.249, "update_time_ms": 8.742, "default": {"policy_loss": -0.01304529793560505, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.47317221760749817, "total_loss": 40.81550979614258, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 40.82200241088867, "entropy": 1.649304986000061, "kl": 0.012946243397891521}, "num_steps_sampled": 10507560}, "time_total_s": 8181.10600566864, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdbeb8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e4d9940>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdb6d8>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 687.28, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 37.198875427246094}
{"episode_reward_mean": 848.349184141832, "timesteps_total": 10556168, "iterations_since_restore": 195, "timesteps_since_restore": 10556168, "episodes_this_iter": 31, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 498.09477319998877, "system_level_velocity_min": 13.141197256961142, "cost1_max": 468.62939212641675, "system_level_velocity_max": 18.868381505285747, "cost2_min": -36.36404019886173, "outflow_rate_max": 1388.2040127688483, "system_level_velocity_mean": 16.13155706338498, "cost1_mean": 411.7340450501939, "cost2_mean": -28.236042837821106, "outflow_rate_mean": 1224.161659767444, "cost2_max": -11.737842520884236, "cost1_min": 24.499819672661268}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 195, "episode_reward_max": 951.9538166203583, "timestamp": 1558431450, "timesteps_this_iter": 48608, "episodes_total": 5978, "episode_reward_min": 56.019397791407876, "pid": 62178, "time_since_restore": 8219.268093585968, "date": "2019-05-21_09-37-30", "info": {"num_steps_trained": 10556168, "sample_time_ms": 24811.665, "load_time_ms": 4.71, "grad_time_ms": 12989.428, "update_time_ms": 8.587, "default": {"policy_loss": -0.012268023565411568, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.42279067635536194, "total_loss": 39.1154670715332, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 39.121883392333984, "entropy": 1.6324430704116821, "kl": 0.011561955325305462}, "num_steps_sampled": 10556168}, "time_total_s": 8219.268093585968, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc898>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff00f0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc3c8>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 687.71, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 38.16208791732788}
{"episode_reward_mean": 852.3047822303505, "timesteps_total": 10604740, "iterations_since_restore": 196, "timesteps_since_restore": 10604740, "episodes_this_iter": 33, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 506.5568824271422, "system_level_velocity_min": 13.141197256961142, "cost1_max": 471.4332185589483, "system_level_velocity_max": 18.83719932875555, "cost2_min": -36.36404019886173, "outflow_rate_max": 1390.5090282298343, "system_level_velocity_mean": 16.218819405057395, "cost1_mean": 414.1517452231403, "cost2_mean": -28.044821413057203, "outflow_rate_mean": 1227.8993142518673, "cost2_max": -13.47096116208484, "cost1_min": 23.090639207123008}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 196, "episode_reward_max": 953.3059827428493, "timestamp": 1558431490, "timesteps_this_iter": 48572, "episodes_total": 6011, "episode_reward_min": 48.5671422098369, "pid": 62178, "time_since_restore": 8259.332983255386, "date": "2019-05-21_09-38-10", "info": {"num_steps_trained": 10604740, "sample_time_ms": 25265.395, "load_time_ms": 4.467, "grad_time_ms": 12833.322, "update_time_ms": 8.826, "default": {"policy_loss": -0.011336978524923325, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.39399683475494385, "total_loss": 41.37836837768555, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 41.384159088134766, "entropy": 1.6378756761550903, "kl": 0.010961117222905159}, "num_steps_sampled": 10604740}, "time_total_s": 8259.332983255386, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbccc0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc710>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc15c0>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 689.02, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 40.064889669418335}
{"episode_reward_mean": 854.9421912135039, "timesteps_total": 10653038, "iterations_since_restore": 197, "timesteps_since_restore": 10653038, "episodes_this_iter": 31, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 506.5568824271422, "system_level_velocity_min": 13.374229514901298, "cost1_max": 471.4332185589483, "system_level_velocity_max": 18.83719932875555, "cost2_min": -36.651340544199854, "outflow_rate_max": 1390.5090282298343, "system_level_velocity_mean": 16.281193226216295, "cost1_mean": 417.9243352301068, "cost2_mean": -27.78292424464387, "outflow_rate_mean": 1221.6232165774213, "cost2_max": -13.47096116208484, "cost1_min": 23.090639207123008}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 197, "episode_reward_max": 953.3059827428493, "timestamp": 1558431527, "timesteps_this_iter": 48298, "episodes_total": 6042, "episode_reward_min": 48.5671422098369, "pid": 62178, "time_since_restore": 8296.418790102005, "date": "2019-05-21_09-38-47", "info": {"num_steps_trained": 10653038, "sample_time_ms": 25406.256, "load_time_ms": 4.575, "grad_time_ms": 12577.554, "update_time_ms": 8.7, "default": {"policy_loss": -0.012374880723655224, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.4288281500339508, "total_loss": 38.484073638916016, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 38.490455627441406, "entropy": 1.657905101776123, "kl": 0.011831305921077728}, "num_steps_sampled": 10653038}, "time_total_s": 8296.418790102005, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdbbe0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdb208>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdbf98>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 693.35, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 37.08580684661865}
{"episode_reward_mean": 846.5816996458415, "timesteps_total": 10701768, "iterations_since_restore": 198, "timesteps_since_restore": 10701768, "episodes_this_iter": 31, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 506.5568824271422, "system_level_velocity_min": 13.374229514901298, "cost1_max": 471.4332185589483, "system_level_velocity_max": 18.83719932875555, "cost2_min": -37.96492638208666, "outflow_rate_max": 1390.5090282298343, "system_level_velocity_mean": 16.365967313714155, "cost1_mean": 415.6262339636433, "cost2_mean": -27.630929686436307, "outflow_rate_mean": 1217.5220654899906, "cost2_max": -13.47096116208484, "cost1_min": 23.090639207123008}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 198, "episode_reward_max": 953.3059827428493, "timestamp": 1558431563, "timesteps_this_iter": 48730, "episodes_total": 6073, "episode_reward_min": 48.5671422098369, "pid": 62178, "time_since_restore": 8332.337750911713, "date": "2019-05-21_09-39-23", "info": {"num_steps_trained": 10701768, "sample_time_ms": 25087.763, "load_time_ms": 4.638, "grad_time_ms": 12635.365, "update_time_ms": 8.268, "default": {"policy_loss": -0.012235846370458603, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.45813968777656555, "total_loss": 39.38447952270508, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 39.390899658203125, "entropy": 1.664143443107605, "kl": 0.011481385678052902}, "num_steps_sampled": 10701768}, "time_total_s": 8332.337750911713, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfe80b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfe8470>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfe8400>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 687.31, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 35.91896080970764}
{"episode_reward_mean": 850.8792459094889, "timesteps_total": 10749881, "iterations_since_restore": 199, "timesteps_since_restore": 10749881, "episodes_this_iter": 30, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 1025.3809102496598, "system_level_velocity_min": 13.058257055238542, "cost1_max": 470.6230707532785, "system_level_velocity_max": 18.533425767789637, "cost2_min": -37.96492638208666, "outflow_rate_max": 1380.6719833810964, "system_level_velocity_mean": 16.330907772787917, "cost1_mean": 418.2184813247429, "cost2_mean": -27.6656577181508, "outflow_rate_mean": 1220.8867428601836, "cost2_max": -20.483888451431394, "cost1_min": 149.3701510948315}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 199, "episode_reward_max": 958.2386913869884, "timestamp": 1558431601, "timesteps_this_iter": 48113, "episodes_total": 6103, "episode_reward_min": 304.6281839672371, "pid": 62178, "time_since_restore": 8369.91568827629, "date": "2019-05-21_09-40-01", "info": {"num_steps_trained": 10749881, "sample_time_ms": 24833.541, "load_time_ms": 4.845, "grad_time_ms": 12885.527, "update_time_ms": 8.439, "default": {"policy_loss": -0.012493261136114597, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.4222506582736969, "total_loss": 39.945411682128906, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 39.951515197753906, "entropy": 1.655024766921997, "kl": 0.012621363624930382}, "num_steps_sampled": 10749881}, "time_total_s": 8369.91568827629, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4278>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4860>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4d30>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 691.84, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": false, "time_this_iter_s": 37.57793736457825}
{"episode_reward_mean": 838.7267493749962, "timesteps_total": 10797041, "iterations_since_restore": 200, "timesteps_since_restore": 10797041, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "custom_metrics": {"outflow_rate_min": 482.0722371697821, "system_level_velocity_min": 13.058257055238542, "cost1_max": 470.6230707532785, "system_level_velocity_max": 18.533425767789637, "cost2_min": -37.96492638208666, "outflow_rate_max": 1380.6719833810964, "system_level_velocity_mean": 16.315407064024498, "cost1_mean": 413.67417444771223, "cost2_mean": -27.296304813045168, "outflow_rate_mean": 1204.8059080522135, "cost2_max": -10.760583902076903, "cost1_min": 18.009037296392922}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 200, "episode_reward_max": 958.2386913869884, "timestamp": 1558431638, "timesteps_this_iter": 47160, "episodes_total": 6139, "episode_reward_min": 42.61482139539576, "pid": 62178, "time_since_restore": 8407.235070228577, "date": "2019-05-21_09-40-38", "info": {"num_steps_trained": 10797041, "sample_time_ms": 25068.242, "load_time_ms": 4.761, "grad_time_ms": 12739.566, "update_time_ms": 8.449, "default": {"policy_loss": -0.013060608878731728, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.473860502243042, "total_loss": 42.246917724609375, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 42.25385665893555, "entropy": 1.7037369012832642, "kl": 0.012091405689716339}, "num_steps_sampled": 10797041}, "time_total_s": 8407.235070228577, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "model": {"conv_filters": null, "zero_mean": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "custom_options": {}, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "framestack": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "straggler_mitigation": false, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "lr": 0.0005, "vf_clip_param": 1000000.0, "num_workers": 20, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfe8eb8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfe8e48>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfe8b70>"}, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "input": "sampler", "clip_rewards": null}, "episode_len_mean": 685.11, "experiment_id": "c5557ae7965a43998282fb76321b2f81", "hostname": "flow-main", "done": true, "time_this_iter_s": 37.31938195228577}
